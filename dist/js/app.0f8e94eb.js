(function(e){function t(t){for(var r,i,s=t[0],l=t[1],u=t[2],p=0,d=[];p<s.length;p++)i=s[p],a[i]&&d.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"38b6":function(e,t,n){"use strict";var r=n("51e6"),a=n.n(r);a.a},"51e6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=n("5c96"),o=n.n(a);n("0fae");r["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},r["default"].use(o.a);var i=n("0754"),s=n.n(i),l=n("59c7"),u=(n("616e"),n("96cf"),n("3040")),c="activity";r["default"].prototype.$isLoggedIn=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$appState,!t.user){e.next=3;break}return e.abrupt("return");case 3:if(n=t.$storage(c).$get("user"),!n){e.next=7;break}return this.$appState.user=n,e.abrupt("return");case 7:throw{};case 8:case"end":return e.stop()}},e,this)})),r["default"].prototype.$login=function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$appState.$storage(c).$set("user",t),this.$appState.user=t,e.abrupt("return");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r["default"].prototype.$logout=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$appState.user=void 0,this.$appState.$storage(c).$remove("user"),e.abrupt("return");case 3:case"end":return e.stop()}},e,this)})),r["default"].component("GateSchemaForm",l["GateSchemaForm"]),r["default"].use(s.a);n("86d7"),n("ed2c");var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},d=[],f={name:"app"},h=f,m=n("2877"),v=Object(m["a"])(h,p,d,!1,null,null,null);v.options.__file="App.vue";var b=v.exports,g=(n("7f7f"),n("8c4f")),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"layout"},[n("div",[n("div",{staticClass:"logo"},[n("div",{staticClass:"logo__img"},[e._v("\n                "+e._s(e.isCollapseMenu?"C":"CooCaa")+"\n            ")])]),n("Menu",{attrs:{"default-active":e.$route.name,items:e.menu||e.defaultMenu,isCollapse:e.isCollapseMenu}})],1),n("el-container",{attrs:{direction:"vertical"}},[n("el-header",{staticClass:"header"},[n("el-button",{staticClass:"collpase-btn",attrs:{type:"text",icon:e.isCollapseMenu?"el-icon-cc-indent":"el-icon-cc-outdent"},on:{click:e.toggleMenu}}),n("Breadcrumb",{staticClass:"breadcrumb",attrs:{items:e.breadcrumb}}),n("div",{staticClass:"user-info"},[n("el-dropdown",{attrs:{"hide-on-click":!1},on:{command:e.handleDropdownCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-cc-user"}),e._v("\n                        "+e._s(e.$appState.user.name)+"\n                        "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出")])],1)],1)],1)],1),n("TagNav"),n("el-main",[n("keep-alive",[e.isKeepAlive?n("router-view"):e._e()],1),e.isKeepAlive?e._e():n("router-view")],1)],1)],1)},$=[],w=(n("7514"),{components:{Menu:l["Menu"],Breadcrumb:l["Breadcrumb"],TagNav:l["TagNav"]},props:["menu"],data:function(){return{breadcrumb:[],isCollapseMenu:!1}},computed:{isKeepAlive:function(){var e=this.$route.meta;return e&&!1!==e.isCache},defaultMenu:function(){var e=this.$router.options.routes.find(function(e){return"/"===e.path});function t(e){var n=e.name,r=e.meta,a=void 0===r?{}:r,o=e.children;if(!a.hideInMenu){var i={title:a.title,icon:a.icon,route:n};return o&&(i.children=o.reduce(function(e,n){var r=t(n);return r&&e.push(r),e},[])),i}}var n=t(e).children;return n}},methods:{handleDropdownCommand:function(e){var t=this;"logout"===e&&this.$logout().then(function(){t.$router.push({name:"login"})})},toggleMenu:function(){var e=!this.isCollapseMenu;this.$appState.$set("isCollapseMenu",e),this.isCollapseMenu=e}},created:function(){var e=this;this.isCollapseMenu=!!this.$appState.$get("isCollapseMenu"),this.$root.$on("breadcrumb-change",function(t){e.breadcrumb=t})}}),C=w,y=(n("38b6"),Object(m["a"])(C,_,$,!1,null,null,null));y.options.__file="Main.vue";var x=y.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},S=[],O={},j=Object(m["a"])(O,M,S,!1,null,null,null);j.options.__file="Wrapper.vue";var k=j.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{staticClass:"login-form",attrs:{span:6,offset:9}},[n("GateSchemaForm",{ref:"loginForm",attrs:{schema:e.formSchema},on:{submit:e.handleLogin},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),n("el-button",{staticClass:"login-form__btn",attrs:{type:"primary"},on:{click:function(t){e.$refs.loginForm.handleSubmit()}}},[e._v("\n            登录\n        ")])],1)],1)},E=[],D=n("f6e7"),T=n.n(D),P=T.a.map({name:T.a.required.$msg("请输入登录名").string.other("form",{placeholder:"登录名"}),password:T.a.required.$msg("请输入密码").string.other("form",{placeholder:"密码",type:"password"})}).other("form",{cols:{label:0,wrapper:24}}),R={data:function(){return{user:{name:"coocaa",password:"coocaa"}}},computed:{formSchema:function(){return this.schema||P}},props:["schema"],methods:{handleLogin:function(e){var t=this;0===e.length&&this.$login(this.user).then(function(){t.$router.push({path:t.$route.query.redirect||"/"})})}}},A=R,I=(n("766d"),Object(m["a"])(A,L,E,!1,null,"1261bc8a",null));I.options.__file="Login.vue";var F=I.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    dashboard\n")])},N=[],B={},G=B,K=Object(m["a"])(G,q,N,!1,null,null,null);K.options.__file="Dashboard.vue";var W=K.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ActionList",{attrs:{actions:e.actions}}),n("ContentList",{attrs:{filter:e.filter,filterSchema:e.filterSchema,table:e.table,pagination:e.pagination},on:{"filter-change":e.fetchData}})],1)},J=[],H=l["utils"].component,Q={components:{ActionList:l["ActionList"],ContentList:l["ContentList"]},data:function(){return{actions:{handleCreate:{type:"primary",text:"创建"}},filter:{},filterSchema:T.a.map({id:T.a.o.string.other("form",{placeholder:"请输入 id",cols:{item:5,label:6,wrapper:16,xsLabel:0,xsWrapper:24}}),name:T.a.o.string.other("form",{placeholder:"请输入 name",cols:{item:5,label:8,wrapper:16,xsLabel:0,xsWrapper:{offset:2,span:22}}})}).other("form",{layout:"inline",footer:{cols:{label:0,wrapper:24},showSubmit:!0,submitText:"查询"}}),tableHeader:[],table:{props:{border:!0},header:[{type:"selection",width:"55"},{label:"ID",prop:"id",sortable:!1},{label:"名称",prop:"name",sortable:!0},{label:"操作",render:H.createOperationRender(this,{handleRead:"查看",handleEdit:"编辑",handleDelete:"删除"})}],data:[{id:"1",name:"名称1"},{id:"2",name:"名称2"}]},pagination:{currentPage:3,total:200}}},methods:{handleCreate:function(){this.$router.push({name:"post_create"})},fetchData:function(){console.group("fetchData"),console.log("filter",this.filter),console.log("pagination",this.pagination),console.groupEnd("fetchData")}}},U=Q,V=Object(m["a"])(U,z,J,!1,null,null,null);V.options.__file="List.vue";var X=V.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Create\n")])},Z=[],ee={data:function(){return{}}},te=ee,ne=Object(m["a"])(te,Y,Z,!1,null,null,null);ne.options.__file="Create.vue";var re=ne.exports,ae=[{name:"dashboard",path:"/",component:W,meta:{title:"控制面板",icon:"el-icon-cc-home"}},{path:"post/",meta:{title:"文章管理",icon:"el-icon-cc-file"},component:k,children:[{name:"post_list",path:"list",component:X,meta:{title:"文章列表"}},{name:"post_create",path:"create",component:re,meta:{title:"创建文章",hideInMenu:!0,isCache:!1}}]}],oe=[{path:"/",component:x,children:ae},{name:"login",path:"/login",component:F,meta:{title:"登录"}}],ie=oe;function se(e,t,n){var r=this.app;r.$isLoggedIn().then(function(){r.$emit("breadcrumb-change",[{name:"home"}]),n("login"!==e.name?void 0:{name:"home"})}).catch(function(){n("login"===e.name?void 0:{name:"login",query:{redirect:e.fullPath}})})}function le(e){var t=this.app,n=e.matched.slice(1).map(function(e){var t=e.name,n=e.meta;return{name:n.title,to:t?{name:t}:void 0}});t.$nextTick(function(){t.$emit("breadcrumb-change",n)})}r["default"].use(g["a"]);var ue=new g["a"]({routes:ie});ue.beforeEach(se.bind(ue)),ue.afterEach(le.bind(ue));var ce=ue;r["default"].config.productionTip=!1,new r["default"]({router:ce,render:function(e){return e(b)}}).$mount("#app")},"766d":function(e,t,n){"use strict";var r=n("9177"),a=n.n(r);a.a},"86d7":function(e,t,n){},9177:function(e,t,n){},ed2c:function(e,t,n){}});
//# sourceMappingURL=app.0f8e94eb.js.map