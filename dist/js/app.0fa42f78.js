(function(e){function t(t){for(var i,s,o=t[0],l=t[1],c=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},r=[];function s(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"abe86b4f","chunk-75305028":"8a3e743f"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,i){a=n[e]=[t,i]}));t.push(a[2]=i);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(e);var c=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=n[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,a[1](c)}n[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0130":function(e,t,a){},"02cc":function(e,t,a){},"0349":function(e,t,a){"use strict";a("7158")},"042b":function(e,t,a){"use strict";a("eb3a")},"0462":function(e,t,a){},"064b":function(e,t,a){"use strict";a("7d6c")},"0652":function(e,t,a){"use strict";a("ffd1")},"0692":function(e,t,a){},"070c":function(e,t,a){},"0715":function(e,t,a){},"072a":function(e,t,a){},"075f":function(e,t,a){"use strict";a("8354")},"076e":function(e,t,a){"use strict";a("d47e")},"0775":function(e,t,a){"use strict";a("5980")},"0776":function(e,t,a){},"08bb":function(e,t,a){},"0972":function(e,t,a){"use strict";a("0f91")},"0a83":function(e,t,a){},"0ab5":function(e,t,a){},"0ada":function(e,t,a){"use strict";a("bdb7")},"0c1d":function(e,t,a){},"0d42":function(e,t,a){},"0d8c":function(e,t,a){"use strict";a("29c7")},"0e82":function(e,t,a){"use strict";a("d91d")},"0f22":function(e,t,a){"use strict";a("ea7a")},"0f60":function(e,t,a){"use strict";a("94e9")},"0f91":function(e,t,a){},"100a":function(e,t,a){},1036:function(e,t,a){"use strict";a("a4a9")},1064:function(e,t,a){},1072:function(e,t,a){"use strict";a("e79c")},1091:function(e,t,a){"use strict";a("d57d")},"11bc":function(e,t,a){"use strict";a("0d42")},1290:function(e,t,a){},"142b":function(e,t,a){},1453:function(e,t,a){},1467:function(e,t,a){"use strict";a("f6ea")},"16cf":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAKZUlEQVR4Xu2dj3UUNxCH4woCHRwdQAWxOyAdOBUEKgBXgDsIqQBSgaEC6AB3EEqI5rEONtytpNlZaTT69r17JM+SVvp+81m3vj979gsHBCBwksAZbCAAgdMEEITqgMAKAQShPCCAINQABHQE2EF03Og1CQEEmSRolqkjgCA6bvSahACCTBI0y9QRQBAdN3pNQgBBJgmaZeoIIIiOG70mIYAgkwTNMnUEEETHjV6TEECQSYJmmToCCKLjRq9JCCDIJEGzTB0BBNFxo9ckBBBkkqBZpo4Agui40WsSAggySdAsU0cAQXTc6DUJAQSZJGiWqSOAIDpu9JqEAIJMEjTL1BFAEB03ek1CAEEmCZpl6gggiI4bvSYhgCCTBM0ydQQQRMeNXpMQQJAgQd/c3DxKS3mTHk/T42t6/H1xcfE2yPK6LQNBuqG3O/Eix6c04uGHUV8nSa7szjTfSAgSIPMkyItl9zi2GiTZkDGCbIDnpWsS5K80l8uV+SCJMiwEUYLz1K1AEJkukihCQxAFNG9dCgVBEkVwCKKA5q1LhSBIUhkeglQC89i8UhAkqQgRQSpgeW2qEARJCsNEkEJQnpspBUGSglARpACS9yYbBEGSTLgI4r36C+aXEeRzGkLefrJ28CfgE3QQpKAAvTfJCPI4zf8GSXQpIoiOm6tea4Kk92KdLe/VQhJFagiigOatS04QmS+S6FJDEB03V71KBEESXWQIouPmqlepIEhSHxuC1DNz16NGECSpiw9B6ni5bF0rCJKUx4gg5azcttQIgiRlcSJIGSfXrbSCIEk+VgTJM3LfYosgSLIeL4K4L//8BLcKgiSnGSNIvv7ct7AQBEmOx4wg7ss/P0ErQZDkZ9YIkq8/9y0sBUGSh3EjiPvyz0/QWhAk+c4cQfL1577FHoIgybfYEcR9+ecnuJcgSIIg+eoboMWegswuCTvIAALkpri3IDNLgiC56hvg5y0EmVUSBBlAgNwUWwkyoyTNBVk++nlIsM9Xgv81VxT8/AGB5+n/jn5ziXwm3ZrVTB/fNYd3LIwFqIT4Z3qIHHI3JI4GBPYQZKadZFdBFjFeJaCXSNHAhiOn2EuQWSTZTZAkhzyFkhu7yI7B0YnAnoLMIIm5IMuuITeTlF2Doy+B2yTIk72nEPmaxFSQBZTsGnK9wdGfwHUS5GWLaUSVxEyQBdCxO622yIdzPCQgt4F+mx5XSRD57yZHRElMBKncOSQw+ULlD+nxT5Pk5juJPLVqJsZ9vNEksRIkd5dVYSiBXclvtl7hzedJnxVHkmSzIAnG2j267xKSHeP3JMZtn8g4a2sCUSTZJMgC4UuCv/bC33Xr58Kti4HzHScQQZKtgsiLgK9XCqTZX1EoUp8ERpdELUjB7oEcPmu2+axGlmSLIGvXHnKt8YyL8ea16PaEo0qyRZB3KY1TLwi+THLItQcHBP4nMKIkKkEyT6/kz7lP2D0w4xiB0STRCnKeFi/3vDt2cO2BG6sERpJEK8hlIiAvDh475PWO99QIBNYIjCKJVpC1C3S5OJcXBjkgMPxOohVk7a0lcv1xS21AoISA953EXJC9P6BTAp02YxHwLAmCjFVLYWfrVRIECVty4y3MoyQIMl4dhZ6xN0kQJHS5jbk4T5IgyJg1FH7WXiRBkPClNu4CPUiCIOPWzxQz7y0JgkxRZmMvsqckCDJ27Uwz+16SIMg0JTb+QntIgiDj181UK2gtCYJMVV4xFttSEgSJUTPTraKVJAgyXWnFWXALSRAkTr1MuZIKSVSfdEWQKcsq1qILJZHvhP6jduUIUkuM9u4ILILk7kuj+jIRBHEXNxOqIVAohwyZNpCLDzVjS1sEqSVGezcEKuRQ7R4I4iZqJlJLoIUcCFKbCu1dEGglB4K4iJtJ1BBoKQeC1CRD2+4EWsuBIN0jZwKlBHrIgSCl6dCuK4FeciBI19g5eQmBnnIgSElCtOlGoLccCNItek6cI+BBDgTJpcTPuxDwIgeCdImfk64R8CQHglCrrgh4kwNBXJXH3JPxKAeCzF2TblbvVY4tgrxJneU+hceOx9wC2k3tuZ+IZzm2CPIqdX59gj438XRflj4m6F2OLYJcps6nbgOt+uSWj8iYRSsCI8ixRZDnqfO7EzDVn95qFQ7n6UtgFDm2CPIodf73BOavaQt53DcCzu6VwEhyqAWRjmmhX9I/hxNB8DTLa4V2nNdocmwVZO1C/TYZ8qRjFpzaGYER5dgqyNrTLBn7ZZLk2llOTKcDgVHl2CTI8jRL/pJ1ucKcp1odCtLTKUeWw0KQ3C7yNZ1EJPnsKTTm0obA6HJsFqRwF5Fmqi8ObhMjZ9mDQAQ5rASRXeQmPZ5mQL9frktu9wiEMf0QiCKHiSDLLnJI/8qffUsOEeVjerxPT72QpYTYQG0iyWEmyCLJ+bKT1MYpksi1CocNgTueV61/AUWTw1SQjZLYlAaj3Ccgv3TkjaNNdumIcpgLskgi1yLyPq0D9dqdgOqmMbWzjirHLoIsksiFu3xm5LIWNu1NCez+jobIcuwmyF3ECZ7sJiLKuWnsDFZKYFdBosuxuyD3RJG3x/+27Ciyu3C0IbCbIDPI0UyQ+7WQwMpuIrLIcbezHNrUS9iznOK3iyCzyNFFkLAl2nFhqWA/pdMfe6HWXJCZ5ECQjkVteepWgswmB4JYVmnHsVoIMqMcCNKxqC1Pvbcgs8qBIJZV2nGsPQWZWQ4E6VjUlqfeS5DZ5UAQyyrtONYegiDHt0DPOubKqY0IWAuCHN+DQRCjIu05jKUgyPEwSQTpWdlG57YSBDl+DgRBjIq05zAWgiDH8QQRpGdlG517qyDIcToIBDEq0p7DbBEEOdaTQ5CelW10bq0gyJEPAEHyjNy30AiCHGWxIkgZJ9etagVBjvI4EaSclduWNYIgR12MCFLHy2XrUkGQoz4+BKln5q5HiSDIoYsNQXTcXPXKCYIc+rgQRM/OTc81QdIkn6WH3MdFvllm7eDmq0foIIibMtdPZEUQ+frRD8ihZ4sgenZueq4IUjJHdo4VSghSUkLO22wQBDky2SKI8+IvmZ5SEOQogIsgBZC8N1EIghyFoSJIISjPzSoFQY6KMBGkApbXphWCIEdliAhSCcxj80JBkEMRHoIooHnrUiAIcihDQxAlOE/dkiDySvnliTkhx4awEGQDPC9dkyDyNhK5L+SPB3JsDAlBNgL00j1J8iLNRW53J4e8xURuA33tZX6jzgNBRk3uxLyTKAcRJMnBvecNskUQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZcAgsTNlpUZEEAQA4gMEZfAf9//3wUnXGrQAAAAAElFTkSuQmCC"},"17b9":function(e,t,a){"use strict";a("968c")},1806:function(e,t,a){"use strict";a("4536")},"184e":function(e,t,a){},1889:function(e,t,a){"use strict";a("ed15")},"18ab":function(e,t,a){"use strict";a("142b")},"18f0":function(e,t,a){"use strict";a("fca3")},1926:function(e,t,a){"use strict";a("c10e")},"19fc":function(e,t,a){},"1a48":function(e,t,a){"use strict";a("c9b4")},"1b0e":function(e,t,a){"use strict";a("70fc")},"1bef":function(e,t,a){},"1c22":function(e,t,a){"use strict";a("cebd")},"1cae":function(e,t,a){"use strict";a("fc2d")},"1d20":function(e,t,a){var i={"./el-image.js":"41e5","./el-tabs.js":"81c4","./span.js":"3461"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="1d20"},"1d7c":function(e,t,a){},"1e46":function(e,t,a){},"1f39":function(e,t,a){},2019:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAKiUlEQVR4Xu2dT4hdVx3Hz7lMFq4SAkXoQgJtNi5skGxEMu+e+2ZMJmRaRDouoouAVFvBjS4EhYYWbTd1I5U2YhEMLlIxtolUI+/dZ0jsxhoqBEFagpUiOEgaaYxM3runXMhIKKZ33v2d++f9zufBQODe3+/8vp/f+/CSeW8m1vCAAATuScDCBgIQuDcBBOHZAYGPIIAgPD0ggCA8ByBQjwCvIPW4URUJAQSJZNHErEcAQepxoyoSAggSyaKJWY8AgtTjRlUkBBAkkkUTsx4BBKnHjapICCBIJIsmZj0CCFKPG1WREECQSBZNzHoEEKQeN6oiIYAgkSyamPUIIEg9blRFQgBBIlk0MesRQJB63KiKhACCRLJoYtYjgCD1uFEVCQEEiWTRxKxHAEHqcaMqEgIIEsmiiVmPAILU40ZVJAQQJJJFE7MeAQSpx42qSAggSCSLJmY9Ap0Lkuf5waIojiVJstsYs+fOV/nnXj6stX8xxvxxNptdnU6nVw8fPnyzl4MyVBACnQiS5/kRa+2aMWbNe78/SJJumrxtjPm2c+4X3RzPqU0TaFWQPM+PWWsf896vNx2szf7W2m+kafrDNs/krHYItCLIeDx+KEmSp7WJcfeKrLXfTNP0B+2sjVPaItC4IKPRaNlae9Zau7etUF2dUxTFYDgcXuzqfM4NT6BRQfI8P26MOR1+7P52vHXr1u6jR4/+u78TMtk8BBoTZDQanUyS5Ml5hlFy73XnnPpXSyW7qozRiCB5npdinKw8XekN1toLaZoeVhovqljBBZlMJie89y9FRfH/hPXefz/Lsu/EzmHR8wcVZDQaPZAkyevGmPsWHUyg+T/vnPtVoF606YBAUEHG4/Hz1tonOsjR2yOTJPnkYDAo333nsYAEggly8eLFwWw2mywggzZG/phz7r9tHMQZYQkEE2Q8Hr9irX047Hhqur3hnDuoJk1EQYIIcuHChft37dr1bkTc6kR9wTn3eJ1CarojEESQGN8QrLOy8nNoaZr+uE4tNd0QCCXIGWPMo91EWKxTZ7PZ51ZWVn63WFPHO20oQXy8CGsl3++ce6tWJUWtEhALkud5+UNO11udevEPu7a5ubl/Y2NjtvhRdCcIIcg+Y8w13ZjCp7PWnknT9IvhO9MxJIEQghwwxlwJOVQsvbz3T2VZFuMHOhdmxSEESY0x+cIk7t+gJ5xzP+3fWExUEkCQHjwPvPdplmW/78EojPAhAgjSj6fEjaWlpU8dOnTonX6MwxTbBBCkJ88Fa+04TdNhT8ZhjDsEEKRfT4WfOOe+0q+R4p4GQfq3/+86577Xv7HinAhBerj3JEmODwaDn/dwtOhGQpCerrwois8Oh8M/9HS8aMZCkJ6u2nv/162trfTIkSP/6OmIUYyFIP1e82+NMc/2e8Rg002NMe9tfznn3g/WWdAIQQTwKG2OgLX2n977l733r928eTNfX1//T3On3bszgnRBnTPnIlDKUhRF+dthTmVZ9sZcxcKbEUQIkPJ2CXjvTy0tLb24vLz8pzZORpA2KHNGEwRaeb8IQZpYHT3bIvCac+5ok4chSJN06d0GgRvOufKnWht5IEgjWGnaMoG3nHON/Fd+CNLyJjmuGQLe+19mWfaF0N0RJDRR+nVGoImf80eQztbJwQ0RWHfOnQ/VG0FCkaRPXwicc84F+x3RCNKXtTJHSALBXkUQJORa6NUXAqedc18OMQyChKBIj74R+Nfm5ubHQ/zmSgTp22qZJwgB7/0jWZa9Km2GIFKC1PeSQPmhxizLviodDkGkBKnvK4ErzrlPS4dDEClB6vtK4Lpzbq90OASREqS+twSm0+me1dXVG5IBEURCj9peE/DeH8iy7E3JkAgioUdtrwmE+KXgCNLrFTOchACCSOhRq54AgqhfMQElBBBEQo9a9QQQRP2KCSghgCASetSqJ4Ag6ldMQAkBBJHQo1Y9AQRRv2ICSgggiIQeteoJIIj6FRNQQgBBJPSoVU8AQdSvmIASAggioUetegIIon7FBJQQQBAJPWrVE0AQ9SsmoIQAgkjoUaueAIKoXzEBJQQQREKPWvUEEET9igkoIYAgEnrUqieAIOpXTEAJAQSR0KNWPQEEUb9iAkoIIIiEHrXqCSCI+hUTUEIAQST0qFVPAEHUr5iAEgIIIqFHrXoCCKJ+xQSUEEAQCT1q1RNAEPUrJqCEAIJI6FGrngCCqF8xASUEEERCj1r1BBBE/YoJKCGAIBJ61KongCDqV0xACQEEkdCjVj0BBFG/YgJKCCCIhB616gkgiPoVE1BCAEEk9KhVTwBB1K+YgBICCCKhR616AgiifsUElBBAEAk9atUTQBD1KyaghACCSOhRq54AgqhfMQElBBBEQo9a9QQQRP2KCSghgCASetSqJ4Ag6ldMQAkBBJHQo1Y9AQRRv2ICSgggiIQeteoJIIj6FRNQQgBBJPSoVU8AQdSvmIASAggioUetegIIon7FBJQQQBAJPWrVE0AQ9SsmoIQAgkjoUaueAIKoXzEBJQQQREKPWvUEEET9igkoIYAgEnrUqieAIOpXTEAJgb4IcsAYc0UShFoINEHAe38gy7I3Jb2tpLiszfN8nzHmmrQP9RAITaAoin3D4fBvkr4hBNljjLkuGYJaCDRBYDqd7lldXb0h6S0W5M6riJcMQS0EGiDgnXOJtG8oQc4YYx6VDkM9BAISOO+cW5f2CyXIl4wxP5MOQz0EAhJ43Dn3grRfEEEuXbp0/+3bt9+VDkM9BEIRSJLkE4PB4O/SfkEEKYeYTCaveO8flg5EPQSkBLz3r2ZZ9oi0T1kfTJA8z9Pyu74hhqIHBCQEQrxBuH1+MEHKhuPx+Hlr7ROScNRCQELAe/+jLMu+Lulxd21QQS5fvvzA1tbW68aY+0INSB8IzEFgsyiKzwyHw7fnqPnIW4MKcuffIie89y+FGpA+ENgpAWvtRpqmL+/0/p3cF1yQ8tA8z580xpzcyQDcA4EQBIqi2BgOh0HlCPqP9A+HRJIQa6fHDgl8zTn34g7vneu2Rl5BtifI8/y4Meb0XBNxMwTmI/At59xz85Xs/O5GBSnHGI1Gy9bas9bavTsfizshUEng/fI7pmmaNvoJjsYFKWOOx+OHkiR52nsv/mxMJTZuiIHAOWvtM2malt8xbfTRiiB3/ZXrmLX2MURpdKeam58zxpxyzp1vK2SrgmyHmkwma0VRrFlr14wxD7YVlnMWksBVa+2vvfe5c+43bSfoRJC7Q+Z5frAoimNJkuw2xpQ/fLX91TYLzuuewHvGmP99zWazsysrK3/ucqzOBekyPGdDoIoAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvooAglQR4nrUBBAk6vUTvorAB3DcSQVAkYTbAAAAAElFTkSuQmCC"},"20d0":function(e,t,a){"use strict";a("d890")},"20eb":function(e,t,a){},"22b8":function(e,t,a){"use strict";a("1bef")},"23c5":function(e,t,a){"use strict";a("6716")},"23f7":function(e,t,a){"use strict";a("0692")},"24ba":function(e,t,a){},"24f2":function(e,t,a){"use strict";a("bf59")},2611:function(e,t,a){},"275b":function(e,t,a){},2791:function(e,t,a){},2931:function(e,t,a){"use strict";a("4680")},"29a3":function(e,t,a){},"29c7":function(e,t,a){},"2bee":function(e,t,a){},"2cab":function(e,t,a){},"2d97":function(e,t,a){"use strict";a("7669")},"2dd8":function(e,t,a){},"2f34":function(e,t,a){"use strict";a("20eb")},"2fa9":function(e,t,a){},3006:function(e,t,a){"use strict";a("eb37")},"30c2":function(e,t,a){},"31c4":function(e,t,a){},"34e2":function(e,t,a){},"385a":function(e,t,a){"use strict";a("bbc8")},"386c":function(e,t,a){"use strict";a("60ee")},"389a":function(e,t,a){"use strict";a("49fe")},"393e":function(e,t,a){"use strict";a("7f61")},"39c9":function(e,t,a){"use strict";a("a5e1")},"3afd":function(e,t,a){"use strict";a("f466")},"3b25":function(e,t,a){},"3bdb":function(e,t,a){},"3c46":function(e,t,a){"use strict";a("0462")},"3c79":function(e,t,a){},"3ddf":function(e,t,a){"use strict";a("2dd8")},"3df1":function(e,t,a){"use strict";a("481f")},"3e66":function(e,t,a){},"3fb0":function(e,t,a){"use strict";a("9035")},"3fcd":function(e,t,a){},"401f":function(e,t,a){},"403c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAXCAYAAABtR5P0AAAAAXNSR0IArs4c6QAACpRJREFUaN69mQlUVNcZx2matjapibbWFRcYWTVQNdGK4hpxVwSMjRXBXRSKArOCZkhC3FDQGhWNIm4E47FVj5q0WrUxcamtiQ1oTe3iST2KPUYloDDvvX+/+7jv+XjzZhjmmL5zvjMz9767/e53v+VOQIDmCXVgZLgNf2ESlocwuSwb7UxOtPdFutnQNsCPZ2LJw3b9SlxXB2wWr8a827Cope2TnTXtZ75d10WRhbmexenE9/XtnfMaylfMEu8WzHJdd6tz4llb2v22TLZOFZeXJogPS5KEnc5UtHkvQbRXTJBqd8YLR9jvIhLnMDy7Nb7+tWOvSrWH46Rrq35R29mnRRD0xDAbwKSnDX1YWZgdN5UyH+RTrwPQQiKXu0bqixO21QWGbQd6bQP6bMVyff2kVY9HTVjjykp1/rOVUbcz8oRbyQ4gleYwxwIsyAEWZQHpS4AlmUB2BmBeDNjTgMzMumn69m/PFX5XOBNYkyI90Ne9M0tIKU0EyqYAe+KBfZOAionAB+OBg+OA344BDo8GjsYBx0cBmxKE6ZbpWDlvFjA0E9XhdoTqpYcTbb4N+Kc8cY/a15ASuleqNh2ANKCsPqkJ/A2N8CO3GsOPKxQujFwDjF0l3ZtRUNtJX/9LDj+Fw59P8NMIfgaHn8Xh2xYx+PXu8Oc0wl9tAD8/pT5x0zSxumSqWL0zUfpm32TahMnSo7J46U75RKmmfAKwNkmqyU5G5djF+OKlHAwkjl965WTHr3yCT2VxYVZMps8ypS7UhimsTJFQO77mdcWe4L+82zXKdBBS8AdARLlYPXYPXtBrfqSB5jOtH7oO0giCP26lcNGo79Rlj2JTnY/HpeY1ylx7oywwPx6XZhXGZmTXF+SkE/xmNN8IvvIUvS78cUeCdH17onRn7TRxFSuLzUIicTlL61fnTGAnySyskKjutiJUJnFG94jf3EY7b0F/9oMJVWxWANPxyJfLqDPeqUWpI/PxjDJY7wJ06LkSCCKt7bXVu72Oel/YG3wAMFUQ5F3CBi38UAb/PXf4I4qEiwQfIwqBxBV1if74lPSsuqnmdEXz3eG/SfDXeIE/wIy4SdT+5Rx5/R+TfGQkxGsRyRecUz1B7yEztiOcl4lhFjzxAVSw2tsRoQ7O8w5s7HeIE5J2YtGHaxd0Pg90+QSI2VP7ijcIw8ixhu+Xakz7qe9yyTWq9HGICn8HnQiCH62BP3p9w8JBxcAQgh+3RrwU4OeTRvCZ5ls9wM8n+LmzyUcslKr1dT2deIHWfYXzeERSYyANvP7fOnYHAwLwHVLcIm4xzjXp3Bv80LxTCFmHy+y9wBPI7/gnoEMVpH5H8JzSvsdZV1EXgh90Rqz1BUSf3a5lDL6pnEDvEg54gj9+xf22gzZID2II/tB1kphQ2OBxY2cuq+2TnCdWpTjEqjk2sWquxVW10CxWLs4RKzOyxMolS8Wb2QQ/g2TeUmGKm7m1Yy+3xf/Q11HZepmFFQIpYHK4A6O10iEHzysmmVkLev8CfTeTVPM+K+jTxU3RjKbaSBEIed9WTIK3SEe7VpxCpz9QRwdqJ0bux4+iPsLz7L3OV8WN7a8R/EoC9GHNa0p702nhS6b5QafFW6YTrmUhvxfzeh1yDfKo/aVo1WufcDd6t1AxcktNpAq/lMbUaf6YIuH14cXijTFrG7Z429CEvIY5k8jhTrCTU7bSKSGnO5xkMEl/kiirRqHsiDUA7BF+hAOdZAdqVW12UwVtNCn7OdxMdlK4Uo9RoTdq/Xl2CgwX0OPU121+XC0Jbe4Cbe8AgVWuYwF48nL3K8JvZPhVBPqyq4CVDTp0t3XgBUmUzc6n1OZjoOsZMk3HXXlKu5i9j7rHlNUlxe4g2VmfOGRbfULslrqkgcWu0X1XuEZEv4HB0W8JE0I3Evz15DcKURJixwCtRNpdsdrfPa3o1SQ/scHOF/kNP8meJQdBLYHPnkjKDTjIR3QCopkopojBp/GPcDOTGjAV36X6wWxDqFzQbNQj2pxNEWaEuA0QdKwhvf0lgnsO6EgQO50i07BLKFXqgyukk10pUulG5iJku/i5bO831/Xvvhcne5ThZPA2nDUVUZREjjGiGKpdjchHcuhymmSuPFG0IGz1Jhd1pnM3h3faH5/QHHw+hotr/y0u9XwuZmr3lewPrRhPn5d0cz1J8rnmN4uCzjWJ9Zkz8LBQMx/8olpGkwixIVg7Ofr9qhqmWhCo2lMrpj8l4J7h2/FnXr7624JPirOB3nlXlUZbrp3Tf1mGT+vNkDfGig/p+0SeXD7Do8lrih8I0AAazTt4qOlsvxIesZCJPu/rPPk6XY7wa173ryaTdqIdDTZILyws0yQdFrXcjiyNnVxk1DbMgShN1vwMldXy9+0sP/EmQQ508Ae+WxSUgR/QmrOJnYPNOTwPw2j8V+h7PJWnM/tPfa6ksn0sPKXPN+SxHBhuykVXNeWnys/44FvUheeiP3VSSR58J4tNNeD38IXWkS3sKDvj+XiO7XxziZbOTk9R+oyw4OfqJjpURTB0jm4QzDC15NTQmux+mR2CxtbMzY3gx2mtD87T2XvaoTwOk6XEU7UZLoEfyI5SiAUJ2k1hnpsvpIxfyC1VF2dFjE/wed7gZqZaCJ8d7RZCsPql+YqSWvF3+vwbyVV6/6+h7BKSwktNlv8fKitlloEc73KSxcQxQWGpdyQ3+MBLSJL01wt8g4q4rW9gx02rtdyW3TOyxV7trA2HefvbTWC2ED4LkZu7baUb2iC1Tyuy/LL5LMLRXKkYyGXexwVP79AGDNUnGPnU6CZbhNHdjnaDCNQZTdlxN62iAXwB/xJpAM8WZd/iK3wWITSaKA/xsocn2IoXNXNM8wu+DSVPIVBomqVHWtGNbPosPgk3zWd3P5qJZ2qim2BNWs3kuK8waMNXqIAtiPcVPnNo6tEmTfR1POabNH0m+wNfDkoaAwNjseI6N8WVnt6hOc/0FnIlGdxqKreZouKluacv0+1qlXKR1JyjZam60obZUp/h2zFOddIO9PY5MrEjUmnHYvGWwA8x42fMhjcnTCGU+51m36WNaPZKmU5EmKLdjZdE8jss7PxEG/Nr7P9tTw6XmTV6500l62MbwHIDtzlo4JOM0P3TtlQd04LWvsJnp0tdlxl9WwLfD4fui5z0Dt+BvvyqVM7KInIxhF8z12lg32HayRMQpWMXlb8Tyf+uY/aWJx43Ne1EI9urMy3yjSqLlXm8XMjG43U3vGj5T3tTLB9FF16mHLSnTR7LTpjmSrd1S+DT/LspV+7eRDPGZ82+TyfYq9nR3t/L2ZzyJ8ETuaI1M0yrlVPA4Comg9od0rWrJpMx3hO8wKX4IU/fvcXq67xEUble2h30N8N1uyAkc0nKuJHWvIrWWkBtH/Bx3vfr3tvN7LDw04avaJCf8IUdlf+JoePfbz6+Z3ADOF6+SrXiLV0SVEsayOLglewkNBuGUgZL75fzfOKiKlacoDk6OzufXGkbmJj+BuDZ9W4xOw1PCz7nccVgrNl+wWeZrOwQSRRI2sSA1Ssb4THuNlPWSzd7uk3txzQ64P/x0HUDKUFfbg5j5dOp+efNA8QxXNFmt5BXknziSYiLw8iHeXv+BxEnTkjhQN9lAAAAAElFTkSuQmCC"},"40a2":function(e,t,a){"use strict";a("5c05")},"40e9":function(e,t,a){"use strict";a("e032")},"40f6":function(e,t,a){},4206:function(e,t,a){},4513:function(e,t,a){"use strict";a("ae31")},4536:function(e,t,a){},4574:function(e,t,a){"use strict";a("abc7")},4601:function(e,t,a){"use strict";a("895a")},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="4678"},4680:function(e,t,a){},4681:function(e,t,a){},"481f":function(e,t,a){},"49ce":function(e,t,a){"use strict";a("abd7")},"49fc":function(e,t,a){},"49fe":function(e,t,a){},"49ff":function(e,t,a){"use strict";a("2bee")},"4b40":function(e,t,a){},"4ba8":function(e,t,a){"use strict";a("ebd2")},"4bd7":function(e,t,a){"use strict";a("ad48")},"4bfa":function(e,t,a){"use strict";a("30c2")},"4c43":function(e,t,a){},"4cdf":function(e,t,a){"use strict";a("8d2f")},"4dd6":function(e,t,a){"use strict";a("8201")},"4e25":function(e,t,a){},"4f72":function(e,t,a){"use strict";a("100a")},"4fca":function(e,t,a){"use strict";a("24ba")},"4ffd":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABqdJREFUaN7tmHtQVFUcx7E0K9+JOhqpICI+oBBCEHnItshjUHyAkgiCPOIVrxVEJFdUfOBApMJgMBU5k4/CpowSbdEcfIAPRAdDNNRl7+459+5qOGNW6K9zFpddiMWcFgac+505M/vH3r37ud9zft/f7xoZ8eLFixcvXrx48eLFixevfqYaN8WsS66K+DoXxf5fneQHbzkxdi8c5AVbGHTKk406I0RXzwsQXHKTQ52zHOqdGGh0ZLhD/jD0hYEt91V6HPfGN096YqgSIjgvUBBghRbYQQZHhEoPIyMY0K9BxW6VA79djHJ/8MVPKrwxnFyA2oDdFR0dJsCVbmy4bSQM6rewh/zlYw4uZSVlfgiO+iKo8EbQ7rA7anPYpQ34BgGudpZvmiyGV/slbPH7zKTSAHTzwFIEauCFBNiHOOzZ5nC1QOMw8/QMy6BurrzEWgRD+h9sEDYvXoHuEGDoCKzjcBdn+Lojc8wsDUb0K9i9BLYwCDcXByLoANx5S2scdtECN86R1c9Mgjf6DezO1XhqfjCWFgQhKHkKfFAH+LgPfnjKEz/Rbmmtw/QM/2YvazFPhzH9AjY7grXICUWy/GAEhQS4s8Pf+HFf+0U+mlK2ULW2zWH0ryrdZN8M6YEtln0/etZg8+wI3LwzFEF+CAFeqQU+uAw//mKZMmtaKkywWgejTnu3WOg7wxT4sBfJYjG81Hdho5FZVhS+mx2OgDgMH+s4/GUA/nt3IBdPYWfEtHVRtNuq8sCtXeUwBT41H4f12SxO+1A18aMY3LQpCgEFVjusBW7NC1JFT18P402S4DXd68544KaucpgCX3JGH/XJLE6NYyekx+HGzGgEmyLbgHPagXFrTjAX1xWsGljInugqhylwvQPzaZ/L4pSUFmNRAlu/Lg6DGjhKBzgEPc5erUzUB0tV5YH26TvDjfayH83FMLzPwMbGNo9OTGYvpiRgWBeHIDOmA/CTrDWqVHpmbcXwur7fOCvEaTo5/OCas+JGvZO88upcZn/1PJTSp7LY3x9eTkhA41aJHs4JS/zdKybu/vLk2HthaVH34kXhqqBnwVJVujHG+xeprJaTmKLfn54I46eIYKxlOoyenAgjn3W9QTU/VznTYxvn7rVDadLtqEaiw00MA2lFNY+HwbTQ0C1MP/+38k6ihzy8PjEOCrZhT+9srsJvM9sSIMa1QZnskbAMNi8iDSfEpHJLEkVKR1GcwlQcyTy3E+VeMLjKQzH2nBBPvezKvVvrzCy47igLbHSUxzbZyTZK7aS7FdYK016Hpk65if+0XLpRWUSAIXQ9C5FpGGJEGBKSMWjPMH6UFYUU2yJwQ04YvvJJCL5IYulicSC+XOqPrpHGo/HIYlZ61BeryAuAv7qbh2nRktpK4Qp5AEaHqPu9rCViZBYgZqVq4HR9wNqi1SmHSePRsZd+1jysAa51lGf2ehZ7b2EmkS19mwDDSrXDmACzOsCsUg3cZQ5rh4fnmYc1wA1zmKJezWJasLy3sjcJMARsxNB5S0cnKYtodQ1JbHFKjlWlZ37Afr8lHN0mwI+7B+5+HtYAN9k1l/daFjvnseOF29kG72wMflkYqMMaYFK0IDJV+TmFbR/USaWmbkwkg4Fv3B+mojUqn60hysi8lVxGwQpue0kA3vvVUmXx4UXs/u982QPHfLjDP3vismoBau08D7cBkzVbWtcrWTw358FY1xy2/r3tGNTAm3WBMYSuUx6wSII3u30rATBghhheoRFFHwR5OMNIARxOr6GL5uw7YhhJxkPUeR7WOMzYSO/1+Fxsu4sxdszj6lx3YRDuIMBbKbB2S69azx2xTgUT+ocN8iJegK7oq9IKm7uQFPTIvMdgrQruj7LLx5cdczFQ4HaH6ZYmwCsy2fJZGfAWnWcNdU9StCr0nWG5jRTKPDh3ulsMDmtWpBphvQfX2OZjoMAuOQS43WEMy8TcCZsUmGToM1Xjjkr1OyyFM/NQMO3kDAo7rYQdZlmIz1rtwUCBHXQdJsCLNit/sd4ApjPFhi8gF9xRjr4cpg5fdWAyJq82YBaPK1UMMduHT08rxKABbneYAHtlc+dsN8AU2tD3RL9bM1++Vl8OU+BbdkyhQbPY5DOcZroP/2RZwEqs97CS2fmsxCGXk7js5CSC7VzZ2+mPLCxSwLinmvsagVJIXK644KqQ1LooJNec5JIGB7nklj0juWPbLGmwZ7bS6m7Qm5L4GEod7GpNVBeonp1kaL+u7/500f9nxIsXL168ePHixYsXL168/qf+AXOtcMnMtAuRAAAAAElFTkSuQmCC"},5063:function(e,t,a){},"508f":function(e,t,a){},"50eb":function(e,t,a){},5164:function(e,t,a){e.exports=a.p+"img/bg1.3d72aa35.jpg"},"51be":function(e,t,a){},5216:function(e,t,a){},"531a":function(e,t,a){"use strict";a("1d7c")},"53ce":function(e,t,a){},"54f8":function(e,t,a){"use strict";a("1290")},5508:function(e,t,a){},"566e":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var i={};a.r(i),a.d(i,"get_emails_json",(function(){return FD})),a.d(i,"addEmail",(function(){return VD})),a.d(i,"updateEmail",(function(){return RD})),a.d(i,"batchDelEmail",(function(){return jD})),a.d(i,"delEmail",(function(){return BD})),a.d(i,"changeEmailStatus",(function(){return MD}));var n={};a.r(n),a.d(n,"roleList",(function(){return qD})),a.d(n,"get_users_json",(function(){return JD})),a.d(n,"get_loginLogs_json",(function(){return GD})),a.d(n,"get_operateLogs_json",(function(){return UD})),a.d(n,"get_office_tree_json",(function(){return HD})),a.d(n,"addUser",(function(){return KD})),a.d(n,"updateUser",(function(){return QD})),a.d(n,"batchDelUsers",(function(){return WD})),a.d(n,"delUser",(function(){return YD})),a.d(n,"changeloginFlag",(function(){return ZD}));var r={};a.r(r),a.d(r,"get_offices_json",(function(){return XD})),a.d(r,"addOrgan",(function(){return e$})),a.d(r,"updateOrgan",(function(){return t$})),a.d(r,"delOrgan",(function(){return a$})),a.d(r,"changeOrganStatus",(function(){return i$}));var s={};a.r(s),a.d(s,"menuTree",(function(){return r$})),a.d(s,"get_roles_json",(function(){return s$})),a.d(s,"addRole",(function(){return o$})),a.d(s,"updateRole",(function(){return l$})),a.d(s,"batchRoles",(function(){return c$})),a.d(s,"delRole",(function(){return d$})),a.d(s,"changeRoleStatus",(function(){return u$}));var o={};a.r(o),a.d(o,"searchUsedCrowd",(function(){return h$})),a.d(o,"launchHelpIndex",(function(){return p$})),a.d(o,"launchHelpCrowdIndex",(function(){return m$})),a.d(o,"newLaunchHelpCrowdIndex",(function(){return f$})),a.d(o,"exportHitDataToTmpCrowd",(function(){return v$}));var l={};a.r(l),a.d(l,"crowdList",(function(){return C$})),a.d(l,"addLaunchCrowd",(function(){return w$})),a.d(l,"updateLaunchCrowd",(function(){return _$})),a.d(l,"modifyLaunchPolicy",(function(){return S$})),a.d(l,"getStrategyCrowds",(function(){return k$})),a.d(l,"batchDelCrowd",(function(){return I$})),a.d(l,"delCrowd",(function(){return x$})),a.d(l,"launchCrowd",(function(){return T$})),a.d(l,"cancelLaunchCrowd",(function(){return D$})),a.d(l,"launchCrowdDel",(function(){return $$})),a.d(l,"ruleDetail",(function(){return L$})),a.d(l,"addCrowdLanuch",(function(){return N$})),a.d(l,"modifyCrowdLanuch",(function(){return O$})),a.d(l,"CrowdLanuchAddBtn",(function(){return P$})),a.d(l,"CrowdLanuchEditBtn",(function(){return E$})),a.d(l,"launchPolicyIndex",(function(){return A$})),a.d(l,"getCrowdsByPolicyId",(function(){return F$})),a.d(l,"getCrowdsListByPolicyId",(function(){return V$})),a.d(l,"getAddCrowdData",(function(){return R$})),a.d(l,"getAddMyCrowdData",(function(){return j$})),a.d(l,"saveAddCrowdData",(function(){return B$})),a.d(l,"cancelLaunchData",(function(){return M$})),a.d(l,"getMultiVersionCrowd",(function(){return z$})),a.d(l,"getMyMultiVersionCrowd",(function(){return q$})),a.d(l,"addMultiVersionCrowd",(function(){return J$})),a.d(l,"addMyMultiVersionCrowd",(function(){return G$})),a.d(l,"getPushList",(function(){return U$})),a.d(l,"getPushPlatform",(function(){return H$})),a.d(l,"saveAddMultiVersionCrowd",(function(){return K$})),a.d(l,"saveEditMultiVersionCrowd",(function(){return Q$})),a.d(l,"editMultiVersionCrowd",(function(){return W$})),a.d(l,"delMultiVersionCrowd",(function(){return Y$})),a.d(l,"MultiVersionCrowdPeople",(function(){return Z$})),a.d(l,"LaunchMultiVersionCrowd",(function(){return X$})),a.d(l,"cancelLaunchMultiVersionCrowd",(function(){return eL})),a.d(l,"searchTags",(function(){return tL})),a.d(l,"ABTestAdd",(function(){return aL})),a.d(l,"getABTestDetail",(function(){return iL})),a.d(l,"submitMultiHistoryData",(function(){return nL})),a.d(l,"getPushLaunchDetail",(function(){return rL})),a.d(l,"getMyCrowdLaunchList",(function(){return sL})),a.d(l,"getVideoSourceList",(function(){return oL})),a.d(l,"collectPush",(function(){return lL})),a.d(l,"removeCollectPush",(function(){return cL})),a.d(l,"dataMonitor",(function(){return dL})),a.d(l,"launchVersionList",(function(){return uL})),a.d(l,"fluctuation",(function(){return hL})),a.d(l,"fluctuationLaunch",(function(){return pL})),a.d(l,"dynamicCrowdHitLink",(function(){return mL})),a.d(l,"hitDetail",(function(){return fL})),a.d(l,"getDynamicCrowdReportA",(function(){return vL})),a.d(l,"getDynamicCrowdReportB",(function(){return gL})),a.d(l,"dynamicCrowdMonitoring",(function(){return bL})),a.d(l,"getPushPackageList",(function(){return yL})),a.d(l,"getContentDynamicCrowdReport",(function(){return CL})),a.d(l,"downloadContentDynamicCrowdReport",(function(){return wL}));var c={};a.r(c),a.d(c,"policyList",(function(){return _L})),a.d(c,"policyAdd",(function(){return SL})),a.d(c,"policyTagSeach",(function(){return kL})),a.d(c,"policyAddSave",(function(){return IL})),a.d(c,"policyUpate",(function(){return xL})),a.d(c,"policyDel",(function(){return TL})),a.d(c,"viewCrowd",(function(){return DL})),a.d(c,"getTagsByPoliceId",(function(){return $L})),a.d(c,"getTagAttr",(function(){return LL})),a.d(c,"crowdSave",(function(){return NL})),a.d(c,"crowdEdit",(function(){return OL})),a.d(c,"crowdUpdate",(function(){return PL})),a.d(c,"strategyCrowdDel",(function(){return EL})),a.d(c,"freshService",(function(){return AL})),a.d(c,"freshCache",(function(){return FL})),a.d(c,"alertLaunch",(function(){return VL})),a.d(c,"getEstimateType",(function(){return RL})),a.d(c,"estimatePeople",(function(){return jL})),a.d(c,"batchCrowdEstimate",(function(){return BL})),a.d(c,"estimateResult",(function(){return ML})),a.d(c,"estimateTemp",(function(){return zL})),a.d(c,"seeDevFile",(function(){return qL})),a.d(c,"seeDevFileList",(function(){return JL})),a.d(c,"policyWithBiTotalPie",(function(){return GL})),a.d(c,"policyWithBiTotalLine",(function(){return UL})),a.d(c,"hitAndBiToTalPie",(function(){return HL})),a.d(c,"portraitParam",(function(){return KL})),a.d(c,"hitAndBiToTalLine",(function(){return QL})),a.d(c,"exposeCrowdTotalPie",(function(){return WL})),a.d(c,"exposeCrowdTotalLine",(function(){return YL})),a.d(c,"clickCrowdTotalPie",(function(){return ZL})),a.d(c,"clickCrowdTotalLine",(function(){return XL})),a.d(c,"crowdLanuchData",(function(){return eN})),a.d(c,"exposeProvinceScale",(function(){return tN})),a.d(c,"policyUseInBi",(function(){return aN})),a.d(c,"crowdUpDown",(function(){return iN})),a.d(c,"putwayCrowd",(function(){return nN})),a.d(c,"crowdCopy",(function(){return rN})),a.d(c,"getAllPolicyList",(function(){return sN})),a.d(c,"getEstimatedBaseInfo",(function(){return oN})),a.d(c,"getEstimatedProvinceAndCityData",(function(){return lN})),a.d(c,"getEstimatedCityTopData",(function(){return cN})),a.d(c,"getEstimatedUserTypeData",(function(){return dN})),a.d(c,"getEstimatedUserBehaviorData",(function(){return uN})),a.d(c,"getEstimatedPayData",(function(){return hN})),a.d(c,"getEstimatedTvEnumData",(function(){return pN})),a.d(c,"getEstimatedAcitivityBehaviorData",(function(){return mN})),a.d(c,"updatePrioorityInCrowdList",(function(){return fN})),a.d(c,"updatePriority",(function(){return vN})),a.d(c,"updateBypassPriorityInCrowdList",(function(){return gN})),a.d(c,"crowdABTestAdd",(function(){return bN})),a.d(c,"crowdABTestEdit",(function(){return yN})),a.d(c,"crowdABTestEditSave",(function(){return CN})),a.d(c,"getCrowdStatus",(function(){return wN})),a.d(c,"crowdRequestDetail",(function(){return _N})),a.d(c,"getAbChilds",(function(){return SN})),a.d(c,"searchIndependentAnalysisByCrowdId",(function(){return kN})),a.d(c,"submitPolicyHistoryData",(function(){return IN})),a.d(c,"tagInfoNew",(function(){return xN})),a.d(c,"oneDropPolicyAddSave",(function(){return TN})),a.d(c,"oneDropGetPolicyDetail",(function(){return DN})),a.d(c,"tempCrowds",(function(){return $N})),a.d(c,"getCrowdsDetail",(function(){return LN})),a.d(c,"oneDropSaveCrowd",(function(){return NN})),a.d(c,"oneDropCrowdSaveAndLaunch",(function(){return ON})),a.d(c,"oneDropCrowdSaveAndNotLaunch",(function(){return PN})),a.d(c,"getHomepageReleaseRecordList",(function(){return EN})),a.d(c,"getHomepageReleaseRecordFunnel",(function(){return AN})),a.d(c,"getHomepageReleaseRecordTypeEnum",(function(){return FN})),a.d(c,"getMyCrowdList",(function(){return VN})),a.d(c,"getRedirectCrowdList",(function(){return RN})),a.d(c,"getCrowdCountMap",(function(){return jN})),a.d(c,"getRedirectCrowdAdd",(function(){return BN})),a.d(c,"collectPolicy",(function(){return MN})),a.d(c,"removeCollectPolicy",(function(){return zN})),a.d(c,"getSrtategyTagsList",(function(){return qN})),a.d(c,"searchHitCrowd",(function(){return JN})),a.d(c,"macHitDetail",(function(){return GN})),a.d(c,"macRequestDetail",(function(){return UN})),a.d(c,"macLogSearch",(function(){return HN})),a.d(c,"getBypassCrowdList",(function(){return KN})),a.d(c,"saveBypassCrowdAdd",(function(){return QN})),a.d(c,"saveBypassCrowdEdit",(function(){return WN})),a.d(c,"delBypassCrowd",(function(){return YN})),a.d(c,"getBypassCrowdDetail",(function(){return ZN})),a.d(c,"polisyTest",(function(){return XN})),a.d(c,"smartProgramme",(function(){return eO})),a.d(c,"smartProgrammeDetail",(function(){return tO})),a.d(c,"smartProframPolicyInfo",(function(){return aO})),a.d(c,"smartProframPolicyUpdate",(function(){return iO})),a.d(c,"sendEffectCommand",(function(){return nO})),a.d(c,"getEffectCrowd",(function(){return rO})),a.d(c,"getResource",(function(){return sO})),a.d(c,"effectGetFunnel",(function(){return oO})),a.d(c,"effectGetLine",(function(){return lO})),a.d(c,"effectDownload",(function(){return cO})),a.d(c,"addDynamicCrowd",(function(){return dO})),a.d(c,"getDynamicCrowd",(function(){return uO})),a.d(c,"delDynamicCrowd",(function(){return hO})),a.d(c,"getRuleIndicators",(function(){return pO})),a.d(c,"getDynamicRule",(function(){return mO})),a.d(c,"setDynamicRule",(function(){return fO})),a.d(c,"setBigCrowdRule",(function(){return vO})),a.d(c,"getCrowdRuleById",(function(){return gO})),a.d(c,"updateDynamicCrowdName",(function(){return bO})),a.d(c,"addDynamic2Crowd",(function(){return yO})),a.d(c,"getDynamic2CrowdList",(function(){return CO})),a.d(c,"addDynamic2Plan",(function(){return wO})),a.d(c,"getDynamic2PlanList",(function(){return _O})),a.d(c,"deleteDynamic2Plan",(function(){return SO})),a.d(c,"saveDynamic2Plan",(function(){return kO})),a.d(c,"delDynamic2Crowd",(function(){return IO})),a.d(c,"delDynamic2CrowdConfirm",(function(){return xO})),a.d(c,"setDynamicTime",(function(){return TO})),a.d(c,"getDynamicTime",(function(){return DO})),a.d(c,"getLinkCrowdList",(function(){return $O})),a.d(c,"createReferCrowd",(function(){return LO})),a.d(c,"getSourceSign",(function(){return NO})),a.d(c,"receptionistFlowChart",(function(){return OO})),a.d(c,"sceneFlowChart",(function(){return PO}));var d={};a.r(d),a.d(d,"get_menus_json",(function(){return EO})),a.d(d,"changeMenuStatus",(function(){return AO})),a.d(d,"delMenu",(function(){return FO})),a.d(d,"MenuAdd",(function(){return VO})),a.d(d,"MenuUpdate",(function(){return RO})),a.d(d,"get_menu_tree_json",(function(){return jO}));var u={};a.r(u),a.d(u,"getTagGroupList",(function(){return MO})),a.d(u,"createTagGroup",(function(){return zO})),a.d(u,"getTagTypeList",(function(){return qO})),a.d(u,"getDataSourceEnum",(function(){return JO})),a.d(u,"getTagGroupTreeList",(function(){return GO})),a.d(u,"getParentIdList",(function(){return UO})),a.d(u,"editLabelGroup",(function(){return HO})),a.d(u,"findLabelGroupById",(function(){return KO})),a.d(u,"editLabelGroupName",(function(){return QO})),a.d(u,"delLabelGroup",(function(){return WO})),a.d(u,"copyLabelGroup",(function(){return YO})),a.d(u,"copyLabelSingle",(function(){return ZO})),a.d(u,"collectTags",(function(){return XO})),a.d(u,"cancelCollectTags",(function(){return eP})),a.d(u,"collectTagsList",(function(){return tP})),a.d(u,"specialTagList",(function(){return aP})),a.d(u,"specialTagDetailList",(function(){return iP})),a.d(u,"specialTagChild",(function(){return nP})),a.d(u,"editSpecialTag",(function(){return rP})),a.d(u,"addSpecialTag",(function(){return sP})),a.d(u,"specialTagDetail",(function(){return oP})),a.d(u,"deleteSpecialTagAttr",(function(){return lP})),a.d(u,"saveSpecialTag",(function(){return cP})),a.d(u,"addSpecialTagType",(function(){return dP})),a.d(u,"editSpecialTagType",(function(){return uP})),a.d(u,"deleteSpecialTagType",(function(){return hP})),a.d(u,"searchByGroup",(function(){return pP})),a.d(u,"searchModelTag",(function(){return mP})),a.d(u,"addModelTag",(function(){return fP})),a.d(u,"editModelTag",(function(){return vP})),a.d(u,"deleteModelTag",(function(){return gP})),a.d(u,"getModelTag",(function(){return bP})),a.d(u,"updateModelTag",(function(){return yP})),a.d(u,"getTagStatistics",(function(){return CP})),a.d(u,"getMytopMax30",(function(){return wP})),a.d(u,"getTagBehavior",(function(){return _P})),a.d(u,"getTagRealTime",(function(){return SP})),a.d(u,"getbigDataRealTimeList",(function(){return kP}));var h={};a.r(h),a.d(h,"getTagCategoryList",(function(){return IP})),a.d(h,"upsertTagCategory",(function(){return xP})),a.d(h,"deleteTagCategory",(function(){return TP})),a.d(h,"readTagCategory",(function(){return DP})),a.d(h,"getDatasource",(function(){return $P})),a.d(h,"getTagType",(function(){return LP}));var p={};a.r(p),a.d(p,"getTagList",(function(){return NP})),a.d(p,"upsertTag",(function(){return OP})),a.d(p,"deleteTag",(function(){return PP})),a.d(p,"tagBatchsave",(function(){return EP})),a.d(p,"getTagDictDatabaseList",(function(){return AP})),a.d(p,"getBavTagList",(function(){return FP})),a.d(p,"moduleMatch",(function(){return VP})),a.d(p,"tvContentMatch",(function(){return RP})),a.d(p,"getTvEpisodes",(function(){return jP})),a.d(p,"getAppointmentInfo",(function(){return BP})),a.d(p,"manualLaunch",(function(){return MP})),a.d(p,"getManualLaunchList",(function(){return zP})),a.d(p,"getVideo",(function(){return qP})),a.d(p,"getShortVideoAuthor",(function(){return JP})),a.d(p,"getVideoEpisode",(function(){return GP})),a.d(p,"getMusicByName",(function(){return UP})),a.d(p,"getMusicByAuthor",(function(){return HP})),a.d(p,"getMenberIds",(function(){return KP})),a.d(p,"getTopic",(function(){return QP}));var m={};a.r(m),a.d(m,"peoplePositonList",(function(){return WP})),a.d(m,"peoplePositonAdd",(function(){return YP})),a.d(m,"peoplePositonEdit",(function(){return ZP})),a.d(m,"peoplePositonDel",(function(){return XP})),a.d(m,"getPositonDetail",(function(){return eE})),a.d(m,"protocolList",(function(){return tE})),a.d(m,"crowdIdList",(function(){return aE}));var f={};a.r(f),a.d(f,"getthirdInterfaceList",(function(){return iE})),a.d(f,"getthirdInterfaceAdd",(function(){return nE})),a.d(f,"getthirdInterfaceEdit",(function(){return rE})),a.d(f,"thirdInterfaceDel",(function(){return sE})),a.d(f,"getThirdInterfaceDetail",(function(){return oE})),a.d(f,"getthirdInterfaceSelectList",(function(){return lE}));var v={};a.r(v),a.d(v,"get_total_policy",(function(){return cE})),a.d(v,"get_crowd_pv_total",(function(){return dE})),a.d(v,"get_crowd_forcas_total",(function(){return uE})),a.d(v,"get_crowd_uv_total",(function(){return hE})),a.d(v,"get_crowd_send_total",(function(){return pE})),a.d(v,"get_crowd_click_total",(function(){return mE})),a.d(v,"get_crowd_bi_pv_total",(function(){return fE})),a.d(v,"get_crowd_bi_uv_total",(function(){return vE})),a.d(v,"get_crowd_send_bi_total",(function(){return gE})),a.d(v,"get_crowd_click_bi_total",(function(){return bE})),a.d(v,"get_crowd_sex_total",(function(){return yE})),a.d(v,"get_crowd_age_total",(function(){return CE})),a.d(v,"get_device_level_total",(function(){return wE})),a.d(v,"get_crowd_province_total",(function(){return _E})),a.d(v,"get_crowd_all_total",(function(){return SE})),a.d(v,"getHomePageRecommend",(function(){return kE})),a.d(v,"getHomePageRecommendLine",(function(){return IE}));var g={};a.r(g),a.d(g,"setClearCache",(function(){return xE})),a.d(g,"setClearAllCache",(function(){return TE}));var b={};a.r(b),a.d(b,"getIpManageList",(function(){return DE})),a.d(b,"getBiList",(function(){return $E})),a.d(b,"addIpManage",(function(){return LE})),a.d(b,"updateIpManage",(function(){return NE})),a.d(b,"delIpManage",(function(){return OE})),a.d(b,"getIpManageDetail",(function(){return PE}));var y={};a.r(y),a.d(y,"getLaunchList",(function(){return EE})),a.d(y,"editLaunchMenu",(function(){return AE})),a.d(y,"addLaunchMenu",(function(){return FE})),a.d(y,"updateLaunchMenu",(function(){return VE})),a.d(y,"getLaunchMenuList",(function(){return RE})),a.d(y,"getEffectData",(function(){return jE})),a.d(y,"getCtr",(function(){return BE})),a.d(y,"getPackage",(function(){return ME})),a.d(y,"getActive",(function(){return zE})),a.d(y,"getTv",(function(){return qE})),a.d(y,"getTvTop",(function(){return JE})),a.d(y,"getCategory",(function(){return GE}));var C={};a.r(C),a.d(C,"noticeList",(function(){return UE})),a.d(C,"noticeAdd",(function(){return HE})),a.d(C,"noticeDetail",(function(){return KE})),a.d(C,"noticeEdit",(function(){return QE})),a.d(C,"noticeDel",(function(){return WE})),a.d(C,"getNoticeHeaderList",(function(){return YE}));var w={};a.r(w),a.d(w,"getCrowdUseEcharts",(function(){return ZE})),a.d(w,"getCrowdUseSceneEcharts",(function(){return XE})),a.d(w,"getTagAllEcharts",(function(){return eA})),a.d(w,"getTagUseEcharts",(function(){return tA})),a.d(w,"getTagUseRadarEcharts",(function(){return aA})),a.d(w,"getLaunchEcharts",(function(){return iA})),a.d(w,"getCrowdBusinessUseEcharts",(function(){return nA})),a.d(w,"getCrowdBusinessEcharts",(function(){return rA})),a.d(w,"getBusinessUseTendencyEcharts",(function(){return sA})),a.d(w,"getActiveTimeEcharts",(function(){return oA})),a.d(w,"getUseDistributionEcharts",(function(){return lA})),a.d(w,"getLastPaidProductEcharts",(function(){return cA})),a.d(w,"getActiveDeviceEcharts",(function(){return dA})),a.d(w,"getBroadcastRateEcharts",(function(){return uA})),a.d(w,"getUserWatchPreferenceDistributionEcharts",(function(){return hA})),a.d(w,"getUseVipRightsEcharts",(function(){return pA})),a.d(w,"getinitDateEcharts",(function(){return mA})),a.d(w,"getUserVipRightsList",(function(){return fA})),a.d(w,"getStatisticStrategyReqAndHit",(function(){return vA})),a.d(w,"getStatisticCrowdGrowth",(function(){return gA})),a.d(w,"getStatisticStrategyUse",(function(){return bA})),a.d(w,"getStatisticTagsGrowth",(function(){return yA})),a.d(w,"getStatisticCrowdLife",(function(){return CA})),a.d(w,"getStatisticBehaviorCrowdLife",(function(){return wA})),a.d(w,"getStatisticStrategyLife",(function(){return _A})),a.d(w,"getCountGetTag",(function(){return SA})),a.d(w,"getCountGetCrowdRatio",(function(){return kA})),a.d(w,"getCountGetStore",(function(){return IA})),a.d(w,"getStatisticCrowdCalcDuration",(function(){return xA})),a.d(w,"getStatisticCrowdLaunch",(function(){return TA})),a.d(w,"getPolicySixIndexStats",(function(){return DA})),a.d(w,"getPolicySixIndexStats2",(function(){return $A})),a.d(w,"statisticPieChart",(function(){return LA}));var _={};a.r(_),a.d(_,"longTimeNoUseEcharts",(function(){return NA})),a.d(_,"tempCrowdEcharts",(function(){return OA})),a.d(_,"abTestEcharts",(function(){return PA})),a.d(_,"getTempTagAnomalyEcharts",(function(){return EA})),a.d(_,"getDmpApiRequestEcharts",(function(){return AA})),a.d(_,"getDmpApiRequestAccuracyEcharts",(function(){return FA})),a.d(_,"getDmpApiRequestErrorEcharts",(function(){return VA})),a.d(_,"getDmpApiRequestErrorReasonEcharts",(function(){return RA})),a.d(_,"getDmpTaskEcharts",(function(){return jA})),a.d(_,"getDmpTaskFailReasonEcharts",(function(){return BA})),a.d(_,"getDmpQpsApiRequestEcharts",(function(){return MA})),a.d(_,"getSelectCrowdTimeEcharts",(function(){return zA})),a.d(_,"getCrowdHitCountDeclineEcharts",(function(){return qA})),a.d(_,"getCrowdHitCountDeclineToZeroEcharts",(function(){return JA})),a.d(_,"queryEffectAppointment",(function(){return GA}));var S={};a.r(S),a.d(S,"getDevicePortraitList",(function(){return UA})),a.d(S,"devicePortraitFileUpload",(function(){return HA})),a.d(S,"devicePortraintAddSave",(function(){return KA})),a.d(S,"devicePortraintDel",(function(){return QA})),a.d(S,"seeDevicePortraintCharts",(function(){return WA}));var k={};a.r(k),a.d(k,"getTempTagList",(function(){return YA})),a.d(k,"getTempTagAttrList",(function(){return ZA})),a.d(k,"getUserTagList",(function(){return XA})),a.d(k,"getBigDataUserTagList",(function(){return eF})),a.d(k,"getHitSearchData",(function(){return tF})),a.d(k,"getAutoFilledParams",(function(){return aF}));var I={};a.r(I),a.d(I,"getListDimension",(function(){return iF})),a.d(I,"saveListDimension",(function(){return nF})),a.d(I,"rightsInterestsOutcome",(function(){return rF})),a.d(I,"getRightsInterestsSearchRecord",(function(){return sF})),a.d(I,"exportRightsInterests",(function(){return oF})),a.d(I,"delRightsInterestsSearchRecord",(function(){return lF}));var x={};a.r(x),a.d(x,"getTempCrowdList",(function(){return cF})),a.d(x,"addTempCrowd",(function(){return dF})),a.d(x,"updateTempCrowd",(function(){return uF})),a.d(x,"delNewTempCrowd",(function(){return hF})),a.d(x,"getTempCrowd",(function(){return pF})),a.d(x,"calculateTempCrowd",(function(){return mF})),a.d(x,"getNewTreeList",(function(){return fF})),a.d(x,"getCalculatedTempCrowdList",(function(){return vF})),a.d(x,"getTempLaunchList",(function(){return gF})),a.d(x,"getBehaviorABPolicy",(function(){return bF})),a.d(x,"getABChildByPolicyId",(function(){return yF})),a.d(x,"getBehaviorCrowdByPolicyId",(function(){return CF})),a.d(x,"getCrowdCrowdTagList",(function(){return wF}));var T={};a.r(T),a.d(T,"getLocalCrowdList",(function(){return _F})),a.d(T,"addLocalCrowd",(function(){return SF})),a.d(T,"updateLocalCrowd",(function(){return kF})),a.d(T,"OnOrOffLocalCrowd",(function(){return IF})),a.d(T,"delTempCrowd",(function(){return xF})),a.d(T,"getTempCrowd",(function(){return TF})),a.d(T,"getNewTreeList",(function(){return DF})),a.d(T,"sensorCrowdAnalysis",(function(){return $F})),a.d(T,"sensorHitData",(function(){return LF})),a.d(T,"getCrowdFlowPath",(function(){return NF})),a.d(T,"checkMackFileIsExist",(function(){return OF})),a.d(T,"downloadMacFile",(function(){return PF})),a.d(T,"sensorAnalysis",(function(){return EF})),a.d(T,"queryCrowdHitAlertList",(function(){return AF})),a.d(T,"addCrowdHitAlert",(function(){return FF})),a.d(T,"deleteCrowdHitAlert",(function(){return VF}));var D={};a.r(D),a.d(D,"getSceneList",(function(){return RF})),a.d(D,"addScene",(function(){return jF})),a.d(D,"editScene",(function(){return BF})),a.d(D,"getReceptionistList",(function(){return MF})),a.d(D,"addReceptionist",(function(){return zF})),a.d(D,"editReceptionist",(function(){return qF})),a.d(D,"getSceneSkillList",(function(){return JF})),a.d(D,"addSceneSkill",(function(){return GF})),a.d(D,"addEntry",(function(){return UF})),a.d(D,"getEntryList",(function(){return HF})),a.d(D,"getTagsByEntryId",(function(){return KF})),a.d(D,"getTagsByExportId",(function(){return QF})),a.d(D,"addExport",(function(){return WF})),a.d(D,"getExportList",(function(){return YF})),a.d(D,"addScenedynamic",(function(){return ZF})),a.d(D,"addGroup",(function(){return XF})),a.d(D,"delGroup",(function(){return eV})),a.d(D,"getListGroup",(function(){return tV})),a.d(D,"getPerformanceGoalData",(function(){return aV})),a.d(D,"copyServicer",(function(){return iV})),a.d(D,"getReceptionistVideo",(function(){return nV})),a.d(D,"getReceptionistVideoSource",(function(){return rV})),a.d(D,"saveEditIndicator",(function(){return sV})),a.d(D,"getTargetById",(function(){return oV})),a.d(D,"getUptmTree",(function(){return lV})),a.d(D,"getUptmTag",(function(){return cV})),a.d(D,"getTopRecommendResourceList",(function(){return dV})),a.d(D,"getSourceList",(function(){return uV})),a.d(D,"reuseReceptionist",(function(){return hV})),a.d(D,"updateExport",(function(){return pV})),a.d(D,"getCanReuse",(function(){return mV})),a.d(D,"getSceneCanReuse",(function(){return fV})),a.d(D,"getBatchUptm",(function(){return vV})),a.d(D,"batchSaveFirst",(function(){return gV})),a.d(D,"getBatchList",(function(){return bV})),a.d(D,"batchSaveSecond",(function(){return yV})),a.d(D,"sceneSkip",(function(){return CV})),a.d(D,"sceneNext",(function(){return wV})),a.d(D,"getSceneDetail",(function(){return _V})),a.d(D,"createTypeSkip",(function(){return SV})),a.d(D,"createTypeNext",(function(){return kV})),a.d(D,"getListbySceneId",(function(){return IV})),a.d(D,"batchSetLast",(function(){return xV})),a.d(D,"oneByOneListSkip",(function(){return TV})),a.d(D,"oneByOneListNext",(function(){return DV})),a.d(D,"batchSetSkip",(function(){return $V})),a.d(D,"batchSetNext",(function(){return LV})),a.d(D,"batchListSkip",(function(){return NV})),a.d(D,"batchListNext",(function(){return OV})),a.d(D,"putInDraft",(function(){return PV})),a.d(D,"putInRelease",(function(){return EV})),a.d(D,"getReceptionistType",(function(){return AV})),a.d(D,"setReceptionistType",(function(){return FV}));var $={};a.r($),a.d($,"assistantTaskList",(function(){return VV})),a.d($,"saveAssistantTask",(function(){return RV})),a.d($,"getAssistantTaskDetail",(function(){return jV})),a.d($,"saveAssistantResource",(function(){return BV})),a.d($,"assistantTaskPutway",(function(){return MV})),a.d($,"delAssistantTask",(function(){return zV})),a.d($,"getAssistantTaskCrowdList",(function(){return qV})),a.d($,"getAssistantResourceList",(function(){return JV})),a.d($,"getEffect",(function(){return GV})),a.d($,"genLuaById",(function(){return UV})),a.d($,"getAssistantLuaList",(function(){return HV}));a("cadf"),a("551c"),a("f751"),a("097d");var L=a("a026"),N=a("2909"),O=a("3835"),P=(a("28a5"),a("6b54"),a("ac6a"),a("5df3"),a("f400"),a("27ab")),E=(a("8afe"),a("5c96")),A=a.n(E),F=(a("0fae"),new L["default"]);Object.defineProperties(L["default"].prototype,{$bus:{get:function(){return F}}});var V=a("0754"),R=a.n(V),j=a("59c3"),B=(a("ed2c"),a("96cf"),a("1da1"));function M(e){return e.$service.service.getConstants({token:e.$service.service.state.token})}L["default"].prototype.$isLoggedIn=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$appState,a=t.user||t.$get("user"),!a){e.next=7;break}return this.$service.service.state=a,e.abrupt("return",M(this).then((function(e){i.$appState.user=a,i.$appState.permissions={},e.permissions.forEach((function(e){i.$appState.permissions[e]=e})),i.$appState.menus=e.menus})).catch((function(e){return console.log("getInitData errData==>",e),Promise.reject(new Error(e))})));case 7:return e.abrupt("return",Promise.reject(new Error));case 8:case"end":return e.stop()}}),e,this)}))),L["default"].prototype.$login=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$service.login(t).then((function(e){var i={name:t.username,token:e.jwtToken,password:t.password,version:e.version,roleName:e.roleNames,permissions:e.permissions,userId:e.userInfo.userId};a.$service.service.state=i,a.$appState.user=i,a.$appState.$set("user",i),a.$appState.menus=e.menus,a.$appState.permissions={},e.permissions.forEach((function(e){a.$appState.permissions[e]=e}))})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),L["default"].prototype.$logout=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$appState.user=void 0,this.$appState.$remove("user");case 2:case"end":return e.stop()}}),e,this)})));var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-pagination"},[a("el-pagination",{attrs:{"current-page":e.currentpage,"page-sizes":[5,10,20,30,40,50],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalcount,background:""},on:{"size-change":e.handlesizechange,"current-change":e.handlecurrentchange}})],1)},q=[],J={data:function(){return{}},props:["currentpage","pagesize","totalcount"],methods:{handlesizechange:function(e){this.$emit("handle-size-change",e)},handlecurrentchange:function(e){this.$emit("handle-current-change",e)}}},G=J,U=(a("0f60"),a("2877")),H=Object(U["a"])(G,z,q,!1,null,"29a0f429",null),K=H.exports,Q=a("c1df"),W=a.n(Q),Y=a("2819"),Z=a.n(Y),X=a("a925");L["default"].$httpRequestList=new Map,L["default"].use(X["a"]),L["default"].use(Z.a),L["default"].use(j["a"]),L["default"].use(A.a,{size:"small",zIndex:3e3}),L["default"].use(R.a),L["default"].use(P["a"]),L["default"].component("pagination",K),L["default"].prototype.$moment=W.a,L["default"].directive("permission",(function(e,t,a){void 0===a.context.$appState.permissions[t.value]&&(e.style.display="none")})),L["default"].directive("loadmore",{bind:function(e,t){var a=e.querySelector(".el-select-dropdown .el-select-dropdown__wrap");a.addEventListener("scroll",(function(){var e=this.scrollHeight-this.scrollTop-20<=this.clientHeight;e&&t.value.methord(t.value.params)}))}}),L["default"].prototype.cc_format_number=function(e){if("string"!==typeof e&&"number"!==typeof e)return e;"string"!==typeof e&&(e=e.toString());for(var t=e.split("."),a=Object(O["a"])(t,2),i=a[0],n=a[1],r=Object(N["a"])(i).reverse(),s=r.length,o=[],l=0;l<s;l++)(l+1)%3===0&&l!==s-1?o.push(",".concat(r[l])):o.push(r[l]);if(n){var c,d=n.slice(0,2);return(c=o.reverse()).push.apply(c,["."].concat(Object(N["a"])(d))),o.join("")}return o.reverse(),o.join("")},L["default"].directive("dragscroll",(function(e){e.onmousedown=function(t){console.log(e);var a=t.clientX,i=t.clientY,n=e.scrollLeft,r=e.scrollTop,s=e.style["scroll-behavior"],o=e.style["pointer-events"];e.style["scroll-behavior"]="auto",e.style.cursor="grabbing",document.onmousemove=function(t){t.preventDefault();var s=t.clientX-a,o=t.clientY-i;e.scrollTo(n-s,r-o),console.log(n-s,r-o),e.style["pointer-events"]="none",document.body.style.cursor="grabbing"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,e.style["scroll-behavior"]=s,e.style["pointer-events"]=o,e.style.cursor="grab"}}}));var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},te=[],ae={name:"app"},ie=ae,ne=(a("6fec"),Object(U["a"])(ie,ee,te,!1,null,"448ea406",null)),re=ne.exports,se=(a("7f7f"),a("8c4f")),oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"layout"},[a("div",{staticClass:"leftMenu"},[a("div",{staticClass:"logo"},[a("div",{staticClass:"logo__img",on:{click:e.handleLogoClick}},[a("span",{staticClass:"logo-img",class:{"logo-img-collapse":e.isCollapseMenu}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapseMenu,expression:"!isCollapseMenu"}],staticClass:"logo-text-img"})]),e.isCollapseMenu?a("div",{staticStyle:{color:"#fff","font-size":"15px","font-weight":"600"}},[a("div",[e._v("极光")]),a("div",[e._v("引擎")]),a("div",{staticClass:"version"},[e._v(e._s(e.$appState.user.version.split(":")[1]))])]):a("div",{staticClass:"version"},[e._v(e._s(e.$appState.user.version))])]),a("el-menu",{staticClass:"main_menu menu",attrs:{"default-active":e.activeRouteName,collapse:e.isCollapseMenu}},[e._l(e.$appState.menus,(function(t,i){return[0===t.child.length?a("el-menu-item",{key:e.routerMap[t.url]+"_"+i,staticClass:"no-child-menu",attrs:{index:e.routerMap[t.url]},nativeOn:{click:function(a){return e.getRouter(t.url)}}},[t.icons?a("i",{class:t.icons}):e._e(),a("span",[e._v(e._s(t.name))])]):a("el-submenu",{key:i,attrs:{index:i+""}},[a("template",{slot:"title"},[t.icons?a("i",{class:t.icons}):e._e(),a("span",[e._v(e._s(t.name))])]),e._l(t.child,(function(t,n){return[!t.child.length>0&&void 0!==e.routerMap[t.url]?a("el-menu-item",{key:t.id,attrs:{index:e.routerMap[t.url]},nativeOn:{click:function(a){return e.getRouter(t.url)}}},[t.icons?a("i",{class:t.icons}):e._e(),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):a("el-submenu",{key:n,attrs:{index:i+"-"+n}},[a("template",{slot:"title"},[t.icons?a("i",{class:t.icons}):e._e(),a("span",[e._v(e._s(t.name))])]),e._l(t.child,(function(t){return[a("el-menu-item",{key:t.id,attrs:{index:e.routerMap[t.url]},nativeOn:{click:function(a){return e.getRouter(t.url)}}},[t.icons?a("i",{class:t.icons}):e._e(),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])]}))],2)]}))],2)]}))],2)],1),a("el-container",{attrs:{direction:"vertical"}},[a("el-header",{staticClass:"header"},[a("el-button",{staticClass:"collpase-btn",attrs:{type:"text",icon:e.isCollapseMenu?"el-icon-cc-indent":"el-icon-cc-outdent"},on:{click:e.toggleMenu}}),a("c-breadcrumb",{staticClass:"breadcrumb",attrs:{items:e.breadcrumb}}),a("div",{staticClass:"user-info"},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#409EFF","font-size":"18px","margin-right":"5px"}}),a("el-button",{staticStyle:{"font-size":"16px","font-weight":"600"},attrs:{type:"text"},on:{click:function(t){return e.handelGo("http://wiki.cc0808.com/pages/viewpage.action?pageId=49470290")}}},[e._v("\n          使用文档\n        ")]),a("el-dropdown",{attrs:{trigger:"hover"}},[a("el-badge",{staticClass:"item",attrs:{value:e.unReadMessage}},[a("i",{staticClass:"el-icon-bell"})]),a("el-dropdown-menu",{staticClass:"notice-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"升级通知",name:"first"}},[e._l(e.updateMessage,(function(t){return a("div",{key:t.noticeId,staticClass:"tab-content"},[a("div",{class:["notice-title",0===t.noticeStatus?"red-dot-title":""],on:{click:function(a){return e.handleReadMessage(t.noticeId)}}},[e._v(e._s(t.noticeTitle))]),a("div",{staticClass:"notice-time"},[e._v(e._s(t.pushTime))])])})),e.showMoreUpdate?a("div",{staticClass:"see-more",on:{click:e.handleSeeAllMessage}},[e._v("查看全部")]):e._e()],2),a("el-tab-pane",{attrs:{label:"系统通知",name:"second"}},[e._l(e.systemMessage,(function(t){return a("div",{key:t.noticeId,staticClass:"tab-content"},[a("div",{class:["notice-title",0===t.noticeStatus?"red-dot-title":""],on:{click:function(a){return e.handleReadMessage(t.noticeId)}}},[e._v(e._s(t.noticeTitle))]),a("div",{staticClass:"notice-time"},[e._v(e._s(t.pushTime))])])})),e.showMoreSystem?a("div",{staticClass:"see-more",on:{click:e.handleSeeAllMessage}},[e._v("查看全部")]):e._e()],2)],1)],1)],1),a("el-dropdown",{attrs:{"hide-on-click":!1},on:{command:e.handleDropdownCommand}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-cc-user"}),e._v("\n               "+e._s(e.$appState.user.name)+"\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出")])],1)],1)],1)],1),a("TagNav",{ref:"tag",staticClass:"tagNav",attrs:{"init-tags":e.initTags},on:{setCurrentTags:e.setCurrentTags}}),a("el-main",[a("keep-alive",{attrs:{exclude:e.noCacheMenu}},[e.isKeepAlive&&e.isCache?a("router-view"):e._e()],1),e.isKeepAlive&&e.isCache?e._e():a("router-view",{key:e.$route.fullpath})],1)],1)],1)},le=[],ce=(a("456d"),a("7514"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.theme},[a("el-button",{staticClass:"tag-nav__btn tag-nav__left",attrs:{icon:"el-icon-arrow-left"},on:{click:function(t){return e.handleScroll("left")}}}),a("el-button",{staticClass:"tag-nav__btn tag-nav__right",attrs:{icon:"el-icon-arrow-right"},on:{click:function(t){return e.handleScroll("right")}}}),a("el-dropdown",{staticClass:"tag-nav__btn tag-nav__more",attrs:{"split-button":""}},[a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.handleCloseOther.apply(null,arguments)}}},[e._v("关闭其它")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.handleCloseAll.apply(null,arguments)}}},[e._v("关闭所有")])],1)],1),a("div",{ref:"viewPort",staticClass:"tag-nav__view-port"},[a("ul",{ref:"tagList",staticClass:"tag-nav__list",style:{"margin-left":-e.cursor+"px"}},e._l(e.tags,(function(t,i){return a("li",{key:i,class:{"tag-nav__item":!0,"tag-nav__item--active":t.meta.tagId===e.$route.meta.tagId},attrs:{title:e.getTitle(t)},on:{click:function(a){return e.handleNavigate(t)}}},[a("span",{staticClass:"tag-nav__dot"}),a("span",{staticClass:"tag-nav__text"},[e._v(e._s(e.getTitle(t)))]),!1!==t.isCloseable?a("i",{staticClass:"el-icon-close tag-nav__close-item",on:{click:function(a){return a.stopPropagation(),e.handleClose(t)}}}):e._e()])})),0)])],1)}),de=[],ue=a("d4ec"),he=a("bee2"),pe={data:function(){return{tags:[],cursor:0,tagHistories:{}}},computed:{historyCursor:function(){var e=this.$route,t=0;if(e.meta&&e.meta.tagId){var a=this.tagHistories[e.meta.tagId];a&&(t=a.cursor)}return t}},props:{defaultPath:{type:String,default:"/statisticsHomePage"},initTags:{type:Array,default:function(){return[]}},titles:{type:Object,default:function(){return{}}},theme:{type:String,default:function(){return"tag-nav"}}},watch:{$route:"handleRouteChange",tags:{handler:function(e){this.$emit("setCurrentTags",e)}}},methods:{getTitle:function(e){var t=e.meta,a=e.name;return this.titles[a]||t&&t.title||a},handleNavigate:function(e){this.$router.push({path:e.fullPath}),this.$emit("navigate",e)},handleClose:function(e){var t=this.$route,a=this.tags,i=a.indexOf(e);this.tagHistories[e.meta.tagId]=void 0,a.splice(i,1);var n=a.length,r=this.defaultPath;if(0===n)this.$router.push(r);else if(t.name===e.name){var s=i<n?a[i]:i>0?a[i-1]:void 0,o=s?s.fullPath:r;this.$router.push(o)}},handleCloseOther:function(){var e=this.$route;this.tags=this.tags.filter((function(t){return t.name===e.name||!1===t.isCloseable}))},handleCloseAll:function(){this.tags=this.tags.filter((function(e){return!1===e.isCloseable})),this.$router.push(this.defaultPath)},handleScroll:function(e){var t=this.$refs,a=t.viewPort,i=t.tagList,n=i.scrollWidth,r=("left"===e?-1:1)*Math.max(200,n/4),s=a.clientWidth,o=n-s,l=0;this.cursor=Math.max(l,Math.min(this.cursor+r,o))},handleRouteChange:function(e){this.addTag(e),this.$nextTick(this.scrollIntoView)},handleForward:function(){var e=this.tagHistories[this.$route.meta.tagId];e&&e.go(-1)},handleBack:function(){var e=this.tagHistories[this.$route.meta.tagId];e&&e.go(-1)},addTag:function(e){var t=e.meta;if(t&&t.tagId){var a=t.tagId,i=this.tags.find((function(e){return e.meta.tagId===a})),n={name:e.name,meta:t,fullPath:e.fullPath,isCloseable:!t.hasOwnProperty("isCloseable")||t.isCloseable};i?Object.assign(i,n):this.tags.push(n)}},init:function(){this.tags=this.initTags},scrollIntoView:function(){var e=this.$el.querySelector(".tag-nav__item--active");if(e){var t=this.$refs.viewPort,a=this.$refs.tagList,i=t.clientWidth,n=a.scrollWidth,r=e.clientWidth,s=this.cursor,o=e.offsetLeft;o<s?this.cursor=o:o+r-s>i&&(this.cursor=Math.min(n-i,o-i/2))}}},created:function(){this.init()},mounted:function(){this.$route&&this.addTag(this.$route),this.$nextTick(this.scrollIntoView)}},me=pe,fe=(a("1926"),Object(U["a"])(me,ce,de,!1,null,"5a8409e4",null)),ve=fe.exports,ge={components:{TagNav:ve},props:["menu"],data:function(){return{activeRouteName:"",activeIndex:"",breadcrumb:[],isCollapseMenu:!1,routerMap:{"label/index":"labelSquare","launchHelp/index":"validate","launchCrowd/index":"crowd","launchPolicy/index":"strategy","/policy/index":"strategyList","/manage/menu/index":"menuSetting","/manage/email/index":"emailNotice","/manage/user/index":"personManage","/manage/office/index":"organManage","/manage/role/index":"roleManage","/manage/user/personalInformation":"personalInformation","/manage/user/modifyPassword":"password","/manage/loginLog/index":"loginLog","/manage/operateLog/index":"operateLog","/crowdDataPos/index":"dataManage","/tagDict/index":"tagDictDatabase","/total/index":"statisticsHomePage","/total/key":"keyIndicatorTrends","/indexTotal/index":"OverallDeliveryStatistics","/crowTotal/index":"OverallCrowdStatistics","/tagStructure/index":"tabStructure","/crowdCategory/index":"CurrentPopulationClassification","/crowdPortrayal/index":"crowdPortrayal","/biIndex/index":"indexBI","/ottIndex/index":"OTTBigscreenIndex","/thirdDMP/index":"thirdPartyDMP","/monitor/index":"DeliveryMonitor","/portrayal/index":"DeliveryAfterPeopleDraw","/dataAnalyze/index":"DeliveryDataAnalyse","/thirdInterfaceConf/index":"thirdInterface","/devTool/clearCache":"clearCache","/webApiServers/index":"ipManage","/multiVersionCrowd/index":"multiVersionCrowd","/manager/biList":"launchSettings","/manager/notice/index":"notice","/launchAdmin":"launchTabList","/launchAnalysis":"launchAnalysis","/launchAnalysisTable":"launchAnalysisTable","/anomaly/index":"anomalyEcharts","/crowdCirculationTrack":"crowdCirculationTrack","/myPolicy/index":"myPolicy","/groupImageInsight/index":"groupImageInsight","/userTagsSearch/index":"userTagsSearch","/hitSearch/index":"hitSearch","/oneTouchDrop/index":"oneTouchDrop","/specialTag/index":"specialTag","/launchHelper/status":"launchStatus","/launchHelper/resendCommand":"resendCommand","/hitQuery":"hitQuery","/storyLine":"storyLine","/operationHelper":"operationHelper","/crowdCompute":"crowdCompute"},activeName:"first",updateMessage:[],systemMessage:[],messageTypeEnum:{first:1,second:2},unReadMessage:void 0,showMoreUpdate:!1,showMoreSystem:!1,noCacheMenu:[],currentTags:[],isCache:!0}},watch:{$route:"handleRouteChange"},computed:{isKeepAlive:function(){var e=this.$route.meta;return e&&!1!==e.isCache},initTags:function(){var e=this.$appState.$get("tags");return e&&e.userName===this.$appState.user.name?e.tags:[]}},methods:{handelGo:function(e){window.open(e,"_blank")},setCurrentTags:function(e){this.currentTags=e},handleRouteChange:function(){"oneTouchDrop"===this.$route.name?this.activeRouteName="strategyList":"specialTag"===this.$route.name?this.activeRouteName="labelSquare":this.activeRouteName=this.$route.name;var e=this.$route.meta,t=this.currentTags.find((function(t){return t.meta.tagId===e.tagId}));this.isCache=!!t},getRouter:function(e){var t=this,a=this.routerMap[e]+"AA";this.noCacheMenu.push(a),this.$router.push({name:this.routerMap[e]}),this.$nextTick((function(){t.noCacheMenu=[]}))},handleDropdownCommand:function(e){var t=this;"logout"===e&&this.$logout().then((function(){t.$router.push({name:"login",params:{logout:!0}})}))},toggleMenu:function(){var e=!this.isCollapseMenu;this.$appState.$set("isCollapseMenu",e),this.isCollapseMenu=e},saveTags:function(){var e={tags:this.$refs.tag.tags,userName:this.$appState.user.name};this.$appState.$set("tags",e)},setMetaTitle:function(){var e=this.$router.options.routes,t=function e(t,a){if(Array.isArray(a)){var i=a.length;while(--i>=0){var n=e(t,a[i]);if(n)return n}}else{if(a.name===t)return a;if(a.children)return e(t,a.children)}},a=this.$appState.menus,i=function e(t,a){if(Array.isArray(a)){var i=a.length;while(--i>=0){var n=e(t,a[i]);if(n)return n}}else{if(a.url===t)return a;if(a.child)return e(t,a.child)}},n=this.routerMap;Object.keys(n).forEach((function(r){var s=i(r,a),o=t(n[r],e);o&&o.meta&&s&&(o.meta.title=s.name)}))},handleLogoClick:function(){this.$router.push({path:"/statisticsHomePage"})},handleClick:function(e){this.getNoticeMessages(this.messageTypeEnum[e.name])},getNoticeMessages:function(e){var t=this,a=e;this.$service.getNoticeHeaderList({noticeType:a}).then((function(a){var i=a["消息列表"],n=a["消息状态"];t.unReadMessage=a["未读数量"]>0?a["未读数量"]:void 0,i.forEach((function(e,t){e.noticeStatus=n[t]}));var r=i;1===e?r.length>5?(t.showMoreUpdate=!0,t.updateMessage=r.slice(0,5)):t.updateMessage=r:r.length>5?(t.showMoreSystem=!0,t.systemMessage=r.slice(0,5)):t.systemMessage=r}))},handleSeeAllMessage:function(){this.$router.push({name:"notice"})},handleReadMessage:function(e){this.$router.push({name:"notice",query:{noticeId:e,mode:"read"}})},scrollMenuIntoView:function(){setTimeout((function(){var e=document.querySelector(".el-submenu.is-active"),t=document.querySelector(".el-menu-item.is-active");t&&t.scrollIntoViewIfNeeded(),e&&e.scrollIntoViewIfNeeded()}),1e3)}},created:function(){var e=this;this.isCollapseMenu=!!this.$appState.$get("isCollapseMenu"),this.$bus.$on("breadcrumb-change",(function(t){e.breadcrumb=t,e.scrollMenuIntoView()})),this.setMetaTitle(),this.getNoticeMessages(this.messageTypeEnum[this.activeName]),this.$root.$on("refresh-notifications",(function(){e.getNoticeMessages(e.messageTypeEnum[e.activeName])}))},mounted:function(){this.activeRouteName=this.$route.name,window.addEventListener("beforeunload",this.saveTags)},destroyed:function(){window.removeEventListener("beforeunload",this.saveTags)}},be=ge,ye=(a("2d97"),Object(U["a"])(be,oe,le,!1,null,"05b9046a",null)),Ce=ye.exports,we=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"login"}},[e.isLogin?[e._m(0),i("el-row",{staticClass:"login-content"},[i("el-col",{staticClass:"login-form",attrs:{span:6,offset:9}},[i("img",{staticClass:"login-bg",attrs:{src:a("5164"),width:"100%",height:"100%"}}),i("p",{staticClass:"title"},[e._v("账号登录")]),i("c-gate-schema-form",{ref:"loginForm",attrs:{schema:e.formSchema},on:{submit:e.handleLogin},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),i("el-button",{staticClass:"login-form__btn",staticStyle:{"background-color":"#2778FF",height:"45px"},attrs:{type:"primary",size:"big"},on:{click:function(t){return e.$refs.loginForm.handleSubmit()}}},[e._v("登录")])],1)],1)]:i("div",[i("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:function(t){e.isLogin=!e.isLogin}}},[e._v("登录")]),e.formConf?i("Parser",{ref:"parserRef",staticClass:"parser",attrs:{formConf:e.formConf}}):e._e()],1)],2)},_e=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"web-logo"},[i("img",{attrs:{src:a("4ffd"),width:"60px",height:"60px"}}),i("img",{attrs:{src:a("403c"),width:"95px",height:"23px"}})])}],Se=a("f6e7"),ke=a.n(Se),Ie=a("bc3a"),xe=a.n(Ie),Te=a("62cf"),De=ke.a.map({username:ke.a.required.$msg("请输入登陆名称").string.other("form",{placeholder:"请输入登陆名称",label:"登陆名称"}),password:ke.a.required.$msg("请输入登陆密码").string.other("form",{placeholder:"请输入登陆密码",type:"password",label:"登陆密码"})}).other("form",{cols:{label:10,wrapper:24},layout:"vertical"}),$e={components:{Parser:Te["a"]},data:function(){return{user:{username:"",password:""},rules:{username:{required:!0,message:"请输入登录名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},formConf:null,isLogin:!1}},computed:{formSchema:function(){return this.schema||De}},props:["schema"],created:function(){console.log("created"),this.getConfig()},methods:{getConfig:function(){var e=this,t={uniqueId:"1596028063978618880"};xe.a.get("https://api.cloud.coocaa.com/dev_cms/release/page/info",{params:t}).then((function(t){var a=t.data;1e3===a.code?e.formConf=JSON.parse(a.data.config):e.formConf=null,console.log("this.formConf--\x3e",e.formConf)}))},handleLogin:function(e){var t=this;0===e.length&&this.$login(this.user).then((function(){t.$router.push({path:t.$route.query.redirect||"/statisticsHomePage"})}))}}},Le=$e,Ne=(a("49ce"),Object(U["a"])(Le,we,_e,!1,null,"3cd7bc09",null)),Oe=Ne.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("TagGroupList",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.MODE.listTagGroup||e.mode===e.MODE.readTagGroup,expression:"mode === MODE.listTagGroup || mode === MODE.readTagGroup"}],on:{"read-tag-group":e.handleReadTagGroup}}),a("TagGroupRead",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.MODE.listTagGroup||e.mode===e.MODE.readTagGroup,expression:"mode === MODE.listTagGroup || mode === MODE.readTagGroup"}],attrs:{filterHistory:e.filterHistory,useFilterHistory:e.useFilterHistory},on:{"read-tag-category":e.handleReadTagCategory,"change-history-filter":e.handleChangeHistoryFilterFlag}}),e.mode===e.MODE.readTagCategory?a("TagCategoryRead",{on:{"read-cancel":e.handleReadTagCategoryCancel}}):e._e()],1)},Ee=[],Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:group:index",expression:"'hoder:label:group:index'"}],staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"230"}},[a("div",{staticClass:"tag-category-list"},[a("el-button",{on:{click:e.handleRedirectLabelSquare}},[e._v("标签广场")]),a("el-header",{staticClass:"tag-category-list__header"},[e._v("\n            分组\n            "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showCheckBox,expression:"!showCheckBox"},{name:"permission",rawName:"v-permission",value:"hoder:label:group:modify",expression:"'hoder:label:group:modify'"}],staticClass:"btn-add-category",attrs:{type:"text"},on:{click:function(t){e.$refs.tagGroupCreate.showCreateDialog=!0}}},[e._v("新建")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showCheckBox,expression:"!showCheckBox"},{name:"permission",rawName:"v-permission",value:"hoder:label:group:modify",expression:"'hoder:label:group:modify'"}],staticClass:"btn-add-category",attrs:{type:"text"},on:{click:e.handleTagEdit}},[e._v("编辑")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showCheckBox,expression:"showCheckBox"},{name:"permission",rawName:"v-permission",value:"hoder:label:group:modify",expression:"'hoder:label:group:modify'"}],staticClass:"btn-add-category",attrs:{type:"text"},on:{click:function(t){e.showCheckBox=!1}}},[e._v("取消")])],1),a("div",{staticClass:"filter"},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),a("div",[a("el-button",{staticClass:"show-all-style",attrs:{type:"text"},on:{click:function(t){return e.handleReadAllTagGroup()}}},[e._v("显示全部")])],1),a("div",[a("el-tree",{ref:"tree",class:e.showCheckBox?"":"cat-tree__hide-checkbox",attrs:{data:e.treeData,"node-key":"groupId","filter-node-method":e.filterNode,"default-expanded-keys":e.defaultExpanded,"expand-on-click-node":"","show-checkbox":!0},on:{"node-click":e.handleNodeClick,"node-expand":e.nodeExpand,"node-collapse":e.nodeCollapse},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,n=t.data;return a("span",{staticClass:"tree-child"},[a("span",{staticClass:"tree-data tree-data--big-size"},[e._v(e._s(n.groupName))]),e.showCheckBox?a("span",{staticClass:"edit-text-button"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.edit(i,n)}}},[e._v("编辑")])],1):e._e()])}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCheckBox,expression:"showCheckBox"}],staticClass:"del-button"},[a("el-button",{attrs:{type:"primary"},on:{click:e.copyTag}},[e._v("复制")]),a("el-button",{attrs:{type:"danger"},on:{click:e.remove}},[e._v("删除")])],1),a("el-dialog",{attrs:{visible:e.showEditDialog,title:e.editTitle},on:{"update:visible":function(t){e.showEditDialog=t}}},["edit"===e.mode?a("div",[a("span",[e._v("组名：")]),a("span",[a("el-input",{staticClass:"update-input",model:{value:e.editGroupName,callback:function(t){e.editGroupName=t},expression:"editGroupName"}})],1)]):e._e(),"del"===e.mode?a("div",[a("div",[e._v("确定删除所勾选的标签吗？")])]):e._e(),a("div",{staticClass:"edit-dialog-buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.showEditDialog=!1}}},[e._v("取消")])],1)]),a("choose-tag-group",{ref:"chooseTagGroup",on:{saveCopyTag:e.handleSaveCopyForm}}),a("TagGroupCreate",{ref:"tagGroupCreate",on:{"create-end":e.fetchData}})],1)])},Fe=[],Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"新建分组",visible:e.showCreateDialog},on:{"update:visible":function(t){e.showCreateDialog=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"父类",prop:"pid"}},[a("el-input",{staticStyle:{display:"none"},attrs:{placeholder:"请选择父类目录"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择父类目录"},model:{value:e.parentGroupName,callback:function(t){e.parentGroupName=t},expression:"parentGroupName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.showPidList}},[e._v("选择")])],1),a("el-form-item",{attrs:{label:"分组名",prop:"groupName"}},[a("el-input",{model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v("提交")])],1)],1)],1),a("el-dialog",{staticClass:"organSelect",attrs:{title:"选择父类",visible:e.showSelectDialog,width:"30%"},on:{"update:visible":function(t){e.showSelectDialog=t}}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleTopMenu}},[e._v("顶级目录")]),a("el-tree",{attrs:{data:e.parentTree,props:e.parentProps,accordion:""},on:{"node-click":e.handleSelectNodeClick}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.parentSelectCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.parentSelectOk}},[e._v("确 定")])],1)],1)],1)},Re=[],je={data:function(){return{showCreateDialog:!1,showSelectDialog:!1,parentTree:[],parentProps:{children:"children",label:"groupName"},parentGroupName:"",currentSelectDada:"",tagGroup:{},items:[],form:{pid:"",groupName:""},rules:{pid:[{required:!0,message:"请选择父类",trigger:"change"}],groupName:[{required:!0,message:"请填写分组名",trigger:"blur"}]},selectTop:!1}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$service.createTagGroup(t.form,"新建分组成功").then((function(){t.showCreateDialog=!1,t.$emit("create-end")}))}))},getPidList:function(){var e=this;this.$service.getParentIdList().then((function(t){e.parentTree=t}))},showPidList:function(){this.showSelectDialog=!0},handleSelectNodeClick:function(e){this.selectTop=!1,this.currentSelectDada=e},handleTopMenu:function(){this.selectTop=!0},parentSelectCancel:function(){this.showSelectDialog=!1},parentSelectOk:function(){this.selectTop?(this.form.pid=0,this.parentGroupName="顶级目录"):(this.form.pid=this.currentSelectDada.groupId,this.parentGroupName=this.currentSelectDada.groupName),this.showSelectDialog=!1},resetForm:function(){var e=this;this.$nextTick((function(){e.$refs["form"].resetFields()})),this.parentGroupName=null}},watch:{showSelectDialog:function(e){e&&this.getPidList()},showCreateDialog:function(e){e&&this.resetForm()}},created:function(){}},Be=je,Me=(a("8150"),Object(U["a"])(Be,Ve,Re,!1,null,"be9b6a2e",null)),ze=Me.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"复制标签",visible:e.showCreateDialog},on:{"update:visible":function(t){e.showCreateDialog=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"父类",prop:"pid"}},[a("el-input",{staticStyle:{display:"none"},attrs:{placeholder:"请选择父类目录"},model:{value:e.form.pid,callback:function(t){e.$set(e.form,"pid",t)},expression:"form.pid"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择父类目录"},model:{value:e.parentGroupName,callback:function(t){e.parentGroupName=t},expression:"parentGroupName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.showPidList}},[e._v("选择")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v("确定")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleCancel()}}},[e._v("取消")])],1)],1)],1),a("el-dialog",{staticClass:"organSelect",attrs:{title:"选择父类",visible:e.showSelectDialog,width:"30%"},on:{"update:visible":function(t){e.showSelectDialog=t}}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleTopMenu}},[e._v("顶级目录")]),a("el-tree",{attrs:{data:e.parentTree,props:e.parentProps,accordion:""},on:{"node-click":e.handleSelectNodeClick}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.parentSelectCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.parentSelectOk}},[e._v("确 定")])],1)],1)],1)},Je=[],Ge={data:function(){return{showCreateDialog:!1,showSelectDialog:!1,parentTree:[],parentProps:{children:"children",label:"groupName"},parentGroupName:"",currentSelectDada:"",tagGroup:{},items:[],form:{pid:""},rules:{pid:[{required:!0,message:"请选择父类",trigger:"change"}]},selectTop:!1}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$emit("saveCopyTag",t.form.pid)}))},handleCancel:function(){this.showCreateDialog=!1},getPidList:function(){var e=this;this.$service.getParentIdList().then((function(t){e.parentTree=t}))},showPidList:function(){this.showSelectDialog=!0},handleSelectNodeClick:function(e){this.selectTop=!1,this.currentSelectDada=e},handleTopMenu:function(){this.selectTop=!0},parentSelectCancel:function(){this.showSelectDialog=!1},parentSelectOk:function(){this.selectTop?(this.form.pid=0,this.parentGroupName="顶级目录"):(this.form.pid=this.currentSelectDada.groupId,this.parentGroupName=this.currentSelectDada.groupName),this.showSelectDialog=!1}},created:function(){this.getPidList(),this.form.pid=null,this.parentGroupName=null}},Ue=Ge,He=(a("62cfa"),Object(U["a"])(Ue,qe,Je,!1,null,"30b9cec8",null)),Ke=He.exports,Qe={components:{TagGroupCreate:ze,ChooseTagGroup:Ke},data:function(){return{filterText:"",tagGroupList:[],treeData:[],showCheckBox:!1,editTitle:"",showEditDialog:!1,mode:"",currentLabelData:void 0,delGroupIds:void 0,editGroupName:"",defaultExpanded:[]}},watch:{filterText:function(e){this.$refs.tree.filter(e)},"$route.params.id":function(e){var t="tag-group-read"===this.$route.name;void 0===e&&t&&this.handleReadAllTagGroup()}},methods:{fetchData:function(){var e=this;this.$service.getParentIdList().then((function(t){e.treeData=t}))},handleReadTagGroup:function(e){this.$emit("read-tag-group",e)},handleReadAllTagGroup:function(){var e={id:0,name:"全部"};this.$emit("read-tag-group",e)},handleNodeClick:function(e){if(!this.showCheckBox){var t={id:e.groupId,name:e.groupName};this.$emit("read-tag-group",t)}},filterNode:function(e,t){return!e||-1!==t.groupName.indexOf(e)},edit:function(e,t){this.showEditDialog=!0,this.editTitle="修改标签组名",this.mode="edit",this.currentLabelData=t,this.editGroupName=t.groupName},checkboxChooseIdentify:function(){var e=this.$refs.tree.getCheckedNodes();return e.length>0?(this.delGroupIds=e.map((function(e){return e.groupId})).join(","),!0):(this.$message.error("请勾选至少一个标签！"),!1)},remove:function(){this.showEditDialog=!0,this.editTitle="删除标签组",this.mode="del"},copyTag:function(){this.$refs.chooseTagGroup.showCreateDialog=!0},handleConfirm:function(){var e=this;if("edit"===this.mode){var t=this.currentLabelData;this.$service.editLabelGroupName({groupId:t.groupId,groupName:this.editGroupName,Pid:t.pid},"修改成功").then((function(){e.showEditDialog=!1,e.fetchData()}))}else"del"===this.mode&&this.checkboxChooseIdentify()&&this.$service.delLabelGroup({groupIds:this.delGroupIds},"删除成功").then((function(){e.showEditDialog=!1,e.fetchData()}))},handleSaveCopyForm:function(e){var t=this;this.checkboxChooseIdentify()&&this.$service.copyLabelGroup({tagGroupId:e,groupIds:this.delGroupIds},"复制成功").then((function(){t.$refs.chooseTagGroup.showCreateDialog=!1,t.fetchData()}))},handleTagEdit:function(){this.showCheckBox=!0},nodeExpand:function(e){this.defaultExpanded.push(e.groupId)},nodeCollapse:function(e){this.defaultExpanded=this.defaultExpanded.filter((function(t){return t!==e.groupId}))},handleRedirectLabelSquare:function(){this.$router.push({name:"labelSquare"})}},created:function(){var e=this.$route.params.id;this.fetchData(),e||this.handleReadAllTagGroup()}},We=Qe,Ye=(a("9f76"),Object(U["a"])(We,Ae,Fe,!1,null,"8f32d18e",null)),Ze=Ye.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$route.params.id||0==e.$route.params.id?a("TagCategoryList",{attrs:{filterHistoryToList:e.filterHistory,useFilterHistory:e.useFilterHistory},on:{"change-history-filter":e.handleChangeHistoryFilterFlag,"read-tag-category":e.handleIndexReadTagCategory}}):e._e()},et=[],tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"tag-category-read__header"},[a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"tagKey"}},[e._v("标签code")]),a("el-checkbox",{attrs:{label:"tagValues"}},[e._v("示例值")]),a("el-checkbox",{attrs:{label:"defineRemark"}},[e._v("标签定义")]),a("el-checkbox",{attrs:{label:"tagType"}},[e._v("类型")]),a("el-checkbox",{attrs:{label:"remark"}},[e._v("备注")])],1)],1),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("选择列表展示维度")])],1),a("el-form",{attrs:{inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"请输入标签种类名称或者标签code"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.filter.tagName,callback:function(t){e.$set(e.filter,"tagName",t)},expression:"filter.tagName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:add",expression:"'hoder:label:add'"}],attrs:{type:"primary"},on:{click:e.handleAddTagCategory}},[e._v("新建种类")])],1)],1)],1),a("el-main",{staticClass:"tag-table"},[a("el-table",{attrs:{border:"",data:e.tagCategoryList}},[a("el-table-column",{attrs:{prop:"tagId",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"tagName",label:"名称",width:"140"}}),a("el-table-column",{attrs:{prop:"dataSource",label:"数据来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.dataSourceEnum[t.row.dataSource])+"\n                ")]}}])}),e.checkList.indexOf("defineRemark")>-1?a("el-table-column",{attrs:{prop:"defineRemark",label:"标签定义"}}):e._e(),e.checkList.indexOf("tagValues")>-1?a("el-table-column",{attrs:{prop:"tagValues",label:"示例值"}}):e._e(),e.checkList.indexOf("tagKey")>-1?a("el-table-column",{attrs:{prop:"tagKey",label:"标签code"}}):e._e(),e.checkList.indexOf("tagType")>-1?a("el-table-column",{attrs:{prop:"tagType",label:"类型",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.typeEnum[t.row.tagType])+"\n                ")]}}],null,!1,3368120730)}):e._e(),e.checkList.indexOf("remark")>-1?a("el-table-column",{attrs:{prop:"remark",label:"备注"}}):e._e(),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleSeeTagCategoryDetail(t.row)}}},[e._v("\n                        查看\n                    ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:modify",expression:"'hoder:label:modify'"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEditTagCategory(t.row)}}},[e._v("\n                        编辑\n                    ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:del",expression:"'hoder:label:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDeleteTagCategory(t.row)}}},[e._v("\n                        删除\n                    ")]),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleCopyToTag(t.row)}}},[e._v("\n                        复制\n                    ")]),a("div",{class:t.row.myCollect?"el-icon-cc-star-fill":"el-icon-cc-star",on:{click:function(a){return e.handleCollect(t.row)}}})],1)]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.fetchData,"current-change":e.fetchData}})],1),a("TagCategoryUpsert",{ref:"tagCategoryUpsert",attrs:{"current-tag-category":e.tagCategory,"type-enum":e.typeEnum,"data-source-enum":e.dataSourceEnum},on:{"upsert-end":e.fetchData}}),a("choose-tag-group",{ref:"chooseTagGroup",on:{saveCopyTag:e.handleSaveCopyForm}})],1)},at=[],it=(a("8e6e"),a("ade3")),nt=a("2ef0"),rt=a.n(nt),st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.tagCategory.tagId?"编辑种类":"新建种类",visible:e.showCreateDialog},on:{"update:visible":function(t){e.showCreateDialog=t}}},[e.showCreateDialog?a("c-gate-schema-form",{ref:"gForm",attrs:{schema:e.schema},on:{submit:e.handleSubmit},model:{value:e.tagCategory,callback:function(t){e.tagCategory=t},expression:"tagCategory"}},[a("div",{key:"/groupId"},[a("el-input",{staticStyle:{display:"none"},attrs:{placeholder:"请选择父类"},model:{value:e.tagCategory.groupId,callback:function(t){e.$set(e.tagCategory,"groupId",t)},expression:"tagCategory.groupId"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择父类"},model:{value:e.parentGroupName,callback:function(t){e.parentGroupName=t},expression:"parentGroupName"}})],1),a("el-select",{key:"/dataSource",attrs:{value:e.tagCategory.dataSource,placeholder:"请选择"},on:{input:function(t){return e.handleInput("/dataSource",t)}}},e._l(e.dataSourceList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:2==e.value}})})),1),a("el-select",{key:"/thirdPartyApiId",attrs:{value:e.tagCategory.thirdPartyApiId,placeholder:"请选择"},on:{input:function(t){return e.handleInput("/thirdPartyApiId",t)}}},e._l(e.thirdInterfaces,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{key:"/tagType",attrs:{value:e.tagCategory.tagType,disabled:2===e.tagCategory.dataSource,placeholder:"请选择"},on:{input:function(t){return e.handleInput("/tagType",t)}}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1),a("el-dialog",{staticClass:"organSelect",attrs:{title:"选择父类",visible:e.showSelectDialog,width:"30%"},on:{"update:visible":function(t){e.showSelectDialog=t}}},[a("el-tree",{attrs:{data:e.parentTree,props:e.parentProps,accordion:""},on:{"node-click":e.handleSelectNodeClick}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.parentSelectCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.parentSelectOk}},[e._v("确 定")])],1)],1)],1)},ot=[];ke.a.addMsgs({required:"不能为空",enum:"请选择一项",enumList:"请选择一项",number:"请填写数字"});var lt=ke.a,ct={data:function(){return{parentGroupName:"自定义标签",showCreateDialog:!1,showSelectDialog:!1,tagCategory:{},dataSourceList:[],tagTypeList:[],parentTree:[],currentSelectDada:"",parentProps:{chilidren:"children",label:"groupName"},hideThirdparam:!0,thirdInterfaces:[],oldGroupId:void 0}},props:["typeEnum","currentTagCategory","definedTagId"],computed:{typeList:function(){var e=this.typeEnum||{};return Object.keys(e).map((function(t){return{label:e[t],value:t}}))},schema:function(){var e=2===this.tagCategory.dataSource;return lt.map({tagName:lt.r.string.other("form",{label:"名称",disabled:e}),tagKey:lt.r.string.pattern(/^[A-Za-z][0-9a-zA-Z_]{0,99}$/).$msg("字母开头，100位以内字母数字下划线组合").other("form",{label:"英文名",placeholder:"字母开头，100位以内字母数字组合",disabled:e}),groupId:lt.r.number.other("form",{label:"所属分组"}),tagType:lt.r.string.other("form",{label:"类型"}),tagUnit:lt.switch("/tagType",[{case:lt.value("number"),schema:lt.optional.string.pattern(/^[A-Za-z][0-9a-zA-Z]{0,15}$/)},{case:lt.any,schema:lt.o.other("form",{hidden:!0})}]).other("form",{label:"单位",disabled:e}),remark:lt.o.string.other("form",{label:"备注",type:"textarea"}),dataSource:lt.r.number.other("form",{label:"数据来源"}),thirdPartyApiId:lt.r.number.other("form",{label:"第三方接口",hidden:this.hideThirdparam}),mapThirdPartyApiField:lt.r.string.pattern(/^[A-Za-z][0-9a-zA-Z_]{0,99}$/).$msg("字母开头，100位以内字母数字下划线组合").other("form",{label:"映射字段",hidden:this.hideThirdparam})}).other("form",{footer:{showSubmit:!0,submitText:"提交"}})}},watch:{"tagCategory.dataSource":function(e){this.hideThirdparam=3!==e},currentTagCategory:function(e){},showCreateDialog:function(e){e||(this.parentGroupName="")},definedTagId:function(e){e&&(this.tagCategory.groupId=e)}},methods:{handleInput:function(e,t){this.$refs.gForm.handleUserInput(e,t)},handleSubmit:function(e){var t=this;0===e.length&&this.$service.upsertTagCategory(this.getFormData(),"提交成功").then((function(){t.$emit("upsert-end"),t.showCreateDialog=!1}))},getFormData:function(){var e=JSON.parse(JSON.stringify(this.tagCategory));return e.tagId&&(e.oldGroup=this.oldGroupId?this.oldGroupId:e.groupId),delete e.createTime,delete e.updateTime,e},getDataSourceList:function(){var e=this;this.$service.getDatasource().then((function(t){var a=Object.keys(t).map((function(e){return{value:parseInt(e),label:t[e]}}));e.dataSourceList=a}))},getThirdInterfaces:function(){var e=this;this.$service.getthirdInterfaceSelectList().then((function(t){e.thirdInterfaces=t}))},selectParent:function(){this.showSelectDialog=!0},getParentInfo:function(){var e=this;this.$service.getParentIdList().then((function(t){var a=e.tagCategory.tagId,i=e.tagCategory.dataSource;e.parentTree=a&&2===i?t:t.filter((function(e){return 79!=e.groupId})),e.parentGroupName="自定义标签"}))},handleSelectNodeClick:function(e){this.currentSelectDada=e},parentSelectCancel:function(){this.showSelectDialog=!1},parentSelectOk:function(){this.tagCategory.groupId=this.currentSelectDada.groupId,this.parentGroupName=this.currentSelectDada.groupName,this.showSelectDialog=!1}},created:function(){this.getDataSourceList(),this.getThirdInterfaces(),this.tagCategory=this.currentTagCategory||{},this.getParentInfo(),this.tagCategory.groupId=this.definedTagId,this.parentGroupName="自定义标签"}},dt=ct,ut=(a("f117"),Object(U["a"])(dt,st,ot,!1,null,"53a12c4c",null)),ht=ut.exports;function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ft={components:{TagCategoryUpsert:ht,ChooseTagGroup:Ke},props:["filterHistoryToList","useFilterHistory"],data:function(){return{tagCategory:{},tagCategoryList:[],dataSourceEnum:{},typeEnum:{},filter:{tagName:void 0},pagination:{pageNum:void 0,pageSize:void 0,total:void 0},filterAll:void 0,checkList:["defineRemark"],currentTagId:void 0}},computed:{tagGroupId:function(){return+this.$route.params.id}},watch:{"$route.params.id":"handleTagGroupIdChange"},methods:{getFilter:function(){var e=this.filterHistoryToList;return e&&this.useFilterHistory?(this.$emit("change-history-filter",!1),this.filter.tagName=e.tagName,mt({groupId:this.tagGroupId,pageNum:e.pageNum,pageSize:e.pageSize},this.filter)):mt({groupId:this.tagGroupId,pageNum:this.pagination.pageNum,pageSize:this.pagination.pageSize},this.filter)},resetFilter:function(){this.filter={tagName:void 0}},handleTagGroupIdChange:function(){this.resetFilter(),this.fetchData()},handleAddTagCategory:function(){this.tagCategory={},this.$refs.tagCategoryUpsert.showCreateDialog=!0},handleSeeTagCategoryDetail:function(e){this.$emit("read-tag-category",e,this.filterAll)},handleEditTagCategory:function(e){var t=this;this.tagCategory=Object(nt["cloneDeep"])(e),this.$nextTick((function(){t.$refs.tagCategoryUpsert.showCreateDialog=!0}))},handleDeleteTagCategory:function(e){var t=this;this.$confirm("确认删除？").then((function(){t.$service.deleteTagCategory({tagId:e.tagId,groupId:e.groupId},"删除成功").then(t.fetchData)})).catch((function(){}))},handleCopyToTag:function(e){this.$refs.chooseTagGroup.showCreateDialog=!0,this.currentTagId=e.tagId},handleSaveCopyForm:function(e){var t=this;this.$service.copyLabelSingle({tagGroupId:e,tagIds:this.currentTagId},"复制成功").then((function(){t.$refs.chooseTagGroup.showCreateDialog=!1,t.fetchData()}))},fetchData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow&&(e.checkList=t.behaviorShow.split(","))})),this.filterAll=this.getFilter(),this.$service.getTagGroupTreeList(this.filterAll).then((function(t){e.tagCategoryList=t.pageInfo.list,e.dataSourceEnum=t.lableDataSourceEnum,e.typeEnum=t.tagsTypeEnum,e.pagination.total=t.pageInfo.total,e.pagination.pageNum=t.pageInfo.pageNum,e.pagination.pageSize=t.pageInfo.pageSize}))},handleCollect:function(e){var t=this,a=e.myCollect,i=e.tagId;a?this.$service.cancelCollectTags({tagId:i},"已取消收藏！").then((function(){t.fetchData()})):this.$service.collectTags({tagId:i},"已成功收藏！").then((function(){t.fetchData()}))},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})}},created:function(){this.fetchData()}},vt=ft,gt=(a("9c34"),Object(U["a"])(vt,tt,at,!1,null,"053a6da0",null)),bt=gt.exports,yt={components:{TagCategoryList:bt},props:["filterHistory","useFilterHistory"],data:function(){return{}},methods:{handleIndexReadTagCategory:function(e,t){this.$emit("read-tag-category",e,t)},handleChangeHistoryFilterFlag:function(e){this.$emit("change-history-filter",e)}},created:function(){}},Ct=yt,wt=Object(U["a"])(Ct,Xe,et,!1,null,"b0669a8c",null),_t=wt.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"read-tag-category"},[e.tagCategory?[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.tagCategory.tagName))]),a("el-button",{staticStyle:{float:"right","margin-top":"-7px"},attrs:{type:"primary"},on:{click:function(t){return e.$emit("read-cancel")}}},[e._v("返回")])],1),a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"ID"}},[e._v("\n                    "+e._s(e.tagCategory.tagId)+"\n                ")]),a("el-form-item",{attrs:{label:"数据来源"}},[e._v("\n                    "+e._s(e.dataSourceEnum[e.tagCategory.dataSource])+"\n                ")]),a("el-form-item",{attrs:{label:"类型"}},[e._v("\n                    "+e._s(e.typeEnum[e.tagCategory.tagType])+"\n                ")]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"number"===e.tagCategory.tagType,expression:"tagCategory.tagType === 'number'"}],attrs:{label:"单位"}},[e._v("\n                    "+e._s(e.tagCategory.tagUnit)+"\n                ")]),a("el-form-item",{attrs:{label:"备注"}},[e._v("\n                    "+e._s(e.tagCategory.remark)+"\n                ")])],1)],1),a("TagList",{attrs:{"tag-category":e.tagCategory}})]:e._e()],2)},kt=[],It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("标签列表")]),a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"标签名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),2!==e.tagCategory.dataSource?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:add",expression:"'hoder:label:attr:add'"}],attrs:{type:"primary"},on:{click:e.handleAddTag}},[e._v("\n                    新建标签\n                ")]):e._e(),2!==e.tagCategory.dataSource?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:add",expression:"'hoder:label:attr:add'"}],attrs:{type:"primary"},on:{click:e.handleAddBatchTag}},[e._v("\n                    批量上传\n                ")]):e._e()],1)],1)],1),a("el-table",{attrs:{border:"",data:e.itemList}},[a("el-table-column",{attrs:{prop:"attrId",label:"ID",width:"140"}}),a("el-table-column",{attrs:{prop:"attrName",label:"名称"}}),a("el-table-column",{attrs:{prop:"attrValue",label:"值"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("div",[e._v("\n                    "+e._s(e.statusList[t.row.status])+"\n                ")]):a("div",[e._v("暂无状态信息")])]}}])}),2!==e.tagCategory.dataSource?a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:modify",expression:"'hoder:label:attr:modify'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleEditTag(t.row)}}},[e._v("\n                    编辑\n                ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:del",expression:"'hoder:label:attr:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDeleteTag(t.row)}}},[e._v("\n                    删除\n                ")])],1)]}}],null,!1,1608788149)}):e._e()],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,total:e.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.pagination,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pagination,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.fetchData,"current-change":e.fetchData}}),a("TagUpsert",{ref:"tagUpsert",attrs:{"current-tag":e.tag},on:{"upsert-end":e.fetchData}}),a("BatchUpload",{ref:"BatchUpload",attrs:{"current-tag":e.tag},on:{"upsert-end":e.fetchData}})],1)},xt=[],Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.tag.attrId?"编辑标签":"新建标签",visible:e.showCreateDialog,"append-to-body":!0},on:{"update:visible":function(t){e.showCreateDialog=t}}},[a("c-gate-schema-form",{ref:"gForm",attrs:{schema:e.schema},on:{submit:e.handleSubmit},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1)},Dt=[],$t=a("53ca"),Lt={data:function(){return{showCreateDialog:!1,tag:{tagId:void 0,tagType:void 0,attrName:void 0,attrValue:void 0},schema:lt.map({attrName:lt.r.str.other("form",{label:"名称",placeholder:"请输入名称"}),attrValue:lt.r.switch("/tagType",[{case:lt.value("bool"),schema:lt.string.enum({true:"true",false:"false"}).other("form",{label:"值",placeholder:"100位以内字符串"})},{case:lt.value("collect"),schema:lt.map({ip:lt.str.pattern(/^(?:(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:1[0-9][0-9]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)){3}(?:(?:2[0-5][0-5])|(?:25[0-5])|(?:1[0-9][0-9])|(?:[1-9][0-9])|(?:[0-9]))$/).$msg("ip地址格式不正确").other("form",{placeholder:"请输入正确的ip地址"}),port:lt.str.pattern(/^[0-9]{4}$/).$msg("四位数字组合").other("form",{placeholder:"请输入四位数字端口号"}),password:lt.optional.str,timeout:lt.str.pattern(/^[0-9]{1,16}$/).$msg("该值为数字").other("form",{placeholder:"请输入以毫秒为单位的延时"}),database:lt.str.pattern(/^[0-9]{1,16}$/).$msg("该值为数字").other("form",{placeholder:"请输入数字"}),cid:lt.str.pattern(/^[0-9]{1,16}$/).$msg("该值为数字").other("form",{placeholder:"请输入数字"}),ext1:lt.optional.str,version:lt.optional.str}).other("form",{label:"值"})},{case:lt.value("number"),schema:lt.number.pattern(/^.{1,100}$/).$msg("100位以内的数字").other("form",{label:"值",placeholder:"100位以内的数字"})},{case:lt.any,schema:lt.string.pattern(/^.{1,100}$/).$msg("100位以内字符串").other("form",{label:"值",placeholder:"100位以内字符串"})}])}).other("form",{footer:{showSubmit:!0,submitText:"提交"}})}},props:["currentTag"],watch:{currentTag:function(e){var t=this.$refs.gForm;t&&(t.activePaths={}),this.tag=e||{},void 0!=e.attrId&&this.isJson(e.attrValue)&&(e.attrValue=JSON.parse(e.attrValue))}},methods:{handleSubmit:function(e){var t=this;0===e.length&&this.$service.upsertTag(this.getFormData(),"提交成功").then((function(){t.$emit("upsert-end"),t.showCreateDialog=!1}))},getFormData:function(){var e=JSON.parse(JSON.stringify(this.tag));return"object"===Object($t["a"])(e.attrValue)&&(e.attrValue=JSON.stringify(e.attrValue)),delete e.tagType,delete e.createTime,delete e.updateTime,e},isJson:function(e){if("string"===typeof e)try{return JSON.parse(e),!0}catch(t){return!1}}}},Nt=Lt,Ot=Object(U["a"])(Nt,Tt,Dt,!1,null,null,null),Pt=Ot.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.tag.attrId?"编辑批量上传":"新建批量上传",visible:e.showBatchDialog,"append-to-body":!0},on:{"update:visible":function(t){e.showBatchDialog=t}}},[a("el-form",{ref:"gForm",attrs:{model:e.tag,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"选择文件"}},[a("input",{attrs:{type:"file"},on:{change:e.handleSelectFile}}),a("div",{staticClass:"error-tips"},[e._v(e._s(e.message))]),"collect"===e.tag.tagType?a("a",{attrs:{download:"",href:e.publicPath+"dataCollect.xls"}},[e._v("下载示例文件")]):a("a",{attrs:{download:"",href:e.publicPath+"notdataCollect.xls"}},[e._v("下载示例文件")])]),"collect"===e.tag.tagType?a("div",[a("el-form-item",{attrs:{label:"ip",prop:"ip"}},[a("el-input",{model:{value:e.tag.ip,callback:function(t){e.$set(e.tag,"ip",t)},expression:"tag.ip"}})],1),a("el-form-item",{attrs:{label:"password"}},[a("el-input",{model:{value:e.tag.password,callback:function(t){e.$set(e.tag,"password",t)},expression:"tag.password"}})],1),a("el-form-item",{attrs:{label:"port",prop:"port"}},[a("el-input",{model:{value:e.tag.port,callback:function(t){e.$set(e.tag,"port",t)},expression:"tag.port"}})],1),a("el-form-item",{attrs:{label:"timeout",prop:"timeout"}},[a("el-input",{model:{value:e.tag.timeout,callback:function(t){e.$set(e.tag,"timeout",t)},expression:"tag.timeout"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"attrName"}},[a("el-input",{model:{value:e.tag.attrName,callback:function(t){e.$set(e.tag,"attrName",t)},expression:"tag.attrName"}})],1),a("el-form-item",{attrs:{label:"cid",prop:"cid"}},[a("el-input",{model:{value:e.tag.cid,callback:function(t){e.$set(e.tag,"cid",t)},expression:"tag.cid"}})],1),a("el-form-item",{attrs:{label:"版本号",prop:"version"}},[a("el-input",{model:{value:e.tag.version,callback:function(t){e.$set(e.tag,"version",t)},expression:"tag.version"}})],1),a("el-form-item",{attrs:{label:"database",prop:"database"}},[a("el-input",{model:{value:e.tag.database,callback:function(t){e.$set(e.tag,"database",t)},expression:"tag.database"}})],1),a("el-form-item",{attrs:{label:"扩展参数1"}},[a("el-input",{model:{value:e.tag.ext1,callback:function(t){e.$set(e.tag,"ext1",t)},expression:"tag.ext1"}})],1)],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("gForm")}}},[e._v("提交")])],1)],1)],1)},At=[],Ft={name:"batchUpload",data:function(){return{publicPath:"/",showBatchDialog:!1,tag:{tagId:void 0,tagType:void 0,ip:void 0,password:void 0,port:void 0,timeout:void 0,attrName:void 0,cid:void 0,version:void 0,database:void 0,ext1:void 0,file:void 0},message:"",rules:{ip:[{required:!0,message:"请输入ip",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur"}],timeout:[{required:!0,message:"请输入timeout",trigger:"blur"}],attrName:[{required:!0,message:"请输入attrName",trigger:"blur"}],cid:[{required:!0,message:"请输入cid",trigger:"blur"}],version:[{required:!0,message:"请输入version",trigger:"blur"},{pattern:/^[0-9a-zA-Z]{1,32}$/,message:"版本号只能为数字字符串组合"}],database:[{required:!0,message:"请输入database",trigger:"blur"}]}}},props:["currentTag"],watch:{currentTag:function(e){var t=this.$refs.gForm;t&&(t.activePaths={}),this.tag=e||{}}},methods:{handleSelectFile:function(e){if(this.message="",""!==e.currentTarget.files[0]){var t=e.currentTarget.files[0].name,a="xls"===t.split(".")[1],i="xlsx"===t.split(".")[1];a||i?this.tag.file=e.currentTarget.files[0]:this.message="上传模板只能是 xls、xlsx格式!"}else this.message="文件不能为空"},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=new FormData,i=t.tag;void 0!=t.tag.file?(Object.keys(i).forEach((function(e){a.append(e,i[e])})),t.$service.tagBatchsave(a,"保存成功").then((function(){t.$emit("upsert-end"),t.showBatchDialog=!1}))):t.message="请检查文件格式是否不对或者为空"}))}}},Vt=Ft,Rt=(a("c640"),Object(U["a"])(Vt,Et,At,!1,null,"a182043a",null)),jt=Rt.exports;function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zt={components:{TagUpsert:Pt,BatchUpload:jt},data:function(){return{itemList:[],tag:{},pagination:{},filter:{name:void 0},statusList:{1:"启用",2:"禁用"}}},props:["tagCategory"],methods:{getFilter:function(){return Mt(Mt({tagCategoryId:this.tagCategory.tagId},this.filter),this.pagination)},fetchData:function(){var e=this,t=this.getFilter();this.$service.getTagList(t).then((function(t){var a=t.itemList,i=t.pagination;e.itemList=a,e.pagination=i}))},handleAddTag:function(){this.tag={tagId:this.tagCategory.tagId},this.tag.tagType=this.tagCategory.tagType,this.$refs.tagUpsert.showCreateDialog=!0},handleAddBatchTag:function(){this.tag={tagId:this.tagCategory.tagId},this.tag.tagType=this.tagCategory.tagType,this.$refs.BatchUpload.showBatchDialog=!0},handleEditTag:function(e){this.tag=JSON.parse(JSON.stringify(e)),this.tag.tagType=this.tagCategory.tagType,this.tag.tagId=this.tagCategory.tagId,this.$refs.tagUpsert.showCreateDialog=!0},handleDeleteTag:function(e){var t=this;this.$confirm("确定删除？").then((function(){t.$service.deleteTag(e,"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))}},created:function(){this.fetchData()}},qt=zt,Jt=(a("a5f5"),Object(U["a"])(qt,It,xt,!1,null,"6c71e066",null)),Gt=Jt.exports,Ut={components:{TagList:Gt},data:function(){return{tagCategory:null,dataSourceEnum:{},typeEnum:{}}},methods:{getFilter:function(){return{id:this.$route.params.id}},fetchData:function(){var e=this,t=this.getFilter();this.$service.readTagCategory(t).then((function(t){e.dataSourceEnum=t.dataSourceEnum,e.typeEnum=t.typeEnum,e.tagCategory=t.tagCategory}))}},created:function(){this.fetchData()}},Ht=Ut,Kt=(a("e958"),Object(U["a"])(Ht,St,kt,!1,null,"a6a88906",null)),Qt=Kt.exports,Wt={listTagGroup:"list-tag-group",readTagGroup:"read-tag-group",readTagCategory:"read-tag-category"},Yt={components:{TagGroupRead:_t,TagGroupList:Ze,TagCategoryList:bt,TagCategoryRead:Qt},data:function(){return{MODE:Wt,tag:null,filterText:"",tagGroupId:void 0,readTagCategoryBack:null,filterHistory:void 0,useFilterHistory:!1}},props:["mode"],methods:{handleReadTagGroup:function(e){this.$router.push({name:"tag-group-read",params:{id:e.id}})},handleReadTagCategoryCancel:function(){var e=this.readTagCategoryBack||{name:"tag-group-read"};this.$router.push(e),this.useFilterHistory=!0},handleReadTagCategory:function(e,t){this.readTagCategoryBack=this.$route.fullPath,this.filterHistory=t,this.$router.push({name:"tag-category-read",params:{id:e.tagId}})},handleChangeHistoryFilterFlag:function(e){this.useFilterHistory=e}}},Zt=Yt,Xt=Object(U["a"])(Zt,Pe,Ee,!1,null,null,null),ea=Xt.exports,ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isShowStrategyList?a("strategy-list",{attrs:{historyFilter:e.historyFilter,showAllParent:e.showAllParent,checkListFilter:e.checkListFilter,parentSource:e.source},on:{openCrowdPage:e.openCrowdPage,openSchemePage:e.openSchemePage}}):e._e(),e.isShowStrategyList||e.isShowSchemePage?e._e():a("crowd-index",{attrs:{selectRow:e.selectRow},on:{goBack:e.goBack}}),e.isShowSchemePage?a("scheme-index",{attrs:{selectRow:e.selectRow},on:{goBack:e.goBack}}):e._e()],1)},aa=[],ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"strategy-list"},[a("div",{staticClass:"TopNav"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[a("div",[a("el-radio-group",{on:{change:e.handleShowAllChange},model:{value:e.showAll,callback:function(t){e.showAll=t},expression:"showAll"}},[a("el-radio",{attrs:{label:!0}},[e._v("全部")]),a("el-radio",{attrs:{label:!1}},[e._v("我的")])],1)],1),a("div",{staticClass:"search-input"},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"支持按策略、人群、创建人、部门搜索",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchForm.policyName,callback:function(t){e.$set(e.searchForm,"policyName",t)},expression:"searchForm.policyName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1)]),a("div",{staticClass:"header-right"},[a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:policy:add",expression:"'hoder:policy:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\n          ")])],1),a("div",[a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"createTime"}},[e._v("创建时间")]),a("el-checkbox",{attrs:{label:"creatorName"}},[e._v("创建人")]),a("el-checkbox",{attrs:{label:"useStatus"}},[e._v("投放状态")]),a("el-checkbox",{attrs:{label:"department"}},[e._v("业务部门")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)])])]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"policyId",label:"策略ID",width:"70"}}),a("el-table-column",{attrs:{prop:"policyName",label:"策略名称",width:"150"}}),a("el-table-column",{attrs:{prop:"tagsList",width:"400px"},scopedSlots:e._u([{key:"header",fn:function(t){t.column,t.$index;return[e._v("\n        策略维度（\n        "),a("span",{staticClass:"checkbox--red"},[e._v("红色")]),e._v("为大数据标签,\n        "),a("span",{staticClass:"checkbox--green"},[e._v("绿色")]),e._v("为自定义/本地标签,\n        "),a("span",{staticClass:"checkbox--blue"},[e._v("蓝色")]),e._v("为账号标签,\n        "),a("span",{staticClass:"checkbox--yellow"},[e._v("黄色")]),e._v("为实时标签,\n        "),a("span",{staticClass:"checkbox--orange"},[e._v("紫色")]),e._v("为动态指标,\n        "),a("span",{staticClass:"checkbox--orange2"},[e._v("棕色")]),e._v("为组合标签,\n        "),a("span",{staticClass:"checkbox--cyan"},[e._v("青色")]),e._v("为行为标签,\n        "),a("span",{staticClass:"checkbox--gray"},[e._v("灰色")]),e._v("为人群标签,\n        "),a("span",{staticClass:"checkbox--pink"},[e._v("粉色")]),e._v("为实时标签[大数据]）\n        )\n      ")]}},{key:"default",fn:function(t){return e._l(t.row.tagsList,(function(t){return a("span",{key:t.tagId,class:e.dataSourceColorClassEnum[t.dataSource],staticStyle:{margin:"0 2px"}},[e._v("\n          "+e._s(t.tagName)+"\n        ")])}))}}])}),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime))])]}}],null,!1,277918933)}):e._e(),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{prop:"creatorName",label:"创建人",width:"60"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{prop:"department",label:"业务部门",width:"70"}}):e._e(),e.checkList.indexOf("useStatus")>-1?a("el-table-column",{attrs:{prop:"useStatus",label:"状态",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return["投放中"===t.row.useStatus?a("span",{staticClass:"under_line",on:{click:function(a){return e.launchDetail(t.row.policyId)}}},[e._v("投放中")]):a("span",[e._v("未投放")])]}}],null,!1,621423658)}):e._e(),a("el-table-column",{attrs:{prop:"past7Active",label:"7日是否有命中及命中次数",width:"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.past7Active?a("span",{staticStyle:{color:"red"}},[e._v(" 是   "+e._s(e.cc_format_number(t.row.past7ActiveSize)))]):a("span",[e._v(" 否 ")])]}}])}),a("el-table-column",{attrs:{prop:"past7Req",label:"7日是否有请求及请求次数",width:"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.past7Req?a("span",{staticStyle:{color:"red"}},[e._v(" 是   "+e._s(e.cc_format_number(t.row.past7ReqSize)))]):a("span",[e._v(" 否 ")])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"el-button-group"},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.crowdList(t.row)}}},[e._v("查看人群")]),"未投放"===t.row.useStatus?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleLaunch(t.row)}}},[e._v("投放")]):e._e(),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:policy:sync",expression:"'hoder:policy:sync'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.freshCache(t.row)}}},[1===t.row.status?a("span",[e._v("未同步")]):e._e(),2===t.row.status?a("span",[e._v("已同步")]):e._e()]),a("el-dropdown",{on:{command:e.handleCommand}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n              更多\n            ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:policy:edit",expression:"'hoder:policy:edit'"}],attrs:{command:["edit",t.row]}},[e._v("编辑")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:policy:del",expression:"'hoder:policy:del'"}],attrs:{command:["del",t.row]}},[e._v("删除")]),a("el-dropdown-item",{attrs:{command:["detail",t.row]}},[e._v("查看配置")]),t.row.myCollect?e._e():a("el-dropdown-item",{attrs:{command:["collect",t.row]}},[e._v("添加到'我的'")]),t.row.myCollect&&!e.parentSource?a("el-dropdown-item",{attrs:{disabled:""}},[e._v("添加到'我的'")]):e._e(),t.row.myCollect&&e.parentSource&&t.row.creator!==e.$appState.user.userId?a("el-dropdown-item",{attrs:{command:["collect",t.row]}},[e._v("从'我的'删除")]):e._e(),a("el-dropdown-item",{attrs:{command:["statics",t.row]}},[e._v("调用统计")]),t.row.smart?a("el-dropdown-item",{attrs:{command:["viewEffect",t.row]}},[e._v("查看效果")]):e._e()],1)],1)],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),e.addFormVisible?a("el-dialog",{attrs:{title:e.title,visible:e.addFormVisible,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(t){e.addFormVisible=t}},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"策略名称",prop:"policyName"}},[a("el-input",{attrs:{size:"small",placeholder:""},model:{value:e.addForm.policyName,callback:function(t){e.$set(e.addForm,"policyName",t)},expression:"addForm.policyName"}})],1),a("div",{staticClass:"tags-tips"},[e._v("\n        注："),a("span",{staticClass:"checkbox--red"},[e._v("红色为大数据标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--green"},[e._v("绿色为自定义/本地标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--blue"},[e._v("蓝色为账号标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--yellow"},[e._v("黄色为实时标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--orange"},[e._v("紫色为动态指标")]),e._v(",\n        "),a("span",{staticClass:"checkbox--orange2"},[e._v("棕色为组合标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--cyan"},[e._v("青色为行为标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--gray"},[e._v("灰色为人群标签")]),e._v(",\n        "),a("span",{staticClass:"checkbox--pink"},[e._v("粉色为实时标签[大数据]")])]),a("el-form-item",{attrs:{label:"策略维度",prop:"conditionTagIds"}},[a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"top"}},[a("div",{staticClass:"strategy-search"},[a("el-input",{staticClass:"strategy-search--input",attrs:{"aria-placeholder":"请输入标签关键字进行搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTags()}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("el-button",{on:{click:function(t){return e.getTags()}}},[e._v("查询")]),a("el-button",{on:{click:e.resetSearch}},[e._v("重置")])],1),""!=e.conditionTagsFiltered?a("el-checkbox-group",{staticClass:"checkList",model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.conditionTagsFiltered,(function(t){return a("el-checkbox",{key:t.tagId,class:e.dataSourceColorClassEnum[t.tDataSource],attrs:{label:t.tagId},on:{change:function(a){return e.handleTagChange(a,t)}}},[e._v("\n                "+e._s(t.tagName)+"\n              ")])})),1):a("div",{staticClass:"checkbox--red"},[e._v("该标签不存在，请重新输入标签名进行搜索")]),a("el-pagination",{staticClass:"pagination",attrs:{small:"",layout:"prev,pager,next",total:e.tagsListTotal,"page-size":e.initPageSize,"current-page":e.initCurrentPage},on:{"current-change":e.handleTagCurrentChange,"prev-click":e.handleTagCurrentChange,"next-click":e.handleTagCurrentChange}})],1)],1),a("el-form-item",{staticStyle:{"margin-top":"90px"},attrs:{label:"已选标签"}},e._l(e.tagList,(function(t){return a("el-tag",{key:t.tagId,attrs:{type:e.dataSourceColorEnum[t.dataSource||t.tDataSource],closable:""},on:{close:function(a){return e.removeTag(t)}}},[e._v("\n            "+e._s(t.tagName)+"\n          ")])})),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):e._e(),a("el-dialog",{attrs:{title:"查看配置",visible:e.showConfiguration},on:{"update:visible":function(t){e.showConfiguration=t}}},[a("c-content-wrapper",{attrs:{pagination:e.detailPagination.pagination},on:{"filter-change":e.handleFilterChange}},[a("c-table",{attrs:{data:e.seeDetailData.data,props:e.seeDetailData.props,header:e.seeDetailData.header}})],1)],1),a("el-dialog",{attrs:{visible:e.showStatistics,width:"90%"},on:{"update:visible":function(t){e.showStatistics=t}}},[a("div",{staticClass:"crowd-statistic"},[a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.linesTitle))]),!0===e.showStatistics?a("div",{ref:"main",staticClass:"main"}):e._e()]),a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.time1,callback:function(t){e.time1=t},expression:"time1"}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.pieTitle))]),!0===e.showStatistics?a("div",{ref:"hitBiTotal",staticClass:"main"}):e._e()])])]),a("el-dialog",{attrs:{visible:e.showLaunch,title:"该策略正在使用情况"},on:{"update:visible":function(t){e.showLaunch=t}}},[a("div",[e._v("正在投放："),e._l(e.launchItems,(function(t,i){return a("span",{key:i,staticClass:"launch-item"},[e._v(e._s(t))])}))],2)]),a("el-dialog",{key:e.recordId,attrs:{visible:e.showLaunchToBusiness},on:{"update:visible":function(t){e.showLaunchToBusiness=t}}},[a("LaunchToBusiness",{attrs:{recordId:e.recordId,tempPolicyAndCrowd:e.tempPolicyAndCrowd},on:{closeDialog:e.handleCloseDialog}})],1),a("el-dialog",{attrs:{visible:e.showViewEffect,width:"80%"},on:{"update:visible":function(t){e.showViewEffect=t}}},[a("viewEffectDialog",{attrs:{policyId:e.currentPid}})],1)],1)},na=[],ra=(a("f576"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launchToBusiness"},[a("el-form",{ref:"crowdForm",attrs:{model:e.crowdForm,rules:e.rulesData,"label-width":"110px"}},[e.tempPolicyAndCrowd.smart?e._e():a("el-form-item",{attrs:{label:"投放模式",prop:"launchMode"}},[a("el-checkbox",{attrs:{disabled:e.pullSuccessPushFail},model:{value:e.crowdForm.launchMode.pull,callback:function(t){e.$set(e.crowdForm.launchMode,"pull",t)},expression:"crowdForm.launchMode.pull"}},[e._v("pull模式（用于主页、产品包、广告、活动、弹窗、媒资）")]),a("el-checkbox",{model:{value:e.crowdForm.launchMode.push,callback:function(t){e.$set(e.crowdForm.launchMode,"push",t)},expression:"crowdForm.launchMode.push"}},[e._v("push模式（用于消息、微信）")])],1),e.crowdForm.launchMode.pull?a("div",{staticClass:"border"},[a("div",{staticClass:"tips"},[e._v("投放模式(pull):针对主页、产品包、广告、活动、弹窗、媒资")]),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIdsPull"}},[a("el-select",{attrs:{multiple:""},model:{value:e.crowdForm.biIdsPull,callback:function(t){e.$set(e.crowdForm,"biIdsPull",t)},expression:"crowdForm.biIdsPull"}},e._l(e.Platforms,(function(e,t){return a("el-option",{key:t,attrs:{label:e.biName,value:e.biId}})})),1)],1),a("el-form-item",{attrs:{label:"当前策略"}},[a("el-select",{attrs:{multiple:"",disabled:""},model:{value:e.crowdForm.policyIdsPull,callback:function(t){e.$set(e.crowdForm,"policyIdsPull",t)},expression:"crowdForm.policyIdsPull"}},e._l(e.strategyData,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policyId+"-"+e.policyName,value:e.policyId}})})),1)],1),e.fromStoryline?a("el-form-item",{attrs:{label:"投放有效期"}},[a("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1):e._e()],1):e._e(),e.crowdForm.launchMode.push?a("div",{staticClass:"border"},[a("div",{staticClass:"tips"},[e._v("投放模式（push）:针对消息、微信")]),a("el-form-item",{attrs:{label:"投放名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",placeholder:"投放名称"},model:{value:e.crowdForm.launchName,callback:function(t){e.$set(e.crowdForm,"launchName",t)},expression:"crowdForm.launchName"}})],1),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择投放平台"},model:{value:e.crowdForm.biIds,callback:function(t){e.$set(e.crowdForm,"biIds",t)},expression:"crowdForm.biIds"}},e._l(e.launchPlatform,(function(e){return a("el-option",{key:e.biId+"",attrs:{label:e.biName,value:e.biId+""}})})),1)],1),e.crowdForm.biIds.includes("7")?a("el-form-item",{staticClass:"multipleSelect form-width",attrs:{label:"投放应用",prop:"packageName"}},[a("el-select",{attrs:{placeholder:"请选择投放应用",clearable:""},model:{value:e.crowdForm.packageName,callback:function(t){e.$set(e.crowdForm,"packageName",t)},expression:"crowdForm.packageName"}},e._l(e.pushPackageList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.appName,value:e.id}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"数据来源",prop:"dataSource"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.crowdForm.dataSource,expression:"crowdForm.dataSource"}],attrs:{type:"hidden",value:"2"},domProps:{value:e.crowdForm.dataSource},on:{input:function(t){t.target.composing||e.$set(e.crowdForm,"dataSource",t.target.value)}}}),a("el-input",{attrs:{size:"small",readonly:"",value:"大数据"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{size:"small"},model:{value:e.crowdForm.remark,callback:function(t){e.$set(e.crowdForm,"remark",t)},expression:"crowdForm.remark"}})],1),a("el-form-item",{attrs:{label:"是否投放子人群"}},[a("el-radio-group",{model:{value:e.crowdForm.abTest,callback:function(t){e.$set(e.crowdForm,"abTest",t)},expression:"crowdForm.abTest"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),a("el-form-item",{staticClass:"form-width",attrs:{label:"选择人群类型"}},[a("el-radio-group",{model:{value:e.crowdForm.crowdType,callback:function(t){e.$set(e.crowdForm,"crowdType",t)},expression:"crowdForm.crowdType"}},[a("el-radio",{attrs:{label:0}},[e._v("普通人群")]),a("el-radio",{attrs:{label:3}},[e._v("行为人群")])],1)],1),a("el-form-item",{attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{attrs:{filterable:"",disabled:""},model:{value:e.crowdForm.policyIds,callback:function(t){e.$set(e.crowdForm,"policyIds",t)},expression:"crowdForm.policyIds"}},e._l(e.strategyPlatform,(function(t){return a("el-option",{key:t.policyId+"",attrs:{label:t.policyName,value:t.policyId}},[e._v(e._s(t.policyName)+"\n                    ")])})),1)],1),0===e.crowdForm.crowdType?[a("el-form-item",{attrs:{label:"选择人群",prop:"policyCrowdIds"}},e._l(e.crowdData,(function(t,i){return a("el-form-item",{key:t.policyId+"_"+i,attrs:{label:e.crowdForm.abTest?t.Pid:t.policyName}},[a("el-checkbox-group",{model:{value:e.crowdForm.policyCrowdIds,callback:function(t){e.$set(e.crowdForm,"policyCrowdIds",t)},expression:"crowdForm.policyCrowdIds"}},e._l(t.childs,(function(t){return a("el-checkbox",{key:t.crowdId+"",attrs:{label:t.policyId+"_"+t.crowdId,disabled:!1===t.canLaunch}},[e._v("\n                        "+e._s(t.crowdName)+"\n                        ")])})),1)],1)})),1)]:e._e(),3===e.crowdForm.crowdType&&e.crowdForm.abTest?[a("el-form-item",{attrs:{label:"选择人群",prop:"policyCrowdIds"}},e._l(e.crowdData,(function(t,i){return a("el-form-item",{key:t.policyId+"_"+i,attrs:{label:t.Pid}},[a("el-checkbox-group",{model:{value:e.crowdForm.policyCrowdIds,callback:function(t){e.$set(e.crowdForm,"policyCrowdIds",t)},expression:"crowdForm.policyCrowdIds"}},e._l(t.childs,(function(t){return a("el-checkbox",{key:t.crowdId+"",attrs:{label:t.policyId+"_"+t.crowdId+"_"+t.pid,disabled:!1===t.canLaunch}},[e._v("\n                        "+e._s(t.crowdName)+"\n                        ")])})),1)],1)})),1)]:3===e.crowdForm.crowdType?[a("el-form-item",{attrs:{label:"选择人群",prop:"tempCrowdId"}},[a("el-select",{attrs:{filterable:""},on:{change:function(t){return e.handelBehaviorCrowdSelectChange(t,e.crowdForm.policyCrowdIds[0],e.behaviorCrowdList)}},model:{value:e.crowdForm.policyCrowdIds[0],callback:function(t){e.$set(e.crowdForm.policyCrowdIds,0,t)},expression:"crowdForm.policyCrowdIds[0]"}},e._l(e.behaviorCrowdList,(function(t){return a("el-option",{key:t.crowdId,attrs:{label:t.crowdName,value:t.policyId+"_"+t.crowdId}},[e._v("\n                          "+e._s(t.crowdName)+" -- "+e._s(t.behaviorTempCrowdId)+"\n                      ")])})),1)],1)]:e._e(),a("el-form-item",{attrs:{label:"每天是否更新",prop:"autoVersion"}},[a("el-select",{model:{value:e.crowdForm.autoVersion,callback:function(t){e.$set(e.crowdForm,"autoVersion",t)},expression:"crowdForm.autoVersion"}},[a("el-option",{attrs:{label:"是",value:1}}),a("el-option",{attrs:{label:"否",value:0}})],1)],1),1===e.crowdForm.autoVersion?a("el-form-item",{attrs:{label:"每天更新时间点",prop:"autoLaunchTime"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss","picker-options":{selectableRange:"9:00:00 - 23:59:59"}},model:{value:e.crowdForm.autoLaunchTime,callback:function(t){e.$set(e.crowdForm,"autoLaunchTime",t)},expression:"crowdForm.autoLaunchTime"}})],1):e._e(),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-checkbox-group",{attrs:{disabled:3===e.crowdForm.crowdType},model:{value:e.crowdForm.calType,callback:function(t){e.$set(e.crowdForm,"calType",t)},expression:"crowdForm.calType"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i,disabled:0==i}},[e._v(e._s(t))])})),1)],1),3===e.crowdForm.crowdType?a("div",{staticClass:"tip"},[e._v("Tips: 行为人群当前仅支持push设备类型")]):e._e()],2):e._e(),e.hiddenButton?e._e():a("el-form-item",[a("el-button",{attrs:{type:"info"},on:{click:e.handleCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("crowdForm")}}},[e._v("投放")])],1)],1)],1)}),sa=[];a("6762"),a("2fdb"),a("c5f6");function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ca={name:"StrategyPutIn",props:["recordId","tempPolicyAndCrowd","fromStoryline","hiddenButton"],data:function(){return{value1:[],crowdForm:{biIdsPull:[],policyIdsPull:[],abTest:!1,launchCrowdId:"",launchName:"",biIds:"",remark:"",policyIds:void 0,policyCrowdIds:[],autoVersion:0,autoLaunchTime:void 0,launchMode:{pull:!0,push:!1},calType:["0"],crowdType:0,packageName:""},rulesData:{launchMode:[{required:!0,message:"请至少勾选一个投放模式"}],biIdsPull:[{required:!0,message:"请选择投放平台",trigger:"blur"}],launchName:[{required:!0,message:"请输入投放名称",trigger:"blur"}],biIds:[{required:!0,message:"请选择投放平台",trigger:"blur"}],policyIds:[{required:!0,message:"请选择策略平台",trigger:"blur"}],policyCrowdIds:[{required:!0,message:"请选择人群",trigger:"blur"}],autoLaunchTime:[{required:!0,message:"请选择每天更新时间点",trigger:"blur"}],packageName:[{required:!0,message:"请选择投放应用",trigger:"blur"}]},Platforms:[],strategyData:[],launchPlatform:[],strategyPlatform:[],effectTimeList:[],crowdData:[],estimateItems:[],firstTimeLoad:!1,savePullDataSuccess:!1,savePushDataSuccess:!1,pullFail:!1,pushFail:!1,pullSuccessPushFail:!1,behaviorCrowdList:[],pushPackageList:[]}},methods:{getPushPackageList:function(){var e=this,t={pageNum:0,pageSize:200};this.$service.getPushPackageList(t).then((function(t){e.pushPackageList=t.rows||[]}))},handelBehaviorCrowdSelectChange:function(e,t,a){var i=t.split("_")[1];this.crowdForm.tempCrowdId=a.find((function(e){return Number(e.crowdId)===Number(i)})).behaviorTempCrowdId},handelCheckoutGroup:function(e,t,a){var i=this,n=a[t].childs,r=a[t].policyId,s=n.filter((function(t){var a=e.includes(r+"_"+t.crowdId);return a}))||[];0===s.length&&(this.crowdData[t].childs.forEach((function(e){e.isDisabledCrowd=!1})),this.$set(this.crowdData,t,this.crowdData[t]));for(var o=function(){var e=s[l];return e.isBehaviorCrowd?(i.crowdData[t].childs.forEach((function(t){e.crowdId===t.crowdId?t.isDisabledCrowd=!1:t.isDisabledCrowd=!0})),i.$set(i.crowdData,t,i.crowdData[t]),"break"):(i.crowdData[t].childs.forEach((function(e){e.isBehaviorCrowd?e.isDisabledCrowd=!0:e.isDisabledCrowd=!1})),i.$set(i.crowdData,t,i.crowdData[t]),"break")},l=0;l<s.length;l++){var c=o();if("break"===c)break}console.log("this.crowdData==",this.crowdData)},handleGetCurrentPolicy:function(){var e=this;this.$service.getAddCrowdData().then((function(t){e.Platforms=t.biLists}));var t=this.tempPolicyAndCrowd,a=[];this.strategyData=a.concat(t),this.strategyPlatform=a.concat(t);var i=[],n=i.concat(t.policyId);this.crowdForm.policyIdsPull=n,this.crowdForm.policyIds=t.policyId,this.getCrowd(),this.firstTimeLoad=!0},getCrowd:function(){this.crowdForm.policyCrowdIds=[],this.crowdForm.crowdId="",this.crowdData=[],this.tempPolicyAndCrowd.smart||(0===this.crowdForm.crowdType?this.getNomarlCrowd():this.crowdForm.abTest?this.getABChildByPolicyId():this.getBehaviorCrowdByPolicyId())},getNomarlCrowd:function(){var e=this,t=this.crowdForm.policyIds;this.$service.getStrategyCrowds({policyIds:t,abTest:this.crowdForm.abTest}).then((function(t){if(e.crowdForm.abTest){var a=[],i=Object.keys(t[0].childs);i.forEach((function(e){a.push({Pid:e,childs:t[0].childs[e]})})),e.crowdData=a}else e.crowdData=t;e.crowdData=e.crowdData.map((function(e){return e.childs=e.childs.map((function(e){var t=!1,a=JSON.parse(e.behaviorRulesJson);return a&&a.rules&&a.rules.length>0&&(t=!0),la(la({},e),{},{isBehaviorCrowd:t,isDisabledCrowd:!1})})),e}))}))},getBehaviorCrowdByPolicyId:function(){var e=this,t=this.crowdForm.policyIds;return this.$service.getBehaviorCrowdByPolicyId({policyId:t}).then((function(t){e.behaviorCrowdList=t})).catch((function(){}))},getABChildByPolicyId:function(){var e=this,t=null;return t=this.crowdForm.abTest?this.crowdForm.policyIds:this.crowdForm.policyIds.join(","),this.$service.getABChildByPolicyId({policyId:t}).then((function(t){if(e.crowdForm.abTest){e.crowdForm.policyCrowdIds=[],e.crowdForm.crowdId="";var a=[],i=Object.keys(t[0].childs);i.forEach((function(e){a.push({Pid:e,childs:t[0].childs[e]})})),e.crowdData=a}else e.crowdData=t})).catch((function(){}))},savePullData:function(){var e=this,t={biIds:this.crowdForm.biIdsPull,policyIds:this.crowdForm.policyIdsPull};this.fromStoryline&&(t.startTime=this.value1[0]||void 0,t.endTime=this.value1[1]||void 0),this.$service.saveAddCrowdData(t,"pull投放成功").then((function(){e.crowdForm.launchMode.push?(e.savePullDataSuccess=!0,e.savePushData()):e.handleEnd()})).catch((function(t){e.pullFail=!0}))},reParamsData:function(){var e=JSON.parse(JSON.stringify(this.crowdForm)),t={crowdType:e.crowdType,biIds:e.biIds.join(","),policyIds:e.policyIds,policyCrowdIds:e.policyCrowdIds.map((function(e){return e.split("_")[1]})).join(","),abTest:e.abTest,launchName:e.launchName,remark:e.remark,autoVersion:e.autoVersion,autoLaunchTime:e.autoLaunchTime,launchCrowdId:e.launchCrowdId,tempCrowdId:e.tempCrowdId};return 3===e.crowdType?e.abTest&&(t.crowdType=9,t.crowdId=e.policyCrowdIds[0].split("_")[2],t.tempCrowdId=0):t.tempCrowdId=0,t},savePushData:function(){var e=this,t=this.reParamsData(),a=this.crowdForm.calType;this.$service.saveAddMultiVersionCrowd({model:t.crowdType,data:t}).then((function(t){e.handleEstimate(a,t.launchCrowdId)})).catch((function(t){e.handlePushError(t)}))},handlePushError:function(e){this.pushFail=!0,this.crowdForm.launchMode.pull&&!this.pullFail&&(this.crowdForm.launchMode.pull=!1,this.pullSuccessPushFail=!0)},handleEstimate:function(e,t){var a=this;if(0!==e.length){var i=e.map((function(e){return e})).join(",");this.$service.LaunchMultiVersionCrowd({launchCrowdId:t,calIdType:i},"push投放成功").then((function(){a.crowdForm.launchMode.pull?a.savePushDataSuccess=!0:a.handleEnd()})).catch((function(e){a.handlePushError(e)}))}else this.$message.error("请至少选择一个要投放的人群")},submitForm:function(e){var t=this;this.savePushDataSuccess=!1,this.savePullDataSuccess=!1,this.crowdForm.launchMode.pull||this.crowdForm.launchMode.push?this.$refs[e].validate((function(e){if(!e)return!1;t.crowdForm.launchMode.pull?t.savePullData():t.savePushData()})):this.$message.error("请勾选至少一种投放模式")},handleEnd:function(){var e=this,t=E["Loading"].service({fullscreen:!0,text:"同步策略中，请稍候",background:"rgba(0, 0, 0, 0.5)"});this.$service.freshCache({policyId:this.recordId}).then((function(){t.close(),e.$emit("closeDialog"),e.$emit("refreshList"),e.$root.$emit("stratege-list-refresh")}))},getCrowdInitList:function(){var e=this;this.$service.addMultiVersionCrowd(0).then((function(t){e.launchPlatform=t.biLists,e.effectTimeList=t.efTime.map((function(e){return{label:e+"天",value:e}}))}))},handleCancel:function(){this.$emit("closeDialog")},getCountDataEnum:function(){var e=this;this.$service.getEstimateType().then((function(t){e.estimateItems=t}))}},watch:{recordId:function(e,t){e===t||this.handleGetCurrentPolicy()},"crowdForm.crowdType":function(e,t){e!==t&&void 0!==t&&this.getCrowd()},"crowdForm.abTest":function(e,t){e!==t&&void 0!==t&&this.getCrowd()},savePullDataSuccess:function(e){this.savePushDataSuccess&&e&&this.handleEnd()},savePushDataSuccess:function(e){this.savePullDataSuccess&&e&&this.handleEnd()}},created:function(){this.getCountDataEnum(),this.handleGetCurrentPolicy(),this.getCrowdInitList(),this.getPushPackageList(),this.value1=[this.$moment().format("YYYY-MM-DD HH:mm:ss"),this.$moment().add(20,"years").format("YYYY-MM-DD HH:mm:ss")]}},da=ca,ua=(a("623e"),Object(U["a"])(da,ra,sa,!1,null,"e5a0cbc4",null)),ha=ua.exports,pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-statistics"},[a("div",{staticClass:"statistics-header"},[a("div",{staticClass:"date-picker"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.initChart},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}}),a("div",{staticClass:"export-button"},[a("a",{ref:"launchedDownLoad",attrs:{href:e.launchedExportUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleLaunchedExport}},[e._v("导出数据")])],1)],1)]),e.show?a("div",e._l(e.rowObj,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v(e._s(t.title))]),a("div",{staticClass:"unit-content"},[e.allChartData[i]&&e.allChartData[i].series?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:e.allChartData[i]||"暂无数据"}})],1)])])])})),1)})),1):e._e()])},ma=[],fa={name:"viewEffectDialog",props:{crowdId:{type:[Number,String],default:""},policyId:{type:[Number,String],default:""}},data:function(){return{show:!0,allCharts:{},timeRange:[],allChartData:{},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},rowObj:[{crowdGroup_hit_l_1:{type:"line",title:"人群命中次数对比",span:15},crowdGroup_hit_h_1:{type:"bar",title:"人群命中次数汇总对比",span:9}},{crowdGroup_l_2:{type:"line",title:"产品包曝光设备量对比（个）",span:15},crowdGroup_h_2:{type:"bar",title:"产品包曝光设备量汇总对比",span:9}},{crowdGroup_l_3:{type:"line",title:"付费设备量对比（个）",span:15},crowdGroup_h_3:{type:"bar",title:"付费设备量汇总对比",span:9}},{crowdGroup_l_4:{type:"line",title:"付费率对比（%）",span:15},crowdGroup_h_4:{type:"bar",title:"平均付费率对比",span:9}},{crowdGroup_l_5:{type:"line",title:"客单价对比（元）",span:15},crowdGroup_h_5:{type:"bar",title:"平均客单价汇总对比",span:9}},{crowdGroup_l_6:{type:"line",title:"总营收对比（元）",span:15},crowdGroup_h_6:{type:"bar",title:"总营收汇总对比",span:9}},{crowdGroup_l_8:{type:"line",title:"付费单量对比（单）",span:15},crowdGroup_h_8:{type:"bar",title:"付费单量汇总对比",span:9}},{crowdGroup_hit_h_7:{type:"bar",title:"各子人群命中次数对比（个）",span:24}}],launchedExportUrl:void 0}},watch:{crowdId:{handler:function(e){var t=this;this.show=!1,this.initRange(),this.initChart(),this.$nextTick((function(){t.show=!0}))},immediate:!0},policyId:{handler:function(e){var t=this;this.show=!1,this.initRange(),this.initChart(),this.$nextTick((function(){t.show=!0}))},immediate:!0}},mounted:function(){var e=this;this.policyId&&(this.rowObj=[{sequence_hit_l_1:{type:"line",title:"人群命中对比",span:15},sequence_hit_h_1:{type:"bar",title:"人群命中量汇总对比",span:9}},{sequence_l_2:{type:"line",title:"产品包曝光量对比",span:15},sequence_h_2:{type:"bar",title:"产品包曝光量汇总对比",span:9}},{sequence_l_3:{type:"line",title:"付费设备量对比",span:15},sequence_h_3:{type:"bar",title:"付费设备量汇总对比",span:9}},{sequence_l_4:{type:"line",title:"付费率对比（%）",span:15},sequence_h_4:{type:"bar",title:"平均付费率对比",span:9}},{sequence_l_5:{type:"line",title:"客单价对比（元）",span:15},sequence_h_5:{type:"bar",title:"平均客单价汇总对比",span:9}},{sequence_l_6:{type:"line",title:"总营收对比（元）",span:15},sequence_h_6:{type:"bar",title:"总营收汇总对比",span:9}},{sequence_l_8:{type:"line",title:"付费单量对比",span:15},sequence_h_8:{type:"bar",title:"付费单量汇总对比",span:9}},{sequence_hit_h_7:{type:"bar",title:"各子人群命中量对比",span:24}}]),window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{handleLaunchedExport:function(){var e=this;this.launchedExportUrl="/api/chart/crowdGroupIndexStatistics/download?crowdId=".concat(this.crowdId,"&startDate=").concat(this.timeRange[0],"&endDate=").concat(this.timeRange[1]),console.log("this.launchedExportUrl===",this.launchedExportUrl),this.$nextTick((function(){e.$refs.launchedDownLoad.click()}))},initRange:function(){var e=new Date,t=new Date,a=this.formatDate(e.setTime(e.getTime()-2592e6)),i=this.formatDate(t.setTime(t.getTime()));this.timeRange=[a,i]},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},initChart:function(){var e=this;if(this.allChartData={},this.policyId){var t={policyId:this.policyId,startDate:this.timeRange[0],endDate:this.timeRange[1]};this.$service.getPolicySixIndexStats(t).then((function(t){e.allChartData=t||{},e.$nextTick((function(){var t=e.rowObj;t.forEach((function(t){for(var a in t)"line"===t[a].type?e.showLine(e.allChartData[a],a):e.showBar(e.allChartData[a],a)}))}))}))}else{var a={crowdId:this.crowdId,startDate:this.timeRange[0],endDate:this.timeRange[1]};this.$service.getPolicySixIndexStats2(a).then((function(t){e.allChartData=t||{},e.$nextTick((function(){var t=e.rowObj;t.forEach((function(t){for(var a in t)"line"===t[a].type?e.showLine(e.allChartData[a],a):e.showBar(e.allChartData[a],a)}))}))}))}},aaa:function(e){var t=e.split("_"),a="";t.forEach((function(e){for(var t=0;t<e.length;t++){var i=e[t];0===t&&(i=e[t].toUpperCase()),console.log(i),a+=i}})),console.log(a)},showLine:function(e,t){if(e&&e.xaxis){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return 100*e}));return{name:t.name,data:a,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));this.setLinesEchart(t,"",e.xaxis,n,i,e.xunit,e.yunit)}},showBar:function(e,t){e&&e.xaxis&&("%"===e.yunit&&(e.series=e.series.map((function(e){return 100*e}))),this.setBarEchart(t,"",e.xaxis,e.series,e.xunit,e.yunit))},setBarEchart:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";console.log("setBarEchart======111>>>",this.$refs),console.log("setBarEchart======111>>>",e),console.log("setBarEchart======111>>>",this.$refs[e]);var o=a("313e"),l=o.init(document.getElementById(e));l.setOption({title:{text:t},tooltip:{trigger:"axis"},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:-45,formatter:function(e){return e+r}}},yAxis:{type:"value",width:"50px",triggerEvent:!0,scale:!0,axisLabel:{interval:"auto",formatter:function(e){return e>=1e8?e=e/1e8+"亿"+s:e>=1e7?e=e/1e7+"千万"+s:e>=1e4&&e<1e7?e=e/1e4+"万"+s:e+=s,e}}},series:[{data:n,type:"bar",barWidth:10}]},!0),this.allCharts[e]=l},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=a("313e"),c=l.init(document.getElementById(e));c.setOption({title:{text:t},tooltip:{trigger:"axis"},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:-45,formatter:function(e){return e+s}}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},series:n},!0),this.allCharts[e]=c}}},va=fa,ga=(a("393e"),Object(U["a"])(va,pa,ma,!1,null,"9012ceb2",null)),ba=ga.exports,ya={1:"success",2:"danger",3:"",5:"warning",6:"warningOrange",7:"warningOrange2",8:"warningCyan",11:"success",12:"gray",13:"pink"},Ca={1:"checkbox--green",2:"checkbox--red",3:"checkbox--blue",5:"checkbox--yellow",6:"checkbox--orange",7:"checkbox--orange2",8:"checkbox--cyan",11:"success",12:"gray",13:"checkbox--pink"};function wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sa={components:{LaunchToBusiness:ha,viewEffectDialog:ba},data:function(){return{showViewEffect:!1,tableData:[],criteria:{},initPageSize:500,tagsListTotal:0,initCurrentPage:1,searchForm:{policyName:""},title:"",showConfiguration:!1,showStatistics:!1,linesTitle:"",pieTitle:"",time:[],time1:[],startDate:"",endDate:"",currentPid:void 0,configTextarea:"",showLaunch:!1,launchItems:[],pageSize:10,currentPage:1,totalCount:1,start:1,addFormVisible:!1,conditionTagIdsData:[],conditionTagsFiltered:[],tagList:[],defaultProps:{children:"child",label:"groupName"},addForm:{policyId:"",policyName:"",conditionTagIds:[],crowdTagCrowdIds:[]},addFormRules:{policyName:[{required:!0,message:"请填写策略名称",trigger:"blur"}]},statusTip:void 0,searchValue:"",reloadHistory:!0,placeHolderInputObject:{POLICY_NAME:"请输入策略名称",POLICY_ID:"请输入策略id",TAG_NAME:"请输入策略维度",CREATOR_NAME:"请输入创建人名称",OFFICE_NAME:"请输入创建人部门名称",CROWD_ID:"请输入人群ID"},recordId:void 0,tempPolicyAndCrowd:{},showLaunchToBusiness:!1,launchSource:"strategy",checkList:[],showAll:!1,seeDetailData:{props:{border:!0},data:[],header:[{label:"版本号",prop:"versionId"},{label:"文件名称",prop:"fileName"},{label:"创建时间",prop:"createTime"},{label:"操作",width:"100px",render:function(e,t){var a=t.row;return e("el-popover",{attrs:{placement:"left",width:"600",trigger:"click"}},[e("el-input",{props:{type:"textarea",rows:8,readonly:!0,value:a.content,autosize:{minRows:10,maxRows:20}},class:"get-setting"}),e("el-button",{props:{type:"text"},slot:"reference"},"查看配置")])}}]},detailPagination:{filter:{},pagination:{pageSize:10,currentPage:1,total:0},currentId:null}}},computed:{dataSourceColorEnum:function(){return ya},dataSourceColorClassEnum:function(){return Ca}},props:["historyFilter","checkListFilter","parentSource","showAllParent"],created:function(){this.$root.$on("stratege-list-refresh",this.loadData),this.loadData();var e=new Date,t=new Date;this.startDate=this.formatDate(e.setTime(e.getTime()-6912e5)),this.endDate=this.formatDate(t.setTime(t.getTime()-864e5))},watch:{time:function(e,t){this.currentPid&&0!==t.length&&(this.setDataInMonth(e[0],e[1])?this.drawLines(this.currentPid,e[0],e[1]):(this.$message("日期间隔最多只能是30天！请重新选择日期"),this.time=t))},time1:function(e,t){this.currentPid&&0!==t.length&&(this.setDataInMonth(e[0],e[1])?this.drawPie(this.currentPid,e[0],e[1]):(this.$message("日期间隔最多只能是30天！请重新选择日期"),this.time1=t))},tagList:function(e){this.checkedList=e?e.map((function(e){return String(e.tagId)})):[]}},methods:{handleSortChange:function(e){console.log("column====",e);var t={orderType:""};this.currentPage=1;var a=e.prop;"past7Active"===a?"descending"===e.order?t.orderType=0:"ascending"===e.order?t.orderType=1:t.orderType=null:"past7Req"===a&&("descending"===e.order?t.orderType=2:"ascending"===e.order?t.orderType=3:t.orderType=null),this.loadData(t)},freshService:function(){var e=this;this.$service.freshService().then((function(t){e.$message({type:"info",message:t})}))},freshCache:function(e){var t=this;this.$confirm("新建的人群策略将实时生效，旧的策略更新需要延时2小时生效","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.freshCache({policyId:e.policyId}).then((function(e){t.loadData(),t.$message({type:"info",message:e})}))}))},getTags:function(){var e=this;this.$service.policyTagSeach({pageNum:this.initCurrentPage,pageSize:this.initPageSize,s:this.searchValue}).then((function(t){e.conditionTagsFiltered=t.pageInfo.list,e.tagsListTotal=t.pageInfo.total}))},handleTagCurrentChange:function(e){this.initCurrentPage=e,this.getTags()},removeTag:function(e){var t=this.addForm;12===e.tDataSource?t.crowdTagCrowdIds=t.crowdTagCrowdIds.filter((function(t){return t!==e.tagId})):t.conditionTagIds=t.conditionTagIds.filter((function(t){return t!==e.tagId})),this.tagList.splice(this.tagList.indexOf(e),1)},handleTagChange:function(e,t){var a=[];if(e)this.tagList.push(t),12===t.tDataSource?this.addForm.crowdTagCrowdIds.push(t.tagId):this.addForm.conditionTagIds.push(t.tagId);else{a=this.tagList;for(var i=a.length-1;i>=0;i--)a[i].tagId==t.tagId&&a.splice(i,1);12===t.tDataSource?this.addForm.crowdTagCrowdIds=this.addForm.crowdTagCrowdIds.filter((function(e){return e!==t.tagId})):this.addForm.conditionTagIds=this.addForm.conditionTagIds.filter((function(e){return e!==t.tagId}))}},resetSearch:function(){this.searchValue="";var e=this.addForm.conditionTagIds;this.getTags(),this.addForm.conditionTagIds=e},handleAdd:function(){this.$router.push({name:"oneTouchDrop",params:{source:this.parentSource?"myCrowd":void 0,refresh:!0}}),this.$store.commit("setSchemeConfigNull")},handleEdit:function(e){var t=Object(nt["cloneDeep"])(e);this.addFormVisible=!0,this.title="编辑",this.addForm.policyId=t.policyId,this.addForm.policyName=t.policyName,this.searchValue="",this.getTags(),this.tagList=t.tagsList||[],t.conditionTagIds?this.addForm.conditionTagIds=t.conditionTagIds.split(",").map((function(e){return String(e)})):this.addForm.conditionTagIds=[],t.crowdTagCrowdIds?this.addForm.crowdTagCrowdIds=t.crowdTagCrowdIds.split(",").map((function(e){return String(e)})):this.addForm.crowdTagCrowdIds=[]},crowdList:function(e){this.$emit("openCrowdPage",e,this.criteria,this.checkList,this.showAll)},smartScheme:function(e){this.$emit("openSchemePage",e)},del:function(e){var t=this,a=e.policyId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.policyDel({policyId:a},"删除成功").then((function(){t.loadData()}))})).catch((function(){}))},loadData:function(e){var t=this;this.$service.getListDimension({type:1}).then((function(e){e&&e.behaviorShow&&(t.checkList=e.behaviorShow.split(","))})),this.reloadHistory&&(null!=this.historyFilter&&(this.criteria=this.historyFilter,this.searchForm={policyName:this.historyFilter.policyName},this.currentPage=this.historyFilter.pageNum||this.currentPage,this.pageSize=this.historyFilter.pageSize||this.pageSize),this.showAllParent?this.showAll=this.showAllParent:this.showAll=!1,this.reloadHistory=!1),this.criteria.pageNum=this.currentPage,this.criteria.pageSize=this.pageSize,e&&(this.criteria=_a(_a({},this.criteria),e)),this.showAll?this.$service.policyList(this.criteria).then((function(e){if(e.pageInfo){var a=e.pageInfo.list;t.totalCount=e.pageInfo.total;var i=[];a.forEach((function(e){i.push(e.policyId)})),t.$service.getSrtategyTagsList({policyIds:i.join(",")}).then((function(e){a.forEach((function(t){t.tagsList=e[t.policyId]})),t.tableData=a}))}else t.tableData=[],t.totalCount=0})):this.$service.getMyCrowdList(this.criteria).then((function(e){if(e.pageInfo){var a=e.pageInfo&&e.pageInfo.list?e.pageInfo.list:[];t.totalCount=e.pageInfo?e.pageInfo.total:0;var i=[];a.forEach((function(e){i.push(e.policyId)})),t.$service.getSrtategyTagsList({policyIds:i.join(",")}).then((function(e){a.forEach((function(t){t.tagsList=e[t.policyId]})),t.tableData=a}))}else t.tableData=[],t.totalCount=0}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},handleSearch:function(){this.criteria=this.searchForm,this.currentPage=1,this.loadData()},handleReset:function(){this.searchForm.policyName="",this.criteria={},this.loadData()},addSubmit:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.addForm);a=JSON.parse(a),a.conditionTagIds=a.conditionTagIds.join(","),a.crowdTagCrowdIds=a.crowdTagCrowdIds.join(","),""!=e.addForm.policyId?e.$service.policyUpate(a,"编辑成功").then((function(){e.loadData(),e.addFormVisible=!1})):e.$service.policyAddSave(a,"添加成功").then((function(){e.loadData(),e.addFormVisible=!1}))}))},cancelAdd:function(){this.addFormVisible=!1},seeDevDetail:function(e){this.showConfiguration=!0,this.detailPagination.currentId=e.policyId,this.loadDetailList()},loadDetailList:function(){var e=this,t={policyId:this.detailPagination.currentId,pageNum:this.detailPagination.pagination.currentPage,pageSize:this.detailPagination.pagination.pageSize};this.$service.seeDevFileList(t).then((function(t){e.seeDetailData.data=t.rows,e.detailPagination.pagination.total=t.total}))},handleFilterChange:function(){this.loadDetailList(this.detailPagination.currentId)},handleCommand:function(e){var t=e[0],a=e[1];"edit"===t?this.handleEdit(a):"del"===t?this.del(a):"detail"===t?this.seeDevDetail(a):"collect"===t?this.handlePolicyCollect(a):"statics"===t?(this.currentPid=e[1].policyId,this.showStatistics=!0,this.time=[this.startDate,this.endDate],this.time1=[this.startDate,this.endDate],this.drawPie(this.currentPid,this.startDate,this.endDate),this.drawLines(this.currentPid,this.startDate,this.endDate)):"viewEffect"===t&&(this.showViewEffect=!0,this.currentPid=a.policyId)},setLinesEchart:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return s.cc_format_number(e.data)}},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:n})},setCircleEcharts:function(e,t,i,n){var r=this,s=a("313e"),o=s.init(this.$refs[e]);o.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+r.cc_format_number(e.data.value)+"("+e.percent+")%"}},legend:{orient:"vertical",x:"right",data:i},series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,itemStyle:{normal:{label:{show:!0,formatter:"{b} : {c} ({d}%)"},labelLine:{show:!0}},emphasis:{label:{show:!0,formatter:"{b}\n{c} ({d}%)",position:"center",textStyle:{fontSize:"20",fontWeight:"bold"}}}},data:n}]})},handleCommandStastic:function(e){var t=e[0];this.currentPid=e[1].policyId,this.showStatistics=!0,"detail"===t&&(this.time=[this.startDate,this.endDate],this.time1=[this.startDate,this.endDate],this.drawPie(this.currentPid,this.startDate,this.endDate),this.drawLines(this.currentPid,this.startDate,this.endDate))},drawPie:function(e,t,a){var i=this;this.$service.policyWithBiTotalPie({pid:e,startTime:t,endTime:a}).then((function(e){0===e.data.length?i.pieTitle="累计使用次数按业务分部暂无数据":i.pieTitle="累计使用次数按业务分部",i.setCircleEcharts("hitBiTotal","",e.name,e.data)}))},drawLines:function(e,t,a){var i=this;this.$service.policyWithBiTotalLine({pid:e,startTime:t,endTime:a}).then((function(e){var t=e.series.map((function(e){return e.name})),a=e.series.map((function(e){return{name:e.name,data:e.data,type:"line"}}));i.linesTitle="策略使用以及各业务使用次数统计",i.setLinesEchart("main","",e.date,a,t)}))},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},launchDetail:function(e){var t=this;this.showLaunch=!0,this.$service.policyUseInBi({policyId:e}).then((function(e){t.launchItems=e}))},setDataInMonth:function(e,t){var a=new Date(e).getTime(),i=new Date(t).getTime(),n=2592e6;return!(i-a>n)},handleLaunch:function(e){this.showLaunchToBusiness=!0,this.recordId=e.policyId,this.tempPolicyAndCrowd=e},handleCloseDialog:function(){this.showLaunchToBusiness=!1},handlePolicyCollect:function(e){var t=this,a=e.myCollect,i=e.policyId;a?this.$service.removeCollectPolicy({policyId:i},"成功取消收藏此策略！").then((function(){t.loadData()})):this.$service.collectPolicy({policyId:i},"成功收藏此策略！").then((function(){t.loadData()}))},handleCheckListChange:function(e){this.$service.saveListDimension({type:1,behaviorShow:e.join(",")})},handleShowAllChange:function(){this.loadData()}}},ka=Sa,Ia=(a("f6c8"),a("23f7"),Object(U["a"])(ka,ia,na,!1,null,"c649e82e",null)),xa=Ia.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("crowd-list",{directives:[{name:"show",rawName:"v-show",value:e.isShowCrowdList,expression:"isShowCrowdList"}],ref:"list",attrs:{selectRow:e.selectRow},on:{goBack:e.goBackFirstLayer,addCrowd:e.addCrowd,addLinkCrowd:e.openAddLinkCrowd,editABCrowd:e.editABCrowd,getBigCrowdId:e.getBigCrowdId,handleDynamicTest:e.handleDynamicTest}}),e.isShowCrowdList||e.isAbTest||""!==e.mode?e._e():a("crowd-add",{attrs:{crowd:e.crowd,isDynamicPeople:e.isDynamicPeople,crowdId:e.crowdId,policyId:e.selectRow.policyId,limitLaunchDisabled:e.effectCrowd},on:{goBackCrowdListPage:e.goBackCrowdListPage}}),!e.isShowCrowdList&&e.isAbTest&&"editABTest"===e.mode?a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.tabSet,callback:function(t){e.tabSet=t},expression:"tabSet"}},[a("el-tab-pane",{attrs:{label:"编辑人群条件",name:"first"}},[a("crowd-add",{attrs:{crowd:e.crowd,crowdId:e.crowdId,policyId:e.selectRow.policyId,limitLaunchDisabled:e.effectCrowd},on:{goBackCrowdListPage:e.goBackCrowdListPage}})],1),a("el-tab-pane",{attrs:{label:"编辑AB子人群",name:"second"}},[a("crowd-a-b-add",{attrs:{crowd:e.crowd,mode:e.isAbTest?"editABTest":""},on:{goBackCrowdListPage:e.goBackCrowdListPage}})],1)],1)],1):e._e(),e.isShowCrowdList||"addABTest"!==e.mode?e._e():a("crowd-a-b-add",{attrs:{crowd:e.crowd},on:{goBackCrowdListPage:e.goBackCrowdListPage}}),e.isShowCrowdList||"addDynamicTest"!==e.mode?e._e():a("DynamicTest",{attrs:{initPolicyId:e.selectRow.policyId,initPolicyName:e.selectRow.policyName,initCrowdId:e.bigCrowdId},on:{goBackCrowdListPage:e.goBackCrowdListPage}}),e.isShowCrowdList||"editDynamicCrowd"!==e.mode?e._e():a("div",[a("el-tabs",{attrs:{type:"card","before-leave":e.handleBeforeTagLeave},on:{"tab-click":e.handleTabClick},model:{value:e.tabSet,callback:function(t){e.tabSet=t},expression:"tabSet"}},[a("el-tab-pane",{attrs:{label:"编辑人群条件",name:"first"}}),a("el-tab-pane",{attrs:{label:"编辑动态人群",name:"second"}})],1),"first"===e.tabSet?a("crowd-add",{ref:"crowdAddRef",attrs:{crowd:e.crowd,crowdId:e.crowdId,policyId:e.selectRow.policyId,limitLaunchDisabled:e.effectCrowd},on:{goBackCrowdListPage:e.goBackCrowdListPage}}):e._e(),"second"===e.tabSet?a("DynamicTest",{ref:"dynamicTestRef",attrs:{initPolicyId:e.selectRow.policyId,initPolicyName:e.selectRow.policyName,initCrowdId:e.bigCrowdId,initActiveStep:e.initActiveStep},on:{goBackCrowdListPage:e.goBackCrowdListPage,handleActiveStepChange:e.handleActiveStepChange}}):e._e()],1),a("el-dialog",{attrs:{title:"引用人群",visible:e.linkDialogVisible},on:{"update:visible":function(t){e.linkDialogVisible=t}}},[a("linkCrowd",{ref:"linkCrowdCom",on:{goBackCrowdListPage:e.goBackCrowdListPage},model:{value:e.multipleSelection,callback:function(t){e.multipleSelection=t},expression:"multipleSelection"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),a("el-button",{on:{click:e.handleClear}},[e._v("全部清空")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)],1)],1)},Da=[],$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("el-row",[a("el-col",{attrs:{span:24}},[null==e.crowdId?a("div",{staticClass:"title"},[e._v("新增人群")]):e._e(),null!=e.crowdId?a("div",{staticClass:"title"},[e._v("编辑人群")]):e._e()])],1),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"人群名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"投放名称",maxlength:50},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("div",{staticStyle:{position:"relative"}},[e.tags.length>0?a("div",[a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"设置标签",prop:"tagIds"}},[a("MultipleSelect",{attrs:{tags:e.tags,rulesJson:e.rulesJson}})],1)],1):e._e(),e.tags.length>0&&e.actionTags.length>0&&e.hasBehaviorTag||e.tags.length>0&&e.specialTags.length>0||e.actionTags.length>0&&e.hasBehaviorTag&&e.specialTags.length>0?a("div",{staticClass:"outer-and"},[a("el-button",{key:"condition",attrs:{type:"danger",round:""},on:{click:function(t){return e.handleConditionChange()}}},[e._v(e._s("OR"===e.behaviorRulesJson.link?"或":"且")+" ")])],1):e._e(),e.actionTags.length>0&&e.hasBehaviorTag?a("el-form-item",{attrs:{label:"行为标签"}},[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",attrs:{actionTags:e.actionTags,behaviorRulesJson:e.behaviorRulesJson}})],1):e._e(),e.specialTags.length>0?a("el-form-item",{attrs:{label:"动态因子"}},[a("MultipleSelect",{attrs:{specialTags:e.specialTags,dynamicPolicyJson:e.dynamicPolicyJson}})],1):e._e()],1),e.form.isShowAutoVersion?a("el-form-item",{attrs:{label:"是否每日更新",prop:"autoVersion"}},[a("el-radio-group",{model:{value:e.form.autoVersion,callback:function(t){e.$set(e.form,"autoVersion",t)},expression:"form.autoVersion"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1):e._e(),e.isDynamicPeople?e._e():[a("el-form-item",{attrs:{label:"是否限制投放数量",prop:"limitLaunch"}},[a("el-radio-group",{attrs:{disabled:e.limitLaunchDisabled},model:{value:e.form.limitLaunch,callback:function(t){e.$set(e.form,"limitLaunch",t)},expression:"form.limitLaunch"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),e.form.limitLaunch?a("el-form-item",{attrs:{label:"投放数量",prop:"limitLaunchCount"}},[a("el-input-number",{staticStyle:{width:"220px"},attrs:{size:"medium",placeholder:"不能大于1,000,000",max:1e6,min:1},model:{value:e.form.limitLaunchCount,callback:function(t){e.$set(e.form,"limitLaunchCount",t)},expression:"form.limitLaunchCount"}}),a("span",{staticClass:"tip-text"},[e._v("命中的设备数量上限")])],1):e._e(),a("el-form-item",{attrs:{label:"人群黑名单",prop:"blackFlag"}},[a("el-radio-group",{model:{value:e.form.blackFlag,callback:function(t){e.$set(e.form,"blackFlag",t)},expression:"form.blackFlag"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),1===e.form.blackFlag?[e._l(e.form.blackList,(function(t,i){return a("div",{key:i,staticClass:"filed-row"},[a("el-form-item",{attrs:{prop:"blackList."+i+".value",rules:[{required:!0,message:"不能为空",trigger:"blur"},{validator:e.checkBlackName,trigger:["blur"]}]}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入要屏蔽的MAC地址",clearable:"",maxlength:"12","show-word-limit":""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.form.blackList.length>1?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-remove-outline"},on:{click:function(t){return e.handleDeleteBlack(i)}}}):e._e()],1)],1)})),a("div",{staticClass:"filed-row",staticStyle:{"margin-left":"130px"}},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:e.handleAddBlack}},[e._v("添加")])],1)]:e._e(),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),null!=e.crowdId?a("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[a("el-input",{attrs:{size:"small"},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}})],1):e._e()]],2)],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")])],1),a("el-dialog",{staticClass:"showMoreTags",attrs:{title:"显示更多标签","append-to-body":!0,visible:e.showMoreTags},on:{"update:visible":function(t){e.showMoreTags=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"标签名称"}},[a("el-input",{attrs:{placeholder:"标签名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.formInline.attrName,callback:function(t){e.$set(e.formInline,"attrName",t)},expression:"formInline.attrName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("div",[a("el-radio-group",{model:{value:e.checkboxValue,callback:function(t){e.checkboxValue=t},expression:"checkboxValue"}},e._l(e.tagList,(function(t,i){return a("el-radio",{key:t.attrId+i,attrs:{label:t.attrValue}},[e._v(e._s(t.attrName))])})),1)],1),a("el-pagination",{staticClass:"pagination",attrs:{small:"",layout:"prev,pager,next",total:e.tagsListTotal,"page-size":e.initPageSize,"current-page":e.initCurrentPage},on:{"current-change":e.handleCurrentChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showMoreTags=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCheckboxOk}},[e._v("确 定")])],1)],1)],1)},La=[],Na=(a("ac4d"),a("8a81"),a("1c4c"),a("20d6"),a("b54a"),a("7cdf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-container multipleSelect"},[a("div"),a("el-form",{ref:"ruleForm",attrs:{model:e.rulesJson}},[e.tags&&e.tags.length>0?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.rulesJson.rules.length>1,expression:"rulesJson.rules.length > 1"}],key:e.i+"or",staticClass:"label-or-space"},[a("el-button",{key:"button2_"+e.i,attrs:{type:"success",round:""},on:{click:function(t){return e.handleRulesConditionChange(e.rulesJson)}}},[e._v("\n        "+e._s("AND"===e.rulesJson.condition?"且":"或")+"\n      ")])],1),e._l(e.rulesJson.rules,(function(t,i){return[a("div",{key:i,staticClass:"label-ground"},[a("div",{staticClass:"tag-condition--parent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rules.length>1,expression:"item.rules.length > 1"}],staticClass:"tag-condition"},[a("el-button",{key:"button"+i+"_"+e.i,attrs:{type:"warning",round:"",size:"small"},on:{click:function(a){return e.handleRulesConditionChange(t)}}},[e._v("\n            "+e._s("AND"===t.condition?"且":"或")+"\n          ")])],1),e._l(t.rules,(function(n,r){return a("div",{key:i+"tagId"+r,class:{"label-item":!0,paddingTop:r>0}},[20===n.dataSource?[a("span",{staticClass:"txt"},[e._v(e._s(n.tagName))]),a("RuleCom",{staticClass:"rule-wrap",attrs:{childItem:n,index:i,n:r}}),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])]:[a("span",{staticClass:"txt"},[e._v(e._s(n.categoryName))]),13===n.dataSource?a("span",[a("el-select",{key:r+"realTime",staticClass:"time-dot-select-new",staticStyle:{width:"130px"},attrs:{filterable:"",clearable:"",placeholder:"请选择权益"},model:{value:n.subTag,callback:function(t){e.$set(n,"subTag",t)},expression:"childItem.subTag"}},e._l(e.getTagAttrChild[n.tagId],(function(e){return a("el-option",{key:e.attrId,attrs:{value:e.attrValue,label:e.attrName}})})),1)],1):e._e(),a("span",{staticClass:"sel"},["time"===n.tagType?[n.version>0?[a("el-select",{key:r+"timeKey",staticClass:"time-dot-select-new",staticStyle:{width:"130px"},on:{change:function(t){return e.handelTimeTagTypeSelectChange(n)}},model:{value:n.dateAreaType,callback:function(t){e.$set(n,"dateAreaType",t)},expression:"childItem.dateAreaType"}},[a("el-option",{attrs:{value:0,label:"未发生该行为"}}),a("el-option",{attrs:{value:1,label:"动态时间"}}),a("el-option",{attrs:{value:2,label:"固定时间"}})],1)]:[a("el-select",{directives:[{name:"show",rawName:"v-show",value:3===n.isDynamicTime,expression:"childItem.isDynamicTime === 3"}],key:r+"timeKey",staticClass:"time-dot-select-new",on:{change:function(t){return e.handelTimeTagTypeSelectChange(n)}},model:{value:n.dateAreaType,callback:function(t){e.$set(n,"dateAreaType",t)},expression:"childItem.dateAreaType"}},[a("el-option",{attrs:{value:0,label:"空"}}),a("el-option",{attrs:{value:1,label:"已过期"}}),a("el-option",{attrs:{value:2,label:"未过期"}})],1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:3!==n.isDynamicTime,expression:"childItem.isDynamicTime !== 3"}],staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},on:{change:function(t){return e.handleOperatorChange(n)}},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})],1)]]:a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve"},on:{change:function(t){return e.handleOperatorChange(n)}},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},["number"===n.tagType?[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})]:e._e(),"string"===n.tagType||"mix"===n.tagType?[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"不是"}}),a("el-option",{attrs:{value:"null",label:"为空"}})]:e._e(),"boolean"===n.tagType?[a("el-option",{attrs:{value:"=",label:"="}})]:e._e(),"collect"===n.tagType||"crowd"===n.tagType?[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"不是"}})]:e._e()],2)],2),"crowd"!==n.tagType?a("span",{staticClass:"in"},["time"===n.tagType?a("span",[0!==n.dateAreaType?[n.version>0?[2===n.dateAreaType?a("span",{staticStyle:{display:"flex"}},[a("el-date-picker",{key:i+"startTimeKey",staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("\n                      ~\n                      "),a("el-date-picker",{key:i+"endTimeKey",staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}})],1):a("span",[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.checkNumMostFour(n.startDay)}},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("天~\n                      "),a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.bigNum(n)}},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}}),e._v("天\n                    ")],1)]:[1===n.isDynamicTime?[a("el-date-picker",{key:i+"key",attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}})]:e._e(),2===n.isDynamicTime?[a("el-select",{key:r+"timeKey",staticClass:"time-dot-select",model:{value:n.dynamicTimeType,callback:function(t){e.$set(n,"dynamicTimeType",t)},expression:"childItem.dynamicTimeType"}},[a("el-option",{attrs:{value:1,label:"在当日之前"}}),a("el-option",{attrs:{value:2,label:"在当日之后"}})],1),a("span",[a("el-input",{staticClass:"time-dot-input",on:{blur:function(t){return e.checkNum(n.value)}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}}),e._v("天\n                      ")],1)]:e._e(),3===n.isDynamicTime?[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.checkNumMostFour(n.startDay)}},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("天~\n                      "),a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.bigNum(n)}},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}}),e._v("天\n                    ")]:e._e()]]:e._e()],2):"string"===n.tagType||"collect"===n.tagType||"mix"===n.tagType?[e.cache[n.tagId]?["string"===n.tagType&&"null"===n.operator?a("el-select",{key:"null",attrs:{disabled:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},[a("el-option",{attrs:{label:"空",value:"nil"}})],1):["mix_area"===n.tagCode?a("div",{staticClass:"mix-area-select"},[a("el-select",{key:i+"mix_area_select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},on:{change:function(t){return e.areaSelectChange(t,n.tagCode,n)}},model:{value:n.provinceValue,callback:function(t){e.$set(n,"provinceValue",t)},expression:"childItem.provinceValue"}},e._l(e.cache[n.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1),a("el-select",{key:i+"mix_area2_select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},on:{change:function(t){return e.citySelectChange(t,n,e.cityData[n.provinceValue])}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.cityData[n.provinceValue],(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1)],1):a("el-select",{key:i+"select",staticClass:"inline-input",attrs:{multiple:"string"===n.tagType&&"null"!==n.operator,filterable:"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},on:{change:function(t){return e.citySelectChange(t,n,e.cache[n.tagId].list)}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.cache[n.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1),a("div",{staticClass:"errorMsg"},[e._v("\n                      "+e._s(n.errorMsg?n.errorMsg:"")+"\n                    ")])]]:e._e()]:"number"===n.tagType?[a("el-input-number",{key:i+"input",attrs:{placeholder:"请输入内容"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}}),n.tagName.includes("主页版本")?a("span",{staticStyle:{color:"gray","font-size":"12px"}},[e._v("\n                  例如：7470000\n                ")]):e._e()]:a("el-select",{attrs:{disabled:"string"===n.tagType&&"null"===n.operator},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},["string"===n.tagType&&"null"===n.operator?[a("el-option",{attrs:{label:"空",value:"nil"}})]:[a("el-option",{attrs:{value:"true",label:"是"}}),a("el-option",{attrs:{value:"false",label:"否"}})]],2)],2):e._e(),"time"===n.tagType&&0===n.version?a("span",[0!==n.dateAreaType?[3!==n.isDynamicTime?a("el-button",{key:n.tagId+r,on:{click:function(t){return e.changeTimeWays(n)}}},[2===n.isDynamicTime?a("span",[e._v("切换到具体时间点")]):e._e(),1===n.isDynamicTime?a("span",[e._v("切换至时间天数")]):e._e()]):e._e(),3!==n.isDynamicTime?a("el-button",{on:{click:function(e){n.isDynamicTime=3,n.dateAreaType=0,n.operator="between",n.value=n.startDay+"-"+n.endDay}}},[e._v("切换至新方案\n                ")]):e._e(),3===n.isDynamicTime?a("el-button",{on:{click:function(e){n.isDynamicTime=2,n.dynamicTimeType=1,n.operator="=",n.value=""}}},[e._v("切换至旧方案")]):e._e()]:e._e()],2):e._e(),e.cache[n.tagId]?[!e.cache[n.tagId].select||"string"!==n.tagType&&"collect"!==n.tagType?e._e():a("span",[a("el-button",{key:n.tagId+r,on:{click:function(t){return e.handleSelectMore(n)}}},[e._v("点击选择更多\n                ")])],1)]:e._e(),a("span",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handelCopyRule(t,n,r)}}},[e._v("复制")])],1),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})]),"time"===n.tagType&&3===n.isDynamicTime?a("span",[n.version>0&&1===n.dateAreaType?a("div",{staticStyle:{color:"gray","font-size":"12px"}},[e._v("\n                提示：负数表示过去的日期，例如过去一周到未来3天，可以表示成-7天到3天\n              ")]):0===n.version?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  状态：到期时间请选择“已过期”或“未过期”，其他请选“空”\n                  "),a("br"),e._v("时间设置：30天以内：输入0～30天；30天以外：请输入30天～9999天\n                ")]),a("el-button",{attrs:{type:"text"}},[e._v("提示")])],1):e._e()],1):e._e()]],2)})),a("div",{staticClass:"label-add"},[a("div",{staticClass:"optional-condition"},e._l(e.tags,(function(i){return a("el-tag",{key:i.tagItem,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[i.dataSource]},nativeOn:{click:function(a){return e.handleAddChildRule(t,i)}}},[e._v(e._s(i.tagName)+"\n            ")])})),1)])],2)])]})),a("div",{staticClass:"label-or"},[e.tags.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.rulesJson.rules.length>0?"10px":0}},[e._l(e.tags,(function(t){return a("el-tag",{key:t.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[t.dataSource]},nativeOn:{click:function(a){return e.handleAddRule(t)}}},[e._v(e._s(t.tagName)+"\n        ")])})),e.showHitTip?a("div",{staticClass:"introjs-hint",staticStyle:{"font-size":"28px",position:"absolute",bottom:"-28px",left:"20px",color:"#999"}},[a("i",{staticClass:"el-icon-thumb",staticStyle:{"font-size":"28px"}}),a("span",{staticStyle:{"font-size":"12px"}},[e._v("点击标签来编辑人群条件")])]):e._e()],2):e._e()])],2):e._e()]),e.specialTags&&e.specialTags.length>0?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.dynamicPolicyJson.rules.length>1,expression:"dynamicPolicyJson.rules.length > 1"}],key:e.i+"_or",staticClass:"label-or-space"},[a("el-button",{key:"button3_"+e.i,attrs:{type:"success",round:""},on:{click:function(t){return e.handleRulesConditionChange(e.dynamicPolicyJson)}}},[e._v("\n        "+e._s("AND"===e.dynamicPolicyJson.condition?"且":"或")+"\n      ")])],1),e._l(e.dynamicPolicyJson.rules,(function(t,i){return[a("div",{key:i,staticClass:"label-ground"},[a("div",{staticClass:"tag-condition--parent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rules.length>1,expression:"item.rules.length > 1"}],staticClass:"tag-condition"},[a("el-button",{key:"button"+i+"_"+e.i,attrs:{type:"warning",round:"",size:"small"},on:{click:function(a){return e.handleRulesConditionChange(t)}}},[e._v("\n              "+e._s("AND"===t.condition?"且":"或")+"\n            ")])],1),e._l(t.rules,(function(n,r){return a("div",{key:i+"tagId"+r,class:{"label-item":!0,paddingTop:r>0}},["number"===n.tagType?[a("div",{staticClass:"flex-item"},[a("div",[e._v("位置类型")]),a("div",[a("el-select",{staticStyle:{width:"80px"},model:{value:n.dynamic.type,callback:function(t){e.$set(n.dynamic,"type",t)},expression:"childItem.dynamic.type"}},[a("el-option",{attrs:{label:"版面",value:1}}),a("el-option",{attrs:{label:"版块",value:2}})],1)],1)]),a("div",{staticClass:"flex-item"},[a("div",[e._v("位置ID")]),a("el-input",{staticStyle:{width:"150px"},model:{value:n.dynamic.version,callback:function(t){e.$set(n.dynamic,"version",t)},expression:"childItem.dynamic.version"}})],1)]:e._e(),a("span",{class:"number"===n.tagType?"":"txt"},[e._v(e._s(n.categoryName))]),a("span",{class:"number"===n.tagType?"":"sel"},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:!("time"===n.tagType&&3===n.isDynamicTime),expression:"\n                  !(\n                    childItem.tagType === 'time' &&\n                    childItem.isDynamicTime === 3\n                  )\n                "}],staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},on:{change:function(t){return e.handleOperatorChange(n)}},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},["number"===n.tagType?[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})]:e._e()],2)],1),a("span",{staticClass:"in"},["time"===n.tagType?a("span",[2===n.isDynamicTime?[a("el-select",{key:r+"timeKey",staticClass:"time-dot-select",model:{value:n.dynamicTimeType,callback:function(t){e.$set(n,"dynamicTimeType",t)},expression:"childItem.dynamicTimeType"}},[a("el-option",{attrs:{value:1,label:"在当日之前"}}),a("el-option",{attrs:{value:2,label:"在当日之后"}})],1),a("span",[a("el-input",{staticClass:"time-dot-input",on:{blur:function(t){return e.checkNum(n.value)}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}}),e._v("天")],1)]:e._e(),1===n.isDynamicTime?[a("el-date-picker",{key:i+"key",attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}})]:e._e(),3===n.isDynamicTime?[a("span",[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.checkNumMostFour(n.startDay)}},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("天~")],1),a("span",[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"106px"},on:{blur:function(t){return e.bigNum(n)}},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}}),e._v("天")],1)]:e._e()],2):"string"!==n.tagType&&"collect"!==n.tagType||!e.cache[n.tagId]?e._e():["string"===n.tagType&&"null"===n.operator?a("el-select",{attrs:{disabled:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},[a("el-option",{attrs:{label:"空",value:"nil"}})],1):a("el-select",{key:i+"select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.cache[n.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1)],"number"===n.tagType?a("el-input-number",{key:i+"input",attrs:{placeholder:"请输入内容"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}}):a("el-select",{model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},[a("el-option",{attrs:{value:"true",label:"是"}}),a("el-option",{attrs:{value:"false",label:"否"}})],1)],2),a("span",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handelCopyRule(t,n,r)}}},[e._v("复制")])],1),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveSpecialRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])],2)})),a("div",{staticClass:"label-add"},[a("div",{staticClass:"optional-condition"},e._l(e.specialTags,(function(i){return a("el-tag",{key:i.tagId+"_"+i.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[i.dataSource]},nativeOn:{click:function(a){return e.handleAddSpecialChildRule(t,i)}}},[e._v(e._s(i.tagName))])})),1)])],2)])]})),a("div",{staticClass:"label-or"},[e.specialTags.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.dynamicPolicyJson.rules.length>0?"10px":0}},e._l(e.specialTags,(function(t){return a("el-tag",{key:t.tagId+"_"+t.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[t.dataSource]},nativeOn:{click:function(a){return e.handleAddSpecialRule(t)}}},[e._v(e._s(t.tagName))])})),1):e._e()])],2):e._e(),a("el-dialog",{staticClass:"showMoreTags",attrs:{title:"显示更多标签",visible:e.showMoreTags,"append-to-body":!0},on:{"update:visible":function(t){e.showMoreTags=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"标签名称"}},[a("el-input",{attrs:{placeholder:"标签名称"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.formInline.attrName,callback:function(t){e.$set(e.formInline,"attrName",t)},expression:"formInline.attrName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("div",["string"===e.currentChildItem.tagType&&"null"!==e.currentChildItem.operator?a("el-checkbox-group",{model:{value:e.checkboxValue,callback:function(t){e.checkboxValue=t},expression:"checkboxValue"}},e._l(e.tagList,(function(t,i){return a("el-checkbox",{key:t.attrId+i,attrs:{label:t.attrValue}},[e._v(e._s(t.attrName)+"\n        ")])})),1):a("el-radio-group",{model:{value:e.checkboxValue,callback:function(t){e.checkboxValue=t},expression:"checkboxValue"}},e._l(e.tagList,(function(t,i){return a("el-radio",{key:t.attrId+i,attrs:{label:t.attrValue}},[e._v(e._s(t.attrName)+"\n        ")])})),1)],1),a("el-pagination",{staticClass:"pagination",attrs:{small:"",layout:"prev,pager,next",total:e.tagsListTotal,"page-size":e.initPageSize,"current-page":e.initCurrentPage},on:{"current-change":e.handleCurrentChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showMoreTags=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCheckboxOk}},[e._v("确 定")])],1)],1)],1)}),Oa=[],Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-item"},["exposeDays"===e.childItem.tagKey||"exposeTimes"===e.childItem.tagKey||"payAmount"===e.childItem.tagKey?[a("SourceSign",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}})]:e._e(),"moduleActive"===e.childItem.tagKey?[a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".action",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.action,callback:function(t){e.$set(e.childItem,"action",t)},expression:"childItem.action"}},[e._l(e.actionOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".locationType",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.locationType,callback:function(t){e.$set(e.childItem,"locationType",t)},expression:"childItem.locationType"}},[e._l(e.locationTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".locationId",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入ID"},model:{value:e.childItem.locationId,callback:function(t){e.$set(e.childItem,"locationId",t)},expression:"childItem.locationId"}})],1),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".count",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.count,callback:function(t){e.$set(e.childItem,"count",t)},expression:"childItem.count"}},[e._l(e.countOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}})]:e._e(),"couponsActive"===e.childItem.tagKey?[a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".coupon",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.coupon,callback:function(t){e.$set(e.childItem,"coupon",t)},expression:"childItem.coupon"}},[e._l(e.couponOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".count",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.count,callback:function(t){e.$set(e.childItem,"count",t)},expression:"childItem.count"}},[e._l(e.countOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("SourceSign",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}})]:e._e(),"productOrder"===e.childItem.tagKey?[a("SourceSign",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".count",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.count,callback:function(t){e.$set(e.childItem,"count",t)},expression:"childItem.count"}},[e._l(e.productCountOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}})]:e._e(),"detailAdPos"===e.childItem.tagKey?[a("SourceSign",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".count",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.count,callback:function(t){e.$set(e.childItem,"count",t)},expression:"childItem.count"}},[e._l(e.detailAdPosOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}})]:e._e(),"detailPageView"===e.childItem.tagKey?[a("SourceSign",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".count",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},model:{value:e.childItem.count,callback:function(t){e.$set(e.childItem,"count",t)},expression:"childItem.count"}},[e._l(e.detailPageViewOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],2)],1),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}})]:e._e(),"filmModelTag"===e.childItem.tagKey?[e.childItem.isCommonAttr?a("span",{staticClass:"red-tip"},[e._v("所选维度")]):a("FilmModelTagValueSelect",{attrs:{childItem:e.childItem,index:e.index,n:e.n},model:{value:e.filmModelTagValue,callback:function(t){e.filmModelTagValue=t},expression:"filmModelTagValue"}}),a("Operator",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),a("Value",{attrs:{childItem:e.childItem,index:e.index,n:e.n}}),e._m(0)]:e._e()],2)},Ea=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tip-text",staticStyle:{"line-height":"18px"}},[a("i",{staticClass:"el-icon-warning-outline"}),e._v("\n        该影片标签的偏好权重排名共10个，排名1为偏好权重最高，排名10为偏好权重最低\n      ")])}],Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".sourceSign",rules:{required:!0,message:"产品包不能为空",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"180px"},attrs:{placeholder:"请选择产品包",clearable:"",name:"oxve",filterable:""},model:{value:e.childItem.sourceSign,callback:function(t){e.$set(e.childItem,"sourceSign",t)},expression:"childItem.sourceSign"}},[e._l(e.soureceSignList,(function(e){return a("el-option",{key:e.sourceSign,attrs:{value:e.sourceSign,label:e.sourceName+"（"+e.sourceSign+"）"}})}))],2)],1)},Fa=[],Va={inject:["_this"],props:{childItem:{type:Object,default:function(){}},index:{type:Number,default:0},n:{type:Number,default:0}},data:function(){return{}},computed:{soureceSignList:function(){return this._this.soureceSignList}},created:function(){console.log("_this==",this._this)},methods:{}},Ra=Va,ja=(a("40e9"),Object(U["a"])(Ra,Aa,Fa,!1,null,"5d9e5737",null)),Ba=ja.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-select",{staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},model:{value:e.childItem.operator,callback:function(t){e.$set(e.childItem,"operator",t)},expression:"childItem.operator"}},[[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})]],2)],1)},za=[],qa={inject:["_this"],props:{childItem:{type:Object,default:function(){}},index:{type:Number,default:0},n:{type:Number,default:0}}},Ja=qa,Ga=Object(U["a"])(Ja,Ma,za,!1,null,null,null),Ua=Ga.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",["filmModelTag"===e.childItem.tagKey?a("el-input-number",{key:e.n+"input",attrs:{placeholder:"请输入",min:1,max:10},model:{value:e.childItem.value,callback:function(t){e.$set(e.childItem,"value",t)},expression:"childItem.value"}}):a("el-input-number",{key:e.n+"input",attrs:{placeholder:"请输入",min:0},model:{value:e.childItem.value,callback:function(t){e.$set(e.childItem,"value",t)},expression:"childItem.value"}})],1)},Ka=[],Qa={inject:["_this"],props:{childItem:{type:Object,default:function(){}},index:{type:Number,default:0},n:{type:Number,default:0}},data:function(){return{}},created:function(){},methods:{}},Wa=Qa,Ya=Object(U["a"])(Wa,Ha,Ka,!1,null,"ef53910a",null),Za=Ya.exports,Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex"}},[a("el-form-item",{staticClass:"form-item-styl",attrs:{label:"",prop:"rules."+e.index+".rules."+e.n+".tagCode",rules:{required:!0,message:"不能为空",trigger:"change"}}},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handelQiboLoadmore},expression:"{'methord': handelQiboLoadmore}"}],staticStyle:{width:"300px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"搜索关键词","value-key":"tagCode","remote-method":e.remoteMethod,loading:e.loading},on:{change:function(t){return e.selectChange(t,e.childItem)}},model:{value:e.filmModelTagValue,callback:function(t){e.filmModelTagValue=t},expression:"filmModelTagValue"}},[e.filmModelTagOptions.length>0?e._l(e.filmModelTagOptions,(function(e){return a("el-option",{key:e.tagCode,attrs:{label:e.tagCnName+"    ( "+e.pathName+" )"+e.tagCode,value:e}})})):e.childItem.tagCode?[a("el-option",{key:e.filmModelTagValue.tagCode,attrs:{label:e.childItem.tagCnName+"    ( "+e.childItem.pathName+" )"+e.childItem.tagCode,value:e.filmModelTagValue}})]:e._e()],2)],1)],1)},ei=[];function ti(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ai(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ti(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ii={inject:["_this"],props:{childItem:{type:Object,default:function(){}},index:{type:Number,default:0},n:{type:Number,default:0},value:{type:Object,default:function(){}}},data:function(){return{loading:!1,filmModelTagOptions:[],remoteMethodParams:{pageNum:1,pageSize:20,keywords:""},totalPages:0,filmModelTagValue:{}}},watch:{value:{handler:function(e){this.filmModelTagValue=ai({tagCode:""},e)},immediate:!0},filmModelTagValue:{handler:function(e){this.$emit("update:value",e)}}},created:function(){console.log("_this==",this._this)},methods:{selectChange:function(e,t){console.log("val---\x3e",e),t.tagCode=e.tagCode,this.$set(t,"tagCode",e.tagCode),t.tagCnName=e.tagCnName,t.pathName=e.pathName},handelQiboLoadmore:function(){this.remoteMethodParams.pageNum<this.totalPages&&(this.remoteMethodParams.pageNum++,this.remoteMethod())},remoteMethod:function(e){var t=this;console.log(this.remoteMethodParams);var a=void 0===e;a||(this.remoteMethodParams.pageNum=1,this.filmModelTagOptions=[],this.remoteMethodParams.keywords=e),this.loading=!0;var i=ai({},this.remoteMethodParams);this.$service.getUptmTag(i).then((function(e){t.totalPages=e.pages,t.filmModelTagOptions=a?t.filmModelTagOptions.concat(e.row):e.row,t.loading=!1})).catch((function(){t.filmModelTagOptions=[],t.loading=!1}))}}},ni=ii,ri=(a("71e8"),Object(U["a"])(ni,Xa,ei,!1,null,"d1f278bc",null)),si=ri.exports,oi={components:{SourceSign:Ba,Operator:Ua,Value:Za,FilmModelTagValueSelect:si},inject:["_this"],props:{childItem:{type:Object,default:function(){}},index:{type:Number,default:0},n:{type:Number,default:0}},data:function(){return{couponsActiveCountType:"pv",couponOptions:[{label:"曝光",value:"couponShowPv"},{label:"领用",value:"couponCreatePv"},{label:"使用",value:"couponUsePv"}],actionOptions:[{label:"曝光",value:"show"},{label:"点击",value:"click"}],locationTypeOptions:[{label:"板块位",value:1},{label:"推荐位",value:2}],countOptions:[{label:"次数",value:"pv"},{label:"天数",value:"days"}],productCountOptions:[{label:"下单次数",value:"orderNum"},{label:"下单天数",value:"orderDays"}],detailAdPosOptions:[{label:"曝光次数",value:"detailAdPosShowPv"},{label:"曝光天数",value:"detailAdPosShowDays"}],detailPageViewOptions:[{label:"次数",value:"detailPageViewPv"},{label:"天数",value:"detailPageViewDays"}],filmModelTagValue:{}}},watch:{"childItem.tagKey":{handler:function(e){"filmModelTag"===e&&(this.filmModelTagValue={tagCode:this.childItem.tagCode,tagCnName:this.childItem.tagCnName,pathName:this.childItem.pathName})},immediate:!0}},methods:{}},li=oi,ci=(a("39c9"),Object(U["a"])(li,Pa,Ea,!1,null,"581466ca",null)),di=ci.exports;function ui(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=hi(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function hi(e,t){if(e){if("string"===typeof e)return pi(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?pi(e,t):void 0}}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function mi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function fi(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vi={components:{RuleCom:di},data:function(){return{showHitTip:!0,tipVisible:!1,cache:{},tagSelectMoreShow:!1,showMoreTags:!1,tagsListTotal:0,formInline:{attrName:""},tagList:[],checkboxValue:"",currentChildItem:"",suggestions:{},suggestionsNew:[],priority:"",initPageSize:200,initCurrentPage:1,activeName:0,inputValue:[],rules:{noEmpty:[{required:!0,message:"不能为空",trigger:"blur"}],crowdName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],limitLaunchCount:[{required:!0,message:"请输入大于0小于1,000,000的限制数量",trigger:"blur"}]},cityData:[],provinceValueList:[],getTagAttrChild:{}}},props:{tags:{type:Array,default:function(){return[]}},specialTags:{type:Array,default:function(){return[]}},i:{type:Number,default:0},rulesJson:{type:Object,default:function(){}},dynamicPolicyJson:{type:Object,default:function(){}},crowd:{type:Object,default:function(){}}},computed:{dataSourceColorEnum:function(){return ya}},watch:{tags:{handler:function(e){var t=this;this.getTagAttrChild={},e.forEach((function(e){var a=e.child;a&&a.length>0&&t.$set(t.getTagAttrChild,e.tagId,e.child)}))},immediate:!0},rulesJson:{handler:function(){this.fetchAllTagSuggestions()},immediate:!0},dynamicPolicyJson:{handler:function(){this.fetchAllTagSuggestions()},immediate:!0}},methods:{getChild:function(e){var t=this.tags.filter((function(t){return t.tagId===e.tagId}));return t&&t.child?t.child:[]},handelCopyRule:function(e,t,a){var i=JSON.parse(JSON.stringify(t));e.rules.splice(a+1,0,i)},handelTimeTagTypeSelectChange:function(e){0===e.dateAreaType?e.value="-":e.value="",e.startDay="",e.endDay=""},handleCheckboxOk:function(){this.currentChildItem.value=this.checkboxValue,this.showMoreTags=!1},handleCurrentChange:function(e){var t=this;this.initCurrentPage=e,this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:e}).then((function(e){t.tagList=e.pageInfo.list}))},citySelectChange:function(e,t,a){if("mix"===t.tagType){var i=a.find((function(t){return e===t.attrName}));t.specialTagId=i.attrId,t.specialCondition=i.rulesJson,t.errorMsg=i.rulesJson?"":"标签未配置，请先配置再使用"}},areaSelectChange:function(e,t,a){var i=this;if(a&&(a.value=""),"mix_area"===t){var n={id:e};return this.$service.specialTagChild(n).then((function(t){var a=t.slice().map((function(e){return{attrValue:e.specialTagName,attrName:e.specialTagName,attrId:e.specialTagId,rulesJson:e.rulesJson}}));i.$set(i.cityData,e,a)}))}},changeTimeWays:function(e){e.value="",e.isDynamicTime?e.isDynamicTime=2===e.isDynamicTime?1:2:this.$set(e,"isDynamicTime",2)},getDefaultOperator:function(){return"="},onSubmit:function(){var e=this;this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:1,attrName:this.formInline.attrName}).then((function(t){e.tagList=t.pageInfo.list,e.tagsListTotal=t.pageInfo.total}))},handleSelectMore:function(e){var t=this;this.formInline.attrName="",this.currentChildItem=e,this.checkboxValue="string"===this.currentChildItem.tagType&&Array.isArray(this.currentChildItem.value)?this.currentChildItem.value:"",this.$service.getTagAttr({tagId:e.tagId,pageSize:this.initPageSize,pageNum:this.initCurrentPage}).then((function(e){t.showMoreTags=!0,t.tagList=e.pageInfo.list,t.tagsListTotal=e.pageInfo.total}))},fetchSpecialTagSuggestions:function(e,t){var a=this,i={tagId:e,pageSize:200,isSelect:1};this.$service.specialTagDetailList(i).then((function(i){var n=i.list.map((function(e){return{attrId:e.specialTagId,attrName:e.specialTagName,attrValue:"mix_area"===t?e.specialTagId:e.specialTagName,dataSource:7,rulesJson:e.rulesJson}}));a.$set(a.cache,e,{select:!1,list:n})}))},fetchTagSuggestions:function(e){var t=this;this.$service.getTagAttr({tagId:e,pageNum:1}).then((function(a){var i=a.pageInfo.list;a.info&&a.info.length>0&&(i=a.info),t.$set(t.cache,e,{select:a.select,list:i})}))},handleRemoveRule:function(e,t){var a=this.rulesJson;if(e.rules.splice(e.rules.indexOf(t),1),20!==t.dataSource){var i=[];a.rules.forEach((function(e){e.rules.forEach((function(e){i.includes(e.tagId)||i.push(e.tagId)}))})),this.crowd&&this.crowd.rulesJson&&(this.crowd.tagIds=i)}0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleRemoveSpecialRule:function(e,t){var a=this.dynamicPolicyJson;e.rules.splice(e.rules.indexOf(t),1),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleAddCirRule:function(e){this.rulesJson.rules.push({condition:"AND",rules:[fi(fi({},e),{},{operator:">",sourceSign:"",value:"",tagCode:""})]})},handleAddCirChildRule:function(e,t){e.rules.push(fi(fi({},t),{},{operator:">",sourceSign:"",value:"",tagCode:""}))},handleAddRule:function(e){if(20!==e.dataSource)if(this.showHitTip=!1,this.rulesJson.rules.length>50)this.$message({type:"error",message:"已达最大数量"});else{var t=this.rulesJson.rules.reduce((function(e,t,a){return t.rules.forEach((function(t){12===t.dataSource&&e++})),e}),0);console.log("复合人群下使用人群标签數量--\x3e",t),t>=30?this.$message({type:"error",message:"复合人群下使用人群标签不可超过 30 个"}):(this.crowd&&!this.crowd.tagIds.includes(e.tagId)&&this.crowd.tagIds.push(e.tagId),"string"===e.tagType||"collect"===e.tagType?void 0===this.cache[e.tagId]&&this.fetchTagSuggestions(e.tagId):"mix"===e.tagType&&void 0===this.cache[e.tagId]&&this.fetchSpecialTagSuggestions(e.tagId,e.tagKey),this.rulesJson.rules.push({condition:"AND",rules:[{version:2,operator:"time"===e.tagType?"between":this.getDefaultOperator("="),tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,value:"time"===e.tagType||"crowd"===e.tagType?"-":"",tagId:e.tagId,tagType:e.tagType,categoryName:e.tagName,categoryCode:e.tagKey,dynamicTimeType:e.dynamicTimeType?e.dynamicTimeType:1,isDynamicTime:e.isDynamicTime?e.isDynamicTime:3,thirdPartyCode:e.thirdPartyCode,thirdPartyField:e.thirdPartyField,dateAreaType:e.dateAreaType?e.dateAreaType:0,startDay:"time"===e.tagType?e.startDay?e.startDay:"":void 0,endDay:"time"===e.tagType?e.endDay?e.endDay:"":void 0,initValue:e.initValue,specialCondition:"mix"===e.tagType?e.rulesJson?e.rulesJson:"":void 0,subTag:13===e.dataSource?"":void 0}]}))}else this.handleAddCirRule(e)},handleAddChildRule:function(e,t){if(20!==t.dataSource)if(e.rules.length>=50)this.$message({type:"error",message:"已达最大数量"});else{var a=this.rulesJson.rules.reduce((function(e,t,a){return t.rules.forEach((function(t){12===t.dataSource&&e++})),e}),0);console.log("复合人群下使用人群标签數量--\x3e",a),a>=30?this.$message({type:"error",message:"复合人群下使用人群标签不可超过 30 个"}):("string"===t.tagType||"collect"===t.tagType?void 0===this.cache[t.tagId]&&this.fetchTagSuggestions(t.tagId):"mix"===t.tagType&&void 0===this.cache[t.tagId]&&this.fetchSpecialTagSuggestions(t.tagId,t.tagKey),this.crowd&&!this.crowd.tagIds.includes(t.tagId)&&this.crowd.tagIds.push(t.tagId),e.rules.push({version:2,operator:"time"===t.tagType?"between":this.getDefaultOperator("="),tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,value:"time"===t.tagType||"crowd"===t.tagType?"-":"",tagId:t.tagId,tagType:t.tagType,categoryName:t.tagName,categoryCode:t.tagKey,dynamicTimeType:t.dynamicTimeType?t.dynamicTimeType:1,isDynamicTime:t.isDynamicTime?t.isDynamicTime:3,thirdPartyCode:t.thirdPartyCode,thirdPartyField:t.thirdPartyField,dateAreaType:t.dateAreaType?t.dateAreaType:0,startDay:"time"===t.tagType?t.startDay?t.startDay:"":void 0,endDay:"time"===t.tagType?t.endDay?t.endDay:"":void 0,initValue:t.initValue,specialCondition:"",subTag:13===t.dataSource?"":void 0}))}else this.handleAddCirChildRule(e,t)},handleAddSpecialRule:function(e){this.dynamicPolicyJson.rules.length>=50?this.$message.warning("已达最大数量"):this.dynamicPolicyJson.rules.push({condition:"AND",rules:[{operator:"=",tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,value:"",tagId:e.tagId,tagType:e.tagType,categoryName:e.tagName,categoryCode:e.tagKey,dynamic:{type:1,version:""},initValue:e.initValue}]})},handleAddSpecialChildRule:function(e,t){e.rules.length>50?this.$message.warning("已达最大数量"):(this.crowd&&!this.crowd.tagIds.includes(t.tagId)&&this.crowd.tagIds.push(t.tagId),e.rules.push({operator:"=",tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,value:"",tagId:t.tagId,tagType:t.tagType,categoryName:t.tagName,categoryCode:t.tagKey,dynamic:{type:1,version:""},initValue:t.initValue}))},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=ui(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},checkNum:function(e){return!!/(^\d+$)/.test(e)||(this.$message.error("该值为必填项，且必须是大于等于0整数"),!1)},checkNumMostFour:function(e){return!0},bigNum:function(e){var t=e.startDay?e.startDay:"@",a=e.endDay?e.endDay:"@";this.checkNumMostFour(a)?parseInt(t)>parseInt(a)?this.$message.error("第二个值不能小于第一个值"):e.version>0?e.value=t+"~"+a:e.value=t+"-"+a:e.value=""},handleOperatorChange:function(e){"string"===e.tagType&&"null"===e.operator?e.value="nil":"string"===e.tagType?e.value=[]:"crowd"===e.tagType?e.value="-":e.value=""},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},fetchAllTagSuggestions:function(){var e=this,t=this.rulesJson||this.dynamicPolicyJson||[];if(t.rules.length>0){this.showHitTip=!1;var a=[],i=[];t.rules.forEach((function(t){t.rules.forEach((function(t){if("string"!==t.tagType&&"collect"!==t.tagType||a.push(t.tagId),"mix"===t.tagType&&i.push({tagId:t.tagId,tagCode:t.tagCode,provinceValue:t.provinceValue}),"string"===t.tagType&&"nil"===t.value&&(t.operator="null"),0===t.version)if("time"===t.tagType&&3===t.isDynamicTime){var n=t.value.split("-");e.$set(t,"startDay",n[0]),e.$set(t,"endDay",n[1])}else"time"===t.tagType&&3!==t.isDynamicTime&&(e.$set(t,"dateAreaType",""),e.$set(t,"dynamicTimeType",parseInt(t.dynamicTimeType)))}))})),a=this.distinct(a,[]),0!==a.length&&a.forEach(this.fetchTagSuggestions),0!==i.length&&i.forEach((function(t){e.fetchSpecialTagSuggestions(t.tagId,t.tagCode),e.areaSelectChange(t.provinceValue,t.tagCode)}))}}}},gi=vi,bi=(a("4fca"),Object(U["a"])(gi,Na,Oa,!1,null,"287de4a8",null)),yi=bi.exports,Ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-container multipleSelect"},[e.actionTags&&e.actionTags.length>0?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.behaviorRulesJson&&e.behaviorRulesJson.rules.length>1,expression:"behaviorRulesJson && behaviorRulesJson.rules.length > 1"}],key:e.i+"or",staticClass:"label-or-space"},[a("el-button",{key:"button2_"+e.i,attrs:{type:"success",round:""},on:{click:function(t){return e.handleRulesConditionChange(e.behaviorRulesJson)}}},[e._v("\n        "+e._s("AND"===e.behaviorRulesJson.condition?"且":"或")+"\n      ")])],1),e._l(e.behaviorRulesJson.rules,(function(t,i){return[a("div",{key:i,staticClass:"label-ground"},[a("div",{staticClass:"tag-condition--parent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rules.length>1,expression:"item.rules.length > 1"}],staticClass:"tag-condition"},[a("el-button",{key:"button"+i+"_"+e.i,attrs:{type:"warning",round:"",size:"small"},on:{click:function(a){return e.handleRulesConditionChange(t)}}},[e._v("\n              "+e._s("AND"===t.condition?"且":"或")+"\n            ")])],1),e._l(t.rules,(function(n,r){return a("div",{key:i+"tagId"+r,class:{"label-item":!0,paddingTop:r>0}},[8===n.dataSource?a("div",{staticClass:"behavior-label"},["BAV0001"!==n.tagCode&&"BAV0009"!==n.tagCode&&"BAV0010"!==n.tagCode?a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("Range",{ref:"range",refInFor:!0,attrs:{childItem:n,type:e.getRangeType(n.tagCode),options:e.bavAttrList[n.categoryCode],show:e.showRange},on:{hasMoveBehaviorTagRule:e.hasMoveBehaviorTagRule}}),a("i",{staticClass:"range animated shake",class:e.showRange?"el-icon-d-arrow-left":"el-icon-d-arrow-right",on:{click:e.handelChangeShow}})],1):e._e(),a("Bav",{key:i+"bavRule"+r,ref:"bav",refInFor:!0,attrs:{childItem:n,bavAttrList:e.bavAttrList[n.categoryCode]}})],1):a("div",{staticClass:"behavior-label"},[a("span",{staticClass:"txt"},[e._v(e._s(n.categoryName))]),a("span",{staticClass:"sel"},["time"!==n.tagType?a("el-select",{staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},on:{change:function(t){return e.handleOperatorChange(n)}},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},["number"===n.tagType?[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})]:e._e(),"string"===n.tagType||"mix"===n.tagType?[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"不是"}}),a("el-option",{attrs:{value:"null",label:"为空"}})]:e._e(),"boolean"===n.tagType?[a("el-option",{attrs:{value:"=",label:"="}})]:e._e(),"collect"===n.tagType?[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"不是"}})]:e._e()],2):e._e(),"time"===n.tagType?[n.version>0?[a("el-select",{key:r+"timeKey",staticClass:"time-dot-select-new",staticStyle:{width:"130px"},on:{change:function(t){return e.handelTimeTagTypeSelectChange(n)}},model:{value:n.dateAreaType,callback:function(t){e.$set(n,"dateAreaType",t)},expression:"childItem.dateAreaType"}},[a("el-option",{attrs:{value:0,label:"未发生该行为"}}),a("el-option",{attrs:{value:1,label:"动态时间"}}),a("el-option",{attrs:{value:2,label:"固定时间"}})],1)]:[a("el-select",{directives:[{name:"show",rawName:"v-show",value:3===n.isDynamicTime,expression:"childItem.isDynamicTime === 3"}],key:r+"timeKey",staticClass:"time-dot-select-new",on:{change:function(t){return e.handelTimeTagTypeSelectChange(n)}},model:{value:n.dateAreaType,callback:function(t){e.$set(n,"dateAreaType",t)},expression:"childItem.dateAreaType"}},[a("el-option",{attrs:{value:0,label:"空"}}),a("el-option",{attrs:{value:1,label:"已过期"}}),a("el-option",{attrs:{value:2,label:"未过期"}})],1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:3!==n.isDynamicTime,expression:"childItem.isDynamicTime !== 3"}],staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},on:{change:function(t){return e.handleOperatorChange(n)}},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})],1)]]:e._e()],2),a("span",{staticClass:"in"},["time"===n.tagType?a("span",[0!==n.dateAreaType?[n.version>0?[2===n.dateAreaType?a("span",{staticStyle:{display:"flex"}},[a("el-date-picker",{key:i+"startTimeKey",staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("\n                        ~\n                        "),a("el-date-picker",{key:i+"endTimeKey",staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}})],1):a("span",[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.checkNumMostFour(n.startDay)}},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("天~\n                        "),a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.bigNum(n)}},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}}),e._v("天\n                      ")],1)]:[1===n.isDynamicTime?[a("el-date-picker",{key:i+"key",attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}})]:e._e(),2===n.isDynamicTime?[a("el-select",{key:r+"timeKey",staticClass:"time-dot-select",model:{value:n.dynamicTimeType,callback:function(t){e.$set(n,"dynamicTimeType",t)},expression:"childItem.dynamicTimeType"}},[a("el-option",{attrs:{value:1,label:"在当日之前"}}),a("el-option",{attrs:{value:2,label:"在当日之后"}})],1),a("span",[a("el-input",{staticClass:"time-dot-input",on:{blur:function(t){return e.checkNum(n.value)}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}}),e._v("天\n                        ")],1)]:e._e(),3===n.isDynamicTime?[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.checkNumMostFour(n.startDay)}},model:{value:n.startDay,callback:function(t){e.$set(n,"startDay",t)},expression:"childItem.startDay"}}),e._v("天~\n                        "),a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(t){return e.bigNum(n)}},model:{value:n.endDay,callback:function(t){e.$set(n,"endDay",t)},expression:"childItem.endDay"}}),e._v("天\n                      ")]:e._e()]]:e._e()],2):"string"===n.tagType||"collect"===n.tagType||"mix"===n.tagType?[e.cache[n.tagId]?["string"===n.tagType&&"null"===n.operator?a("el-select",{key:"null",attrs:{disabled:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},[a("el-option",{attrs:{label:"空",value:"nil"}})],1):["mix_area"===n.tagCode?a("div",{staticClass:"mix-area-select"},[a("el-select",{key:i+"mix_area_select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},on:{change:function(t){return e.areaSelectChange(t,n.tagCode,n)}},model:{value:n.provinceValue,callback:function(t){e.$set(n,"provinceValue",t)},expression:"childItem.provinceValue"}},e._l(e.cache[n.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1),a("el-select",{key:i+"mix_area2_select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},on:{change:function(t){return e.citySelectChange(t,n,e.cityData[n.provinceValue])}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.cityData[n.provinceValue],(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1)],1):a("el-select",{key:i+"select",staticClass:"inline-input",attrs:{multiple:"string"===n.tagType&&"null"!==n.operator,filterable:"",placeholder:"请输入或选择",disabled:e.cache[n.tagId].select},on:{change:function(t){return e.citySelectChange(t,n,e.cache[n.tagId].list)}},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.cache[n.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1),a("div",{staticClass:"errorMsg"},[e._v("\n                        "+e._s(n.errorMsg?n.errorMsg:"")+"\n                      ")])]]:e._e()]:"number"===n.tagType?a("el-input-number",{key:i+"input",attrs:{placeholder:"请输入内容"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}}):a("el-select",{attrs:{disabled:"string"===n.tagType&&"null"===n.operator},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},["string"===n.tagType&&"null"===n.operator?[a("el-option",{attrs:{label:"空",value:"nil"}})]:[a("el-option",{attrs:{value:"true",label:"是"}}),a("el-option",{attrs:{value:"false",label:"否"}})]],2)],2),"time"===n.tagType&&0===n.version?a("span",[0!==n.dateAreaType?[3!==n.isDynamicTime?a("el-button",{key:n.tagId+r,on:{click:function(t){return e.changeTimeWays(n)}}},[2===n.isDynamicTime?a("span",[e._v("切换到具体时间点")]):e._e(),1===n.isDynamicTime?a("span",[e._v("切换至时间天数")]):e._e()]):e._e(),3!==n.isDynamicTime?a("el-button",{on:{click:function(e){n.isDynamicTime=3,n.dateAreaType=0,n.operator="between",n.value=n.startDay+"-"+n.endDay}}},[e._v("切换至新方案\n                  ")]):e._e(),3===n.isDynamicTime?a("el-button",{on:{click:function(e){n.isDynamicTime=2,n.dynamicTimeType=1,n.operator="=",n.value=""}}},[e._v("切换至旧方案\n                  ")]):e._e()]:e._e()],2):e._e(),e.cache[n.tagId]?[!e.cache[n.tagId].select||"string"!==n.tagType&&"collect"!==n.tagType?e._e():a("span",[a("el-button",{key:n.tagId+r,on:{click:function(t){return e.handleSelectMore(n)}}},[e._v("点击选择更多\n                  ")])],1)]:e._e(),"time"===n.tagType&&3===n.isDynamicTime?a("span",[n.version>0&&1===n.dateAreaType?a("div",{staticStyle:{color:"gray","font-size":"12px"}},[e._v("\n                  提示：负数表示过去的日期，例如过去一周到未来3天，可以表示成-7天到3天\n                ")]):0===n.version?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                    状态：到期时间请选择“已过期”或“未过期”，其他请选“空”\n                    "),a("br"),e._v("时间设置：30天以内：输入0～30天；30天以外：请输入30天～9999天\n                  ")]),a("el-button",{attrs:{type:"text"}},[e._v("提示")])],1):e._e()],1):e._e()],2),a("span",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handelCopyRule(t,n,r)}}},[e._v("复制")])],1),a("span",{staticClass:"i",staticStyle:{display:"inline-block",height:"30px"},on:{click:function(a){return e.handleRemoveSpecialRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})]),n.isOldversion?a("div",{staticStyle:{color:"red","font-size":"10px"}},[e._v("业务组件升级，若要编辑请删除后重新创建")]):e._e()])})),a("div",{staticClass:"label-add"},[a("div",{staticClass:"optional-condition"},e._l(e.actionTags,(function(i){return a("el-tag",{key:i.tagItem,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[i.dataSource]},nativeOn:{click:function(a){return e.handleAddActionChildRule(t,i)}}},[e._v(e._s(i.tagName))])})),1)])],2)])]})),a("div",{staticClass:"label-or"},[e.actionTags.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.behaviorRulesJson.rules.length>0?"10px":0}},[e._l(e.actionTags,(function(t){return a("el-tag",{key:t.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[t.dataSource]},nativeOn:{click:function(a){return e.handleAddActionRule(t)}}},[e._v(e._s(t.tagName)+"\n        ")])})),e.showHitTip?a("div",{staticClass:"introjs-hint",staticStyle:{"font-size":"28px",position:"absolute",bottom:"-28px",left:"20px",color:"#999"}},[a("i",{staticClass:"el-icon-thumb",staticStyle:{"font-size":"28px"}}),a("span",{staticStyle:{"font-size":"12px"}},[e._v("点击标签来编辑人群条件")])]):e._e()],2):e._e()])],2):e._e(),a("el-dialog",{staticClass:"showMoreTags",attrs:{title:"显示更多标签",visible:e.showMoreTags,"append-to-body":!0},on:{"update:visible":function(t){e.showMoreTags=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"标签名称"}},[a("el-input",{attrs:{placeholder:"标签名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.formInline.attrName,callback:function(t){e.$set(e.formInline,"attrName",t)},expression:"formInline.attrName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("div",["string"===e.currentChildItem.tagType&&"null"!==e.currentChildItem.operator?a("el-checkbox-group",{model:{value:e.checkboxValue,callback:function(t){e.checkboxValue=t},expression:"checkboxValue"}},e._l(e.tagList,(function(t,i){return a("el-checkbox",{key:t.attrId+i,attrs:{label:t.attrValue}},[e._v(e._s(t.attrName)+"\n        ")])})),1):a("el-radio-group",{model:{value:e.checkboxValue,callback:function(t){e.checkboxValue=t},expression:"checkboxValue"}},e._l(e.tagList,(function(t,i){return a("el-radio",{key:t.attrId+i,attrs:{label:t.attrValue}},[e._v(e._s(t.attrName))])})),1)],1),a("el-pagination",{staticClass:"pagination",attrs:{small:"",layout:"prev,pager,next",total:e.tagsListTotal,"page-size":e.initPageSize,"current-page":e.initCurrentPage},on:{"current-change":e.handleCurrentChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showMoreTags=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCheckboxOk}},[e._v("确 定")])],1)],1)],1)},wi=[],_i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"rangeForm",attrs:{model:e.childItem,rules:e.rangeFormRules,disabled:e.isView}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show3,expression:"show3"}]},[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e.type.indexOf("range")>-1?a("div",{staticClass:"range-wrap"},[a("span",[e._v("周期范围")]),a("span",[a("el-select",{staticClass:"input-inline sel",staticStyle:{width:"100px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelSelectChange(e.childItem.bav.rang,e.rangeTypeList,e.childItem.bav.rangeType)}},model:{value:e.childItem.bav.rangeType,callback:function(t){e.$set(e.childItem.bav,"rangeType",t)},expression:"childItem.bav.rangeType"}},[e._l(e.rangeTypeList,(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),a("span",{staticStyle:{"max-width":"252px","min-width":"252px",display:"inline-block"}},["fixed"===e.childItem.bav.rangeType?a("el-form-item",{attrs:{label:"",prop:"bav.rang.value"}},[a("span",{staticStyle:{display:"flex","flex-direction":"column","align-items":"flex-start"}},[e.newRangeFlag?a("span",e._l(e.childItem.bav.rang.newValue,(function(t,i){return a("span",{key:i,staticStyle:{display:"flex","flex-direction":"row"}},[a("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.getPickerOptions(e.childItem.tagCode)},on:{change:e.HandleChange},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),0!==i?a("el-button",{staticClass:"remove-btn",attrs:{type:"text"},on:{click:function(t){return e.removeRange(i)}}},[e._v("删除")]):e._e()],1)})),0):a("span",[a("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.getPickerOptions(e.childItem.tagCode)},model:{value:e.childItem.bav.rang.value,callback:function(t){e.$set(e.childItem.bav.rang,"value",t)},expression:"childItem.bav.rang.value"}})],1),a("el-button",{staticClass:"add-btn",attrs:{type:"text"},on:{click:e.addRange}},[e._v("添加")])],1)]):a("span",{staticStyle:{display:"inline-block",width:"200px"}},[e._v("\n              最近\n              "),a("el-input-number",{attrs:{min:1,max:e.getMaxDay(e.childItem.tagCode),label:"请输入天数"},model:{value:e.childItem.bav.rang.value,callback:function(t){e.$set(e.childItem.bav.rang,"value",t)},expression:"childItem.bav.rang.value"}}),e._v("\n              天\n            ")],1)],1)]):e._e(),e.type.indexOf("week")>-1?a("div",{staticClass:"range-wrap"},[a("span",[e._v("星期范围")]),a("span",[a("el-select",{staticClass:"input-inline sel",staticStyle:{width:"90px"},attrs:{multiple:"",name:"oxve",disabled:e.isSelectedDay},on:{change:function(t){return e.handelSelectChange(e.childItem.bav.weekRang,e.weekRange)}},model:{value:e.childItem.bav.weekRang.value,callback:function(t){e.$set(e.childItem.bav.weekRang,"value",t)},expression:"childItem.bav.weekRang.value"}},[e._l(e.weekRange,(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)]):e._e(),e.type.indexOf("time")>-1?a("div",{staticClass:"range-wrap"},[a("span",[e._v("时间区间")]),a("span",[a("el-select",{staticClass:"input-inline",staticStyle:{width:"210px"},attrs:{multiple:"",name:"oxve",disabled:e.isSelectedDay},on:{change:function(t){return e.handelSelectChange(e.childItem.bav.timeRange,e.timeRange)}},model:{value:e.childItem.bav.timeRange.value,callback:function(t){e.$set(e.childItem.bav.timeRange,"value",t)},expression:"childItem.bav.timeRange.value"}},[e._l(e.timeRange,(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)]):e._e()])])])],1)},Si=[],ki={inject:["_this"],data:function(){return{rangeTypeList:[],weekRange:[],timeRange:[],pickerOptions720:{disabledDate:function(e){var t=62208e6,a=Date.now()+2592e6,i=Date.now()-t;return e.getTime()>a||e.getTime()<i}},show3:!0,isSelectedDay:!1,rangeFormRules:{"bav.rang.value":[{type:"array",required:!0,message:"请输入周期范围",trigger:["change","blur"]}]},newRangeFlag:!1}},props:{type:{type:Array,default:function(){return["range","week","time"]}},childItem:{type:Object,default:function(){}},options:{type:Object,default:function(){}},show:{type:Boolean,default:!0}},watch:{childItem:{handler:function(e){var t=e.bav.behaviorValue;this.isSelectedDay=!1,this.handelIsSelectedDay(t),this.newRangeFlag=!!(this.childItem.bav.rang.newValue&&this.childItem.bav.rang.newValue.length>0)},deep:!0,immediate:!0},show:{handler:function(e){this.show3=e},immediate:!0},options:{handler:function(e){if(e){var t=this,a=e.dict.periodRange||[],i=e.dict.timeRange||[],n=e.dict.weekRange||[];this.rangeTypeList=a.map((function(e){return t.childItem.bav.rang.field=e.tableField,{name:e.dictLabel,value:e.dictValue,field:e.tableField}})),this.timeRange=i.map((function(e){return{name:e.dictLabel,value:e.dictValue,field:e.tableField}})),this.weekRange=n.map((function(e){return{name:e.dictLabel,value:e.dictValue,field:e.tableField}}))}},immediate:!0}},computed:{isView:function(){return!(!this._this||!this._this.isView)&&this._this.isView}},methods:{getPickerOptions:function(e){return"BAV0003"===e?this.pickerOptionsDayinRange(720,720):"BAV0008"===e?this.pickerOptionsDayinRange(90,180):"BAV0013"===e||"BAV0014"===e||"BAV0015"===e?this.pickerOptionsDayinRange20211226(30):this.pickerOptionsDayinRange(30,180)},pickerOptionsDayinRange20211226:function(e){var t=null,a=null;return{onPick:function(i){if(i.maxDate)t=a=null;else{var n=24*e*60*60*1e3;t=i.minDate.getTime()-n,a=i.minDate.getTime()+n}},disabledDate:function(e){var i=Date.now()+2592e6,n=+new Date("2021-12-25");return t&&a?e.getTime()>i||e.getTime()<n||e.getTime()<t||e.getTime()>a:e.getTime()>i||e.getTime()<n}}},pickerOptionsDayinRange:function(e,t){var a=null,i=null;return{onPick:function(t){if(t.maxDate)a=i=null;else{var n=24*e*60*60*1e3;a=t.minDate.getTime()-n,i=t.minDate.getTime()+n}},disabledDate:function(e){var n=24*t*3600*1e3,r=Date.now()+2592e6,s=Date.now()-n;return a&&i?e.getTime()>r||e.getTime()<s||e.getTime()<a||e.getTime()>i:e.getTime()>r||e.getTime()<s}}},getMaxDay:function(e){return"BAV0003"===e?720:"BAV0008"===e||"BAV0013"===e?90:"BAV0014"===e?180:30},HandleChange:function(e){this.childItem.bav.rang.value=e},addRange:function(){this.newRangeFlag=!0;var e=this.childItem.bav.rang.value;this.childItem.bav.rang.newValue?this.childItem.bav.rang.newValue.push({value:[]}):(this.$delete(this.childItem.bav.rang,"newValue"),this.$set(this.childItem.bav.rang,"newValue",[{value:e},{value:[]}]))},removeRange:function(e){this.childItem.bav.rang.newValue.splice(e,1)},openOrClose:function(){this.show3=!this.show3},handelSelectChange:function(e,t,a){e.field=t[0].field,"fixed"===a?(this.childItem.bav.rang.value=[],this.childItem.bav.rang.newValue=void 0,this.newRangeFlag=!1):"move"===a&&(this.childItem.bav.rang.value=""),a&&this.$emit("hasMoveBehaviorTagRule")},handelIsSelectedDay:function(e){for(var t=0;t<e.length;t++){if("day"===e[t].type){this.isSelectedDay=!0;break}e[t].child&&this.handelIsSelectedDay(e[t].child)}}},created:function(){}},Ii=ki,xi=(a("6364"),Object(U["a"])(Ii,_i,Si,!1,null,"55fe97be",null)),Ti=xi.exports,Di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"bav",attrs:{model:e.childItem,rules:e.bavFormRules,inline:!0,disabled:e.isView}},[a("div",{staticClass:"bav-attr-warp"},[a("el-tag",{staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[e.childItem.dataSource]}},[e._v("\n        "+e._s(e.childItem.tagName)+" - "+e._s(e.childItem.tagCode)+"\n      ")]),"BAV0001"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),"有效会员"!==e.childItem.bav.value&&"无效会员"!==e.childItem.bav.value?e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-column"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve",filterable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,isValueClear:!1,extra:{type:e.childItem.bav.value}})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},e._l(e.getBehaviorAttrList(2,{type:e.childItem.bav.value}),(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})})),1)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:t.child.length>1}}),e._l(t.child,(function(t,n){return a("div",{key:t.value,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),"有效会员"!==t.name&&"无效会员"!==t.name?a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].child["+n+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"150px"},attrs:{name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,extra:{type:e.childItem.bav.value},level:3,selectPropKeyValue:"selectKey"})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(3,{type:e.childItem.bav.value}),(function(e){return[a("el-option",{key:e.selectKey,attrs:{value:e.selectKey,label:e.name}})]}))],2)],1),"effective"===t.childCheckedVal||"no_effective"===t.childCheckedVal?a("span",e._l(t.child,(function(i,n){return a("span",{key:"typeInputValue"+n,staticClass:"flex-column"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"200px"},attrs:{multiple:"",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:i,hasChild:!1,level:4,extra:{extra:t.childCheckedVal}})}},model:{value:i.childCheckedVal,callback:function(t){e.$set(i,"childCheckedVal",t)},expression:"item3.childCheckedVal"}},[e._l(e.getBehaviorAttrList(4,{extra:t.childCheckedVal}),(function(e){return[a("el-option",{key:e.value+e.name,attrs:{value:e.value,label:e.name}})]}))],2),e._l(i.child,(function(t,i){return a("div",{key:"typeInputValue"+i,staticClass:"flex-row"},[t.name.indexOf("自定义")>-1?a("div",{staticClass:"flex-row"},[a("span",{staticStyle:{"min-width":"200px"}},[e._v(e._s(t.name))]),a("el-input-number",{attrs:{value:t.value1,min:1,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value1")},blur:function(a){return e.handelInputBlur(t)}}}),a("div",{staticStyle:{padding:"0 10px"}},[e._v("<= "+e._s(t.name.substr(-4,4))+" <=")]),a("el-input-number",{attrs:{value:t.value2,min:1,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value2")},blur:function(a){return e.handelInputBlur(t)}}}),e._v("天\n                        ")],1):e._e()])}))],2)})),0):"paid_single"===t.childCheckedVal?a("span",e._l(t.child,(function(t,i){return a("span",{key:"typeInputValue"+i,staticClass:"flex-row"},[a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)})),0):e._e()],1):e._e()])}))],2)],1)})):e._e()],2)]):"BAV0002"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:e.childItem.bav.behaviorValue.length>1}}),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,extra:{levelOneValue:t.value}})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(t.child,(function(i,n){return a("span",{key:"typeInputValue"+n,staticClass:"flex-row"},[a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{multiple:"",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:i,level:3,extra:{type:t.childCheckedVal,levelOneValue:t.value},reverseSelectAttr:!0})}},model:{value:i.childCheckedVal,callback:function(t){e.$set(i,"childCheckedVal",t)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(3,{type:t.childCheckedVal}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:i.child&&i.child.length>1}}),e._l(i.child,(function(i,n){return a("span",{key:n,staticClass:"flex-row child"},[a("span",{staticClass:"w100"},[e._v(e._s(i.name))]),e._l(i.child,(function(i,n){return a("span",{key:"appid"+n},["安装"===t.value?a("span",{staticClass:"flex-row"},[a("el-input",{staticStyle:{"max-width":"155px","min-width":"155px"},attrs:{placeholder:"应用版本号（可选）",clearable:""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item4.value"}}),e._l(i.child,(function(t,i){return a("span",{key:"typeInputValue"+i,staticClass:"flex-row"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem,isRequired:!1}})],1)}))],2):a("span",{staticClass:"flex-row"},["激活"===t.value||e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:i,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem,isRequired:!1}})],1)])}))],2)}))],2)]),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t,i.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                圈出未活跃\n              ")])],1)}))],2)}))],2)],1):"BAV0003"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-column"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,selectPropKeyValue:"field"})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.field,attrs:{value:e.field,label:e.name}})]}))],2)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:t.child.length>1}}),e._l(t.child,(function(t,n){return a("div",{key:t.value+t.name,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),a("span",{staticClass:"flex-column"},[a("div",[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].child["+n+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{multiple:"",name:"asdq",filterable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!1,level:3,extra:{type:e.childItem.bav.value},reverseSelectAttr:"purchase_recent_two_years"===t.field})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(3,{type:e.childItem.bav.value}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:t.child.length>1}}),e._l(t.child,(function(r,s){return a("span",{key:s,staticClass:"flex-row"},[a("span",{staticClass:"flex-row"},[a("span",{staticClass:"w100"},[e._v(e._s(r.name))]),a("span",{staticClass:"flex-column"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].child["+n+"].child["+s+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{multiple:"object"===typeof r.childCheckedVal,name:"asdq"},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:r,hasChild:!1,level:4})}},model:{value:r.childCheckedVal,callback:function(t){e.$set(r,"childCheckedVal",t)},expression:"item3.childCheckedVal"}},[e._l(e.getBehaviorAttrList(4),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),"purchase_recent_two_years"===t.field?a("el-checkbox",{staticClass:"reverse-check",on:{change:e.ReverseSelect},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                              圈出未购买\n                            ")]):e._e()],1),e.childItem.bav.reverseSelect?e._e():a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:r.child.length>1}}),e._l(r.child,(function(i,n){return a("span",{key:"typeInputValue"+n,staticClass:"flex-column"},[a("span",{staticClass:"flex-row"},[a("span",{staticClass:"w100"},[e._v(e._s(i.name))]),a("el-select",{staticClass:"input-inline",staticStyle:{width:"150px"},attrs:{name:"asdq"},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:i,hasChild:!1,level:5})}},model:{value:i.childCheckedVal,callback:function(t){e.$set(i,"childCheckedVal",t)},expression:"item4.childCheckedVal"}},[e._l(e.getBehaviorAttrList(5),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),a("span",e._l(i.child,(function(n,r){return a("span",{key:r,staticClass:"flex-row"},[e.childItem.bav.reverseSelect||"count"!==n.type?a("span",{staticClass:"flex-row"},[1==i.childCheckedVal?a("span",{staticClass:"flex-row",staticStyle:{width:"300px",height:"31px"}},[a("el-input-number",{attrs:{value:n.value1,min:1,max:5e3,"controls-position":"right"},on:{input:function(t){return e.handelInputBetween(t,n,"value1")},blur:function(t){return e.handelInputBlur(n)}}}),e._v("\n                                      ~ "),a("el-input-number",{attrs:{value:n.value2,min:1,max:5e3,"controls-position":"right"},on:{input:function(t){return e.handelInputBetween(t,n,"value2")},blur:function(t){return e.handelInputBlur(n)}}})],1):e._e(),2==i.childCheckedVal?a("span",{staticClass:"flex-row",staticStyle:{"min-width":"150px"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入产品包ID",clearable:"","remote-method":function(t){e.GouMaiRemoteMethod(t,e.childItem.bav.value)},loading:e.loading},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"item5.value"}},e._l(e.gouMaiPackageIdOptions,(function(e,t){return a("el-option",{key:"package"+e.vipId+t,attrs:{label:e.vipId,value:e.vipId}})})),1)],1):e._e(),"purchase_recent_two_years"===t.field?a("span",[!e.childItem.bav.reverseSelect&&n.child?a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:n.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}}):e._e()],1):e._e()]):a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:n,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)})),0)],1)])}))],2)],1)])])}))],2)])])}))],2)],1)}))],2)]):"BAV0004"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-column"},[a("div",[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{multiple:"",name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,defaultChild:e.moDefaultChild,selectPropKeyValue:"selectKey",isValueClear:!0,reverseSelectAttr:!0})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.selectKey,attrs:{value:e.selectKey,label:e.name}})]}))],2)],1),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(a){return e.ReverseSelect(a,t.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                圈出未活跃\n              ")])],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:t.child.length>1}}),e._l(t.child,(function(t,n){return a("div",{key:"mo"+n,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].child["+n+"].value",rules:{required:!0,message:"必填",trigger:"change"}}},["album_id"===t.field?a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入板块ID","no-data-text":"不支持该ID",clearable:"","remote-method":function(a){e.remoteMethod(a,t.field,e.childItem.bav.value)},loading:e.loading},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item2.value"}},e._l(e.moOptions["album_id"],(function(e,t){return a("el-option",{key:"album_id"+e.albumId+t,attrs:{label:e.albumName+"("+e.albumId+")",value:e.albumId}})})),1):a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入版面ID","no-data-text":"不支持该ID",clearable:"","remote-method":function(a){e.remoteMethod(a,t.field,e.childItem.bav.value)},loading:e.loading},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item2.value"}},e._l(e.moOptions["forum_id"],(function(e,t){return a("el-option",{key:"forum_id"+e.forumId+t,attrs:{label:(e.forumName?e.forumName:"")+"("+e.forumId+")",value:e.forumId}})})),1)],1),"album_id1"===t.selectKey?a("span",[a("span",{staticClass:"flex-row child"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,level:4})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(4),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child[0].child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)]):a("span",e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)})),0)],1)])}))],2)])}))],2)]):"BAV0005"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange({reverseSelectAttr:!0})}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t,e.childItem.bav.behaviorValue)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n            圈出未活跃\n          ")])],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:e.childItem.bav.behaviorValue.length>1}}),e._l(e.childItem.bav.behaviorValue,(function(t){return a("div",{key:t.value,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),t.perCountValue?[t.mapName?a("Bav0012",{attrs:{aaa:{child:e.childItem.bav.behaviorValue}}}):e._e(),e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.perCountValue,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})]:a("span",{staticClass:"flex-column"},e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)})),0)],2)}))],2)]):"BAV0006"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-column"},[a("div",[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:"电竞"!==e.childItem.bav.value,level:2,extra:{type:e.childItem.bav.value},reverseSelectAttr:!0})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2,{type:e.childItem.bav.value}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:t.child.length>1}}),e._l(t.child,(function(t){return a("div",{key:t.value,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),"电竞"===e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!1,level:3})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(3),(function(e,t){return[a("el-option",{key:e.value+"level"+t,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,level:4})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item3.childCheckedVal"}},[e._l(e.getBehaviorAttrList(4),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)}))],2):a("span",{staticClass:"flex-row"},[t.perCountValue?[a("div",{staticClass:"flex-column"},[t.mapName?a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",multiple:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,extra:{listMapName:t.mapName},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2,{listMapName:t.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2):e._e(),e._l(t.child,(function(i,n){return a("span",{key:n,staticClass:"flex-row child-attr-wrap"},[i.name?a("span",{staticClass:"w100"},[e._v(e._s(i.name))]):e._e(),!e.childItem.bav.reverseSelect&&i.perCountValue?a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:i.perCountValue,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}}):e.childItem.bav.reverseSelect||t.mapName?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:i,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)]:e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)])}))],2)])})),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n            圈出未使用\n          ")])],2)]):"BAV0007"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("Type",{ref:"typeRef",attrs:{item3:e.childItem.bav.behaviorValue[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1):"BAV0008"===e.childItem.tagCode?a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{placeholder:"请选择业务分类",name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange({defaultChild:e.childItem.bav.behaviorValue[0].child})}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t){return a("div",{key:t.value,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择一级分类",name:"asdq",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,isValueClear:!0,defaultChild:t.child[0].child})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._v("\n          —\n          "),e._l(t.child,(function(i,n){return a("span",{key:n,staticClass:"flex-row child"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择二级分类",name:"asdq",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:i,level:3,extra:{type:t.childCheckedVal[0]},isValueClear:!0,defaultChild:i.child[0].child})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(3,{type:t.childCheckedVal[0]}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(i.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{name:"asdq",placeholder:"内容源",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,level:4,isValueClear:!0,defaultChild:t.child[0].child})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item3.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(4),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child,(function(i,n){return a("span",{key:n,staticClass:"flex-row child"},[e._v("\n                —\n                "),a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handelQiboLoadmore},expression:"{'methord': handelQiboLoadmore}"}],staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(a){e.qiBoRemoteMethod(a,t.childCheckedVal[0])},loading:e.loading2},on:{change:function(t){return e.handelQiBoChildBehavirSelectChange({childItem:i,level:5,isValueClear:!0,reverseSelectAttr:!0})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item4.childCheckedVal[0]"}},[e._l(e.qiBoOptions,(function(e){return a("el-option",{key:e.value+e.name,attrs:{label:e.name+"("+e.value+")",value:e.value}})})),0===e.qiBoOptions.length&&i.childCheckedVal[0]?a("el-option",{attrs:{label:i.child[0].name,value:i.childCheckedVal[0]}}):e._e()],2)],1),i.childCheckedVal[0]&&e.appointmentInfo.length>0?a("span",{staticClass:"appoint-text"},[a("span",{},[e._v("该片的统计时间为:")]),e._l(e.appointmentInfo,(function(t){return a("span",{key:t.start+t.end,staticStyle:{color:"red"}},[e._v(e._s(t.start)+" - "+e._s(t.end))])})),a("span",[e._v(" ，请选择合理的周期范围")])],2):e._e()]),e._l(i.child,(function(t,n){return a("span",{key:n,staticClass:"flex-row child"},[t.value?a("span",{staticClass:"flex-column"},["电影"===t.videoType?a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,hasChild:!0,level:7})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item5.childCheckedVal[0]"}},e._l(e.getBehaviorAttrList(7),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),e.childItem.bav.reverseSelect?e._e():a("span",e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,hasChild:!1,level:8,selectPropKeyValue:"type",isValueClear:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item6.childCheckedVal[0]"}},e._l(e.getBehaviorAttrList(8),(function(t){return a("el-option",{key:t.type,attrs:{label:t.name,value:t.type,disabled:"day"===t.type&&e.isDisableDaySelect}})})),1),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[a("el-select",{staticClass:"input-inline",staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{name:"oxve"},on:{change:function(a){return e.handleOperatorChange(t)}},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"item7.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}}),a("el-option",{attrs:{value:"between",label:"位于区间"}})],1),["between"==t.operator?a("span",{staticClass:"flex-row",staticStyle:{width:"300px",height:"31px"}},[a("el-input-number",{attrs:{value:t.value1,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value1")},blur:function(a){return e.handelInputBlur(t)}}}),e._v("\n                                ~ "),a("el-input-number",{attrs:{value:t.value2,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value2")},blur:function(a){return e.handelInputBlur(t)}}})],1):a("el-input",{staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{placeholder:"请输入",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item7.value"}})]],2)}))],2)})),0)],1):a("span",[a("el-select",{staticStyle:{width:"100px"},attrs:{multiple:"",placeholder:"请选择集数"},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,hasChild:!1,level:6})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item5.childCheckedVal"}},e._l(e.qiBoCollectionOptions,(function(e,t){return a("el-option",{key:e.value+t,attrs:{label:e.name,value:e.value}})})),1),e.childItem.bav.reverseSelect?e._e():a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:t.child.length>1}}),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,hasChild:!0,level:7})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item6.childCheckedVal[0]"}},e._l(e.getBehaviorAttrList(7),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),e.childItem.bav.reverseSelect?e._e():a("span",e._l(t.child,(function(i,n){return a("span",{key:n,staticClass:"flex-row child"},[""===t.name?a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.handelQiBoChildBehavirSelectChange({childItem:i,level:8,selectPropKeyValue:"type",isValueClear:!0})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item7.childCheckedVal[0]"}},e._l(e.getBehaviorAttrList(8),(function(t){return a("el-option",{key:t.type,attrs:{label:t.name,value:t.type,disabled:"day"===t.type&&e.isDisableDaySelect}})})),1):a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.handelQiBoChildBehavirSelectChange({childItem:i,level:9,selectPropKeyValue:"type",isValueClear:!0})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item7.childCheckedVal[0]"}},e._l(e.getBehaviorAttrList(9),(function(t){return a("el-option",{key:t.type,attrs:{value:t.type,label:t.name,disabled:"day"===t.type&&e.isDisableDaySelect}})})),1),e._l(i.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[a("el-select",{staticClass:"input-inline",staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{name:"oxve"},on:{change:function(a){return e.handleOperatorChange(t)}},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"item8.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}}),a("el-option",{attrs:{value:"between",label:"位于区间"}})],1),["between"==t.operator?a("span",{staticClass:"flex-row",staticStyle:{width:"300px",height:"31px"}},[a("el-input-number",{attrs:{value:t.value1,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value1")},blur:function(a){return e.handelInputBlur(t)}}}),e._v("\n                                  ~ "),a("el-input-number",{attrs:{value:t.value2,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value2")},blur:function(a){return e.handelInputBlur(t)}}})],1):a("el-input",{staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{placeholder:"请输入",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item8.value"}})]],2)}))],2)})),0)],1)}))],2)],1)]):e._e(),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(a){"电影"===t.videoType?e.ReverseSelect(a,i.child):e.ReverseSelect(a,t.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                    圈出未起播\n                  ")]),t.value||e.childItem.bav.reverseSelect?e._e():a("span",[a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择",clearable:""},on:{change:function(a){return e.handelQiBoChildBehavirSelectChange({childItem:t,level:8,selectPropKeyValue:"type",isValueClear:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item5.childCheckedVal[0]"}},e._l(e.getBehaviorAttrList(8),(function(t){return a("el-option",{key:t.type,attrs:{label:t.name,value:t.type,disabled:"day"===t.type&&e.isDisableDaySelect}})})),1),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[0===i?a("el-select",{staticClass:"input-inline",staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{name:"oxve"},on:{change:function(a){return e.handleOperatorChange(t)}},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"item6.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}}),a("el-option",{attrs:{value:"between",label:"位于区间"}})],1):e._e(),["between"==t.operator?a("span",{staticClass:"flex-row",staticStyle:{width:"300px",height:"31px"}},[a("el-input-number",{attrs:{value:t.value1,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value1")},blur:function(a){return e.handelInputBlur(t)}}}),e._v("\n                          ~ "),a("el-input-number",{attrs:{value:t.value2,"controls-position":"right"},on:{input:function(a){return e.handelInputBetween(a,t,"value2")},blur:function(a){return e.handelInputBlur(t)}}})],1):0===i?a("el-input",{staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{placeholder:"请输入",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item6.value"}}):e._e()]],2)}))],2)])],1)}))],2)}))],2)}))],2)}))],2)}))],2):"BAV0009"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,isValueClear:!1})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(t.child,(function(i){return a("div",{key:i.value,staticClass:"flex-row"},[a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"150px"},attrs:{multiple:"",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:i,hasChild:!0,extra:{type:t.childCheckedVal},level:3})}},model:{value:i.childCheckedVal,callback:function(t){e.$set(i,"childCheckedVal",t)},expression:"item2.childCheckedVal"}},[e._l(e.getBehaviorAttrList(3,{type:t.childCheckedVal}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)])}))],2)}))],2)]):"BAV0010"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)],1)}))],2)]):"BAV0011"===e.childItem.tagCode&&e.childItem.isOldversion?a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{disabled:"",placeholder:"请选择业务分类",name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal[0]",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,extra:{type:e.childItem.bav.value}})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(2,{type:e.childItem.bav.value}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(t.child,(function(i,n){return a("span",{key:n,staticClass:"flex-row child"},["影视"===e.childItem.bav.value?a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",name:"asdq",placeholder:"内容源",clearable:""},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:i,level:4,extra:{type:"视频源"}})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(4,{type:"视频源"}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(i.child,(function(t,n){return a("span",{key:n,staticClass:"flex-row child"},[a("div",{staticClass:"flex-row"},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handelQiboLoadmore},expression:"{'methord': handelQiboLoadmore}"}],staticStyle:{width:"150px"},attrs:{disabled:"",filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(t){e.qiBoRemoteMethod(t,i.childCheckedVal[0])},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:4,extra:{type:"影片",source:e.childItem.bav.value},hasChild:!0,reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item4.childCheckedVal[0]"}},[e._l(e.qiBoOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name+"("+e.value+")",value:e.value}})})),0===e.qiBoOptions.length&&t.child[0]&&t.childCheckedVal[0]?a("el-option",{attrs:{label:t.child[0].name,value:t.childCheckedVal[0]}}):e._e()],2),a("el-checkbox",{staticClass:"reverse-check",attrs:{disabled:""},on:{change:function(a){return e.ReverseSelect(a,t.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                    圈出未活跃\n                  ")])],1),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)}))],2):"短视频"===e.childItem.bav.value?a("div",["关注"===t.childCheckedVal[0]?a("div",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{disabled:"",filterable:"",remote:"",placeholder:"搜博主","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.GetShortVideoAuthor(t)},loading:e.loading2},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:i,level:3,extra:{type:"关注"},hasChild:!0,reverseSelectAttr:!0})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.followOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.followOptions.length&&i.childCheckedVal[0]?a("el-option",{attrs:{label:i.child[0].name,value:i.childCheckedVal[0]}}):e._e()],2),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t,i.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                  圈出未活跃\n                ")]),e._l(i.child,(function(t,i){return a("span",{key:"typeInputValue"+i,staticClass:"flex-row"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2):a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:i,level:3,extra:{listMapName:i.mapName},selectPropKeyValue:"name"})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(3,{listMapName:i.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(i.child,(function(t,n){return a("span",{key:n,staticClass:"flex-row child"},["分类"===i.childCheckedVal[0]?a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,level:4,extra:{type:i.childCheckedVal[0]},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item3.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(4,{type:i.childCheckedVal[0]}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:"typeInputValue"+i,staticClass:"flex-row"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2):a("div",{staticClass:"flex-row"},[a("div",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{disabled:"",filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(t){e.GetVideo(t,e.childItem.bav.value)},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:4,extra:{type:"影片"},hasChild:!0,reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item3.childCheckedVal[0]"}},[e._l(e.videoOptions,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.value}})})),0===e.videoOptions.length&&t.child[0]?a("el-option",{attrs:{label:t.child[0].name,value:t.childCheckedVal[0]}}):e._e()],2),a("el-checkbox",{staticClass:"reverse-check",attrs:{disabled:""},on:{change:function(a){return e.ReverseSelect(a,t.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                        圈出未活跃\n                      ")]),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)])])}))],2)]):"电竞"===e.childItem.bav.value?a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:i,level:3,extra:{listMapName:i.mapName},selectPropKeyValue:"name"})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(3,{listMapName:i.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(i.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:4,extra:{listMapName:t.mapName},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item3.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(4,{listMapName:t.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:5})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item4.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(5),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{disabled:"",filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(t){e.GetVideo(t,e.childItem.bav.value)},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:6,extra:{type:"电竞"},reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item5.childCheckedVal[0]"}},[e._l(e.videoOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.videoOptions.length&&t.child[0]?a("el-option",{attrs:{label:t.child[0].name,value:t.childCheckedVal[0]}}):e._e()],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{disabled:"",placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,level:7})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item6.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(7),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2)}))],2)}))],2)}))],2)})),a("el-checkbox",{staticClass:"reverse-check",attrs:{disabled:""},on:{change:e.ReverseSelect},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                圈出未活跃\n              ")])],2):e._e()])}))],2)}))],2):"BAV0011"===e.childItem.tagCode?a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{placeholder:"请选择业务分类",name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.showBehaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.showBehaviorValue["+i+"].childCheckedVal[0]",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,extra:{type:e.childItem.bav.value},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(2,{type:e.childItem.bav.value}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2)],1),e._l(t.child,(function(n,r){return a("span",{key:r,staticClass:"flex-row child"},["影视"===e.childItem.bav.value?a("div",{staticClass:"flex-row"},[a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve"},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:8,selectPropKeyValue:"name"})}},model:{value:n.childCheckedVal[0],callback:function(t){e.$set(n.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(8),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),n.mapName?a("Bav0012",{attrs:{aaa:n}}):e._e()],1),a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{name:"asdq",placeholder:"内容源",clearable:""},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:4,extra:{type:"视频源"}})}},model:{value:n.childCheckedVal[1],callback:function(t){e.$set(n.childCheckedVal,1,t)},expression:"item2.childCheckedVal[1]"}},[e._l(e.getBehaviorAttrList(4,{type:"视频源"}),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(n.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},[t.value===n.childCheckedVal[1]?a("div",{staticClass:"flex-row"},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handelQiboLoadmore},expression:"{'methord': handelQiboLoadmore}"}],staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(t){e.qiBoRemoteMethod(t,n.childCheckedVal[1])},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:4,extra:{type:"影片",source:e.childItem.bav.value},hasChild:!1,reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item4.childCheckedVal[0]"}},[e._l(e.qiBoOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name+"("+e.value+")",value:e.value}})})),0===e.qiBoOptions.length&&t.child[0]&&t.childCheckedVal[0]?a("el-option",{attrs:{label:t.child[0].name,value:t.childCheckedVal[0]}}):e._e()],2)],1):e._e()])}))],2),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                圈出未活跃\n              ")])],1):"短视频"===e.childItem.bav.value&&0===i?a("div",["关注"===t.childCheckedVal[0]?a("div",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"搜博主","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.GetShortVideoAuthor(t)},loading:e.loading2},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:3,extra:{type:"关注"},hasChild:!0,reverseSelectAttr:!0})}},model:{value:n.childCheckedVal[0],callback:function(t){e.$set(n.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.followOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.followOptions.length&&n.childCheckedVal[0]?a("el-option",{attrs:{label:n.child[0].name,value:n.childCheckedVal[0]}}):e._e()],2),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t,n.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                  圈出未活跃\n                ")])],1):"订阅专题"===t.childCheckedVal[0]?a("div",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"搜专题","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.GetTopic(t)},loading:e.loading2},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:3,extra:{type:"订阅"},hasChild:!0,reverseSelectAttr:!0})}},model:{value:n.childCheckedVal[0],callback:function(t){e.$set(n.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.topicOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.topicOptions.length&&n.childCheckedVal[0]?a("el-option",{attrs:{label:n.child[0].name,value:n.childCheckedVal[0]}}):e._e()],2),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t,n.child)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                  圈出未活跃\n                ")])],1):a("div",{staticClass:"flex-row"},[0===r?a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:3,extra:{listMapName:n.mapName},selectPropKeyValue:"name"})}},model:{value:n.childCheckedVal[0],callback:function(t){e.$set(n.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(3,{listMapName:n.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2):e._e(),0===r?a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(t){e.GetVideo(t,e.childItem.bav.value)},loading:e.loading2},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:4,extra:{type:"影片"},hasChild:!1,reverseSelectAttr:!0})}},model:{value:n.childCheckedVal[1],callback:function(t){e.$set(n.childCheckedVal,1,t)},expression:"item2.childCheckedVal[1]"}},[e._l(e.videoOptions,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.value}})})),0===e.videoOptions.length&&n.child[1]?a("el-option",{attrs:{label:e.getMatchName(n.childCheckedVal[1],n.child),value:n.childCheckedVal[1]}}):e._e()],2):e._e(),0===r?a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"搜博主","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.GetShortVideoAuthor(t)},loading:e.loading2},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:3,extra:{type:"关注"},hasChild:!1,reverseSelectAttr:!0})}},model:{value:n.childCheckedVal[2],callback:function(t){e.$set(n.childCheckedVal,2,t)},expression:"item2.childCheckedVal[2]"}},[e._l(e.followOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.followOptions.length&&n.childCheckedVal[2]?a("el-option",{attrs:{label:e.getMatchName(n.childCheckedVal[2],n.child),value:n.childCheckedVal[2]}}):e._e()],2):e._e(),0===r?a("el-checkbox",{staticClass:"reverse-check",on:{change:function(t){return e.ReverseSelect(t)}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                  圈出未活跃\n                ")]):e._e(),e._l(n.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row child"},["分类"===n.childCheckedVal[0]?a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,level:4,extra:{type:n.childCheckedVal[0]},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item3.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(4,{type:n.childCheckedVal[0]}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:"typeInputValue"+i,staticClass:"flex-row"},[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2):a("div",{staticClass:"flex-row"})])}))],2)]):"电竞"===e.childItem.bav.value?a("div",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:n,level:3,extra:{listMapName:n.mapName},selectPropKeyValue:"name"})}},model:{value:n.childCheckedVal[0],callback:function(t){e.$set(n.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(3,{listMapName:n.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(n.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:4,extra:{listMapName:t.mapName},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item3.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(4,{listMapName:t.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:5})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item4.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(5),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(t){e.GetVideo(t,e.childItem.bav.value)},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:6,extra:{type:"电竞"},reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item5.childCheckedVal[0]"}},[e._l(e.videoOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.videoOptions.length&&t.child[0]?a("el-option",{attrs:{label:t.child[0].name,value:t.childCheckedVal[0]}}):e._e()],2),e._l(t.child,(function(t,i){return a("span",{key:i,staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,hasChild:!0,level:7})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item6.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(7),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1)}))],2)}))],2)}))],2)})),a("el-checkbox",{staticClass:"reverse-check",on:{change:e.ReverseSelect},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n                圈出未活跃\n              ")])],2):e._e()])})),e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:e.childItem.bav.countValue,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],2)}))],2):"BAV0012"===e.childItem.tagCode?a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{placeholder:"请选择业务分类",name:"oxve"},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.showBehaviorValue,(function(t){return a("span",{key:t.value,staticClass:"flex-row child"},[a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,extra:{listMapName:t.mapName},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(2,{listMapName:t.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),t.mapName?a("Bav0012",{attrs:{aaa:t}}):e._e()],1),"短视频"===e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"搜博主","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.GetShortVideoAuthor(t)},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:6,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[3],callback:function(a){e.$set(t.childCheckedVal,3,a)},expression:"item.childCheckedVal[3]"}},[e._l(e.followOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.followOptions.length&&t.childCheckedVal[3]?a("el-option",{attrs:{label:e.getMatchName(t.childCheckedVal[3],t.child),value:t.childCheckedVal[3]}}):e._e()],2)],1):e._e(),"教育"===e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择 VIP",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:9,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[3],callback:function(a){e.$set(t.childCheckedVal,3,a)},expression:"item.childCheckedVal[3]"}},e._l(e.getBehaviorAttrList(9),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e(),"亲子"===e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择 VIP",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:11,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[3],callback:function(a){e.$set(t.childCheckedVal,3,a)},expression:"item.childCheckedVal[3]"}},e._l(e.getBehaviorAttrList(11),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e(),"K歌"===e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"搜歌手","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.getMusicByAuthor(t)},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:8,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[4],callback:function(a){e.$set(t.childCheckedVal,4,a)},expression:"item.childCheckedVal[4]"}},[e._l(e.singerList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.singerList.length&&t.childCheckedVal[4]?a("el-option",{attrs:{label:e.getMatchName(t.childCheckedVal[4],t.child),value:t.childCheckedVal[4]}}):e._e()],2),a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"搜歌曲","no-data-text":"暂无数据",clearable:"","remote-method":function(t){e.getMusicByName(t)},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:7,selectPropKeyValue:"name",reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[5],callback:function(a){e.$set(t.childCheckedVal,5,a)},expression:"item.childCheckedVal[5]"}},[e._l(e.musicList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),0===e.musicList.length&&t.childCheckedVal[5]?a("el-option",{attrs:{label:e.getMatchName(t.childCheckedVal[5],t.child),value:t.childCheckedVal[5]}}):e._e()],2)],1):e._e(),"影视"===e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"内容源",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:10,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[3],callback:function(a){e.$set(t.childCheckedVal,3,a)},expression:"item.childCheckedVal[3]"}},e._l(e.getBehaviorAttrList(10),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e(),"K歌"!==e.childItem.bav.value?a("span",{staticClass:"flex-row"},["短视频"===e.childItem.bav.value||"教育"===e.childItem.bav.value||"影视"===e.childItem.bav.value?a("span",[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(a){e.GetVideo(a,e.childItem.bav.value,t.childCheckedVal[3])},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:3,selectPropKeyValue:"name",reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[4],callback:function(a){e.$set(t.childCheckedVal,4,a)},expression:"item.childCheckedVal[4]"}},[e._l(e.videoOptions,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.value}})})),0===e.videoOptions.length&&t.childCheckedVal[4]?a("el-option",{attrs:{label:e.getMatchName(t.childCheckedVal[4],t.child),value:t.childCheckedVal[4]}}):e._e()],2)],1):a("span",[a("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",remote:"",placeholder:"请输入片名或ID","no-data-text":"没有找到该片",clearable:"","remote-method":function(a){e.GetVideo(a,e.childItem.bav.value,t.childCheckedVal[3])},loading:e.loading2},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:3,selectPropKeyValue:"name",reverseSelectAttr:!0})}},model:{value:t.childCheckedVal[1],callback:function(a){e.$set(t.childCheckedVal,1,a)},expression:"item.childCheckedVal[1]"}},[e._l(e.videoOptions,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.value}})})),0===e.videoOptions.length&&t.childCheckedVal[1]?a("el-option",{attrs:{label:e.getMatchName(t.childCheckedVal[1],t.child),value:t.childCheckedVal[1]}}):e._e()],2)],1),e._l(t.child,(function(i){return a("div",{key:i.value,staticClass:"flex-row child"},[e.qiBoCollectionOptions.length>0&&(i.value===t.childCheckedVal[1]&&"电竞"===e.childItem.bav.value||i.value===t.childCheckedVal[4]&&"影视"===e.childItem.bav.value)?a("span",[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择集数"},on:{change:function(t){return e.handelChildBehavirSelectChange({childItem:i,hasChild:!1,level:4})}},model:{value:i.childCheckedVal[0],callback:function(t){e.$set(i.childCheckedVal,0,t)},expression:"item2.childCheckedVal[0]"}},e._l(e.qiBoCollectionOptions,(function(e,t){return a("el-option",{key:e.value+t,attrs:{label:e.name,value:e.value}})})),1)],1):e._e()])}))],2):e._e(),"短视频"!==e.childItem.bav.value?a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:5,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[7],callback:function(a){e.$set(t.childCheckedVal,7,a)},expression:"item.childCheckedVal[7]"}},[e._l(e.getBehaviorAttrList(5),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2)],1):e._e(),a("el-checkbox",{staticClass:"reverse-check",on:{change:function(a){return e.ReverseSelect(a,t.child,t.childCheckedVal[4]?t.childCheckedVal[4]:"",{clearVal:t.childCheckedVal[2],bavChildItem:t})}},model:{value:e.childItem.bav.reverseSelect,callback:function(t){e.$set(e.childItem.bav,"reverseSelect",t)},expression:"childItem.bav.reverseSelect"}},[e._v("\n            圈出未起播\n          ")]),e.isCheckEpisodes(t)&&!e.childItem.bav.reverseSelect?a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:e.childItem.bav.countValue,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.single_episode:[],childItem:e.childItem}}):e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:e.childItem.bav.countValue,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2):"BAV0013"===e.childItem.tagCode||"BAV0014"===e.childItem.tagCode||"BAV0015"===e.childItem.tagCode?a("span",{staticClass:"flex-column"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{multiple:"",name:"oxve",filterable:""},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),a("div",{staticClass:"flex-column"},[a("ConditionLine",{attrs:{isShow:e.childItem.bav.behaviorValue.length>1}}),e._l(e.childItem.bav.behaviorValue,(function(t,i){return a("div",{key:t.value,staticClass:"flex-row child-attr-wrap"},[a("span",{staticClass:"w100"},[e._v(e._s(t.name))]),a("el-form-item",{attrs:{prop:"bav.behaviorValue["+i+"].childCheckedVal",rules:{required:!0,message:"请选择",trigger:"change"}}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,hasChild:!0,extra:{levelOneValue:t.value}})}},model:{value:t.childCheckedVal,callback:function(a){e.$set(t,"childCheckedVal",a)},expression:"item.childCheckedVal"}},[e._l(e.getBehaviorAttrList(2),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(t.child,(function(t,i){return a("span",{key:"typeInputValue"+i,staticClass:"flex-row"},[a("span",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row"},["BAV0013"===e.childItem.tagCode?[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.keep_days:[],childItem:e.childItem}})]:"BAV0014"===e.childItem.tagCode?[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.keep_type:[],childItem:e.childItem}})]:"BAV0015"===e.childItem.tagCode?[e.childItem.bav.reverseSelect?e._e():a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:t.child[0],options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})]:e._e()],2)])])}))],2)}))],2)],1):"BAV0016"===e.childItem.tagCode?a("span",{staticClass:"flex-row"},[a("el-form-item",{attrs:{prop:"bav.value"}},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"120px"},attrs:{name:"oxve",filterable:""},on:{change:function(t){return e.handelBehavirSelectChange()}},model:{value:e.childItem.bav.value,callback:function(t){e.$set(e.childItem.bav,"value",t)},expression:"childItem.bav.value"}},[e._l(e.getBehaviorAttrList(1),(function(e){return[a("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})]}))],2)],1),e._l(e.childItem.bav.showBehaviorValue,(function(t,i){return a("span",{key:t.value,staticClass:"flex-row"},[a("span",{staticClass:"flex-row"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"110px"},attrs:{placeholder:"请选择",name:"asdq",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,extra:{type:e.childItem.bav.value}})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item.childCheckedVal[0]"}},[e._l(e.getBehaviorAttrList(2,{type:e.childItem.bav.value}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2),e._l(t.child,(function(i,n){return a("span",{key:n,staticStyle:{"margin-right":"0"}},[t.childCheckedVal[0]===i.value&&i.mapName?a("Bav0012",{attrs:{aaa:t}}):e._e()],1)}))],2),a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"卡种",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:3})}},model:{value:t.childCheckedVal[1],callback:function(a){e.$set(t.childCheckedVal,1,a)},expression:"item.childCheckedVal[1]"}},e._l(e.getBehaviorAttrList(3),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"用券行为",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:4})}},model:{value:t.childCheckedVal[2],callback:function(a){e.$set(t.childCheckedVal,2,a)},expression:"item.childCheckedVal[2]"}},e._l(e.getBehaviorAttrList(4),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),e._l(t.child,(function(i,n){return a("span",{key:n,staticStyle:{"margin-right":"0"}},[t.childCheckedVal[2]===i.value&&i.mapName?a("Bav0012",{attrs:{aaa:t}}):e._e()],1)}))],2),a("span",{staticClass:"flex-row"},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"券方式",clearable:""},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:5,selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[3],callback:function(a){e.$set(t.childCheckedVal,3,a)},expression:"item.childCheckedVal[3]"}},e._l(e.getBehaviorAttrList(5),(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1),a("span",{staticClass:"flex-row"},e._l(t.child,(function(i,n){return a("span",{key:n,staticStyle:{"margin-right":"0"}},[t.childCheckedVal[3]===i.name?["劵金额"==t.childCheckedVal[3]?a("span",{staticClass:"flex-row",staticStyle:{width:"300px",height:"31px"}},[a("el-input-number",{attrs:{value:i.value1,min:1,max:5e3,"controls-position":"right"},on:{input:function(t){return e.handelInputBetween(t,i,"value1")},blur:function(t){return e.handelInputBlur(i)}}}),e._v("\n                  ~ "),a("el-input-number",{attrs:{value:i.value2,min:1,max:5e3,"controls-position":"right"},on:{input:function(t){return e.handelInputBetween(t,i,"value2")},blur:function(t){return e.handelInputBlur(i)}}})],1):e._e(),"优惠券ID"==t.childCheckedVal[3]?a("span",{staticClass:"flex-row",staticStyle:{"min-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入优惠券ID",clearable:""},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item2.value"}})],1):e._e()]:e._e()],2)})),0)],1),a("Type",{ref:"typeRef",refInFor:!0,attrs:{item3:e.childItem.bav.countValue,options:e.bavAttrList&&e.bavAttrList.dict?e.bavAttrList.dict.attrType:[],childItem:e.childItem}})],1)}))],2):e._e()],1)])},$i=[],Li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"typeForm",attrs:{model:e.item3,rules:e.typeFormRules,inline:!0,disabled:e.isView}},[a("el-form-item",{attrs:{prop:"type"}},[a("el-select",{staticClass:"input-inline",staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{name:"oxve"},on:{change:e.handleChange},model:{value:e.item3.type,callback:function(t){e.$set(e.item3,"type",t)},expression:"item3.type"}},[e._l(e.attrList,(function(t){return[a("el-option",{key:t.value,attrs:{value:t.value,label:t.name,disabled:"day"===t.value&&e.isDisableDaySelect}})]}))],2)],1),a("el-form-item",[a("el-select",{staticClass:"input-inline",staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{name:"oxve"},on:{change:e.handleOperatorChange},model:{value:e.item3.operator,callback:function(t){e.$set(e.item3,"operator",t)},expression:"item3.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}}),a("el-option",{attrs:{value:"between",label:"位于区间"}})],1)],1),a("el-form-item",{attrs:{prop:"value"}},["between"==e.item3.operator?a("span",{staticClass:"flex-row",staticStyle:{width:"300px",height:"31px"}},[a("el-input-number",{attrs:{value:e.item3.value1,"controls-position":"right"},on:{input:function(t){return e.handelInputBetween(t,e.item3,"value1")},blur:function(t){return e.handelInputBlur(e.item3)}}}),e._v("\n    ~ "),a("el-input-number",{attrs:{value:e.item3.value2,"controls-position":"right"},on:{input:function(t){return e.handelInputBetween(t,e.item3,"value2")},blur:function(t){return e.handelInputBlur(e.item3)}}})],1):a("el-input",{staticStyle:{"max-width":"100px","min-width":"100px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.item3.value,callback:function(t){e.$set(e.item3,"value",t)},expression:"item3.value"}})],1)],1)},Ni=[],Oi={inject:["_this"],data:function(){return{attrList:[],isDisableDaySelect:!1,typeFormRules:{}}},props:{item3:{type:Object,default:function(){}},options:{type:Array,default:function(){return[]}},childItem:{type:Object,default:function(){}},isRequired:{type:Boolean,default:!0}},watch:{isRequired:{handler:function(e){this.typeFormRules={value:[{required:e,message:"请输入值",trigger:"blur"},{required:e,message:"请输入值",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}]}},immediate:!0},childItem:{handler:function(e){var t=e.bav.weekRang.value,a=e.bav.timeRange.value,i=0===t.length||t.every((function(e){return""===e})),n=0===a.length||a.every((function(e){return""===e}));this.isDisableDaySelect=!i||!n},deep:!0,immediate:!0},options:{handler:function(e){this.attrList=e.map((function(e){return{name:e.dictLabel,value:e.dictValue,field:e.tableField}}))},immediate:!0}},computed:{isView:function(){return!(!this._this||!this._this.isView)&&this._this.isView}},methods:{handleChange:function(e){var t=this.attrList.find((function(t){return t.value===e}));console.log("obj==>",t),this.item3.field=t.field},handleOperatorChange:function(){this.item3.value="",this.item3.value1="",this.item3.value2=""},handelInputBlur:function(e){if(this.isFoucs=!1,!this.isFoucs&&e.value1&&e.value2&&e.value2<e.value1){var t=e.value1;e.value1=e.value2,e.value2=t}},handelInputBetween:function(e,t,a){console.log("val===",e),console.log("item===",t),console.log("key===",a),this.$set(t,a,e),t[a]=e,(!t.value1||t.value1<0)&&this.$set(t,"value1",0),(!t.value2||t.value2<0)&&this.$set(t,"value2",0),t.value="".concat(t.value1,"-").concat(t.value2)}}},Pi=Oi,Ei=(a("ec39"),Object(U["a"])(Pi,Li,Ni,!1,null,"daf2e774",null)),Ai=Ei.exports,Fi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"label-or-space"},[a("span",{staticClass:"condition-text"},[e._v("\n    或\n  ")])])},Vi=[],Ri={data:function(){return{}},props:{isShow:{type:Boolean,default:!1}},methods:{},created:function(){}},ji=Ri,Bi=(a("e59e"),Object(U["a"])(ji,Fi,Vi,!1,null,"f0e9bd0a",null)),Mi=Bi.exports,zi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.aaa.child,(function(t){return a("span",{key:t.value+"bav0012",staticClass:"flex-row child"},[t.mapName?a("el-select",{staticClass:"input-inline",staticStyle:{width:"100px"},attrs:{name:"oxve"},on:{change:function(a){return e.handelChildBehavirSelectChange({childItem:t,level:2,extra:{listMapName:t.mapName},selectPropKeyValue:"name"})}},model:{value:t.childCheckedVal[0],callback:function(a){e.$set(t.childCheckedVal,0,a)},expression:"item.childCheckedVal[0]"}},[e._l(e.bav12GetBehaviorAttrList(2,{listMapName:t.mapName}),(function(e){return[a("el-option",{key:e.name,attrs:{value:e.name,label:e.name}})]}))],2):e._e(),t.mapName?a("Bav0012",{attrs:{aaa:t}}):e._e()],1)})),0)},qi=[],Ji={name:"Bav0012",inject:{parentThis:"_this"},data:function(){return{mapNameArr:[]}},props:{aaa:{default:function(){},type:Object},childItem:{default:function(){},type:Object},bavAttrList:{default:function(){},type:Object}},watch:{},methods:{handelChildBehavirSelectChange:function(e){return this.parentThis.handelChildBehavirSelectChange(e)},bav12GetBehaviorAttrList:function(){var e;return(e=this.parentThis).getBehaviorAttrList.apply(e,arguments)}},created:function(){console.log("parent==>",this.$parent)}},Gi=Ji,Ui=(a("98d2"),Object(U["a"])(Gi,zi,qi,!1,null,"165e8f38",null)),Hi=Ui.exports,Ki=a("ec26"),Qi={name:"bavList",provide:function(){return{_this:this}},watch:{"childItem.bav":{handler:function(e){var t=e.weekRang.value,a=e.timeRange.value;0===t.length&&0===a.length?this.isDisableDaySelect=!1:this.isDisableDaySelect=!0},deep:!0,immediate:!0},childItem:{handler:function(e){e&&"BAV0004"===e.tagCode?this.getModuleId(e.bav.behaviorValue):e&&"BAV0008"===e.tagCode?this.getQiboTvEpisodes(e.bav.behaviorValue):e&&"BAV0012"===e.tagCode&&this.getZongheVideoEpisodes(e.bav.showBehaviorValue)},immediate:!0}},data:function(){return{isDisableDaySelect:!1,bavFormRules:{"bav.value":[{required:!0,message:"请选择",trigger:"change"}]},value1:[],checkedVal:[],periodRangeVal:"",defaultChildObj:{name:"",value:"",field:"",operator:"=",type:"string",perCountValue:{name:"",field:"mac",type:"count",operator:"=",value:""},child:[{name:"",value:"",field:"",operator:"=",type:"string",multipleSelect:!1}],multipleSelect:!1},moDefaultChild:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],moOptions:{},gouMaiPackageIdOptions:[],loading:!1,qiBoOptions:[],loading2:!1,qiBoCollectionOptions:[],qiboQuery:"",qiboSource:"",qiboParams:{source:"",keywords:"",page:1,pageSize:200},followOptions:[],topicOptions:[],videoOptions:[],appointmentInfo:[],musicList:[],singerList:[]}},computed:{dataSourceColorEnum:function(){return ya}},created:function(){},methods:{handleOperatorChange:function(e){e.value="",e.value1="",e.value2=""},isCheckEpisodes:function(e){var t=!1,a=e.childCheckedVal[1],i=e.child||[],n=i.find((function(e){return e.value===a}));return n&&n.childCheckedVal.length>0&&(t=!0),t},getMatchName:function(e,t){return t.find((function(t){return t.value===e})).name},handelInputBlur:function(e){if(this.isFoucs=!1,!this.isFoucs&&e.value1&&e.value2&&e.value2<e.value1){var t=e.value1;e.value1=e.value2,e.value2=t}},handelInputBetween:function(e,t,a){console.log("val===",e),console.log("item===",t),console.log("key===",a),this.$set(t,a,e),t[a]=e,(!t.value1||t.value1<0)&&this.$set(t,"value1",0),(!t.value2||t.value2<0)&&this.$set(t,"value2",0),t.value="".concat(t.value1,"-").concat(t.value2)},ReverseSelect:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.clearVal,s=n.bavChildItem;if(console.log("val===>",e),console.log("a===>",t),this.childItem.bav.reverseSelect=e,"BAV0002"===this.childItem.tagCode||"BAV0003"===this.childItem.tagCode||"BAV0008"===this.childItem.tagCode||"BAV0006"===this.childItem.tagCode||"BAV0005"===this.childItem.tagCode){var o,l=!1;"BAV0008"===this.childItem.tagCode?(o=t,l=!0):o=this.getNodesLastItem(this.childItem.bav.behaviorValue),this.iteratorNodes({nodes:this.childItem.bav.behaviorValue,currentNodes:o,val:e,seclectVal:i,clearVal:r,isCurrentNodeId:l})}else"BAV0016"===this.childItem.tagCode||"BAV0012"===this.childItem.tagCode||"BAV0011"===this.childItem.tagCode?e?this.childItem.bav.showBehaviorValue.forEach((function(t){if(t.child&&t.child.length>0)for(var n=t.child,s=n.length;s--;s>0){var o=n[s];if(o.value&&o.child&&o.child.length<=0){o.operator="!=";break}if(o.value&&o.child&&o.child.length>0){var l=[a.getNodesLastItem([o]).pop()];a.iteratorNodes({nodes:a.childItem.bav.showBehaviorValue,currentNodes:l,val:e,seclectVal:i,clearVal:r,isCurrentNodeId:!1});break}}else t.operator="!="})):this.setRecoveryItem(this.childItem.bav.showBehaviorValue):t.forEach((function(t){if(t.operator=e?"!=":"=",r&&r===t.value){t.value="";var a=s.childCheckedVal.findIndex((function(e){return r===e}));s.childCheckedVal[a]=null}}));console.log("整个数据",this.childItem.bav),console.log("反选后的结果behaviorValue =>",this.childItem.bav.behaviorValue),console.log("反选后的结果showBehaviorValue =>",this.childItem.bav.showBehaviorValue)},getNodesLastItem:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){e.child&&e.child.length>0?t.getNodesLastItem(e.child,a):a.push(e)})),a},iteratorNodes:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:params,a=t.nodes,i=t.currentNodes,n=t.val,r=(t.seclectVal,t.clearVal),s=t.isCurrentNodeId;i.forEach((function(t){var i=n?"!=":"=",o=!s&&t.child&&t.child.length>0?t.parentId:t.id;if(e.getParentVal(a,o,i),r&&r===t.value){t.value="";var l=bavChildItem.childCheckedVal.findIndex((function(e){return r===e}));bavChildItem.childCheckedVal[l]=null}}))},getParentVal:function(e,t,a){var i="BAV0016"===this.childItem.tagCode||"BAV0012"===this.childItem.tagCode||"BAV0011"===this.childItem.tagCode?this.childItem.bav.showBehaviorValue:this.childItem.bav.behaviorValue;if(e&&t)for(var n=["mac","dt","day_play_time","play_nums","day_movie_play_time","product_price","product_id"],r=0;r<e.length;r++){var s=e[r];console.log(s.id===t),console.log("item===",s),s.id===t?s.value&&s.field&&!n.includes(s.field)?"BAV0008"===this.childItem.tagCode&&"tag"===s.field?s.operator="="===a?"like":"not like":s.operator=a:this.getParentVal(i,s.parentId,a):s.child&&s.child.length>0&&this.getParentVal(s.child,t,a)}},handelQiboLoadmore:function(){this.qiboParams.page++,this.qiBoRemoteMethod(this.qiboQuery,this.qiboSource)},getModuleId:function(e){var t=this;e&&e.forEach((function(e){""===e.value||"album_id"!==e.field&&"forum_id"!==e.field?t.getModuleId(e.child):t.remoteMethod(e.value,e.field,t.childItem.bav.value)}))},getQiboTvEpisodes:function(e){var t=this;e.forEach((function(e){e.videoType&&"电影"!==e.videoType&&e.source&&e.value?(t.getTvEpisodes(e.source,e.value),t.getAppointmentInfo(e.source,e.value)):e.child&&t.getQiboTvEpisodes(e.child)}))},getZongheVideoEpisodes:function(e){var t=this;e.forEach((function(a){var i=e[0].value;if(a.childCheckedVal){var n="影视"===i?a.childCheckedVal[4]:a.childCheckedVal[1],r=a.child.find((function(e){return e.value===n}));r&&t.getVideoEpisode({tvId:n,businessType:i,source:r.source})}}))},GetVideo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={keywords:e,businessType:a,page:1,pageSize:200,source:i};if(a.indexOf("影视")>-1){if(!i)return this.$message.error("请先选择内容源");n.source=i}""!==e?(this.loading2=!0,this.$service.getVideo(n).then((function(e){t.loading2=!1;var i=e.rows||[];i=i.map((function(e){return a.indexOf("视频")>-1?{name:"".concat(e.title,"(").concat(e.coocaaBVId,")"),value:e.coocaaBVId,field:e.tableField,type:"string",source:e.source||""}:{name:"".concat(e.title,"(").concat(e.coocaaVId,")"),value:e.coocaaVId,field:e.tableField,type:"string",source:e.source||""}})),t.videoOptions=i,console.log("this.followOptions===>",t.videoOptions)})).catch((function(){t.loading2=!1}))):this.videoOptions=[]},getMusicByAuthor:function(e){var t=this;if(""!==e){this.loading2=!0;var a={keywords:e,page:1,pageSize:200};this.$service.getMusicByAuthor(a).then((function(e){t.loading2=!1;var a=e.rows||[];a=a.map((function(e){return{name:e.name,value:e.name,field:e.tableField,type:"string"}})),t.singerList=a,console.log("this.singerList===>",t.singerList)})).catch((function(){t.loading2=!1}))}else this.singerList=[]},getMusicByName:function(e){var t=this;if(""!==e){this.loading2=!0;var a={keywords:e,page:1,pageSize:200};this.$service.getMusicByName(a).then((function(e){t.loading2=!1;var a=e.rows||[];a=a.map((function(e){return{name:"".concat(e.title,"（").concat(e.singerName,"）"),value:e.id,field:e.tableField,type:"string"}})),t.musicList=a,console.log("this.musicList===>",t.musicList)})).catch((function(){t.loading2=!1}))}else this.musicList=[]},GetTopic:function(e){var t=this;if(""!==e){var a={keywords:e,page:1,pageSize:200};this.$service.getTopic(a).then((function(e){var a=e.rows||[];a=a.map((function(e){return{name:e.title,value:e.coocaaVId,field:e.tableField,type:"string"}})),t.topicOptions=a}))}else this.topicOptions=[]},GetShortVideoAuthor:function(e){var t=this;if(""!==e){this.loading2=!0;var a={keywords:e,page:1,pageSize:200,tagCode:this.childItem.tagCode};this.$service.getShortVideoAuthor(a).then((function(e){t.loading2=!1;var a=e.rows||[];a=a.map((function(e){return{name:e.userName+"("+e.mcn+")",value:e.authorId,field:e.tableField,type:"string",mcn:e.mcn}})),t.followOptions=a,console.log("this.followOptions===>",t.followOptions)})).catch((function(){t.loading2=!1}))}else this.followOptions=[]},qiBoRemoteMethod:function(e,t){var a=this;if(this.qiboQuery!==e&&(this.qiBoOptions=[],this.qiboParams.page=1),""===t)return this.$message.error("请先选择内容源");""!==e?(this.loading2=!0,this.qiboParams.source=t,this.qiboParams.keywords=e,this.$service.tvContentMatch(this.qiboParams).then((function(i){var n;a.loading2=!1,a.qiboQuery=e,a.qiboSource=t;var r=i.rows;r=r.map((function(e){return{name:e.title,value:e.coocaaVId,field:e.tableField,type:"string",videoType:e.videoType,source:e.source}})),(n=a.qiBoOptions).push.apply(n,Object(N["a"])(r))})).catch((function(){a.loading2=!1}))):this.qiBoOptions=[]},GouMaiRemoteMethod:function(e,t){var a=this;if(""!==e){var i={keywords:e,page:1,pageSize:200,businessType:t};this.$service.getMenberIds(i).then((function(e){a.gouMaiPackageIdOptions=e.data||[]}))}else this.gouMaiPackageIdOptions=[]},remoteMethod:function(e,t,a){var i=this;if(""!==e){this.loading=!0;var n={type:"forum_id"===t?"forum":"album",keywords:e,page:1,pageSize:200,businessType:a};this.$service.moduleMatch(n).then((function(e){i.loading=!1,i.$set(i.moOptions,t,e.data)}))}else this.moOptions[t]=[],this.$set(this.moOptions,t,[])},getDefaultChildObj:function(){return JSON.parse(JSON.stringify(this.defaultChildObj))},handelBehavirSelectChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$set(this.childItem.bav,"reverseSelect",!1);var t=e.hasChild,a=void 0!==t&&t,i=e.level,n=void 0===i?1:i,r=e.defaultChild,s=void 0===r?[]:r,o=e.selectPropKeyValue,l=void 0===o?"value":o,c=e.isValueClear,d=void 0!==c&&c,u=e.reverseSelectAttr,h=this.childItem,p="string"===typeof h.bav.value?h.bav.value.split(","):h.bav.value,m=this.getBehaviorAttrList(n);if("BAV0016"===h.tagCode||"BAV0012"===h.tagCode||"BAV0011"===h.tagCode){this.videoOptions=[],this.childItem.bav.countValue={name:"",field:"mac",type:"count",operator:"=",value:""};var f=this.setRecoveryItem(h.bav.showBehaviorValue);h.bav.showBehaviorValue=this.getValListByVals({vals:p,behaviorValue:f,attrList:m,hasChild:a,defaultChild:s,selectPropKeyValue:l,isValueClear:d,reverseSelectAttr:u})}else{var v=this.setRecoveryItem(h.bav.behaviorValue);h.bav.behaviorValue=this.getValListByVals({vals:p,behaviorValue:v,attrList:m,hasChild:a,defaultChild:s,selectPropKeyValue:l,isValueClear:d,reverseSelectAttr:u})}},handelChildBehavirSelectChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$set(this.childItem.bav,"reverseSelect",!1),"BAV0016"===this.childItem.tagCode||"BAV0012"===this.childItem.tagCode||"BAV0011"===this.childItem.tagCode?this.childItem.bav.showBehaviorValue=this.setRecoveryItem(this.childItem.bav.showBehaviorValue):"BAV0002"!==this.childItem.tagCode&&"BAV0003"!==this.childItem.tagCode&&"BAV0008"!==this.childItem.tagCode||(this.childItem.bav.behaviorValue=this.setRecoveryItem(this.childItem.bav.behaviorValue));var t=e.childItem,a=e.hasChild,i=void 0!==a&&a,n=e.level,r=void 0===n?2:n,s=e.extra,o=void 0===s?{}:s,l=e.selectPropKeyValue,c=void 0===l?"value":l,d=e.isValueClear,u=void 0!==d&&d,h=e.defaultChild,p=e.reverseSelectAttr,m="string"===typeof t.childCheckedVal?t.childCheckedVal.split(","):t.childCheckedVal,f=t.child||[];if("BAV0012"===this.childItem.tagCode&&3===r){console.log("childItem==",t),this.qiBoCollectionOptions=[],this.childItem.bav.countValue={name:"",field:"mac",type:"count",operator:"=",value:"",multipleSelect:!1};var v=this.childItem.bav.value,g="影视"===v?t.childCheckedVal[4]:t.childCheckedVal[1];this.getVideoEpisode({tvId:g,businessType:v})}"BAV0012"===this.childItem.tagCode&&4===r&&(this.childItem.bav.countValue={name:"",field:"",type:"",operator:"=",value:""}),"视频源"===o.type&&(this.qiBoOptions=[]);var b=this.getBehaviorAttrList(r,o);t.child=this.getValListByVals({vals:m,behaviorValue:f,attrList:b,hasChild:i,defaultChild:h,selectPropKeyValue:c,isValueClear:u,level:r,reverseSelectAttr:p,parentId:t.id,extra:o})},setRecoveryItem:function(e){var t=this;return e.forEach((function(e){"BAV0008"===t.childItem.tagCode&&"tag"===e.field?e.operator="like":e.operator="!="===e.operator?"=":e.operator,e.child&&e.child.length>0?t.setRecoveryItem(e.child):e.operator="!="===e.operator?"=":e.operator})),e},getValListByVals:function(e){var t=this,a=e.vals,i=e.behaviorValue,n=e.attrList,r=e.hasChild,s=void 0!==r&&r,o=e.defaultChild,l=void 0===o?[]:o,c=e.selectPropKeyValue,d=void 0===c?"value":c,u=e.isValueClear,h=void 0!==u&&u,p=e.level,m=void 0===p?1:p,f=e.reverseSelectAttr,v=e.parentId,g=e.extra,b=void 0===g?{}:g;console.log("params==>",e);var y=[];"BAV0002"===this.childItem.tagCode&&3===m&&0===a.length&&(y="安装"===b.levelOneValue?[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"app_version",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],multipleSelect:!1}],multipleSelect:!1}]:[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],multipleSelect:!1}]);var C=!!f&&this.childItem.bav.reverseSelect;return a.forEach((function(e){if(e){var r={},o={};o="BAV0013"===t.childItem.tagCode||"BAV0014"===t.childItem.tagCode?[{name:"",value:"",field:"",operator:"=",type:"",multipleSelect:!1}]:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}];var c=i.find((function(t){return t[d]===e||t.value===e||t.name===e})),u=n.find((function(t){return t[d]===e||t.value===e||t.name===e}));if(r=c||u,r){h&&(r.value=""),C&&("BAV0012"===t.childItem.tagCode?7===m&&a[5]===r.value||3===m&&a[1]===r.value||3===m&&a[4]===r.value?r.operator="!=":r.operator="=":r.operator="!=");var p=JSON.parse(JSON.stringify(l));if("BAV0002"===t.childItem.tagCode)if("安装"===b.levelOneValue)switch(m){case 2:p=[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"app_version",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}]}],multipleSelect:!1}];break;case 3:p=[{name:"",value:"",field:"app_version",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],multipleSelect:!1}];break}else switch(m){case 2:p=[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],multipleSelect:!1}];break;case 3:p=[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}];break}if("BAV0006"===t.childItem.tagCode&&"电竞"===t.childItem.bav.value)switch(m){case 2:p=[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}]}],multipleSelect:!1}];break;case 3:p=[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],multipleSelect:!1}];break}"BAV0003"===t.childItem.tagCode&&5===m&&(p=[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}]),"selectKey"===d&&"album_id1"===r[d]&&(p=[{name:"1",value:"0",field:"block_pid",operator:"=",type:"string",child:[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],multipleSelect:!1}],r.childCheckedVal="0"),("BAV0009"===t.childItem.tagCode&&2===m||"BAV0010"===t.childItem.tagCode&&1===m)&&(r.multipleSelect=!0),r.child=r.child||(s?o:p),r.childCheckedVal=r.childCheckedVal||("string"===typeof r.childCheckedVal?"":[]),!r.child&&p.length>0&&(r.childCheckedVal="string"===typeof r.childCheckedVal?p.map((function(e){return e.value})).join(","):p.map((function(e){return e.value}))),"BAV0002"===t.childItem.tagCode&&2===m&&(r.childCheckedVal=[]);var f=Object.assign({},t.getDefaultChildObj(),r);y.push(f)}}})),y=this.setChildId(y,v),y},setChildId:function(e,t){var a=this;return e.forEach((function(e){e.id=Object(Ki["a"])(),e.parentId=t,e.child&&e.child.length>0&&a.setChildId(e.child,e.id)})),e},getQiBoValListByVals:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.vals,i=t.behaviorValue,n=t.attrList,r=t.hasChild,s=void 0!==r&&r,o=t.defaultChild,l=void 0===o?[]:o,c=t.selectPropKeyValue,d=void 0===c?"value":c,u=t.isValueClear,h=void 0!==u&&u,p=t.level,m=t.reverseSelectAttr,f=t.parentId,v=[],g=!!m&&this.childItem.bav.reverseSelect;if(0===a.length&&6===p){var b=i[0];b.name="",b.value="",b.field="",v.push(b)}return 4===p&&(l=[{name:"",value:"",field:"",operator:"=",type:"string",child:[{name:"",value:"",field:"",operator:"=",type:"string",child:[],childCheckedVal:[],multipleSelect:!1}],videoType:"",source:"",childCheckedVal:[""],multipleSelect:!1}]),a.forEach((function(t){var a=[{name:"",value:"",field:"mac",operator:"=",type:"count",multipleSelect:!1}],r=[],o=i.find((function(e){return e[d]===t})),c=n.find((function(e){return e[d]===t}));o?r=o:c&&(r=c),g&&(r.operator="!=");var u=JSON.parse(JSON.stringify(l));r.child=r.child||(s?a:u),r.childCheckedVal=r.childCheckedVal||("string"===typeof r.childCheckedVal?"":[]),u.length>0&&(r.childCheckedVal="string"===typeof r.childCheckedVal?u.map((function(e){return e.value})).join(","):u.map((function(e){return e.value}))),h&&(r.childCheckedVal=[],r.child.length>0&&(r.child[0].value="",r.child[0].name="",r.child[0].field="",2!==p&&4!==p&&r.child[0].child&&r.child[0].child.length>0&&(r.child[0].childCheckedVal=[],r.child[0].child[0].value="",r.child[0].child[0].name="",r.child[0].child[0].field="",r.child[0].child[0].childCheckedVal=[],e.clearChildVal(r.child[0].child[0])))),3===p&&(r.operator="like",""!==r.value&&(r.value="%"+r.value+"%")),4===p&&(r.value=r.name),5!==p&&6!==p||("电影"!==r.videoType&&r.source&&r.value&&(e.getTvEpisodes(r.source,r.value),e.getAppointmentInfo(r.source,r.value)),5===p&&(r.child=[{name:"",value:"",field:"",operator:"=",type:"string",childCheckedVal:[],child:[{name:"",value:"",field:"",operator:"=",type:"string",childCheckedVal:[""],child:[{name:"",value:"",field:"",operator:"=",type:"string",multipleSelect:!1}],multipleSelect:!1}],multipleSelect:!1}]));var m=Object.assign({},e.getDefaultChildObj(),r);v.push(m)})),v=this.setChildId(v,f),console.log("起播list===>",v),console.log("nodes===>",this.childItem.bav.behaviorValue),v},clearChildVal:function(e){var t=this;e.child&&e.child.length&&(e.childCheckedVal=[],e.child&&e.child.forEach((function(e){e.value="",e.name="",e.field="",e.childCheckedVal=[],e.child&&e.child.length>0&&t.clearChildVal(e)})))},handelQiBoChildBehavirSelectChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.childItem,a=e.hasChild,i=void 0!==a&&a,n=e.level,r=void 0===n?2:n,s=e.extra,o=void 0===s?{}:s,l=e.selectPropKeyValue,c=void 0===l?"value":l,d=e.isValueClear,u=void 0!==d&&d,h=e.defaultChild,p=void 0===h?[]:h,m=e.reverseSelectAttr;this.$set(this.childItem.bav,"reverseSelect",!1),this.childItem.bav.behaviorValue=this.setRecoveryItem(this.childItem.bav.behaviorValue);var f="string"===typeof t.childCheckedVal?t.childCheckedVal.split(","):t.childCheckedVal,v=t.child||[],g=this.getBehaviorAttrList(r,o);4===r&&(this.qiBoOptions=[],this.qiboParams.page=1),t.child=this.getQiBoValListByVals({vals:f,behaviorValue:v,attrList:g,hasChild:i,defaultChild:p,selectPropKeyValue:c,isValueClear:u,level:r,reverseSelectAttr:m,parentId:t.id})},getVideoEpisode:function(e){var t=this,a=e.tvId,i=e.businessType,n=e.source;if(a){var r=this.videoOptions.find((function(e){return e.value===a}))||{},s={tvId:a,businessType:i,source:n||r.source,page:1,pageSize:200};s.source&&this.$service.getVideoEpisode(s).then((function(e){t.qiBoCollectionOptions=e.rows||[],t.qiBoCollectionOptions=t.qiBoCollectionOptions.map((function(e){return{name:"第".concat(e.urlCollection,"集 - ").concat(e.urlTitle),value:e.urlCollection,field:e.tableField,type:"string"}}))}))}},getTvEpisodes:function(e,t){var a=this,i={source:e,id:t,page:1,pageSize:200};this.$service.getTvEpisodes(i).then((function(e){a.qiBoCollectionOptions=e.rows||[],a.qiBoCollectionOptions=a.qiBoCollectionOptions.map((function(e){return{name:"第"+e.urlCollection+"集",value:e.urlCollection,field:e.tableField,type:"string"}}))}))},getAppointmentInfo:function(e,t){var a=this,i={source:e,id:t};this.$service.getAppointmentInfo(i).then((function(e){var t=e;a.appointmentInfo=t.map((function(e){return{start:e.appointmentStart,end:e.appointmentEnd}})),console.log("this.appointmentInfo==>",a.appointmentInfo)}))},getBehaviorAttrList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.childItem;if(this.bavAttrList){var i=[],n=this.bavAttrList.dict;if("BAV0001"===a.tagCode)if(1===e)i=n.business_type;else if(2===e){var r=n.business_type.find((function(e){return e.dictValue===t.type}))||{};i=n[r.mapName]||n.vip_package_all}else 3===e?i=n.use_status:4===e&&"effective"===t.extra?i=n.vip_expire_use:4===e&&"no_effective"===t.extra&&(i=n.vip_expire);else if("BAV0002"===a.tagCode){if(1===e)i=n.app_operation;else if(2===e)i=n.app_type||[];else if(3===e){var s=n.app_type.find((function(e){return e.dictValue===t.type}))||{};i=n[s.mapName]||n.app_type_all}}else if("BAV0003"===a.tagCode)if(1===e)i=n.business_type;else if(2===e)i=n.buy_operation;else if(3===e){var o=n.business_type.find((function(e){return e.dictValue===t.type}))||{};i=n[o.mapName]||n.vip_package_all}else 4===e?i=n.buy_type:5===e&&(i=n.price_product_id);else if("BAV0004"===a.tagCode)1===e?i=n.business_type:2===e?i=n.block_location:4===e&&(i=n.blockPid);else if("BAV0005"===a.tagCode)t.listMapName?i=n[t.listMapName]:1===e&&(i=n.page_active);else if("BAV0006"===a.tagCode)if(t.listMapName)i=n[t.listMapName];else if(1===e)i=n.business_type;else if(2===e){var l=n.business_type.find((function(e){return e.dictValue===t.type}))||{};i=n[l.mapName]||n.func_click}else 3===e?i=n.package_vip:4===e&&(i=n.category_name);else if("BAV0008"===a.tagCode)if(1===e)i=n.business_type;else if(2===e)i=n.play_category;else if(3===e&&"电影"===t.type)i=n.movie_category;else if(3===e&&"综艺"===t.type)i=n.show_category;else if(3===e&&"记录片"===t.type)i=n.documentary_category;else if(3===e&&"电视剧"===t.type)i=n.tv_category;else if(3===e&&"动漫"===t.type)i=n.anime_category;else if(4===e)i=n.source;else{if(5===e)return this.qiBoOptions;if(6===e)return this.qiBoCollectionOptions;7===e?i=n.pay_type:8===e?i=n.watch_time:9===e&&(i=n.single_episode)}else if("BAV0009"===a.tagCode){if(1===e)i=n.app_status;else if(2===e)i=n.app_type;else if(3===e){var c=n.app_type.find((function(e){return e.dictValue===t.type}))||{};i=n[c.mapName]||[]}}else if("BAV0010"===a.tagCode)1===e?i=n.business_type:2===e&&(i=n.user_type);else if("BAV0011"===a.tagCode)if(t.listMapName)i=n[t.listMapName];else if(1===e)i=n.business_type;else if(2===e){var d=n.business_type.find((function(e){return e.dictValue===t.type}))||{};i=n[d.mapName]||[]}else if(3===e){if("关注"===t.type)return this.followOptions;if("订阅"===t.type)return this.topicOptions;i=n[t.listMapName]||[]}else if(4===e){if("影片"===t.type&&t.source)return this.qiBoOptions;if("影片"===t.type)return this.videoOptions;i="视频源"===t.type?n.video_source:n[t.listMapName]}else if(5===e)i=n.game_vip;else if(6===e){if("电竞"===t.type)return this.videoOptions}else 7===e?i=n.is_vip:8===e&&(i=n.video_category);else if("BAV0012"===a.tagCode){if(t.listMapName)i=n[t.listMapName];else if(1===e)i=n.business_type;else{if(3===e)return this.videoOptions;if(4===e)return this.qiBoCollectionOptions;if(5===e)i="影视"===a.bav.value?n.mv_is_vip:n.is_vip;else{if(6===e)return this.followOptions;if(7===e)return this.musicList;if(8===e)return this.singerList;9===e?i=n.education_vip:11===e&&(i=n.vip_package_parent_children_vip)}}10===e&&(i=n.source)}else if("BAV0013"===a.tagCode)1===e?i=n.source_name:2===e?i=n.product_type||[]:3===e&&(i=n.keep_days||[]);else if("BAV0014"===a.tagCode)1===e?i=n.source_name:2===e?i=n.product_type||[]:3===e&&(i=n.keep_type||[]);else if("BAV0015"===a.tagCode)1===e?i=n.source_name:2===e?i=n.product_type||[]:3===e&&(i=n.attrType||[]);else if("BAV0016"===a.tagCode)if(t.listMapName)i=n[t.listMapName];else if(1===e)i=n.business_type;else if(2===e){var u=n.business_type.find((function(e){return e.dictValue===t.type}))||{};i=n[u.mapName]||[]}else 3===e?i=n.buy_type||[]:4===e?i=n.coupon_action||[]:5===e&&(i=n.coupon_type||[]);else i=[{value:"xiazai",label:"下载应用"},{value:"qidong",label:"启动应用"},{value:"xiezai",label:"卸载应用"}];return i=i.map((function(t){var i={name:t.dictLabel,value:t.dictValue,field:t.tableField,type:t.filedType,selectKey:t.tableField+t.dictValue,mapName:t.mapName||""};if("BAV0001"===a.tagCode){var n="=";3===e&&"effective"===t.filedType&&(n=">="),(3===e&&"no_effective"===t.filedType||"vip_expire30"===t.filedType)&&(n="<"),"vip_expire_use30"===t.filedType&&(n=">"),"7vip_expire_use30"!==t.filedType&&"7vip_expire_use"!==t.filedType&&"7vip_expire30"!==t.filedType&&"7vip_expire"!==t.filedType||(n="between"),i={name:t.dictLabel,value:t.dictValue,field:t.tableField,type:"string",selectKey:t.filedType,operator:n,mapName:t.mapName||""}}return i})),i}},getChildBehaviorAttrList:function(){return[{value:"mg",label:"芒果TV"},{value:"tx",label:"腾讯视频"},{value:"bl",label:"bilibili"}]}}},Wi={inject:["_this"],mixins:[Qi],components:{Type:Ai,ConditionLine:Mi,Bav0012:Hi},props:{childItem:{default:function(){},type:Object},bavAttrList:{default:function(){},type:Object}},computed:{isView:function(){return!(!this._this||!this._this.isView)&&this._this.isView}}},Yi=Wi,Zi=(a("0ada"),Object(U["a"])(Yi,Di,$i,!1,null,"74f07941",null)),Xi=Zi.exports;function en(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=tn(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function tn(e,t){if(e){if("string"===typeof e)return an(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?an(e,t):void 0}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var nn={provide:function(){return{_this:this}},data:function(){return{showHitTip:!0,tipVisible:!1,bavAttrList:{},tagCodeValue:{BAV0001:1,BAV0002:2,BAV0003:3,BAV0004:4,BAV0005:5,BAV0006:6,BAV0007:7,BAV0008:8,BAV0009:9,BAV0010:10,BAV0011:11,BAV0012:12,BAV0013:13,BAV0014:14,BAV0015:15,BAV0016:16},cache:{},tagSelectMoreShow:!1,showMoreTags:!1,tagsListTotal:0,formInline:{attrName:""},tagList:[],checkboxValue:"",currentChildItem:"",suggestions:{},suggestionsNew:[],priority:"",initPageSize:200,initCurrentPage:1,activeName:0,inputValue:[],rules:{noEmpty:[{required:!0,message:"不能为空",trigger:"blur"}],crowdName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],limitLaunchCount:[{required:!0,message:"请输入大于0小于1,000,000的限制数量",trigger:"blur"}]},cityData:[],provinceValueList:[],showRange:!0}},computed:{dataSourceColorEnum:function(){return ya}},components:{Range:Ti,Bav:Xi},props:{tags:{type:Array,default:function(){return[]}},actionTags:{type:Array,default:function(){return[]}},specialTags:{type:Array,default:function(){return[]}},i:{type:Number,default:0},behaviorRulesJson:{type:Object,default:function(){}},crowd:{type:Object,default:function(){}},isView:{type:Boolean,default:!1}},watch:{behaviorRulesJson:{handler:function(){this.fetchAllTagSuggestions()},immediate:!0}},methods:{getRangeType:function(e){var t=["range","week","time"];return"BAV0003"!==e&&"BAV0013"!==e&&"BAV0014"!==e&&"BAV0015"!==e&&"BAV0016"!==e||(t=["range"]),t},handelTimeTagTypeSelectChange:function(e){0===e.dateAreaType?e.value="-":e.value="",e.startDay="",e.endDay=""},hasMoveBehaviorTagRule:function(){this.$emit("hasMoveBehaviorTagRule")},handelChangeShow:function(){this.showRange=!this.showRange},handleCheckboxOk:function(){this.currentChildItem.value=this.checkboxValue,this.showMoreTags=!1},handleCurrentChange:function(e){var t=this;this.initCurrentPage=e,this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:e}).then((function(e){t.tagList=e.pageInfo.list}))},citySelectChange:function(e,t,a){if("mix"===t.tagType){var i=a.find((function(t){return e===t.attrName}));t.specialTagId=i.attrId,t.specialCondition=i.rulesJson,t.errorMsg=i.rulesJson?"":"标签未配置，请先配置再使用"}},areaSelectChange:function(e,t,a){var i=this;if(a&&(a.value=""),"mix_area"===t){var n={id:e};return this.$service.specialTagChild(n).then((function(t){var a=t.slice().map((function(e){return{attrValue:e.specialTagName,attrName:e.specialTagName,attrId:e.specialTagId,rulesJson:e.rulesJson}}));i.$set(i.cityData,e,a)}))}},changeTimeWays:function(e){e.value="",e.isDynamicTime?e.isDynamicTime=2===e.isDynamicTime?1:2:this.$set(e,"isDynamicTime",2)},getDefaultOperator:function(){return"="},onSubmit:function(){var e=this;this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:1,attrName:this.formInline.attrName}).then((function(t){e.tagList=t.pageInfo.list,e.tagsListTotal=t.pageInfo.total}))},handleSelectMore:function(e){var t=this;this.formInline.attrName="",this.currentChildItem=e,this.checkboxValue="string"===this.currentChildItem.tagType&&Array.isArray(this.currentChildItem.value)?this.currentChildItem.value:"",this.$service.getTagAttr({tagId:e.tagId,pageSize:this.initPageSize,pageNum:this.initCurrentPage}).then((function(e){t.showMoreTags=!0,t.tagList=e.pageInfo.list,t.tagsListTotal=e.pageInfo.total}))},fetchActionTagSuggestions:function(e){var t=this;this.bavAttrList[e]||this.$service.getBavTagList({id:this.tagCodeValue[e]}).then((function(a){t.bavAttrList[e]=a||{},t.$set(t.bavAttrList,e,a),t.bavAttrList=Object.assign({},t.bavAttrList,t.bavAttrList)}))},fetchTagSuggestions:function(e){var t=this;this.$service.getTagAttr({tagId:e,pageNum:1}).then((function(a){t.$set(t.cache,e,{select:a.select,list:a.pageInfo.list})}))},handleRemoveRule:function(e,t){var a=this.rulesJson;e.rules.splice(e.rules.indexOf(t),1);var i=[];a.rules.forEach((function(e){e.rules.forEach((function(e){i.includes(e.tagId)||i.push(e.tagId)}))})),this.crowd&&this.crowd.rulesJson&&(this.crowd.tagIds=i),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handelCopyRule:function(e,t,a){var i=JSON.parse(JSON.stringify(t));e.rules.splice(a+1,0,i)},handleRemoveSpecialRule:function(e,t){var a=this.behaviorRulesJson;e.rules.splice(e.rules.indexOf(t),1),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleAddActionRule:function(e){var t=this;this.showHitTip=!1,2!==e.dataSource?this.behaviorRulesJson&&this.behaviorRulesJson.rules.length>50?this.$message.error("已达最大数量"):(this.crowd&&!this.crowd.tagIds.includes(e.tagId)&&this.crowd.tagIds.push(e.tagId),this.$service.getBavTagList({id:this.tagCodeValue[e.tagKey]}).then((function(a){t.bavAttrList[e.tagKey]=a||{};var i=[];"BAV0007"===e.tagKey?i=[{name:"",type:"",field:"",operator:"=",value:""}]:"BAV0008"===e.tagKey&&(i=[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:""}]}]}]}]}]}]),t.behaviorRulesJson.rules.push({condition:"AND",rules:[{operator:"=",tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,tagId:e.tagId,tagType:e.tagType,categoryCode:e.tagKey,table:a.tableName+"$"||!1,bav:{table:a.tableName+"$"||!1,value:[],behaviorValue:i,showBehaviorValue:[],countValue:{name:"",filed:"mac",type:"count",operator:"=",value:""},rangeType:"fixed",rang:{name:"",value:[],field:""},weekRang:{name:"",value:[],field:""},timeRange:{name:"",value:[],field:""}}}]})}))):this.handleAddRule(e)},handleAddActionChildRule:function(e,t){var a=this;2!==t.dataSource?e.rules.length>50?this.$message.warning("已达最大数量"):(this.crowd&&!this.crowd.tagIds.includes(t.tagId)&&this.crowd.tagIds.push(t.tagId),this.$service.getBavTagList({id:this.tagCodeValue[t.tagKey]}).then((function(i){a.bavAttrList[t.tagKey]=i||{};var n=[];"BAV0007"===t.tagKey?n=[{name:"",type:"",field:"",operator:"=",value:""}]:"BAV0008"===t.tagKey&&(n=[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:""}]}]}]}]}]}]),e.rules.push({operator:"=",tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,tagId:t.tagId,tagType:t.tagType,categoryCode:t.tagKey,table:i.tableName+"$",bav:{table:i.tableName+"$",value:[],behaviorValue:n,showBehaviorValue:[],countValue:{name:"",type:"count",filed:"mac",operator:"=",value:""},rangeType:"fixed",rang:{name:"",value:[],field:""},weekRang:{name:"",value:[],field:""},timeRange:{name:"",value:[],field:""}}})}))):this.handleAddChildRule(e,t)},handleAddRule:function(e){this.behaviorRulesJson.rules.length>50?this.$message({type:"error",message:"已达最大数量"}):(this.crowd&&!this.crowd.tagIds.includes(e.tagId)&&this.crowd.tagIds.push(e.tagId),"string"===e.tagType||"collect"===e.tagType?void 0===this.cache[e.tagId]&&this.fetchTagSuggestions(e.tagId):"mix"===e.tagType&&void 0===this.cache[e.tagId]&&this.fetchSpecialTagSuggestions(e.tagId,e.tagKey),this.behaviorRulesJson.rules.push({condition:"AND",rules:[{version:2,table:"dmp_db.base_user_tags_v3$",operator:"time"===e.tagType?"between":this.getDefaultOperator("="),tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,value:"",tagId:e.tagId,tagType:e.tagType,categoryName:e.tagName,categoryCode:e.tagKey,dynamicTimeType:e.dynamicTimeType?e.dynamicTimeType:1,isDynamicTime:e.isDynamicTime?e.isDynamicTime:3,thirdPartyCode:e.thirdPartyCode,thirdPartyField:e.thirdPartyField,dateAreaType:e.dateAreaType?e.dateAreaType:0,startDay:"time"===e.tagType?e.startDay?e.startDay:"":void 0,endDay:"time"===e.tagType?e.endDay?e.endDay:"":void 0,initValue:e.initValue,specialCondition:"mix"===e.tagType?e.rulesJson?e.rulesJson:"":void 0}]}))},handleAddChildRule:function(e,t){e.rules.length>50?this.$message({type:"error",message:"已达最大数量"}):("string"===t.tagType||"collect"===t.tagType?void 0===this.cache[t.tagId]&&this.fetchTagSuggestions(t.tagId):"mix"===t.tagType&&void 0===this.cache[t.tagId]&&this.fetchSpecialTagSuggestions(t.tagId,t.tagKey),this.crowd&&!this.crowd.tagIds.includes(t.tagId)&&this.crowd.tagIds.push(t.tagId),e.rules.push({version:2,table:"dmp_db.base_user_tags_v3$",operator:"time"===t.tagType?"between":this.getDefaultOperator("="),tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,value:"",tagId:t.tagId,tagType:t.tagType,categoryName:t.tagName,categoryCode:t.tagKey,dynamicTimeType:t.dynamicTimeType?t.dynamicTimeType:1,isDynamicTime:t.isDynamicTime?t.isDynamicTime:3,thirdPartyCode:t.thirdPartyCode,thirdPartyField:t.thirdPartyField,dateAreaType:t.dateAreaType?t.dateAreaType:0,startDay:"time"===t.tagType?t.startDay?t.startDay:"":void 0,endDay:"time"===t.tagType?t.endDay?t.endDay:"":void 0,initValue:t.initValue,specialCondition:""}))},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=en(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},checkNum:function(e){return!!/(^\d+$)/.test(e)||(this.$message.error("该值为必填项，且必须是大于等于0整数"),!1)},checkNumMostFour:function(e){return!0},bigNum:function(e){var t=e.startDay,a=e.endDay;this.checkNumMostFour(a)?parseInt(t)>parseInt(a)?this.$message.error("第二个值不能小于第一个值"):e.value=t+"-"+a:e.value=""},handleOperatorChange:function(e){"string"===e.tagType&&"null"===e.operator?e.value="nil":"string"===e.tagType?e.value=[]:e.value=""},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},fetchAllTagSuggestions:function(){var e=this,t=this.behaviorRulesJson||{},a="{}"!==JSON.stringify(t)&&t.rules?t.rules.length:0;if(a>0){this.showHitTip=!1;var i=[],n=[];t.rules.forEach((function(t){t.rules.forEach((function(t){if(8===t.dataSource?n.push(t.tagCode):"string"!==t.tagType&&"collect"!==t.tagType||i.push(t.tagId),"string"===t.tagType&&"nil"===t.value&&(t.operator="null"),0===t.version)if("time"===t.tagType&&3===t.isDynamicTime){var a=t.value.split("-");e.$set(t,"startDay",a[0]),e.$set(t,"endDay",a[1])}else"time"===t.tagType&&3!==t.isDynamicTime&&(e.$set(t,"dateAreaType",""),e.$set(t,"dynamicTimeType",parseInt(t.dynamicTimeType)))}))})),i=this.distinct(i,[]),0!==i.length&&i.forEach(this.fetchTagSuggestions),0!==n.length&&n.forEach((function(t){e.fetchActionTagSuggestions(t)}))}}}},rn=nn,sn=(a("a2dd"),Object(U["a"])(rn,Ci,wi,!1,null,"269c1bf1",null)),on=sn.exports,ln=[];function cn(e,t,a,i,n,r,s,o){e.$refs.form.validate((function(l){if(!l)return!1;var c=JSON.parse(JSON.stringify(t)),d=[],u=JSON.parse(JSON.stringify(a)),h=mn(JSON.parse(JSON.stringify(i))),p=JSON.parse(JSON.stringify(n)),m=u.rules,f=p.rules,v=h.rules;if(r&&s&&s>c.limitLaunchCount)E["Message"].error("投放数量不能小于上一次设置的限制数量");else if(dn(m,f,v,e)){if(m.forEach((function(e){e.rules.forEach((function(e){-1===d.indexOf(e.tagId)&&d.push(e.tagId)}))})),f.forEach((function(e){e.rules.forEach((function(e){-1===d.indexOf(e.tagId)&&d.push(e.tagId)}))})),v.forEach((function(e){e.rules.forEach((function(e){if(-1===d.indexOf(e.tagId)&&d.push(e.tagId),"string"===e.tagType&&"null"!==e.operator&&(e.value=Array.isArray(e.value)?e.value.join(","):e.value),e.bav&&e.bav.rang.newValue&&"fixed"===e.bav.rangeType){var t=e.bav.rang.newValue,a=[];t.forEach((function(e){e.value&&e.value.length>0&&a.push({value:e.value})})),e.bav.rang.newValue=a,e.bav.rang.value=t.map((function(e){if(e.value)return e.value})).flat()}if("BAV0016"===e.tagCode||"BAV0012"===e.tagCode||"BAV0011"===e.tagCode){var i=[],n=e.bav.showBehaviorValue;n.forEach((function(t){var a=JSON.parse(JSON.stringify(t)),n=hn(a.child),r=JSON.parse(JSON.stringify(e.bav.countValue));r.child=n,a.child=[r],i.push(a)})),e.bav.behaviorValue=i}}))})),1===c.blackFlag){var g=c.blackList.map((function(e){return e.value}));c.blacks=g.join(",")}var b={crowdName:c.name,tagIds:d.join(","),rulesJson:JSON.stringify(u),behaviorRulesJson:JSON.stringify(h),dynamicPolicyJson:JSON.stringify(p),remark:c.remark,policyId:c.policyId,autoVersion:c.autoVersion,isShowAutoVersion:c.isShowAutoVersion,limitLaunch:c.limitLaunch,limitLaunchCount:c.limitLaunch?c.limitLaunchCount:void 0,versionNum:2,blackFlag:c.blackFlag,blacks:c.blacks},y=[],C=e.$refs.multipleActionTagSelect&&e.$refs.multipleActionTagSelect.$refs.range?e.$refs.multipleActionTagSelect.$refs.range:[];C.forEach((function(e){y.push(e.$refs.rangeForm)}));var w=[],_=e.$refs.multipleActionTagSelect&&e.$refs.multipleActionTagSelect.$refs.bav?e.$refs.multipleActionTagSelect.$refs.bav:[],S=[];_&&_.forEach((function(e){e.$refs.bav&&S.push(e.$refs.bav),e.$refs.typeRef&&Array.isArray(e.$refs.typeRef)?e.$refs.typeRef.forEach((function(e){w.push(e.$refs.typeForm)})):e.$refs.typeRef&&"object"===Object($t["a"])(e.$refs.typeRef)&&w.push(e.$refs.typeRef.$refs.typeForm)}));var k=y.concat(w,S);if(ln.length>0){var I=ln.join(","),x=e.$createElement;Object(E["MessageBox"])({title:"配置提醒",message:x("p",null,[x("span",null,"".concat(I)),x("span",null,"标签的属性为空，请确认是否继续?"),x("div",{style:"color: red"},"PS：标签为空代表要圈出该属性为空的人群")]),showCancelButton:!0,confirmButtonText:"继续",cancelButtonText:"取消"}).then((function(){k.length>0?Promise.all(k.map(fn)).then((function(e){var t=e.every((function(e){return!!e}));t?o(b):E["Message"].error("请输入必填项")})).catch((function(){E["Message"].error("请至少设置一个行为标签规则")})):o(b)}))}else k.length>0?Promise.all(k.map(fn)).then((function(e){var t=e.every((function(e){return!!e}));t?o(b):E["Message"].error("请输入必填项")})).catch((function(){E["Message"].error("请至少设置一个行为标签规则")})):o(b)}}))}function dn(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];ln=[];var n=0,r=e.length,s=t.length,o=!0;for(a=0;a<r;a++){for(n=0;n<e[a].rules.length;n++){var l=e[a].rules[n];"string"===l.tagType&&"null"!==l.operator&&(l.value=l.value.join(","));var c="time"===l.tagType&&0===l.dateAreaType;if(c)ln.includes(l.tagName)||ln.push(l.tagName);else{if(l.value&&(""===l.value||0===l.value.length)){E["Message"].error("请正确填写第"+(a+1)+"设置标签块里面的第"+(n+1)+"行的值！"),o=!1;break}if("time"===l.tagType&&3===l.isDynamicTime)if(l.version>0){var d=l.startDay?l.startDay:"@",u=l.endDay?l.endDay:"@";l.value=d+"~"+u}else{if(!vn(l.startDay)||!vn(l.endDay)){E["Message"].error("第"+(a+1)+"设置标签块里面的第"+(n+1)+"行的值是大于等于0的整数且不能超过4位数"),o=!1;break}if(!(parseInt(l.startDay)<parseInt(l.endDay))){E["Message"].error("第"+(a+1)+"设置标签块里面的第"+(n+1)+"行的天数值后面的值必须大于前面的"),o=!1;break}l.value=l.startDay+"-"+l.endDay}else"string"===l.tagType&&"null"===l.operator&&(l.operator="=")}if(!o)break}if(!o)break}var h,p=i.length,m=0;for(h=0;h<p;h++)for(m=0;m<i[h].rules.length;m++){var f=i[h].rules[m];if(f.isOldversion){E["Message"].error("【起播活跃 - BAV0011】组件升级，若要编辑请删除后重新创建"),o=!1;break}var v="time"===f.tagType&&0===f.dateAreaType;if(v)ln.includes(f.tagName)||ln.push(f.tagName);else{if(f.value&&(""===f.value||0===f.value.length)){E["Message"].error("请正确填写第"+(h+1)+"行为标签块里面的第"+(m+1)+"行的值！"),o=!1;break}if("time"===f.tagType&&3===f.isDynamicTime)if(f.version>0){var g=f.startDay?f.startDay:"@",b=f.endDay?f.endDay:"@";f.value=g+"~"+b}else{if(!un(f.startDay)||!un(f.endDay)){E["Message"].error("第"+(h+1)+"行为标签块里面的第"+(m+1)+"行的值是大于等于0的整数且不能超过4位数"),o=!1;break}if(!(parseInt(f.startDay)<parseInt(f.endDay))){E["Message"].error("第"+(h+1)+"行为标签块里面的第"+(m+1)+"行的天数值后面的值必须大于前面的"),o=!1;break}f.value=f.startDay+"-"+f.endDay}}}for(a=0;a<s;a++){for(n=0;n<t[a].rules.length;n++){var y=t[a].rules[n];if(""===y.value||""===y.dynamic.version){E["Message"].error("请正确填写第"+(a+1)+"动态因子里面的第"+(n+1)+"行的值！"),o=!1;break}if(!o)break}if(!o)break}return o}function un(e){return!!/(^\d+$)/.test(e)||(E["Message"].error("该值为必填项，且必须是大于等于0整数"),!1)}function hn(e){var t=[],a=e.length;if(a>1)for(var i=a-1;i>-1;i--)t=e[i],e[i-1]&&(t=pn(e[i-1],t));else t=e,e[0]&&e[0].child&&e[0].child.length>1&&(t[0].child=hn(e[0].child));return t}function pn(e,t){if(null==e.child||0===e.child.length)return e.child.push(t),e;pn(e.child[0],t)}function mn(e){if(e){var t=0,a=e.rules;a.forEach((function(e){var a=e.rules;a.forEach((function(e){t+=1,e.table=e.table.split("$")[0]+"$"+t,e.bav&&(e.bav.table=e.bav.table.split("$")[0]+"$"+t)}))}))}else e={link:"AND",condition:"OR",rules:[]};return e}function fn(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))}function vn(e,t){var a=parseInt(e);return!!(/(^\d+$)/.test(e)&&a<=9999)||(E["Message"].error("该值为必填项，且必须是大于等于0的整数且不能超过4位数"),!1)}function gn(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=bn(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function bn(e,t){if(e){if("string"===typeof e)return yn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?yn(e,t):void 0}}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var Cn={components:{MultipleSelect:yi,MultipleActionTagSelect:on},data:function(){var e=function(e,t,a){if(!t)return a(new Error("限制投放数量不能为空"));Number.isInteger(t)?a():a(new Error("请输入大于0小于1,000,000的整数"))};return{versionNum:2,cache:{},tags:[],actionTags:[],specialTags:[],tagInitSize:200,tagCurrentPage:1,tagSelectMoreShow:!1,showMoreTags:!1,tagList:[],checkboxValue:"",currentChildItem:"",initPageSize:200,initCurrentPage:1,tagsListTotal:0,formInline:{attrName:""},rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"OR",rules:[]},suggestions:{},suggestionsNew:[],priority:"",form:{name:"",policyId:null,remark:"",autoVersion:!1,isShowAutoVersion:!1,limitLaunch:!1,limitLaunchCount:void 0,blackFlag:0,blacks:"",blackList:[{value:""}]},formRules:{name:[{required:!0,message:"请填写人群名称",trigger:"blur"}],limitLaunchCount:[{validator:e,trigger:"blur"}]},pickerOptions:{disabledDate:function(e){var t=(new Date).setHours(23,59,59),a=new Date(t).getTime(),i=5184e6,n=a+i;return e.getTime()<Date.now()-864e5||e.getTime()>n}},currentLaunchLimitCount:void 0,cityData:[],provinceValueList:[]}},watch:{behaviorRulesJson:{handler:function(){this.hasMoveBehaviorTagRule()},deep:!0}},computed:{hasBehaviorTag:function(){return this.actionTags.some((function(e){return 8===e.dataSource}))}},props:["policyId","crowdId","limitLaunchDisabled","isDynamicPeople","crowd"],methods:{checkBlackName:function(e,t,a){console.warn("checkBlackName");var i=/^[a-fA-F0-9]{12}$/;i.test(t)?a():a(new Error("mac 格式为大小写的 a-f 和数字的 12 位字符组合"))},handleDeleteBlack:function(e){this.form.blackList.splice(e,1)},handleAddBlack:function(){this.form.blackList.length<100&&this.form.blackList.push({value:""})},hasMoveBehaviorTagRule:function(){var e=this.form,t=this.behaviorRulesJson?this.behaviorRulesJson.rules:[],a=!1;t.length>0&&(a=!0),a?(void 0===e.isShowAutoVersion||e.isShowAutoVersion||(e.autoVersion=!0),e.isShowAutoVersion=!0):(e.isShowAutoVersion=!1,e.autoVersion=!1)},areaSelectChange:function(e,t,a){var i=this;if(a&&(a.value=""),"mix_area"===t){var n={id:e};return this.$service.specialTagChild(n).then((function(t){var a=t.slice().map((function(e){return{attrValue:e.specialTagName,attrName:e.specialTagName,attrId:e.specialTagId,rulesJson:e.rulesJson}}));i.$set(i.cityData,e,a)}))}},fetchSpecialTagSuggestions:function(e,t){var a=this,i={tagId:e,pageSize:200,isSelect:1};this.$service.specialTagDetailList(i).then((function(i){var n=i.list.map((function(e){return{attrId:e.specialTagId,attrName:e.specialTagName,attrValue:"mix_area"===t?e.specialTagId:e.specialTagName,dataSource:7,rulesJson:e.rulesJson}}));a.$set(a.cache,e,{select:!1,list:n})}))},fetchActionTagSuggestions:function(e){var t=this;this.bavAttrList[e]||this.$service.getBavTagList({id:this.tagCodeValue[e]}).then((function(a){t.bavAttrList[e]=a||{},t.$set(t.bavAttrList,e,a),t.bavAttrList=Object.assign({},t.bavAttrList,t.bavAttrList),console.log("this.bavAttrList==>",t.bavAttrList)}))},fetchTagSuggestions:function(e){var t=this;this.$service.getTagAttr({tagId:e,pageNum:1}).then((function(a){t.$set(t.cache,e,{select:a.select,list:a.pageInfo.list})}))},handleCheckboxOk:function(){this.currentChildItem.value=this.checkboxValue,this.showMoreTags=!1},handleCurrentChange:function(e){var t=this;this.initCurrentPage=e,this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:e}).then((function(e){t.tagList=e.pageInfo.list}))},onSubmit:function(){var e=this;this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:1,attrName:this.formInline.attrName}).then((function(t){e.tagList=t.pageInfo.list,e.tagsListTotal=t.pageInfo.total}))},getDefaultOperator:function(){return"="},handleSave:function(){cn(this,this.form,this.rulesJson,this.behaviorRulesJson,this.dynamicPolicyJson,this.limitLaunchDisabled,this.currentLaunchLimitCount,this.fetchAddOrEdit)},handleTabChangeSave:function(){cn(this,this.form,this.rulesJson,this.behaviorRulesJson,this.dynamicPolicyJson,this.limitLaunchDisabled,this.currentLaunchLimitCount,this.tabFetchAddOrEdit)},tabFetchAddOrEdit:function(e){var t=this.isDynamicPeople?"操作成功":"操作成功，".concat(null!=this.crowdId?"修改人群条件会影响该策略下所有人群的交叉，请点击“估算”重新估算其他人群的圈定数据":"新增一个人群会影响该策略下人群优先级和交叉，请点击“估算”重新估算其他人群的圈定数据");null!=this.crowdId?(e.crowdId=this.crowdId,e.priority=this.priority,this.$service.crowdUpdate(e,t).then((function(){}))):this.$service.crowdSave(e,t).then((function(){}))},fetchAddOrEdit:function(e){var t=this;console.log("this------\x3e",this);var a=this.isDynamicPeople?"操作成功":"操作成功，".concat(null!=this.crowdId?"修改人群条件会影响该策略下所有人群的交叉，请点击“估算”重新估算其他人群的圈定数据":"新增一个人群会影响该策略下人群优先级和交叉，请点击“估算”重新估算其他人群的圈定数据");null!=this.crowdId?(e.crowdId=this.crowdId,e.priority=this.priority,this.$service.crowdUpdate(e,a).then((function(){t.$emit("goBackCrowdListPage",!0)}))):this.$service.crowdSave(e,a).then((function(){t.$emit("goBackCrowdListPage",!0)}))},cancelAdd:function(){this.$emit("goBackCrowdListPage")},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=gn(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},handleConditionChange:function(){this.behaviorRulesJson.link="AND"===this.behaviorRulesJson.link?"OR":"AND"}},created:function(){var e=this;this.form.policyId=this.policyId,this.$service.getTagsByPoliceId({policyId:this.form.policyId}).then((function(t){var a=[],i=[],n=[];t.forEach((function(e){6===e.dataSource?n.push(e):8===e.dataSource?i.push(e):2===e.dataSource?(i.push(e),a.push(e)):a.push(e)})),e.crowd&&1===e.crowd.isUsedAsTag&&(a=a.filter((function(e){return 12!==e.dataSource}))),e.tags=a,e.actionTags=i,e.specialTags=n})),null!=this.crowdId&&this.$service.crowdEdit({crowdId:this.crowdId}).then((function(t){var a=t.policyCrowds;e.form.name=a.crowdName,e.form.remark=a.remark,e.priority=a.priority,e.versionNum=a.versionNum||0,e.form.autoVersion=a.autoVersion,e.form.isShowAutoVersion=!0,e.form.limitLaunch=a.limitLaunch,e.form.limitLaunchCount=a.limitLaunch?a.limitLaunchCount:void 0,e.form.blackFlag=a.blackFlag,e.form.blacks=a.blacks,e.form.blackList=[{value:""}],1===a.blackFlag&&(e.form.blackList=a.blacks.split(",").map((function(e){return{value:e}}))),e.currentLaunchLimitCount=a.limitLaunch?a.limitLaunchCount:void 0;var i=JSON.parse(a.rulesJson),n=[],r=[],s=[];i.rules=i.rules.map((function(t){return t.rules.forEach((function(t){if(8===t.dataSource?r.push(t.tagCode):"string"!==t.tagType&&"collect"!==t.tagType||n.push(t.tagId),"mix"===t.tagType&&s.push({tagId:t.tagId,tagCode:t.tagCode,provinceValue:t.provinceValue}),"string"===t.tagType&&"nil"===t.value&&(t.operator="null"),"string"===t.tagType&&"null"!==t.operator&&"string"===typeof t.value&&(t.value=""===t.value?[]:t.value.split(",")),0===t.version)if("time"===t.tagType&&3===t.isDynamicTime){var a=t.value.split("-");e.$set(t,"startDay",a[0]),e.$set(t,"endDay",a[1])}else"time"===t.tagType&&3!==t.isDynamicTime&&(e.$set(t,"dateAreaType",""),e.$set(t,"dynamicTimeType",parseInt(t.dynamicTimeType)))})),t})),e.rulesJson=i,e.behaviorRulesJson=JSON.parse(a.behaviorRulesJson);var o=[{name:"",value:"",filed:"",operator:"=",type:"string",child:[]}];e.behaviorRulesJson.rules.forEach((function(t){t.rules.forEach((function(t){if("string"===t.tagType&&"null"!==t.operator&&"string"===typeof t.value&&(t.value=""===t.value?[]:t.value.split(",")),0===e.versionNum)if("BAV0001"===t.tagCode||"BAV0003"===t.tagCode||"BAV0004"===t.tagCode||"BAV0006"===t.tagCode){var a=JSON.parse(JSON.stringify(t.bav));t.bav.behaviorValue=JSON.parse(JSON.stringify(o)),t.bav.behaviorValue[0].child=a.behaviorValue,t.bav.behaviorValue[0].childCheckedVal=a.value}else if("BAV0002"===t.tagCode)t.bav.behaviorValue.forEach((function(e){var t=JSON.parse(JSON.stringify(e));e.child=JSON.parse(JSON.stringify(o)),e.child[0].child=t.child,e.child[0].childCheckedVal=t.childCheckedVal}));else if("BAV0005"===t.tagCode){var i=t.bav.value.findIndex((function(e){return"产品页"===e}));i>-1&&(t.bav.value.splice(i,1,"影视收银台"),t.bav.behaviorValue.forEach((function(e){"产品页"===e.value&&(e.value="影视收银台",e.name="影视收银台")})))}e.versionNum<2&&"BAV0011"===t.tagCode&&(t.isOldversion=!0)}))})),a.dynamicPolicyJson&&(e.dynamicPolicyJson=JSON.parse(a.dynamicPolicyJson)),n=e.distinct(n,[]),0!==n.length&&n.forEach(e.fetchTagSuggestions),0!==r.length&&r.forEach((function(t){e.fetchActionTagSuggestions(t)})),0!==s.length&&s.forEach((function(t){e.fetchSpecialTagSuggestions(t.tagId,t.tagCode),e.areaSelectChange(t.provinceValue,t.tagCode)}))}))}},wn=Cn,_n=(a("076e"),Object(U["a"])(wn,$a,La,!1,null,"f4434500",null)),Sn=_n.exports,kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crowd-list"},[a("fieldset",[a("legend",[e._v(e._s(e.selectRow.policyName))]),a("div",{staticClass:"crowd-top"},[a("div",{staticClass:"crowd-top-back"},[a("el-button",{attrs:{type:"text"},on:{click:e.goBack}},[a("i",{staticClass:"el-icon-cc-left"}),e._v("返回\n          ")])],1),a("div",[e._v("\n          策略ID："+e._s(e.selectRow.policyId)+"\n          策略维度:\n          "),e._l(e.selectRow.tagsList,(function(t){return a("el-tag",{key:t.tagId,attrs:{size:"mini",type:e.dataSourceColorEnum[t.dataSource]}},[e._v(e._s(t.tagName))])}))],2)])]),a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[e.smart?e._e():a("el-button-group",[a("el-tooltip",{attrs:{placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("点击将按人群优先级除去交叉部分，批量估算所有上架中的人群")]),a("span",{staticClass:"uneffective"},[a("el-button",{attrs:{type:"text",size:"medium",disabled:e.canBatchEstimate},on:{click:e.handleBatchEstimate}},[e._v("\n              批量估算\n              ")])],1)]),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:e.handleByPass}},[e._v("\n            请求分流\n          ")])],1)],1),a("div",{staticClass:"header-right"},[a("div",{staticClass:"search-input"},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入人群名称",clearable:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchForm.crowdName,callback:function(t){e.$set(e.searchForm,"crowdName",t)},expression:"searchForm.crowdName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1),e.smart?a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:add",expression:"'hoder:crowd:add'"}],attrs:{type:"primary",size:"small",disabled:e.tableData.length>0},on:{click:e.handleAddDynamic}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增动态人群\n          ")])],1):a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:add",expression:"'hoder:crowd:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增人群\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:add",expression:"'hoder:crowd:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleLink}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("引用人群\n          ")])],1),a("div",[a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"createTime"}},[e._v("创建时间")]),a("el-checkbox",{attrs:{label:"creatorName"}},[e._v("创建人")]),a("el-checkbox",{attrs:{label:"department"}},[e._v("业务部门")]),a("el-checkbox",{attrs:{label:"remark"}},[e._v("备注")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)])]),e.smart?a("div",[a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","row-class-name":e.tableRowClassName,"span-method":e.smartObjectSpanMethod,"row-key":"crowdId"},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"index",width:"30"}}),a("el-table-column",{attrs:{prop:"crowdId",label:"人群ID",width:"90",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群名称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.abMainCrowd?a("span",[e._v(e._s(t.row.crowdName))]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showDivideResult(t.row.crowdId)}}},[e._v(e._s(t.row.crowdName))])]}}],null,!1,3790545753)}),a("el-table-column",{attrs:{prop:"priority",label:"优先级",width:"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("priorityEdit",{attrs:{showEdit:e.showByPassColumn&&t.row.id||!e.showByPassColumn,byPassId:t.row.id,data:t.row.priority,policyId:t.row.policyId,crowdId:t.row.crowdId,isDynamicPeople:!0},on:{refresh:e.loadData}})]}}],null,!1,1655458993)},[a("template",{slot:"header"},[e._v("\n              优先级\n              "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"hover"}},[a("div",[e._v("数字越大，优先级越高")]),a("span",{staticClass:"priority-tip",attrs:{slot:"reference"},slot:"reference"},[e._v("!")])])],1)],2),a("el-table-column",{attrs:{prop:"status",label:"状态",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.launchStatusEnum[t.row.status])+"\n          ")]}}],null,!1,3712957589)}),a("el-table-column",{attrs:{prop:"status",label:"流量占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.flowNum)+"%\n            ")]}}],null,!1,3188515964)}),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime))])]}}],null,!1,277918933)}):e._e(),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{prop:"creatorName",label:"创建人",width:"80"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{prop:"department",label:"业务部门",width:"80"}}):e._e(),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"el-button-group"},[a("el-dropdown",{on:{command:e.handleCommandStastic}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                  分析\n                ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[3==t.row.forcastStatus?a("el-dropdown-item",{attrs:{command:["estimatedDetail",t.row]}},[e._v("估算画像")]):e._e(),a("el-dropdown-item",{attrs:{command:["detail",t.row]}},[e._v("命中曝光分析")]),a("el-dropdown-item",{attrs:{command:["appointment",t.row]}},[e._v("预约投后分析")])],1)],1),a("el-dropdown",{on:{command:e.handleDynamicCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                  更多\n                ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:edit",expression:"'hoder:crowd:edit'"}],attrs:{command:["edit",t.row],disabled:0===t.row.putway}},[e._v("编辑\n                  ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:del",expression:"'hoder:crowd:del'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                  ")]),a("el-dropdown-item",{attrs:{command:["upDown",t.row]}},[e._v("人群"),1===t.row.putway?a("span",[e._v("下架")]):a("span",[e._v("上架")])])],1)],1)],1)]}}],null,!1,2220165853)}),a("el-table-column",{attrs:{label:"编辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"el-button-group"},[a("el-dropdown",{on:{command:e.handleBigDynamicCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                  编辑\n                ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:edit",expression:"'hoder:crowd:edit'"}],attrs:{command:["step1",t.row]}},[e._v("\n                    编辑基础人群\n                  ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:edit",expression:"'hoder:crowd:edit'"}],attrs:{command:["step2",t.row]}},[e._v("\n                    编辑动态人群\n                  ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:edit",expression:"'hoder:crowd:edit'"}],attrs:{command:["step3",t.row]}},[e._v("\n                    编辑流转条件\n                  ")])],1)],1)],1)]}}],null,!1,3303898828)})],1),a("div",{staticStyle:{color:"#909399",margin:"30px 0 10px"}},[e._v("对比人群")]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.contrastCrowdTableData,"row-class-name":e.tableRowClassName,stripe:"",border:"","row-key":"crowdId"},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{type:"index",width:"30"}}),a("el-table-column",{attrs:{prop:"crowdId",label:"人群ID",width:"90",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群名称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.abMainCrowd?a("span",[e._v(e._s(t.row.crowdName))]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showDivideResult(t.row.crowdId)}}},[e._v(e._s(t.row.crowdName))])]}}],null,!1,3790545753)}),a("el-table-column",{attrs:{prop:"priority",label:"优先级",width:"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("priorityEdit",{attrs:{showEdit:e.showByPassColumn&&t.row.id||!e.showByPassColumn,byPassId:t.row.id,data:t.row.priority,policyId:t.row.policyId,crowdId:t.row.crowdId,isDynamicPeople:!0},on:{refresh:e.loadData}})]}}],null,!1,1655458993)},[a("template",{slot:"header"},[e._v("\n              优先级\n              "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"hover"}},[a("div",[e._v("数字越大，优先级越高")]),a("span",{staticClass:"priority-tip",attrs:{slot:"reference"},slot:"reference"},[e._v("!")])])],1)],2),a("el-table-column",{attrs:{prop:"status",label:"状态",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.launchStatusEnum[t.row.status])+"\n          ")]}}],null,!1,3712957589)}),a("el-table-column",{attrs:{prop:"status",label:"流量占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.flowNum)+"%\n          ")]}}],null,!1,1687959420)}),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime))])]}}],null,!1,277918933)}):e._e(),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{prop:"creatorName",label:"创建人",width:"80"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{prop:"department",label:"业务部门",width:"80"}}):e._e(),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"el-button-group"},[a("el-dropdown",{on:{command:e.handleCommandStastic}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                  分析\n                ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[3==t.row.forcastStatus?a("el-dropdown-item",{attrs:{command:["estimatedDetail",t.row]}},[e._v("估算画像")]):e._e(),a("el-dropdown-item",{attrs:{command:["detail",t.row]}},[e._v("命中曝光分析")]),a("el-dropdown-item",{attrs:{command:["appointment",t.row]}},[e._v("预约投后分析")])],1)],1),a("el-dropdown",{on:{command:e.handleDynamicCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                  更多\n                ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:edit",expression:"'hoder:crowd:edit'"}],attrs:{command:["edit",t.row],disabled:0===t.row.putway}},[e._v("编辑\n                  ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:del",expression:"'hoder:crowd:del'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                  ")]),a("el-dropdown-item",{attrs:{command:["upDown",t.row]}},[e._v("人群"),1===t.row.putway?a("span",[e._v("下架")]):a("span",[e._v("上架")])])],1)],1)],1)]}}],null,!1,2220165853)}),a("el-table-column",{attrs:{label:""}})],1)],1):a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","row-class-name":e.tableRowClassName,"span-method":e.objectSpanMethod,"row-key":"crowdId","expand-row-keys":e.initExpandCrowd},on:{"expand-change":e.handleExpandChange,"sort-change":e.handleSortChange}},[e.showByPassColumn?a("el-table-column",{attrs:{label:"分流占比",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.bypassName))]),"未分组"!==t.row.bypassName?a("div",[a("div",[e._v("分流id："+e._s(t.row.bypassId))]),a("div",[e._v("占比："+e._s(t.row.ratio)+"%")]),a("div",[a("el-button",{attrs:{type:"text"},on:{click:e.handleEditBypass}},[e._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDeleteBypass(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleSeeConfigBypass(t.row.bypassId)}}},[e._v("查看配置")])],1)]):e._e()]}}],null,!1,114904570)}):e._e(),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"人群名称:"}},[a("span",[e._v(e._s(t.row.crowdName))])]),a("el-form-item",{attrs:{label:"人群规则:"}},e._l(JSON.parse(t.row.rulesJson).rules,(function(i,n){return a("div",{key:n,staticClass:"detail"},[n>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[JSON.parse(t.row.rulesJson).condition]))]):e._e(),a("div",{staticClass:"label-ground"},[e._v("(\n                  "),e._l(i.rules,(function(t,n){return a("div",{key:t.tagId+n,staticClass:"label-item"},[n>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[i.condition]))]):e._e(),a("span",{staticClass:"txt"},[e._v(e._s(t.categoryName))]),a("span",{staticClass:"sel"},[e._v(e._s(t.operator))]),"time"===t.tagType&&2===t.isDynamicTime&&1==t.dynamicTimeType?a("span",[e._v("在当日之前")]):e._e(),"time"===t.tagType&&2===t.isDynamicTime&&2==t.dynamicTimeType?a("span",[e._v("在当日之后")]):e._e(),a("span",{staticClass:"in"},[a("span",[e._v(e._s(t.value))])]),"time"===t.tagType&&2===t.isDynamicTime?a("span",[e._v("天")]):e._e()])})),e._v(")\n                ")],2)])})),0),t.row.dynamicPolicyJson?a("el-form-item",{attrs:{label:"动态标签:"}},e._l(JSON.parse(t.row.dynamicPolicyJson).rules,(function(i,n){return a("div",{key:n,staticClass:"detail"},[n>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[JSON.parse(t.row.dynamicPolicyJson).condition]))]):e._e(),a("div",{staticClass:"label-ground"},[e._v("(\n                  "),e._l(i.rules,(function(t,n){return a("div",{key:t.tagId+n,staticClass:"label-item"},[n>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[i.condition]))]):e._e(),a("span",{staticClass:"txt"},[e._v(e._s(t.categoryName))]),a("span",{staticClass:"sel"},[e._v(e._s(t.operator))]),"time"===t.tagType&&2===t.isDynamicTime&&1==t.dynamicTimeType?a("span",[e._v("在当日之前")]):e._e(),"time"===t.tagType&&2===t.isDynamicTime&&2==t.dynamicTimeType?a("span",[e._v("在当日之后")]):e._e(),a("span",{staticClass:"in"},[a("span",[e._v(e._s(t.value))])]),"time"===t.tagType&&2===t.isDynamicTime?a("span",[e._v("天")]):e._e()])})),e._v(")\n                ")],2)])})),0):e._e(),a("crowdStatusResource",{key:t.row.crowdId,ref:"crowdStatusResourceRef",attrs:{"crowd-id":t.row.crowdId,status:e.launchStatusEnum[t.row.status]}})],1)]}}])}),a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),a("el-table-column",{attrs:{prop:"crowdId",label:"人群ID",width:"90",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.crowdName)+"\n\n            ")]}}])}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.dynamicFlag?a("span",[e._v("动态人群")]):e.isReferCrowd(t.row.referCrowdId)?a("span",[e._v("引用人群")]):1===t.row.abMainCrowd?a("span",[e._v("AB实验人群")]):3===t.row.abMainCrowd?a("span",[e._v("再分割人群")]):1===t.row.isCrowdTagCrowd?a("span",[e._v("复合人群")]):0===t.row.abMainCrowd?a("span",[e._v("普通人群")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"priority",label:"优先级",width:"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("priorityEdit",{attrs:{showEdit:e.showByPassColumn&&t.row.id||!e.showByPassColumn,byPassId:t.row.id,data:t.row.priority,policyId:t.row.policyId,crowdId:t.row.crowdId},on:{refresh:e.loadData}})]}}])},[a("template",{slot:"header"},[e._v("\n            优先级\n            "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"hover"}},[a("div",[e._v("数字越大，优先级越高")]),a("span",{staticClass:"priority-tip",attrs:{slot:"reference"},slot:"reference"},[e._v("!")])])],1)],2),e.checkList.indexOf("remark")>-1?a("el-table-column",{key:"remark",attrs:{prop:"remark",label:"备注",width:"90"}}):e._e(),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"70",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.launchStatusEnum[t.row.status]))])]}}])}),a("el-table-column",{attrs:{label:"AB测试",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isReferCrowd(t.row.referCrowdId)?a("span",{staticClass:"boldCss"},[e._v("不支持")]):a("span",[e._v("\n            "+e._s(e.abStatusEnum[t.row.abstatus])+"\n            "),0!==t.row.abstatus?a("el-button",{attrs:{disabled:0===t.row.putway,type:"text"},on:{click:function(a){return e.showDivideResult(t.row.crowdId)}}},[e._v("查看AB人群")]):e._e()],1)]}}])}),a("el-table-column",{attrs:{label:"动态实验",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isReferCrowd(t.row.referCrowdId)?a("span",{staticClass:"boldCss"},[e._v("不支持")]):a("span",[e._v("\n            "+e._s(e.abStatusEnum[t.row.dynamicStatus])+"\n            "),0!==t.row.dynamicStatus?a("el-button",{attrs:{disabled:0===t.row.putway,type:"text"},on:{click:function(a){return e.showDynamicList(t.row.crowdId)}}},[e._v("查看动态分组")]):e._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"forcastStatus",label:"估算状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isReferCrowd(t.row.referCrowdId)?a("span",{staticClass:"boldCss"},[e._v("不支持")]):a("span",[1==t.row.forcastStatus?a("span",[e._v("未估算")]):e._e(),2==t.row.forcastStatus?a("span",[e._v("估算中")]):e._e(),3==t.row.forcastStatus?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showCountResult(t.row.crowdId)}}},[e._v("查看估算数量")]):e._e(),4==t.row.forcastStatus?a("span",[e._v("估算失败")]):e._e(),6==t.row.forcastStatus?a("span",[e._v("暂不支持该类标签")]):e._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"limitLaunch",label:"是否限制投放数量",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isReferCrowd(t.row.referCrowdId)?a("span",{staticClass:"boldCss"},[e._v("不支持")]):t.row.limitLaunch?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleShowLimitLaunch(t.row.limitLaunchCount)}}},[e._v("是")]):a("span",[e._v("否")])]}}])}),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime))])]}}],null,!1,277918933)}):e._e(),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{prop:"creatorName",label:"创建人",width:"80"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{prop:"department",label:"业务部门",width:"80"}}):e._e(),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"el-button-group"},[e.isReferCrowd(t.row.referCrowdId)?e._e():a("el-button",{attrs:{size:"small",type:"text",disabled:0===t.row.putway||6==t.row.forcastStatus},on:{click:function(a){return e.handleClickEstimate(t.row)}}},[e._v("估算数量")]),a("el-dropdown",{on:{command:e.handleCommandStastic}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                分析\n              ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[3==t.row.forcastStatus?a("el-dropdown-item",{attrs:{command:["estimatedDetail",t.row]}},[e._v("估算画像")]):e._e(),e.isShow("Yunying",t.row)?a("el-dropdown-item",{attrs:{command:["operationalAnalysis",t.row]}},[e._v("画像平台分析")]):e._e(),a("el-dropdown-item",{attrs:{command:["detail",t.row]}},[e._v("命中曝光分析")]),a("el-dropdown-item",{attrs:{command:["appointment",t.row]}},[e._v("预约投后分析")]),1===t.row.dynamicFlag?a("el-dropdown-item",{attrs:{command:["dynamicReport",t.row]}},[e._v("动态实验报告")]):e._e(),1===t.row.dynamicFlag?a("el-dropdown-item",{attrs:{command:["nomalyMonitoring",t.row]}},[e._v("流转异常监控")]):e._e(),a("el-dropdown-item",{attrs:{command:["shenCeAnalysis",t.row]}},[e._v("神策分析\n                ")])],1)],1),e.isShow("AB",t.row)&&!e.isReferCrowd(t.row.referCrowdId)?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.divideAB(t.row,"addABTest")}}},[e._v("\n              AB实验\n            ")]):e._e(),e.isShow("Dynamic",t.row)&&!e.isReferCrowd(t.row.referCrowdId)?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleDynamicTest(t.row,"addDynamicTest")}}},[e._v("\n              动态实验\n            ")]):e._e(),a("el-button",{attrs:{disabled:!t.row.launchTime,size:"small",type:"text"},on:{click:function(a){return e.hitMonitoring(t.row)}}},[e._v("\n              命中监控\n            ")]),a("el-dropdown",{on:{command:e.handleCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                更多\n              ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.isReferCrowd(t.row.referCrowdId)?e._e():a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:edit",expression:"'hoder:crowd:edit'"}],attrs:{command:["edit",t.row],disabled:0===t.row.putway}},[e._v("编辑\n                ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:crowd:del",expression:"'hoder:crowd:del'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                ")]),a("el-dropdown-item",{attrs:{command:["upDown",t.row]}},[e._v("人群"),1===t.row.putway?a("span",[e._v("下架")]):a("span",[e._v("上架")])]),e.isReferCrowd(t.row.referCrowdId)?e._e():a("el-dropdown-item",{attrs:{command:["copy",t.row]}},[e._v("人群复制\n                ")]),e.isReferCrowd(t.row.referCrowdId)?e._e():a("el-dropdown-item",{attrs:{command:["commitHistory",t.row]}},[e._v("提交历史数据\n                ")])],1)],1)],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{visible:e.showEstimate,title:"请选择要估算的类型标识"},on:{"update:visible":function(t){e.showEstimate=t}}},[a("el-checkbox-group",{model:{value:e.estimateValue,callback:function(t){e.estimateValue=t},expression:"estimateValue"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i,disabled:0==i}},[e._v(e._s(t))])})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showEstimate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEstimate}},[e._v("提交估算")])],1)],1),a("el-dialog",{attrs:{visible:e.showResult,title:"估算结果"},on:{"update:visible":function(t){e.showResult=t}}},[a("div",{staticClass:"estimate-tips"},[e._v("只估算包含大数据标签的人群数量为：（已按人群优先级除去交叉人群，交叉部分算入优先级高的人群）")]),a("div",[e._v("设备："+e._s(e.totalUser)),"暂无数据"==e.totalUser?a("span",{staticClass:"blue-tip"},[e._v("（你的人群条件查无数据，请重新设置人群条件）")]):e._e()]),a("div",[e._v("手机号："+e._s(void 0===e.total1?"暂无数据":e.total1))]),a("div",[e._v("酷开openId："+e._s(e.total2))]),a("div",[e._v("微信openId："+e._s(e.total3))])]),a("el-dialog",{attrs:{visible:e.showStatistics,width:"90%"},on:{"update:visible":function(t){e.showStatistics=t}}},[a("div",{staticClass:"export-button"},[a("a",{ref:"launchedDownLoad",attrs:{href:e.launchedExportUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleLaunchedExport}},[e._v("导出数据")])],1),a("div",{staticClass:"crowd-statistic"},[a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time0,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(0,t,"drawCrowdLine")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.hitLinesTitle))]),!0===e.showStatistics?a("div",{ref:"hitLine",staticClass:"main"}):e._e()]),a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time1,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(1,t,"drawCrowdPie")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.hitPieTitle))]),!0===e.showStatistics?a("div",{ref:"hitPie",staticClass:"main"}):e._e()])]),a("div",{staticClass:"crowd-statistic"},[a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time2,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(2,t,"drawExposeLine")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.exposeLinesTitle))]),!0===e.showStatistics?a("div",{ref:"exposeLine",staticClass:"main"}):e._e()]),a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time3,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(3,t,"drawExposePie")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.exposePieTitle))]),!0===e.showStatistics?a("div",{ref:"exposePie",staticClass:"main"}):e._e()])]),a("div",{staticClass:"crowd-statistic"},[a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time4,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(4,t,"drawClickLine")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.clickLinesTitle))]),!0===e.showStatistics?a("div",{ref:"clickLine",staticClass:"main"}):e._e()]),a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time5,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(5,t,"drawClickPie")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.clickPieTitle))]),!0===e.showStatistics?a("div",{ref:"clickPie",staticClass:"main"}):e._e()])]),a("div",{staticClass:"crowd-statistic"},[a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time6,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(6,t,"crowdLaunchDetail")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.crowdLaunchTitle))]),a("div",{staticClass:"funnel-tips"},[e._v("人群投放过程中的数据（单位：条）")]),!0===e.showStatistics?a("div",{ref:"crowdLaunch",staticClass:"main"}):e._e()]),a("div",{staticClass:"echarts-container"},[a("div",{staticClass:"click-date-picker"},[a("el-date-picker",{attrs:{value:e.time7,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{input:function(t){return e.handleInputTime(7,t,"setProvinceData")}}})],1),a("div",{staticClass:"lines-title"},[e._v(e._s(e.exposeProvinceTitle))]),!0===e.showStatistics?a("div",{ref:"exposeProvince",staticClass:"main"}):e._e()])])]),a("el-dialog",{attrs:{title:"提示",visible:e.showUpDownDialog},on:{"update:visible":function(t){e.showUpDownDialog=t}}},[a("div",[e._v(e._s(e.upDownTips))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showUpDownDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleUpDown}},[e._v("确定")])],1)]),a("el-dialog",{attrs:{title:"将人群复制到以下策略",visible:e.showCopyDialog},on:{"update:visible":function(t){e.showCopyDialog=t},close:function(t){return e.handleCancelCopy("policyCopyForm")}}},[a("el-form",{ref:"policyCopyForm",staticClass:"copy-form",attrs:{model:e.policyCopyForm,rules:e.copyRules}},[a("el-form-item",{attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{attrs:{multiple:"",filterable:""},on:{change:e.policyCopySelChange},model:{value:e.policyCopyForm.policyIds,callback:function(t){e.$set(e.policyCopyForm,"policyIds",t)},expression:"policyCopyForm.policyIds"}},e._l(e.allPolices,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policyId+"-"+e.policyName,value:e.policyId}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{disabled:!!e.copyErrorMsg,type:"primary"},on:{click:function(t){return e.handleCopy("policyCopyForm")}}},[e._v("确定")]),a("el-button",{on:{click:function(t){return e.handleCancelCopy("policyCopyForm")}}},[e._v("取 消")]),a("span",{staticStyle:{"margin-left":"20px",color:"red"}},[e._v(e._s(e.copyErrorMsg))])],1)],1)],1),a("el-dialog",{attrs:{visible:e.showEstimateEcharts,width:"90%",title:"该人群估算出的用户画像"},on:{"update:visible":function(t){e.showEstimateEcharts=t}}},[a("div",{staticClass:"export-button"},[a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleDownload}},[e._v("导出数据")])],1),a("div",[a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("基本信息")]),a("div",{staticClass:"estimate-statistic"},[a("div",{staticClass:"province-city-active-content city-info-echarts"},[a("div",{ref:"provinceMap",staticClass:"province-map"}),e.cityData?a("div",{staticClass:"city-active-proportion"},[a("div",{staticClass:"city-active-proportion--title"},[e._v("城市活跃比")]),e.cityData.length>0?e._l(e.cityData,(function(t,i){return a("div",{key:i,staticClass:"city-active-proportion--name"},[e._v("\n                                "+e._s(t.name)+":"+e._s(t.value)+"\n                            ")])})):a("div",[e._v("暂无数据")])],2):e._e()]),a("div",{staticClass:"city-info-echarts"},[a("div",{staticClass:"table-title"},[e._v("Top50城市活跃排名(近30天活跃)")]),a("Table",{staticClass:"table-overflow",attrs:{props:e.table.props,header:e.table.header,data:e.table.data}})],1),a("div",{ref:"circleDevice",staticClass:"base-info-circle-echarts",staticStyle:{border:"none",height:"300px"}})])]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("用户类别")]),a("div",{staticClass:"member-select"},[a("div",{staticClass:"member-select--text"},[e._v("按会员权益")]),a("el-select",{model:{value:e.memberListType,callback:function(t){e.memberListType=t},expression:"memberListType"}},[e._l(e.memberList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),a("div",{ref:"member",staticClass:"member-total"}),a("div",{staticClass:"estimate-statistic"},[a("div",{ref:"memberActiveTime",staticClass:"member-total-item"}),a("div",{ref:"memberMainPageActiveTime",staticClass:"member-total-item"}),a("div",{ref:"memberExpirationTime",staticClass:"member-total-item"})])]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("付费分布")]),a("div",{staticClass:"member-select"},[a("div",{staticClass:"member-select--text"},[e._v("按会员权益")]),a("el-select",{model:{value:e.memberListByPay,callback:function(t){e.memberListByPay=t},expression:"memberListByPay"}},[e._l(e.memberList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),a("div",{ref:"payDetail",staticClass:"member-total"})]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("观影行为")]),a("div",[a("div",{staticClass:"watch-tv-behavior"},[a("div",{staticClass:"member-select"},[a("div",{staticClass:"member-select--text"},[e._v("近7日/30日起播活跃率（有起播行为等活跃天数7日/或30日）")]),a("el-select",{model:{value:e.expirationDay,callback:function(t){e.expirationDay=t},expression:"expirationDay"}},[e._l(e.objectToArray(e.expirationDayList),(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),a("div",{ref:"userBehavior",staticClass:"userBehavior"})]),a("div",{ref:"watchPrefer",staticClass:"watch-tv-behavior userBehavior"})])]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("活跃行为")]),a("div",{ref:"activeBehavior",staticClass:"activeBehaviorEcharts"})])])]),a("el-dialog",{attrs:{visible:e.showDivideDetail,title:"划分详情"},on:{"update:visible":function(t){e.showDivideDetail=t}}},[e.DivideTableData&&e.DivideTableData.length>0?a("div",{staticStyle:{margin:"-15px 0 20px 0"}},[a("span",{staticClass:"detailTitle"},[e._v("AB子人群")]),e._v(" 实验有效期："+e._s(e.DivideTableData[0].abStartTime)+" - "+e._s(e.DivideTableData[0].abEndTime)+"\n        "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.DivideTableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"crowdId",label:"人群ID"}}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群名称"}}),a("el-table-column",{attrs:{prop:"ratio",label:"占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.ratio)+"%\n                ")]}}],null,!1,2855642361)}),a("el-table-column",{attrs:{prop:"count",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.cc_format_number(t.row.count))+"\n              ")]}}],null,!1,1125876287)}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.currentCid=t.row.crowdId,e.showCrowdDetailDialog()}}},[e._v("命中曝光分析")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showAppointmentDialog(t.row.crowdId)}}},[e._v("预约投后分析")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleShenCeAnalysis(t.row,"AB")}}},[e._v("神策分析")])]}}],null,!1,102831371)})],1)],1):e._e(),e.subdividePeopleList&&e.subdividePeopleList.length>0?a("div",{staticStyle:{margin:"-15px 0 20px 0"}},[a("span",{staticClass:"detailTitle"},[e._v("再分割人群")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.subdividePeopleList,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"crowdId",label:"人群ID"}}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群名称"}}),a("el-table-column",{attrs:{prop:"ratio",label:"优先级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("priorityEdit",{attrs:{showEdit:e.showByPassColumn&&t.row.id||!e.showByPassColumn,byPassId:t.row.id,data:t.row.priority,policyId:t.row.policyId,crowdId:t.row.crowdId,isDynamicPeople:!0},on:{refresh:e.loadData}})]}}],null,!1,1655458993)},[a("template",{slot:"header"},[e._v("\n                优先级\n                "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"hover"}},[a("div",[e._v("数字越大，优先级越高")]),a("span",{staticClass:"priority-tip",attrs:{slot:"reference"},slot:"reference"},[e._v("!")])])],1)],2),a("el-table-column",{attrs:{prop:"count",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n              ")]}}],null,!1,4289532803)}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.currentCid=t.row.crowdId,e.showCrowdDetailDialog()}}},[e._v("命中曝光分析")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showAppointmentDialog(t.row.crowdId)}}},[e._v("预约投后分析")])]}}],null,!1,2154562097)}),a("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.status?a("div",[3===e.independentLaunchStatusEnum[t.row.history.status].code?a("div",[e._v("\n                          计算完成\n                      ")]):2===e.independentLaunchStatusEnum[t.row.history.status].code&&23===e.independentLaunchStatusEnum[t.row.history.status].childrenCode?a("div",[e._v("\n                          "+e._s(e.independentLaunchStatusEnum[t.row.history.status].childrenName)+"\n                      ")]):1===e.independentLaunchStatusEnum[t.row.history.status].code||4===e.independentLaunchStatusEnum[t.row.history.status].code||7===e.independentLaunchStatusEnum[t.row.history.status].code?a("div",[4===e.crowdType?a("span",[e._v("计算")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.calculate(t.row)}}},[e._v("计算")])],1):5===e.independentLaunchStatusEnum[t.row.history.status].code?a("div",{staticStyle:{color:"red"}},[e._v("\n                          计算失败\n                          ")]):a("div",[e._v("\n                          "+e._s(e.independentLaunchStatusEnum[t.row.history.status].name)+"\n                      ")])]):e._e()]}}],null,!1,3433939162)}),a("el-table-column",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{label:"数据监控",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.currentCid=t.row.crowdId,e.handleMonitor(t.row)}}},[e._v("查看")])]}}],null,!1,2418812530)})],1),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.independentParams.pageNum,pagesize:e.independentParams.pageSize,totalcount:e.independentTotal},on:{"handle-size-change":e.handleIndependentSizeChange,"handle-current-change":e.handleIndependentCurrentChange}})],1)],1):e._e()]),a("el-dialog",{attrs:{visible:e.showDynamicListDetail,title:"划分详情"},on:{"update:visible":function(t){e.showDynamicListDetail=t}}},[a("span",{staticClass:"detailTitle"},[e._v("动态流转")]),a("c-table",{attrs:{props:e.dynamic2GroupListTable.props,header:e.dynamic2GroupListTable.header,data:e.dynamic2GroupListTable.data}})],1),a("commit-history-dialog",{attrs:{setShowCommitHistoryDialog:e.setShowCommitHistoryDialog,crowdId:e.currentCrowdId},on:{closeDialog:function(t){e.setShowCommitHistoryDialog=!1},submit:e.handleSubmitHistory}}),a("el-dialog",{attrs:{visible:e.showLimitLaunchDialog},on:{"update:visible":function(t){e.showLimitLaunchDialog=t}}},[a("div",[e._v("限制投放数量为："+e._s(this.showLimitLaunchCount))])]),a("el-dialog",{attrs:{visible:e.showBypassDialog,title:"请求分流"},on:{"update:visible":function(t){e.showBypassDialog=t},close:e.handleCancelBypass}},[a("div",[a("el-steps",{attrs:{active:e.showBypassStep}},[a("el-step",{attrs:{title:"设置份数"}}),a("el-step",{attrs:{title:"设置分组及比例"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.showBypassStep,expression:"showBypassStep === 1"}]},[e._v("\n        请求流量划分份数：\n        "),a("el-select",{on:{change:e.handleBypassApartChange},model:{value:e.byPassForm.apart,callback:function(t){e.$set(e.byPassForm,"apart",t)},expression:"byPassForm.apart"}},e._l(e.ratioEnum,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v("\n        份\n        "),a("div",{staticClass:"button-margin"},[a("el-button",{on:{click:e.handleCancelBypass}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleNextBypass}},[e._v("下一步")])],1)],1),2===e.showBypassStep?a("div",[e._l(e.byPassForm.bypass,(function(t,i){return a("div",{key:i,staticClass:"bypass-item"},[a("div",[a("div",[a("numOrTextEdit",{key:t.name+"_"+i,attrs:{obj:t,objKey:"name",data:t.name,validType:"text"}})],1),a("div",[a("div",{staticClass:"table-header"},[a("div",[e._v("人群ID")]),a("div",[e._v("人群名称")]),a("div",[e._v("优先级")]),a("div",[e._v("分流占比(%)")])]),a("div",{staticClass:"table-body"},[a("div",{staticClass:"table-left-part"},e._l(t.crowds,(function(i,n){return a("div",{key:"tableDetailItem"+n,staticClass:"table-detail-item"},[a("div",[e._v(e._s(i.crowdId))]),a("div",{staticClass:"crowd-name-item"},[e._v(e._s(i.crowdName))]),a("numOrTextEdit",{key:i.priority+"_"+n,staticClass:"edit-priority",attrs:{obj:i,objKey:"priority",validType:"number"}}),a("i",{staticClass:"el-icon-minus",on:{click:function(a){return e.handleRemoveCrowds(t,i.crowdId)}}})],1)})),0),t.crowds.length>0?a("div",{staticClass:"table-ratio"},[a("div",[a("numOrTextEdit",{key:t.ratio+"_"+i,attrs:{obj:t,objKey:"ratio",data:t.ratio,validType:"number",range:[0,100]}})],1)]):e._e()])]),a("div",{staticClass:"select-bottom-rows"},[a("div",{staticClass:"select-rows"},[a("el-select",{attrs:{size:"small",placeholder:"请选择人群"},on:{change:function(a){return e.handleCrowdSelectChange(t)}},model:{value:t.crowdSelect,callback:function(a){e.$set(t,"crowdSelect",a)},expression:"tableItem.crowdSelect"}},e._l(e.selectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.crowdName+"("+e.crowdId+")",value:e.crowdId}})})),1)],1),a("div",{staticClass:"table-ratio"})])])])})),a("div",{staticClass:"button-margin"},[a("el-button",{on:{click:e.handleCancelBypass}},[e._v("取消")]),a("el-button",{on:{click:function(t){e.showBypassStep=1}}},[e._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveBypass}},[e._v("完成")])],1)],2):e._e()]),a("el-dialog",{attrs:{title:"查看配置",visible:e.showConfiguration},on:{"update:visible":function(t){e.showConfiguration=t}}},[a("el-input",{attrs:{type:"textarea",rows:8,readonly:!0},model:{value:e.configTextarea,callback:function(t){e.configTextarea=t},expression:"configTextarea"}})],1),a("el-dialog",{attrs:{title:"投前测试",visible:e.testDialogVisible,width:"500px"},on:{"update:visible":function(t){e.testDialogVisible=t}}},[a("span",[a("c-form",{ref:"formTest",attrs:{"label-width":"120px",model:e.formTest,inline:!0}},[a("c-form-mac",{attrs:{label:"设备信息:",prop:"mac",rules:e.rules.mac},on:{change:e.handleMacChange},model:{value:e.formTest.mac,callback:function(t){e.$set(e.formTest,"mac",t)},expression:"formTest.mac"}}),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v("测试")])],1),a("div",[""!==e.testResult?a("el-form-item",{attrs:{label:"测试结果:"}},[a("div",{staticClass:"test-result"},["不属于该人群"===e.testResult?a("span",{staticClass:"icon iconfont el-icon-cc-frown-fill"}):a("span",{staticClass:"icon iconfont el-icon-cc-smile-fill"}),e._v("\n                "+e._s(e.testResult)+"\n              ")])]):e._e()],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.testDialogVisible=!1}}},[e._v("关闭")])],1)]),a("el-dialog",{attrs:{title:"预约投后分析",visible:e.showAppointment,width:"500px"},on:{"update:visible":function(t){e.showAppointment=t}}},[a("el-form",{ref:"appointmentForm",attrs:{model:e.appointmentForm,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"起止时间",prop:"value",required:""}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptionsDayinRange(30),"value-format":"yyyy-MM-dd"},model:{value:e.appointmentForm.value,callback:function(t){e.$set(e.appointmentForm,"value",t)},expression:"appointmentForm.value"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.HandleAppointment}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.showAppointment=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.showEditDynamicCrowdName,width:"500px",title:"修改人群名称"},on:{"update:visible":function(t){e.showEditDynamicCrowdName=t}}},[a("div",{staticClass:"dynamic-crowd-name"},[e._v("\n        人群名称："),a("el-input",{staticStyle:{width:"80%"},attrs:{clearable:""},model:{value:e.dynamicCrowd.crowdName,callback:function(t){e.$set(e.dynamicCrowd,"crowdName",t)},expression:"dynamicCrowd.crowdName"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditDynamicCrowdName}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.showEditDynamicCrowdName=!1}}},[e._v("取消")])],1)]),a("el-dialog",{attrs:{title:"数据监控",visible:e.monitorDialog},on:{"update:visible":function(t){e.monitorDialog=t}}},[a("el-date-picker",{staticClass:"monitor-time",attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd"},on:{change:e.getDataMonitor},model:{value:e.monitorRangeTime,callback:function(t){e.monitorRangeTime=t},expression:"monitorRangeTime"}}),a("c-table",{attrs:{props:e.monitorTable.props,header:e.monitorTable.header,data:e.monitorTable.data}}),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.monitorOutForm.pageNum,pagesize:e.monitorOutForm.pageSize,totalcount:e.monitorTotal},on:{"handle-size-change":e.handleMonitorSizeChange,"handle-current-change":e.handleMonitorCurrentChange}})],1)],1),a("el-dialog",{attrs:{visible:e.showOperationalAnalysis,width:"1500px"},on:{"update:visible":function(t){e.showOperationalAnalysis=t}}},[a("iframe",{ref:"myIframe",attrs:{src:e.operationalAnalysisUrl,width:"100%",height:"800px",frameborder:"0",id:"myIframe"}})]),a("el-dialog",{attrs:{visible:e.showViewEffect,width:"80%"},on:{"update:visible":function(t){e.showViewEffect=t}}},[a("viewEffectDialog",{attrs:{crowdId:e.currentCid}})],1),a("el-dialog",{attrs:{title:"选择命中数据的时间范围",visible:e.shenCeDialog,width:"530px"},on:{"update:visible":function(t){e.shenCeDialog=t}}},[a("el-form",{ref:"shenCeForm",attrs:{model:e.shenCeForm,"label-width":"80px",size:"mini"}},[e.currentCrowd.abStartTime?a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"可选范围为实验有效期内："+e.currentCrowd.abStartTime+" ~ "+e.currentCrowd.abEndTime+"       ,开始时间和结束时间不超过30天",type:"info"}}):e._e(),a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{title:"结束时间必须大于投放时间",type:"info"}}),a("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"结束时间不能大于今天",type:"info"}}),a("el-form-item",{attrs:{label:"起止时间",prop:"dateRange",rules:[{required:!0,message:"起止时间不能为空"}]}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerShenCeOptionsDayinRange(30,e.currentCrowd.launchTime)},model:{value:e.shenCeForm.dateRange,callback:function(t){e.$set(e.shenCeForm,"dateRange",t)},expression:"shenCeForm.dateRange"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.ConfirmShenCeAnalysis}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.shenCeDialog=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{title:"流转链路分析",visible:e.showFlowLinkAnalysisDialog,fullscreen:!0},on:{"update:visible":function(t){e.showFlowLinkAnalysisDialog=t}}},[e.showFlowLinkAnalysisDialog?a("LinkAnalysis",{attrs:{tableData:e.analysisTableData,linkProps:e.linkProps,linkPropsName:e.linkPropsName,linkPropsNameTip:e.linkPropsNameTip}}):e._e()],1),a("el-dialog",{attrs:{title:"命中监控",visible:e.showHitDialog,width:"955px"},on:{"update:visible":function(t){e.showHitDialog=t}}},[a("div",{staticClass:"title"},[e._v("\n        添加监控：\n      ")]),a("el-form",{ref:"hitForm",attrs:{model:e.hitForm,rules:e.hitRules,inline:!0}},[a("el-form-item",{attrs:{label:"监控时间：",prop:"alertTime"}},[a("el-date-picker",{staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd"},model:{value:e.hitForm.alertTime,callback:function(t){e.$set(e.hitForm,"alertTime",t)},expression:"hitForm.alertTime"}}),a("a-time-picker",{staticStyle:{width:"105px"},attrs:{format:"HH:mm",valueFormat:"HH:mm",placeholder:"选择时间",getPopupContainer:function(e){return e.parentNode},"minute-step":15},on:{change:e.onChange},model:{value:e.alertTimeValue,callback:function(t){e.alertTimeValue=t},expression:"alertTimeValue"}})],1),a("el-form-item",{attrs:{label:"如果命中设备量(去重)：",prop:"compareType"}},[a("el-select",{staticStyle:{width:"105px"},model:{value:e.hitForm.compareType,callback:function(t){e.$set(e.hitForm,"compareType",t)},expression:"hitForm.compareType"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})],1),a("el-form-item",{attrs:{label:"",prop:"hitSize"}},[a("el-input",{staticStyle:{width:"105px",margin:"0 10px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.hitForm.hitSize,callback:function(t){e.$set(e.hitForm,"hitSize",t)},expression:"hitForm.hitSize"}}),e._v("\n            则告警到飞书\n          ")],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handlOpenHit}},[e._v("添加")])],1)],1),a("div",{staticClass:"title",staticStyle:{"margin-top":"45px"}},[e._v("\n        已添加监控：\n      ")]),a("c-table",{attrs:{props:e.queryCrowdHitAlertListTable.props,header:e.queryCrowdHitAlertListTable.header,data:e.queryCrowdHitAlertListTable.data,"default-sort":{prop:"date",order:"descending"}}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showHitDialog=!1}}},[e._v("确定")])],1)],1)],1)},In=[],xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isEdit?a("el-input",{ref:"inputPriority",attrs:{type:"text",size:"small"},on:{change:e.savePriority,blur:e.editStatuChange},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}}):a("div",{staticClass:"flex-content",on:{click:e.editPriority}},[a("div",[e._v(e._s(e.priority))]),e.showEdit?a("div",{staticClass:"text-over"}):e._e()])],1)},Tn=[],Dn={data:function(){return{priority:"",isEdit:!1,dataBackup:""}},props:["data","crowdId","policyId","byPassId","showEdit","isDynamicPeople"],watch:{data:"onDataChange"},methods:{getPriority:function(){this.priority=this.data,this.dataBackup=this.data},editPriority:function(){var e=this;this.isEdit=!0,this.$nextTick((function(){e.$refs.inputPriority.focus()}))},editStatuChange:function(){this.isEdit=!1},savePriority:function(){var e=this,t=this.verifyPriority(this.priority);t?(this.$message.error(t),this.priority=this.dataBackup):this.byPassId?this.$service.updateBypassPriorityInCrowdList({id:this.bypassId,crowdId:this.crowdId,priority:this.priority,policyId:this.policyId},"操作成功，修改优先级会影响该策略下人群估算数量，请点击“估算”重新估算其他人群的圈定数据").then((function(){e.isEdit=!1,e.dataBackup=e.priority,e.$emit("refresh")})).catch((function(){e.priority=e.dataBackup})):this.isDynamicPeople?this.$service.updatePriority({crowdId:this.crowdId,priority:this.priority,policyId:this.policyId},"操作成功").then((function(){e.isEdit=!1,e.dataBackup=e.priority,e.$emit("refresh")})).catch((function(){e.priority=e.dataBackup})):this.$service.updatePrioorityInCrowdList({crowdId:this.crowdId,priority:this.priority,policyId:this.policyId},"操作成功，修改优先级会影响该策略下人群估算数量，请点击“估算”重新估算其他人群的圈定数据").then((function(){e.isEdit=!1,e.dataBackup=e.priority,e.$emit("refresh")})).catch((function(){e.priority=e.dataBackup}))},onDataChange:function(){this.getPriority(),this.isEdit=!1},isIntNumber:function(e){var t=/^[0-9]+?$/;return t.test(e)},verifyPriority:function(e){return this.isIntNumber(e)?e>1e6||e<0?"优先级只能填写1-1000000的整数":void 0:"优先级只能填写1-1000000的整数，不可填非数字"}},created:function(){this.getPriority()}},$n=Dn,Ln=(a("f374"),Object(U["a"])($n,xn,Tn,!1,null,"0505d259",null)),Nn=Ln.exports,On=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"crowd-status"},[e.formData?a("div",{staticStyle:{"text-align":"center"}},[e._v("总状态："),a("span",{staticStyle:{color:"#55a532"}},[e._v("正常(\n        "),"生效中"===e.status?a("span",[e._v(e._s(e.formData.hit?"命中":"待命中"))]):a("span",[e._v(e._s(e.status))]),e._v("\n    )")])]):e._e(),e.formData?a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("search-input",{ref:"searchInputWrapperRef",attrs:{placeHolderText:"请输入ID或名称"},on:{"handle-search":e.handleSearchStatusData}})],1):e._e(),a("div",{staticClass:"flex-content"},[e.formData?a("div",{staticClass:"normal"},[a("div",{staticClass:"title"},[e._v("投放状态\n                "),a("span",[e._v("最近更新时间："+e._s(e.requestApiTime))]),a("i",{staticClass:"el-icon-refresh refresh-small",on:{click:e.handleGetContent}})]),e.formData.biTrack.length>0?a("div",{staticClass:"track-content"},[a("div",e._l(e.formData.biTrack,(function(t,i){return a("div",{key:i,staticClass:"track-item"},[a("div",{staticClass:"business-name"},[e._v(e._s(t.biName))]),t.list?a("div",e._l(t.list,(function(i,n){return a("div",{key:"child_"+n,staticClass:"child-wrapper"},[a("div",{staticClass:"child-item"},[a("div",[e._v(e._s(i.bizType))]),a("div",[e._v(e._s(i.schemeId))]),a("div",[e._v(e._s(i.resourceName))])]),a("div",{staticClass:"hit-step"},[i.firstResp?a("div",{staticClass:"step-define"},[a("div",{class:["step-define--number",i.firstResp&&!i.firstHit?"last-step--number":""]},[e._v("3")]),a("div",{staticClass:"step-define--title"},[e._v("首条请求")]),a("div",[e._v(e._s(i.firstResp.firstTime))]),a("div",[e._v("ID:"+e._s(i.firstResp.mac)+"  "+e._s(i.firstResp.province)+" "+e._s(i.firstResp.city))]),a("div",[e._v("累计:"+e._s(e.cc_format_number(i.firstResp.total))+" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleSeeDetail(i.schemeId,!1,t.biId)}}},[e._v("详情")])],1)]):a("div",{staticClass:"step-define"},[a("div",{staticClass:"step-define--number"},[e._v("3")]),a("div",{staticClass:"step-define--title"},[e._v("首条请求")])]),i.firstHit?a("div",{staticClass:"step-define"},[a("div",{class:["step-define--number",i.firstHit?"last-step--number":""]},[e._v("4")]),a("div",{staticClass:"step-define--title"},[e._v("首条命中")]),a("div",[e._v(e._s(i.firstHit.firstTime))]),a("div",[e._v("ID:"+e._s(i.firstHit.mac)+"  "+e._s(i.firstHit.province)+" "+e._s(i.firstHit.city))]),a("div",[e._v("累计:"+e._s(e.cc_format_number(i.firstHit.total))),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleSeeDetail(i.schemeId,!0,t.biId)}}},[e._v("详情")])],1)]):a("div",{staticClass:"step-define"},[a("div",{staticClass:"step-define--number"},[e._v("4")]),a("div",{staticClass:"step-define--title"},[e._v("首条命中")])])])])})),0):e._e()])})),0),a("div",{class:["first-line-part",1===e.formData.biTrack.length&&1===e.formData.biTrack[0].list.length?"one-list-fixed":""]},[a("el-steps",{attrs:{active:2,"align-center":""}},[a("el-step",{attrs:{title:"人群创建",description:e.formData.createTime}}),a("el-step",{staticClass:"step-after",attrs:{title:"同步配置",description:e.formData.luaSyncTime}})],1)],1)]):a("div",{staticClass:"no-data-tips"},[a("el-steps",{attrs:{active:4,"align-center":""}},[e.formData.createTime?a("el-step",{class:e.formData.createTime&&!e.formData.luaSyncTime?"active-green":"",attrs:{title:"人群创建",description:e.formData.createTime}}):e._e(),e.formData.luaSyncTime?a("el-step",{staticClass:"active-green",attrs:{title:"同步配置",description:e.formData.luaSyncTime}}):a("el-step",{attrs:{title:"同步配置"}}),a("el-step",{attrs:{title:"首条请求"}}),a("el-step",{attrs:{title:"首条命中"}})],1)],1)]):e._e(),e.formData?a("div",{staticClass:"normal part"},[a("div",{staticClass:"title"},[e._v("设备命中查询")]),e.formData.biTrack.length>0?a("div",e._l(e.formData.biTrack,(function(t,i){return a("div",{key:i,staticClass:"hit-search-item"},[t.list?a("div",e._l(t.list,(function(t,i){return a("div",{key:"hit_search_child_"+i,staticClass:"hit-search-child-wrapper"},[a("hit-search-item",{attrs:{childItem:t,crowdId:e.crowdId}})],1)})),0):e._e()])})),0):a("div",{staticClass:"no-data-tips"},[e._v("\n                暂无数据\n            ")])]):e._e()]),a("el-dialog",{attrs:{visible:e.showDetailDialog,title:e.detailDialogTitle},on:{"update:visible":function(t){e.showDetailDialog=t}}},[a("div",[a("search-input",{ref:"searchInputRef",attrs:{placeHolderText:"请输入MAC"},on:{"handle-search":e.handleDetailSearch}})],1),a("el-table",{staticClass:"table",attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"时间",prop:"time"}}),a("el-table-column",{attrs:{label:"ID",prop:"mac"}}),a("el-table-column",{attrs:{label:"子人群归属",prop:"crowdId"}})],1),a("div",{staticClass:"detail-tips"},[e._v("注：仅显示最新的100条")])],1)],1)},Pn=[],En=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hit-search-content"},[a("div",{staticClass:"hit-search-header"},[a("div",{staticStyle:{width:"160px"}},[e._v("\n            MAC地址\n            "),a("el-input",{staticClass:"small-input",attrs:{size:"small"},model:{value:e.searchForm.mac,callback:function(t){e.$set(e.searchForm,"mac",t)},expression:"searchForm.mac"}})],1),a("div",{staticStyle:{width:"118px"}},[e._v("\n            ID\n            "),a("el-input",{staticClass:"small-input",attrs:{size:"small"},model:{value:e.searchForm.openId,callback:function(t){e.$set(e.searchForm,"openId",t)},expression:"searchForm.openId"}})],1),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSearch}},[e._v("查询")])],1)]),e.showResult?a("div",{staticClass:"hit-search-result"},[a("div",{staticClass:"result-content"},[a("div",{staticStyle:{margin:"auto"}},[a("div",[e._v("相关标签")]),a("div",{staticClass:"text-area"},[a("div",{staticStyle:{color:"#ccc","font-size":"10px"}},[a("span",[e._v("相关标签")]),a("span",[e._v("更新日期"+e._s(e.formatYesterdayDate())+"(昨天)")])]),e._v("\n                    "+e._s(e.hitResult)+"\n                ")])]),e.showStep?a("div",{staticClass:"hit-step"},[a("div",{staticClass:"step-define"},[a("div",{class:["step-define--number",e.lastReqTime&&!e.lastHitTime?"current-status":""]},[e._v("1")]),a("div",{staticClass:"step-define--title"},[e._v("是否请求")]),a("div",{staticClass:"button-margin"},[e._v("请求"),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleRequestDetail()}}},[e._v("详情")])],1),a("div",[e._v("最近请求时间："+e._s(e.lastReqTime))])]),a("div",{staticClass:"step-define"},[a("div",{class:["step-define--number",e.lastHitTime?"current-status":""]},[e._v("2")]),a("div",{staticClass:"step-define--title"},[e._v("是否命中")]),a("div",{staticClass:"button-margin"},[e._v("命中"),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleHitDetail()}}},[e._v("详情")])],1),a("div",[e._v("最近命中时间："+e._s(e.lastHitTime))])])]):a("div",{staticClass:"hit-step"},[e._m(0),e._m(1)])])]):e._e(),a("el-dialog",{attrs:{visible:e.showDetailDialog,title:e.detailDialogTitle},on:{"update:visible":function(t){e.showDetailDialog=t}}},[a("el-table",{staticClass:"table",attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"时间",prop:"time"}}),a("el-table-column",{attrs:{label:"mac",prop:"mac"}}),a("el-table-column",{attrs:{label:"子人群归属",prop:"crowdId"}})],1)],1)],1)},An=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"step-define"},[a("div",{staticClass:"step-define--number"},[e._v("1")]),a("div",{staticClass:"step-define--title"},[e._v("是否请求")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"step-define"},[a("div",{staticClass:"step-define--number"},[e._v("2")]),a("div",{staticClass:"step-define--title"},[e._v("是否命中")])])}],Fn={name:"HitSearchItem",props:["childItem","crowdId"],data:function(){return{searchForm:{mac:void 0,openId:void 0},showResult:!1,hitResult:void 0,showDetailDialog:!1,detailDialogTitle:"",tableData:[],lastReqTime:"暂无数据",lastHitTime:"暂无数据",showStep:!0}},methods:{handleSearch:function(){var e=this,t=JSON.parse(JSON.stringify(this.searchForm));this.$service.searchHitCrowd({crowdId:this.crowdId,params:t}).then((function(t){e.showResult=!0,e.hitResult=JSON.stringify(t)}));var a=this.childItem.schemeId.toString(),i=a.indexOf("-")>0?a.split("-")[0]:a,n=a.indexOf("-")>0?a.split("-")[1]:0,r={crowdId:this.crowdId,panelId:i,index:n,bId:2,hit:!1};this.searchForm.mac&&this.$service.macLogSearch({mac:this.searchForm.mac,params:r}).then((function(t){Object.keys(t).length>0?(e.showStep=!0,e.lastReqTime=t.VisitedTime,e.lastHitTime=t.HitTime):e.showStep=!1}))},handleRequestDetail:function(){var e=this,t=this.childItem.schemeId.toString(),a=t.indexOf("-")>0?t.split("-")[0]:t,i=t.indexOf("-")>0?t.split("-")[1]:0,n={mac:this.searchForm.mac,crowdId:this.crowdId,panelId:a,index:i};this.$service.macRequestDetail(n).then((function(t){e.showDetailDialog=!0,e.detailDialogTitle="请求详情",e.tableData=t}))},handleHitDetail:function(){var e=this,t=this.childItem.schemeId.toString(),a=t.indexOf("-")>0?t.split("-")[0]:t,i=t.indexOf("-")>0?t.split("-")[1]:0,n={mac:this.searchForm.mac,crowdId:this.crowdId,panelId:a,index:i};this.$service.macHitDetail(n).then((function(t){e.showDetailDialog=!0,e.detailDialogTitle="命中详情",e.tableData=t}))},formatYesterdayDate:function(){var e=(new Date).getTime()-864e5,t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)}}},Vn=Fn,Rn=(a("afaf"),Object(U["a"])(Vn,En,An,!1,null,"2a0301c2",null)),jn=Rn.exports,Bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-input"},[a("el-input",{staticClass:"input-width",attrs:{placeholder:e.placeHolderText,clearable:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("i",{staticClass:"el-icon-cc-search icon-fixed",on:{click:e.handleSearch}})],1)},Mn=[],zn={name:"SearchInput",props:["placeHolderText"],data:function(){return{searchValue:void 0}},methods:{handleSearch:function(){this.$emit("handle-search",this.searchValue)},resetForm:function(){this.searchValue=void 0}}},qn=zn,Jn=(a("ff9e"),Object(U["a"])(qn,Bn,Mn,!1,null,"ce86f9c0",null)),Gn=Jn.exports,Un={components:{HitSearchItem:jn,searchInput:Gn},data:function(){return{formData:void 0,showDetailDialog:!1,detailDialogTitle:"",tableData:[],apiTableData:[],requestApiTime:void 0,saveApiTableData:void 0,setTimeOutVal:void 0,lastRequestId:0}},props:["crowdId","status"],methods:{formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),o=t.getSeconds().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n," ").concat(r,":").concat(s,":").concat(o)},handleGetContent:function(){var e=this,t=this.crowdId,a=this.lastRequestId+1;this.lastRequestId=a,this.$service.getCrowdStatus({crowdId:t}).then((function(t){if(e.lastRequestId===a){var i=new Date;e.requestApiTime=e.formatDate(i),e.formData=t,e.saveApiTableData=t,console.log("saveApiTableData",e.saveApiTableData),console.log("我执行了crowdId="+e.crowdId+"的刷新======时间为："+e.requestApiTime)}}))},handleSetTimeOut:function(){var e=this;console.log("我执行了定时器-----"),this.setTimeOutVal=setInterval((function(){e.handleGetContent()}),3e4)},handleClearTimeOut:function(){console.log("=========我清除了定时器-----"),clearInterval(this.setTimeOutVal)},handleSearchStatusData:function(e){this.handleClearTimeOut();var t=JSON.parse(JSON.stringify(this.saveApiTableData));if(e){var a=[];t.biTrack.forEach((function(t){var i=[];t.list.forEach((function(t){(t.resourceName.indexOf(e)>=0||t.schemeId.indexOf(e)>=0)&&i.push(t)})),i.length>0&&a.push({biId:t.biId,biName:t.biName,list:i})})),this.formData.biTrack=a,this.saveApiTableData=t}else this.formData=t},handleSeeDetail:function(e,t,a){var i=this;this.detailDialogTitle=t?"命中详情":"请求详情";var n=void 0,r=void 0;e.toString().indexOf("-")>0?(n=e.split("-")[0],r=e.split("-")[1]):(n=e,r=0);var s={crowdId:this.crowdId,bId:a,panelId:n,hit:t,index:r};this.$service.crowdRequestDetail(s).then((function(e){i.showDetailDialog=!0,i.$nextTick((function(){i.$refs.searchInputRef.resetForm()})),i.tableData=e,i.apiTableData=e}))},handleDetailSearch:function(e){if(e){for(var t=[],a=this.apiTableData,i=a.length,n=0;n<i;n++)a[n].mac===e&&t.push(a[n]);this.tableData=t}else this.tableData=this.apiTableData}},beforeDestroy:function(){this.handleClearTimeOut()},created:function(){this.handleGetContent(),this.handleSetTimeOut()}},Hn=Un,Kn=(a("4ba8"),Object(U["a"])(Hn,On,Pn,!1,null,"1f7cc0d8",null)),Qn=Kn.exports,Wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"提交该历史数据",visible:e.setShowCommitHistoryDialog},on:{close:e.handleDialogClose}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"是否开启提交:"}},[a("el-radio",{attrs:{label:1},model:{value:e.form.isSubmit,callback:function(t){e.$set(e.form,"isSubmit",t)},expression:"form.isSubmit"}},[e._v("是")]),a("el-radio",{attrs:{label:0},model:{value:e.form.isSubmit,callback:function(t){e.$set(e.form,"isSubmit",t)},expression:"form.isSubmit"}},[e._v("否")])],1),1===e.form.isSubmit?a("el-form-item",{attrs:{label:"计算有效期:"}},[a("el-select",{model:{value:e.form.expiryDate,callback:function(t){e.$set(e.form,"expiryDate",t)},expression:"form.expiryDate"}},e._l(e.expiryDateArray,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:""}},[a("el-button",{on:{click:e.handleDialogClose}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},Yn=[],Zn={name:"CommitHistory",data:function(){return{form:{isSubmit:1,expiryDate:7,expiryDateArray:[],showCommitHistoryDialog:void 0}}},props:["setShowCommitHistoryDialog","crowdId"],methods:{handleSetExpiryDateArray:function(e){for(var t=[],a=0;a<e;a++)t.push({label:a+1+"天",value:a+1});return t},handleDialogClose:function(){this.$emit("closeDialog")},handleSubmit:function(){var e=this.form,t={isSubmit:e.isSubmit,id:this.crowdId,dateNum:1===e.isSubmit?e.expiryDate:void 0};this.$emit("submit",t)}},created:function(){this.expiryDateArray=this.handleSetExpiryDateArray(30)}},Xn=Zn,er=Object(U["a"])(Xn,Wn,Yn,!1,null,"71e06fce",null),tr=er.exports,ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isEdit?a("el-input",{ref:"inputPriority",staticClass:"input-width",attrs:{type:"text",size:"small"},on:{change:e.saveChange,blur:e.editStatusChange},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}):a("div",{staticClass:"flex-content",on:{click:e.editNumOrText}},[a("div",[e._v(e._s(e.parentValue))]),a("div",{staticClass:"text-over"})])],1)},ir=[],nr={data:function(){return{parentValue:"",isEdit:!1,dataBackup:""}},props:["obj","objKey","validType","range"],methods:{getInitData:function(){this.parentValue=this.obj[this.objKey],this.dataBackup=this.obj[this.objKey]},editNumOrText:function(){var e=this;this.isEdit=!0,this.$nextTick((function(){e.$refs.inputPriority.focus()}))},editStatusChange:function(){this.isEdit=!1},saveChange:function(){var e=this.verifyNumOrText(this.parentValue);e?(this.$message.error(e),this.parentValue=this.dataBackup):(this.isEdit=!1,this.dataBackup=this.parentValue,this.obj[this.objKey]="number"===this.validType?parseInt(this.parentValue):this.parentValue)},isIntNumber:function(e){var t=/^[0-9]+?$/;return t.test(e)},verifyNumOrText:function(e){if("number"===this.validType){if(!this.isIntNumber(e))return"只能填写整数，不可填非整数数字";var t=0,a=0;if(this.range&&(t=this.range[0],a=this.range[1],e>a||e<t))return"只能填写".concat(t,"-").concat(a,"的整数")}}},created:function(){this.getInitData()}},rr=nr,sr=(a("700b"),Object(U["a"])(rr,ar,ir,!1,null,"096e90bc",null)),or=sr.exports,lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("div",{staticClass:"arrow-down"}),a("div",{staticClass:"avatar"},[a("tree",{attrs:{treeData:e.tableData,linkProps:e.linkProps,linkPropsName:e.linkPropsName,linkPropsNameTip:e.linkPropsNameTip}})],1)])},cr=[],dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},e._l(e.treeData,(function(t,i){return a("div",{key:i,staticClass:"level_parent_box",style:{height:100/e.treeData.length+"%"}},[a("div",{staticClass:"level_parent_title",class:e.getClass(t,i)},[a("el-tooltip",{attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[a("div",[e._v(e._s(t.name)+" ")]),e._l(t,(function(t,i){return a("div",["string"!==typeof t&&"number"!==typeof t||!e.linkPropsName[i]?e._e():a("span",[e._v("\n                "+e._s(e.linkPropsName[i])+" : "+e._s(t)+"\n              ")])])}))],2)]),a("div",[a("div",[e._v(e._s(t.name)+" ")]),e._l(t,(function(t,i){return["string"!==typeof t&&"number"!==typeof t||!e.linkPropsName[i]?e._e():a("div",[e._v("\n              "+e._s(e.linkPropsName[i])+" : "+e._s(t)+"\n              "),e.linkPropsNameTip[i]?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                 "+e._s(e.linkPropsNameTip[i])+"\n                ")]),a("i",{staticClass:"el-icon-question",staticStyle:{width:"20px",height:"20px","z-index":"99",color:"gray"}})]):e._e()],1)]}))],2)])],1),t[e.linkProps["children"]]?a("div",{staticClass:"level_children_box"},[a("tree",{attrs:{treeData:t[e.linkProps["children"]],linkProps:e.linkProps,linkPropsName:e.linkPropsName,linkPropsNameTip:e.linkPropsNameTip}})],1):e._e()])})),0)},ur=[],hr={name:"tree",components:{},data:function(){return{}},props:["treeData","linkProps","linkPropsName","linkPropsNameTip"],mounted:function(){},methods:{getClass:function(e,t){return 0===e.level||1===e.level?"bgzIndex"+e.level+"-"+t:e.payUv>0?"bg-payUv":"bg-"+t}}},pr=hr,mr=(a("a1b5"),Object(U["a"])(pr,dr,ur,!1,null,"d80e6370",null)),fr=mr.exports,vr={components:{},data:function(){return{}},created:function(){},mounted:function(){var e,t,a=document.querySelector(".box"),i=document.querySelector(".avatar"),n=1.1,r=function(a){var n=c(i);e=a.clientX-n.transX,t=a.clientY-n.transY,document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)},s=function(n){var r=c(i).multiple,s=n.clientX-e,o=n.clientY-t,l=d(i,a,s,o,r);i.style.transform="matrix(".concat(r,", 0, 0, ").concat(r,", ").concat(l.transX,", ").concat(l.transY,")")},o=function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)},l=function(e){var t=c(i);e.deltaY<0?t.multiple*=n:t.multiple/=n;var r=d(i,a,t.transX,t.transY,t.multiple);i.style.transform="matrix(".concat(t.multiple,", 0, 0, ").concat(t.multiple,", ").concat(r.transX,", ").concat(r.transY,")")},c=function(e){var t=getComputedStyle(e).transform.split(",");return{transX:isNaN(+t[t.length-2])?0:+t[t.length-2],transY:isNaN(+t[t.length-1].split(")")[0])?0:+t[t.length-1].split(")")[0],multiple:+t[3]}},d=function(e,t,a,i,n){var r,s,o=e.clientWidth,l=e.clientHeight,c=(e.offsetLeft,e.offsetTop,t.clientWidth),d=t.clientHeight,u=50;return r=Math.max(Math.min(a,c+o*(n-1)/2-u),-o*(n+1)/2+u),s=Math.max(Math.min(i,d+l*(n-1)/2-u),-l*(n+1)/2+u),{transX:r,transY:s}},u=function(){document.addEventListener("selectstart",(function(e){e.preventDefault()})),i.addEventListener("mousedown",r),i.addEventListener("wheel",l)};u()},methods:{}},gr={mixins:[vr],components:{tree:fr},props:{tableData:{type:Array,default:function(){return[]}},linkProps:{type:Object,default:function(){}},linkPropsName:{type:Object,default:function(){}},linkPropsNameTip:{type:Object,default:function(){}}},computed:{},data:function(){return{INIT_WIDTH:3e3,INIT_HEIGHT:600,scale:100}},mounted:function(){},methods:{}},br=gr,yr=(a("0f22"),Object(U["a"])(br,lr,cr,!1,null,"735e4091",null)),Cr=yr.exports;function wr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Sr={components:{priorityEdit:Nn,crowdStatusResource:Qn,CommitHistoryDialog:tr,numOrTextEdit:or,viewEffectDialog:ba,LinkAnalysis:Cr},data:function(){var e=function(e,t,a){if(t){var i=/^\d+$/;!1===i.test(t)?a(new Error("请输入正整数或0")):a()}else a()};return{alertTimeValue:"12:00",queryCrowdHitAlertListTable:{props:{},header:[{label:"ID",prop:"id"},{label:"监控时间",prop:"alertTime",sortable:!0},{label:"期望设备量",prop:"hitSize",render:function(e,t){return t.row.compareType+"  "+t.row.hitSize}},{label:"状态",prop:"statusName",render:function(e,t){return"监控中"===t.row.statusName?e("span",{class:"green"},t.row.statusName):e("span",t.row.statusName)}},{label:"创建人",prop:"creator"},{label:"操作",render:this.$c_utils.component.createOperationRender(this,{handleDeleteHitAlert:"删除"})}],data:[]},showHitDialog:!1,hitForm:{alertTime:"",hitSize:0,compareType:"<"},hitRules:{hitSize:[{required:!0,message:"请输入命中设备量",trigger:"blur"},{required:!0,trigger:"blur",validator:e}],alertTime:[{required:!0,message:"请选择监控时间",trigger:"change"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},analysisTableData:[],showFlowLinkAnalysisDialog:!1,linkProps:{},linkPropsName:{},linkPropsNameTip:{},shenCeForm:{dateRange:[],crowdId:""},shenCeDialog:!1,showOperationalAnalysis:!1,operationalAnalysisUrl:"",showEditDynamicCrowdName:!1,dynamicCrowd:{},tableData:[],contrastCrowdTableData:[],testResult:"",formTest:{mac:void 0,policyId:void 0,crowdId:void 0},rules:{mac:[{required:!0,message:"请输入Mac",trigger:"blur"}]},criteria:{},searchForm:{crowdName:""},pageSize:10,currentPage:1,totalCount:1,start:1,estimateItems:[],showEstimate:!1,estimateValue:["0"],testDialogVisible:!1,estimateId:"",showResult:!1,total1:void 0,total2:void 0,total3:void 0,totalUser:void 0,total4:void 0,time0:[],time1:[],time2:[],time3:[],time4:[],time5:[],time6:[],time7:[],showStatistics:!1,hitLinesTitle:"",hitPieTitle:"",exposeLinesTitle:"",exposePieTitle:"",clickLinesTitle:"",clickPieTitle:"",crowdLaunchTitle:"",exposeProvinceTitle:"",startDate:"",endDate:"",currentCid:void 0,showUpDownDialog:!1,upDownTips:"",currentTag:"",showCopyDialog:!1,allPolices:[],policyCopyForm:{policyIds:[]},copyRules:{policyIds:[{type:"array",required:!0,message:"请至少选择一个策略",trigger:"change"}]},showEstimateEcharts:!1,table:{props:{},header:[{label:"排名",width:"50",type:"index"},{label:"省份",prop:"name"},{label:"活跃数量",prop:"value"},{label:"占比",prop:"PCT"}],data:[]},cityData:null,memberList:[],memberListType:"",memberListByPay:"",expirationDayList:{7:"近7日",30:"近30日"},expirationDay:"7",fillEmptyData:{data:[{name:"总量",value:0}],name:{data:["总量"]}},putwayOptions:[{value:"",label:"全部状态"},{value:1,label:"上架"},{value:0,label:"下架"}],showDivideDetail:!1,DivideTableData:[],subdividePeopleList:[],independentParams:{pageSize:10,pageNum:1},independentTotal:0,setShowCommitHistoryDialog:!1,currentCrowdId:void 0,abStatusEnum:{},launchStatusEnum:{},independentLaunchStatusEnum:{},checkList:["creatorName"],downloadUrl:void 0,launchedExportUrl:void 0,crowdValidEnum:{},canBatchEstimate:!1,estimateType:void 0,showLimitLaunchDialog:!1,showLimitLaunchCount:void 0,conditionEnum:{AND:"且",OR:"或"},showBypassDialog:!1,showBypassStep:1,byPassForm:this.genBypassForm(),ratioEnum:this.genInitApart(),selectList:[],bypassSaveFlag:"",showByPassColumn:!1,tableMerge:[],initTableMerge:[],showConfiguration:!1,showAppointment:!1,appointmentForm:{value:[]},configTextarea:"",initExpandCrowd:[],copyErrorMsg:"",monitorDialog:!1,monitorRangeTime:void 0,monitorOutForm:{pageSize:10,pageNum:1},monitorTotal:0,monitorTable:{props:{},header:[{label:"人群名称",prop:"launch_name"},{label:"dmp人群ID",prop:"dmp_crowd_id"},{label:"临时人群版本号",prop:"version"},{label:"当前版本",prop:"cur_version"},{label:"接收设备数量",prop:"receive_total_user"},{label:"设备数量",prop:"total_user"},{label:"临时人群es index",prop:"es_index"},{label:"状态",prop:"status_name"},{label:"临时人群同步日期",prop:"update_time"},{label:"版本是否删除",render:function(e,t){return e("div",{},[e("span",{},1===t.row.del_flag?"否":"是")])}}],data:[]},dynamic2GroupList:[],showDynamicListDetail:!1,dynamic2GroupListTable:{props:{},header:[{label:"流转ID",prop:"id"},{label:"流转名称",prop:"name"},{label:"占比",prop:"flowNum",render:function(e,t){var a=t.row;return e("div",{},"".concat(a.flowNum,"%"))}},{label:"流转方式",prop:"mainArithmetic",render:function(e,t){var a=t.row,i=["顺序","循环","随机","自定义","不流转","智能","故事线"];return i[a.mainArithmetic]}},{label:"数量",prop:"crowdNum"},{label:"操作",width:"150",render:this.$c_utils.component.createOperationRender(this,{handleEditDynamic2GroupList:"编辑",handleFlowLinkAnalysis:"流转链路分析"})}],data:[]},showViewEffect:!1,currentCrowd:{}}},props:["selectRow"],computed:{smart:function(){return this.selectRow.smart},dataSourceColorEnum:function(){return ya}},created:function(){this.loadData();var e=new Date,t=new Date;this.startDate=this.formatDate(e.setTime(e.getTime()-6912e5)),this.endDate=this.formatDate(t.setTime(t.getTime()-864e5))},watch:{memberListType:function(e,t){e!==t&&0!==t.length&&this.getUserType()},memberListByPay:function(e,t){e!==t&&0!==t.length&&this.getPayDetail()},expirationDay:function(e,t){e!==t&&0!==t.length&&this.getWatchBehavior()}},methods:{onChange:function(e){console.log(e),this.alertTimeValue=e},handleDeleteHitAlert:function(e){var t=this,a=e.row;console.log("row---\x3e",a);var i={id:a.id};this.$service.deleteCrowdHitAlert(i,"删除成功").then((function(){t.queryCrowdHitAlertList()}))},queryCrowdHitAlertList:function(){var e=this,t={crowdId:this.currentTag.crowdId};this.$service.queryCrowdHitAlertList(t).then((function(t){e.queryCrowdHitAlertListTable.data=t||[]}))},hitMonitoring:function(e){var t=this;console.log("row--\x3e",e),this.currentTag=e,this.queryCrowdHitAlertList(),this.showHitDialog=!0,this.$nextTick((function(){t.$refs.hitForm.resetFields()}))},handlOpenHit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.hitForm.validate();case 2:t=e.sent,t&&(console.log("hitForm---\x3e",this.hitForm),a=_r(_r({},this.hitForm),{},{crowdId:this.currentTag.crowdId,hitSize:Number(this.hitForm.hitSize),alertTime:"".concat(this.hitForm.alertTime," ").concat(this.alertTimeValue)}),this.$service.addCrowdHitAlert(a,"添加成功").then((function(e){i.queryCrowdHitAlertList()})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),pickerShenCeOptionsDayinRange:function(e,t){var a=null,i=null;return{onPick:function(t){if(t.maxDate)a=i=null;else{var n=24*e*60*60*1e3;a=t.minDate.getTime()-n,i=t.minDate.getTime()+n}},disabledDate:function(e){var n=Date.now(),r=62208e6,s=Date.now()-r;return t&&(s=new Date(t)-864e5),a&&i?e.getTime()>n||e.getTime()<s||e.getTime()<a||e.getTime()>i:e.getTime()>n||e.getTime()<s}}},handleFlowLinkAnalysis:function(e){var t=this,a=e.row;console.log("row------------",a);var i={dynamicRuleId:a.id};this.linkProps={children:"child"},this.linkPropsName={path:"路径",payUv:"转化设备量",arup:"客单价",fatherPath:"父路径",price:"付费总金额",payRate:"转化率",hitUv:"流入设备量",totalHitUv:"总流入设备量",ratio:"比例",dynamicRuleName:"分组名称",nowCrowdName:"方案名称"},this.linkPropsNameTip={payUv:"当前路径中付费的用户量",arup:"付费总金额/转化设备量",path:"用户在该组动态人群中流转的人群顺序",price:"当前路径中付费的总金额",payRate:"转化设备量/流入设备量",hitUv:"人群命中量",ratio:"当前路径流入设备量/父级路径流入设备量"},this.$service.getCrowdFlowPath(i).then((function(e){if("string"===typeof e.data)return t.$message.info(e.data);console.log("res====>",e);var a=[e];t.showFlowLinkAnalysisDialog=!0,t.analysisTableData=t.constructLinkData(a,0),console.log("this.analysisTableData====",t.analysisTableData)}))},constructLinkData:function(e,t){var a=this,i=t+1;if(!e||0===e.length)return[];e&&e.length;return e.map((function(e){var n={};if(0===t)return{dynamicRuleName:e.dynamicRuleName,totalHitUv:a.cc_format_number(e.hitUv),child:a.constructLinkData(e.child,i),ratio:"100%",level:t};if((e.name||e.dynamicRuleName||e.nowCrowdName)&&e.payUv>0){var r={path:e.path,payUv:a.cc_format_number(e.payUv),payRate:a.toPercent(e.payRate),arup:a.cc_format_number(e.arup),price:a.cc_format_number(e.price)},s=e.child&&e.child.length>0?e.child:[];s.unshift(r),n={nowCrowdName:e.nowCrowdName,path:e.path,ratio:a.toPercent(e.hitRate),hitUv:a.cc_format_number(e.hitUv),level:t,child:a.constructLinkData(s,i)}}else{var o=e.child&&e.child.length>0?e.child:[];n={nowCrowdName:e.nowCrowdName,path:e.path,ratio:e.ratio?e.ratio:e.hitRate?a.toPercent(e.hitRate):void 0,payUv:e.payUv>0?e.payUv:void 0,payRate:e.payRate?e.payRate:void 0,arup:e.arup?e.arup:void 0,price:e.price?e.price:void 0,hitUv:e.hitUv,level:t,child:o.length>0?a.constructLinkData(o,i):void 0}}return n}))},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%",t},handleEditDynamic2GroupList:function(e){var t=e.row;this.handleDynamicTest(t,"editDynamicCrowd",{tabSet:"second",initActiveStep:1}),this.showDynamicListDetail=!1},isReferCrowd:function(e){return e},isShow:function(e,t){var a=1===t.abMainCrowd,i=3===t.abMainCrowd,n=1===t.dynamicFlag;return"AB"===e?!a&&!i&&!n&&!t.limitLaunch:"Yunying"===e?!a&&!n:"Dynamic"===e?!a&&!i&&!n:void 0},handleSortChange:function(e){console.log("column====",e),console.log("<========================>",this.initExpandCrowd);var t={orderField:e.prop};this.currentPage=1,"descending"===e.order?t.order="DESC":"ascending"===e.order?t.order="ASC":t.order=null,this.loadData(t,"sort")},handleMonitorSizeChange:function(e){this.monitorOutForm.pageSize=e,this.monitorOutForm.pageNum=1,this.handleGetMonitorTableList()},handleMonitorCurrentChange:function(e){this.monitorOutForm.pageNum=e,this.handleGetMonitorTableList()},handleIndependentSizeChange:function(e){this.independentParams.pageSize=e,this.independentParams.pageNum=1,this.showDivideResult(this.independentParams.crowdId)},handleIndependentCurrentChange:function(e){this.independentParams.pageNum=e,this.showDivideResult(this.independentParams.crowdId)},calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.showDivideResult(e.crowdId)}))},handleMonitor:function(e){this.monitorDialog=!0,this.selectedRow=e,this.handleGetMonitorTableList()},getDataMonitor:function(){this.handleGetMonitorTableList()},handleGetMonitorTableList:function(){var e=this,t=this.monitorRangeTime||[],a=t[0]||"",i=t[1]||"",n=_r({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i},this.monitorOutForm);this.$service.launchVersionList(n).then((function(t){t?(e.monitorTotal=t.pageInfo.total,e.monitorTable.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},pickerOptionsDayinRange:function(e){var t=this,a=null,i=null;return{onPick:function(t){if(t.maxDate)a=i=null;else{var n=24*e*60*60*1e3;a=t.minDate.getTime()-n,i=t.minDate.getTime()+n}},disabledDate:function(e){if(t.DivideTableData&&t.DivideTableData.length>0){var n=new Date(t.DivideTableData[0].abStartTime).getTime(),r=new Date(t.DivideTableData[0].abEndTime).getTime();return a&&i?e.getTime()<a||e.getTime()>i||e.getTime()<n||e.getTime()>r:e.getTime()<n||e.getTime()>r}if(a&&i)return e.getTime()<a||e.getTime()>i}}},handleMacChange:function(){this.testResult=""},handleTest:function(){var e=this;this.$refs.formTest.$refs.form.validate((function(t){t&&e.$service.polisyTest(e.formTest).then((function(t){e.testResult=t.result}))}))},isShowTest:function(e){for(var t=this.selectRow.tagsList||[],a=e.tagIds||"",i=a.split(","),n=!1,r=function(e){var a=t.find((function(t){return t.tagId===parseInt(i[e])}))||{};if(3===a.dataSource)return n=!0,"break"},s=0;s<i.length;s++){var o=r(s);if("break"===o)break}return n},handleOpenTestDialog:function(e){this.testDialogVisible=!0,this.formTest.policyId=e.policyId,this.formTest.crowdId=e.crowdId},genInitApart:function(){return[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5}]},genBypassForm:function(e){return _r({apart:2,bypass:[]},e)},handleInputTime:function(e,t,a){var i="time"+e,n=this[i];this.currentCid&&0!==n.length&&(this.setDataInMonth(t[0],t[1])?(this[i]=t,this[a](this.currentCid,t[0],t[1])):this.$message.error("日期间隔最多只能是30天！请重新选择日期"))},goBack:function(){this.$emit("goBack")},initTime:function(){this.time0=[this.startDate,this.endDate],this.time1=[this.startDate,this.endDate],this.time2=[this.startDate,this.endDate],this.time3=[this.startDate,this.endDate],this.time4=[this.startDate,this.endDate],this.time5=[this.startDate,this.endDate],this.time6=[this.startDate,this.endDate],this.time7=[this.startDate,this.endDate]},callback:function(){this.loadData()},handleAdd:function(){this.$emit("addCrowd")},handleLink:function(){this.$emit("addLinkCrowd")},handleAddDynamic:function(){this.$emit("addDynamicCrowd")},handleDynamicTest:function(e,t,a){this.$emit("handleDynamicTest",e,t,a)},edit:function(e){this.$emit("addCrowd",e)},divideAB:function(e,t){this.$emit("editABCrowd",e,t)},del:function(e){var t=this,a=e.crowdId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.strategyCrowdDel({crowdId:a},"删除人群会影响该策略下所有人群的估算数量，请点击“估算”重新估算其他人群的圈定数据").then((function(){t.loadData()}))})).catch((function(){}))},handleBatchEstimate:function(){var e=this;this.estimateType="batch",this.showEstimate=!0,this.$service.getEstimateType().then((function(t){e.estimateItems=t})),this.estimateValue=["0"]},handleClickEstimate:function(e){var t=this;this.estimateId=e.crowdId,this.showEstimate=!0,this.estimateType="single",this.$service.getEstimateType().then((function(e){t.estimateItems=e})),this.estimateValue=["0"]},handleEstimate:function(){var e=this,t=this.estimateValue.map((function(e){return e})).join(","),a={policyId:this.selectRow.policyId,crowdId:"single"===this.estimateType?this.estimateId:void 0,triggerUser:this.getUserName(),triggerTime:(new Date).valueOf(),calIdType:t};"single"===this.estimateType?this.$service.estimatePeople({crowdId:this.estimateId,calIdType:t}).then((function(t){e.showEstimate=!1,e.loadData(),"3000"===t.code?e.$message({title:"提示",type:"warning",message:t.msg}):e.$message({title:"操作成功",type:"success",message:"提交估算成功"})})):this.$service.batchCrowdEstimate(a,"提交估算成功").then((function(){e.showEstimate=!1,e.loadData(),e.canBatchEstimate=!0,setTimeout((function(){e.$set(e,"canBatchEstimate",!1)}),5e3)}))},getUserName:function(){return this.$appState.user.name.split("@")[0]},showCountResult:function(e){var t=this,a=e;this.showResult=!0,this.$service.estimateResult({crowdId:a}).then((function(e){t.total1=null===e[0].total1?"暂无数据":e[0].total1;var a=e[0]||{},i=a.total1,n=a.total2,r=a.total3,s=a.totalUser;t.total1=t.cc_format_number(i)||"暂无数据",t.total2=t.cc_format_number(n)||"暂无数据",t.total3=t.cc_format_number(r)||"暂无数据",t.totalUser=t.cc_format_number(s)||"暂无数据"}))},loadData:function(e,t){var a=this;this.$service.getListDimension({type:2}).then((function(e){e&&e.behaviorShow&&(a.checkList=e.behaviorShow.split(","))})),this.criteria.pageNum=this.currentPage,this.criteria.pageSize=this.pageSize,this.criteria.policyId=this.selectRow.policyId,e&&(this.criteria=_r(_r({},this.criteria),e)),this.$service.viewCrowd(this.criteria).then((function(e){if(1===e.bypass){var t=[],i=[],n=[];e.bypassList&&(e.bypassList.forEach((function(e){n.push(e.crowdsList.length),e.crowdsList.forEach((function(a,i){i<e.crowdsList.length-1&&n.push(0),t.push(_r(_r({bypassName:e.bypassName,id:e.id,ratio:e.ratio,policyId:e.policyId},a),{},{bypassId:e.bypassId}))})),i.push(e.crowdsList.length)})),a.initTableMerge=JSON.parse(JSON.stringify(n)),a.tableMerge=n,a.totalCount=i.reduce((function(e,t){return e+t})),a.tableData=t)}else a.tableData=e.pageInfo.list,a.totalCount=e.pageInfo.total,a.contrastCrowdTableData=e.dynamicCrowd,a.$emit("getBigCrowdId",e.crowdId||void 0);a.abStatusEnum=e.ABStatus,a.launchStatusEnum=e.launchStatus,a.crowdValidEnum=e.crowdValidEnum,a.showByPassColumn=1===e.bypass}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},handleSearch:function(){this.criteria=this.searchForm,this.loadData()},handleReset:function(){this.$refs.searchForm.resetFields(),this.loadData()},setLinesEchart:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return s.cc_format_number(e.data)}},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:n})},setBarEchart:function(e,t,i,n){var r=this,s=a("313e"),o=s.init(this.$refs[e]);o.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return r.cc_format_number(e.data)}},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:[{data:0===n.length?this.fillEmptyData.data:n,type:"bar",barWidth:30}]})},setCircleEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t,left:"center"},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)+"("+e.percent+")%"}},legend:{orient:"vertical",x:"right",data:i},series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,itemStyle:{normal:{label:{show:r,formatter:"{b} : {c} ({d}%)"},labelLine:{show:r}},emphasis:{label:{show:r,formatter:"{b}\n{c} ({d}%)",position:"center",textStyle:{fontSize:"20",fontWeight:"bold"}}}},data:0===n.length?this.fillEmptyData.data:n}]})},setMapEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t,left:"center"},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)}},visualMap:{min:n||0,max:r||2e7,text:["High","Low"],realtime:!1,calculable:!0,inRange:{color:["lightskyblue","yellow","orangered"]}},series:[{name:"省份分布",type:"map",mapType:"china",roam:!1,label:{normal:{show:!1},emphasis:{show:!0}},data:i}]})},setFunnelEcharts:function(e,t,i,n){var r=a("313e"),s=r.init(this.$refs[e]);s.setOption({title:{text:t},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{data:i},calculable:!0,series:[{name:"漏斗图",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:n}]})},handleCommandStastic:function(e){var t=e[0],a=e[1];switch(this.currentCid=a.crowdId,t){case"detail":1===a.dynamicFlag?this.showViewEffect=!0:this.showCrowdDetailDialog();break;case"estimatedDetail":this.showEstimateEcharts=!0,this.getCrowdBaseInfo(),this.getCrowdProvinceInfo(),this.getTopActiveRank(),this.getMemberBenefits(),this.getWatchBehavior(),this.getActiveBehavior();break;case"homepageData":this.handleSeeHomepageData(this.currentCid,a.crowdName);break;case"redirectCrowd":this.handleClickRedirectList(this.currentCid);break;case"appointment":this.showAppointmentDialog(this.currentCid);break;case"operationalAnalysis":this.goToOperationalAnalysis(this.currentCid);break;case"dynamicReport":this.goToDynamicCrowdReport(this.currentCid,a.crowdName);break;case"nomalyMonitoring":this.goToNomalyMonitoring(this.currentCid,a.crowdName);break;case"shenCeAnalysis":this.handleShenCeAnalysis(a);break}},goToDynamicCrowdReport:function(e,t){this.$router.push({path:"/dynamicReport",query:{crowdId:e,crowdName:t}})},goToNomalyMonitoring:function(e,t){this.$router.push({path:"/dynamicReport",query:{crowdId:e,crowdName:t,error:!0}})},goToOperationalAnalysis:function(e){this.$service.portraitParam({crowdId:e}).then((function(e){var t=e.url;window.open(t)}))},populateIframe:function(e,t,a){var i=new XMLHttpRequest;i.open("POST","http://192.168.2.177/prod-api/auth/login"),i.responseType="blob",t.forEach((function(e){i.setRequestHeader(e[0],e[1])})),i.onreadystatechange=function(){i.readyState===i.DONE&&200===i.status&&(e.src=URL.createObjectURL(i.response))},i.send(),this.operationalAnalysisUrl=a},showAppointmentDialog:function(e){this.estimateId=e,this.showAppointment=!0,this.$refs.appointmentForm&&this.$refs.appointmentForm.resetFields()},HandleAppointment:function(){var e=this;this.$refs.appointmentForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;var a={startPeriod:e.appointmentForm.value[0],endPeriod:e.appointmentForm.value[1],crowdId:e.estimateId};e.$service.sendEffectCommand(a).then((function(){e.$message.success("预约成功"),e.showAppointment=!1}))}))},showCrowdDetailDialog:function(){this.showStatistics=!0,this.initTime(),this.drawCrowdPie(this.currentCid,this.time1[0],this.time1[1]),this.drawCrowdLine(this.currentCid,this.time0[0],this.time0[1]),this.drawExposePie(this.currentCid,this.time3[0],this.time3[1]),this.drawExposeLine(this.currentCid,this.time2[0],this.time2[1]),this.drawClickPie(this.currentCid,this.time5[0],this.time5[1]),this.drawClickLine(this.currentCid,this.time4[0],this.time4[1]),this.crowdLaunchDetail(this.currentCid,this.time6[0],this.time6[1]),this.setProvinceData(this.currentCid,this.time7[0],this.time7[1])},drawCrowdPie:function(e,t,a){var i=this;this.$service.hitAndBiToTalPie({cid:e,startTime:t,endTime:a}).then((function(e){0===e.data.length?i.hitPieTitle="累计命中次数按业务分布暂无数据":i.hitPieTitle="累计命中次数按业务分布",i.setCircleEcharts("hitPie","",e.name,e.data,!0)}))},drawCrowdLine:function(e,t,a){var i=this;this.$service.hitAndBiToTalLine({cid:e,startTime:t,endTime:a}).then((function(e){var t=e.series.map((function(e){return e.name})),a=e.series.map((function(e){return{name:e.name,data:e.data,type:"line"}}));i.hitLinesTitle="该人群总命中量以及各业务的命中量",i.setLinesEchart("hitLine","",e.date,a,t)}))},drawExposePie:function(e,t,a){var i=this;this.$service.exposeCrowdTotalPie({cid:e,startTime:t,endTime:a}).then((function(e){0===e.data.length?i.exposePieTitle="累计曝光数按业务分布暂无数据":i.exposePieTitle="累计曝光数按业务分布",i.setCircleEcharts("exposePie","",e.name,e.data,!0)}))},drawExposeLine:function(e,t,a){var i=this;this.$service.exposeCrowdTotalLine({cid:e,startTime:t,endTime:a}).then((function(e){var t=e.series.map((function(e){return e.name})),a=e.series.map((function(e){return{name:e.name,data:e.data,type:"line"}}));i.exposeLinesTitle="该人群总曝光量以及各业务的曝光量",i.setLinesEchart("exposeLine","",e.date,a,t)}))},drawClickPie:function(e,t,a){var i=this;this.$service.clickCrowdTotalPie({cid:e,startTime:t,endTime:a}).then((function(e){0===e.data.length?i.clickPieTitle="累计点击次数按业务分布暂无数据":i.clickPieTitle="累计点击次数按业务分布",i.setCircleEcharts("clickPie","",e.name,e.data,!0)}))},drawClickLine:function(e,t,a){var i=this;this.$service.clickCrowdTotalLine({cid:e,startTime:t,endTime:a}).then((function(e){var t=e.series.map((function(e){return e.name})),a=e.series.map((function(e){return{name:e.name,data:e.data,type:"line"}}));i.clickLinesTitle="该人群总点击以及各业务的点击次数",i.setLinesEchart("clickLine","",e.date,a,t)}))},crowdLaunchDetail:function(e,t,a){var i=this;this.$service.crowdLanuchData({cid:e,startTime:t,endTime:a}).then((function(e){0===e.data.length?i.crowdLaunchTitle="该人群投放数据漏斗基本详情暂无数据":i.crowdLaunchTitle="该人群投放数据漏斗基本详情",i.setFunnelEcharts("crowdLaunch","",e.names,e.data)}))},setProvinceData:function(e,t,a){var i=this;this.$service.exposeProvinceScale({cid:e,startTime:t,endTime:a}).then((function(e){var t=e.map((function(e){return{name:e.name,value:parseFloat(e.value)}}));i.exposeProvinceTitle="曝光人群省份分布",i.setMapEcharts("exposeProvince","",t)}))},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},setDataInMonth:function(e,t){var a=new Date(e).getTime(),i=new Date(t).getTime(),n=2592e6;return i-a<=n},upDownCrowd:function(e){this.showUpDownDialog=!0,this.upDownTips=1===e.putway?"确定下架人群吗？下架后该人群将无法使用，不再命中、返回":"确定上架人群吗？点击确认后，该人群将可以用",this.currentTag=e},handleUpDown:function(){var e=this,t=this.currentTag,a=this.smart?"操作成功":(1===t.putway?"下架":"上架")+'人群会影响该策略下人群估算数量，请点击"估算"重新估算其他人群的圈定数据';this.smart?this.$service.putwayCrowd({policyId:t.policyId,crowdId:t.crowdId,putway:1===t.putway?0:1},a).then((function(){e.showUpDownDialog=!1,e.loadData()})):this.$service.crowdUpDown({crowdId:t.crowdId,putway:1===t.putway?0:1},a).then((function(){e.showUpDownDialog=!1,e.loadData()}))},copyCrowd:function(e){var t=this;this.showCopyDialog=!0,this.$service.getAllPolicyList().then((function(e){t.allPolices=e})),this.currentTag=e},handleCopy:function(e){var t=this,a=this.currentTag,i=this.policyCopyForm.policyIds.join(",");this.$refs[e].validate((function(e){if(!e)return!1;t.$service.crowdCopy({crowdId:a.crowdId,policyIds:i},"复制成功").then((function(){t.handleCancelCopy("policyCopyForm"),t.loadData()})).catch((function(e){t.copyErrorMsg=e.message}))}))},handleCancelCopy:function(e){this.showCopyDialog=!1,this.$refs[e].resetFields(),this.copyErrorMsg=""},handleCommandOpreate:function(e){var t=e[0],a=e[1];switch(t){case"edit":1===a.abMainCrowd?this.divideAB(a,"editABTest"):1===a.dynamicFlag?this.handleDynamicTest(a,"editDynamicCrowd"):this.edit(a);break;case"del":this.del(a);break;case"upDown":this.upDownCrowd(a);break;case"copy":this.copyCrowd(a);break;case"divide":this.divideAB(a,"addABTest");break;case"commitHistory":this.handleCommitHistory(a);break}},handleShenCeAnalysis:function(e,t){if(this.currentCrowd=e,"AB"===t){var a=this.$moment(e.abStartTime).add(1,"days");this.currentCrowd.launchTime=a}this.shenCeForm.dateRange=[],this.shenCeForm.crowdId=e.crowdId,this.shenCeDialog=!0},ConfirmShenCeAnalysis:function(e){var t=this,a={crowdId:this.shenCeForm.crowdId,startDate:this.shenCeForm.dateRange[0],endDate:this.shenCeForm.dateRange[1]};this.$service.sensorHitData(a).then((function(e){console.log("res",e),e.result.indexOf("成功")>0||e.result.indexOf("已经发送")>0?t.$message.success(e.result):t.$message.info(e.result),t.shenCeDialog=!1}))},handleDynamicCommandOpreate:function(e){var t=e[0],a=e[1];switch(t){case"edit":this.editDynamicCrowdName(a);break;case"del":this.delDynamicCrowd(a);break;case"upDown":this.upDownCrowd(a);break;case"copy":this.copyCrowd(a);break;case"divide":this.divideAB(a,"addABTest");break;case"commitHistory":this.handleCommitHistory(a);break}},delDynamicCrowd:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={policyId:e.policyId||"",crowdId:e.crowdId||""};t.$service.delDynamicCrowd(a).then((function(){t.loadData()}))})).catch((function(){}))},handleBigDynamicCommandOpreate:function(e){var t=e[0],a=e[1];switch(t){case"step1":this.handleDynamicCrowdStep1(a);break;case"step2":this.handleDynamicCrowdStep2(a);break;case"step3":this.handleDynamicCrowdStep3(a);break}},handleDynamicCrowdStep1:function(e){e.smart=!0;var t=_r(_r({},e),{},{crowdId:e.crowdPid});this.$emit("addCrowd",t)},handleDynamicCrowdStep2:function(e){var t=_r(_r({},e),{},{crowdId:e.crowdPid});this.$emit("editDynamicPeopleSetting",t)},handleDynamicCrowdStep3:function(e){var t=_r(_r({},e),{},{crowdId:e.crowdPid});this.$emit("editDynamicPeopleConditions",t)},editDynamicCrowdName:function(e){console.log("params===",e),this.dynamicCrowd=JSON.parse(JSON.stringify(e)),this.showEditDynamicCrowdName=!0},handleEditDynamicCrowdName:function(){var e=this,t={policyId:this.dynamicCrowd.policyId,crowdId:this.dynamicCrowd.crowdId,crowdName:this.dynamicCrowd.crowdName};this.$service.updateDynamicCrowdName(t,"编辑名称成功").then((function(t){e.loadData(),e.showEditDynamicCrowdName=!1}))},tableRowClassName:function(e){var t=e.row;if(0===t.putway)return"gray-row"},getCrowdBaseInfo:function(){var e=this,t=["portrait.family.sex","portrait.family.age.range","portrait.product.grade"];this.$service.getCrowdCountMap({params:{type:t[2]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("circleDevice","产品等级分布",a,i,!0)}))},getCrowdProvinceInfo:function(){var e=this,t=["portrait.province","portrait.cities.rank"];this.$service.getCrowdCountMap({params:{type:t[0]},crowdId:this.currentCid}).then((function(t){var a=[[],[],[],t.dataList.length],i=a[0],n=a[1],r=a[2],s=a[3];t.dataList.forEach((function(e){i.push(e.name),r.push(parseInt(e.value)),n.push({value:parseInt(e.value),name:e.name})}));var o=e.bubbleSort(r),l=o[s-1],c=o[0];e.setMapEcharts("provinceMap","省份分布",n,c,l)})),this.$service.getCrowdCountMap({params:{type:t[1]},crowdId:this.currentCid}).then((function(t){e.cityData=t.dataList}))},getTopActiveRank:function(){var e=this,t=["portrait.top50.active.city"];this.$service.getCrowdCountMap({params:{type:t[0],orderBy:"value",sortOrder:"desc"},crowdId:this.currentCid}).then((function(t){var a=t.dataList,i=0;a.forEach((function(e){i+=parseInt(e.value)})),e.table.data=a.reduce((function(e,t){return e.concat({name:t.name,value:parseInt(t.value),PCT:(parseInt(t.value)/i*100).toFixed(2)+"%"})}),[])}))},getMemberBenefits:function(){var e=this;this.$service.getEstimatedTvEnumData().then((function(t){var a=e.objectToArray(t);e.memberList=a,e.memberListType=a[0].value,e.memberListByPay=a[0].value,e.getUserType(),e.getPayDetail()}))},objectToArray:function(e){var t=[];for(var a in e)t.push({value:a,label:e[a]});return t},getUserType:function(){var e=this,t={jyVIP:"portrait.user.category.education.vip.member",sjyVIP:"portrait.user.category.education.super.vip.member",djPlatform:"portrait.user.category.premier.theater.member",cjyVIP:"portrait.user.category.education.kids.vip.member",aqy:"portrait.user.category.iqiyi.member",multAqy:"portrait.user.category.mixed.source.iqiyi.member",fkGarden:"portrait.user.category.4k.garden.member",phyVIP:"portrait.user.category.sports.vip.member",tencent:"portrait.user.category.tencent.movie.member",kmVIP:"portrait.user.category.cool.meow.vip.member"},a={jyVIP:"portrait.user.category.education.vip.nonmember",sjyVIP:"portrait.user.category.education.super.vip.nonmember",djPlatform:"portrait.user.category.premier.theater.nonmember",cjyVIP:"portrait.user.category.education.kids.vip.nonmember",aqy:"portrait.user.category.iqiyi.nonmember",multAqy:"portrait.user.category.mixed.source.iqiyi.nonmember",fkGarden:"portrait.user.category.4k.garden.nonmember",phyVIP:"portrait.user.category.sports.vip.nonmember",tencent:"portrait.user.category.tencent.movie.nonmember",kmVIP:"portrait.user.category.cool.meow.vip.nonmember"},i={jyVIP:"portrait.user.category.education.vip.validdate.member",sjyVIP:"portrait.user.category.education.super.vip.validdate.member",djPlatform:"portrait.user.category.premier.theater.validdate.member",cjyVIP:"portrait.user.category.education.kids.vip.validdate.member",aqy:"portrait.user.category.iqiyi.validdate.member",multAqy:"portrait.user.category.mixed.source.iqiyi.validdate.member",fkGarden:"portrait.user.category.4k.garden.validdate.member",phyVIP:"portrait.user.category.sports.vip.validdate.member",tencent:"portrait.user.category.tencent.movie.validdate.member",kmVIP:"portrait.user.category.cool.meow.vip.validdate.member"},n={jyVIP:"portrait.user.category.education.vip.expireddate.member",sjyVIP:"portrait.user.category.education.super.vip.expireddate.member",djPlatform:"portrait.user.category.premier.theater.expireddate.member",cjyVIP:"portrait.user.category.education.kids.vip.expireddate.member",aqy:"portrait.user.category.iqiyi.expireddate.member",multAqy:"portrait.user.category.mixed.source.iqiyi.expireddate.member",fkGarden:"portrait.user.category.4k.garden.expireddate.member",phyVIP:"portrait.user.category.sports.vip.expireddate.member",tencent:"portrait.user.category.tencent.movie.expireddate.member",kmVIP:"portrait.user.category.cool.meow.vip.expireddate.member"};this.$service.getCrowdCountMap({params:{type:t[this.memberListType]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("member","会员用户的分布情况",a,i,!0)})),this.$service.getCrowdCountMap({params:{type:a[this.memberListType]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("memberMainPageActiveTime","从未是会员-按主页激活时间",a,i,!1)})),this.$service.getCrowdCountMap({params:{type:i[this.memberListType]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("memberActiveTime","会员-按会员有效期时长",a,i,!1)})),this.$service.getCrowdCountMap({params:{type:n[this.memberListType]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("memberExpirationTime","过期会员-按会员过期时长",a,i,!1)}))},getPayDetail:function(){var e=this,t={jyVIP:"portrait.last.payment.education.vip",sjyVIP:"portrait.last.payment.education.super.vip",djPlatform:"portrait.last.payment.premier.theater",cjyVIP:"portrait.last.payment.education.kids.vip",aqy:"portrait.last.payment.iqiyi",multAqy:"portrait.last.payment.mixed.source.iqiyi",fkGarden:"portrait.last.payment.4k.garden",phyVIP:"portrait.last.payment.sports.vip",tencent:"portrait.last.payment.tencent.movie",kmVIP:"portrait.last.payment.cool.meow.vip"};this.$service.getCrowdCountMap({params:{type:t[this.memberListByPay]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("payDetail","上次付费的会员产品包情况",a,i,!0)}))},getWatchBehavior:function(){var e=this,t=["portrait.user.viewing.preferences","portrait.broadcast.rate.within.seven.days","portrait.broadcast.rate.within.thirty.days"];this.$service.getCrowdCountMap({params:{type:t[0]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("watchPrefer","观影偏好",a,i)})),"7"===this.expirationDay?this.$service.getCrowdCountMap({params:{type:t[1]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("userBehavior","",a,i)})):this.$service.getCrowdCountMap({params:{type:t[2]},crowdId:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("userBehavior","",a,i)}))},getActiveBehavior:function(){var e=this,t=["portrait.active.device.amount.yesterday"],a=[],i=[];this.$service.getCrowdCountMap({params:{type:t[0]},crowdId:this.currentCid}).then((function(t){t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setBarEchart("activeBehavior","圈定人群的设备活跃人数/主页活跃人数/起播活跃人数（前一日的值)",a,i)}))},showDynamicList:function(e){var t=this;this.$service.getDynamic2PlanList({crowdId:e}).then((function(e){t.dynamic2GroupListTable.data=e||[],t.showDynamicListDetail=!0}))},showDivideResult:function(e){var t=this;this.DivideTableData=[],this.subdividePeopleList=[],this.$service.getAbChilds(e).then((function(e){t.showDivideDetail=!0,t.DivideTableData=e})),this.independentParams.crowdId=e,this.$service.searchIndependentAnalysisByCrowdId(this.independentParams).then((function(e){t.showDivideDetail=!0,t.subdividePeopleList=e?e.pageInfo.list:[],t.independentTotal=e?e.pageInfo.total:0,t.independentLaunchStatusEnum=e?e.launchStatusEnum:{}}))},handleCommitHistory:function(e){this.setShowCommitHistoryDialog=!0,this.currentCrowdId=e.crowdId},handleSubmitHistory:function(e){var t=this,a={isSubmit:e.isSubmit,crowdId:e.id,dateNum:e.dateNum};this.$service.submitPolicyHistoryData(a,1===e.isSubmit?"提交历史数据成功":"关闭提交成功").then((function(){t.setShowCommitHistoryDialog=!1}))},handleSeeHomepageData:function(e,t){this.showDivideDetail=!1,this.$appState.$set("homepageReleaseCrowdName",t),this.$router.push({name:"homepageReleaseRecord",params:{homepageReleaseRecordId:e,crowdName:t}})},handleDownload:function(){var e=this;this.downloadUrl="/api/crowd/exportCrowdPortrait/"+this.currentCid,this.$nextTick((function(){e.$refs.download_Url.click()}))},handleLaunchedExport:function(){var e=this;this.launchedExportUrl="/api/crowdAndPolicyStatistics/export/"+this.currentCid+"?sHitLineTime="+this.time0[0]+"&eHitLineTime="+this.time0[1]+"&sHitPieTime="+this.time1[0]+"&eHitPieTime="+this.time1[1]+"&sExposeLineTime="+this.time2[0]+"&eExposeLineTime="+this.time2[1]+"&sExposePieTime="+this.time3[0]+"&eExposePieTime="+this.time3[1]+"&sClickLineTime="+this.time4[0]+"&eClickLineTime="+this.time4[1]+"&sClickPieTime="+this.time5[0]+"&eClickPieTime="+this.time5[1]+"&sFunnelTime="+this.time6[0]+"&eFunnelTime="+this.time6[1]+"&sProvinceTime="+this.time7[0]+"&eProvinceTime="+this.time7[1],this.$nextTick((function(){e.$refs.launchedDownLoad.click()}))},unActiveTips:function(e){return 1==e||3==e?"人群未生效，因为该人群条件"+this.crowdValidEnum[e]:'人群未生效，因为未点击该策略的"同步按钮"'},handleShowLimitLaunch:function(e){this.showLimitLaunchDialog=!0,this.showLimitLaunchCount=e},handleClickRedirect:function(){this.$router.push({path:"/redirectAdd?policyId="+this.selectRow.policyId})},handleClickRedirectWithId:function(e){this.$router.push({path:"/redirectAdd?policyId="+this.selectRow.policyId+"&crowdId="+e.crowdId+"&crowdName="+e.crowdName})},handleClickRedirectList:function(e){this.$router.push({params:{redirectListId:e},name:"redirectAdd"})},bubbleSort:function(e){for(var t=e.length,a=0;a<t;a++)for(var i=0;i<t-1-a;i++)if(e[i]>e[i+1]){var n=e[i+1];e[i+1]=e[i],e[i]=n}return e},handleCheckListChange:function(e){this.$service.saveListDimension({type:2,behaviorShow:e.join(",")})},handleByPass:function(){this.handleGetEditDetail(),this.handleGetBypassCrowdList()},handleBypassApartChange:function(){var e=this.byPassForm.apart,t=this.byPassForm.bypass,a=e-t.length;if(a>0)for(var i=0;i<a;i++)this.byPassForm.bypass.push({name:"分组"+((t.length||0)+1),ratio:0,crowds:[]});else this.byPassForm.bypass.splice(t.length+a,-a)},handleGetEditDetail:function(){var e=this;this.$service.getBypassCrowdDetail({policyId:this.selectRow.policyId}).then((function(t){0===t.bypassList.length?(e.bypassSaveFlag="add",e.ratioEnum=e.genInitApart(),e.byPassForm=e.genBypassForm(),e.handleBypassApartChange()):(e.bypassSaveFlag="edit",e.byPassForm.apart=t.size,e.byPassForm.bypass=t.bypassList.map((function(e){return{name:e.bypassName,ratio:e.ratio,id:e.id,bypassId:e.bypassId,crowds:e.crowdsList,policyId:e.policyId,crowdSelect:""}})),e.ratioEnum=e.ratioEnum.filter((function(e){return e.value>=t.size})))}))},handleCancelBypass:function(){this.showBypassDialog=!1,this.byPassForm=this.genBypassForm(),this.showBypassStep=1},handleSaveBypass:function(){var e=this,t=JSON.parse(JSON.stringify(this.byPassForm.bypass)),a=t.length,i=[],n=0;if(0!==a){for(var r=0;r<a;r++){var s=t[r].crowds.length;if(0===s)return void this.$message.error("请在第"+(r+1)+"块勾选需要分流的人群！");for(var o=0;o<s-1;o++)for(var l=o+1;l<s;l++)if(t[r].crowds[o].priority===t[r].crowds[l].priority)return void this.$message.error("第"+(r+1)+"分组里人群第"+(o+1)+"和"+(l+1)+"人群优先级有重复，请修改之后再保存！");n+=t[r].ratio,"add"===this.bypassSaveFlag?i.push({name:t[r].name,ratio:parseInt(t[r].ratio),crowds:t[r].crowds}):i.push({bypassId:t[r].bypassId,id:t[r].id,policyId:t[r].policyId,name:t[r].name,ratio:parseInt(t[r].ratio),crowds:t[r].crowds.map((function(e){return{crowdId:e.crowdId,crowdName:e.crowdName,priority:e.priority}}))})}n>100||n<0?this.$message.error("分流总比例不得大于100%或者小于0"):"edit"===this.bypassSaveFlag?this.$service.saveBypassCrowdEdit({data:{bypass:i},params:{policyId:this.selectRow.policyId}},"分流编辑保存成功！").then((function(){e.showBypassDialog=!1,e.loadData()})):this.$service.saveBypassCrowdAdd({data:{bypass:i},params:{policyId:this.selectRow.policyId}},"分流新增保存成功！").then((function(){e.showBypassDialog=!1,e.loadData()}))}else this.$message.error("请选择人群填写分流信息！")},handleGetBypassCrowdList:function(){var e=this;this.$service.getBypassCrowdList({policyId:this.selectRow.policyId}).then((function(t){e.selectList=t,e.selectList.length<1?e.$message.error("只有当前人群数量大于0才能分流！"):e.showBypassDialog=!0}))},handleCrowdSelectChange:function(e){var t=e.crowds.map((function(e){return e.crowdId})).join(",");if(t.indexOf(e.crowdSelect)>-1);else{var a=this.selectList.filter((function(t){return t.crowdId===e.crowdSelect}));e.crowds.push({crowdId:a[0].crowdId,crowdName:a[0].crowdName,priority:e.crowds.length+1})}},handleRemoveCrowds:function(e,t){var a=e.crowds.map((function(e){return e.crowdId})),i=a.indexOf(t);e.crowds.splice(i,1),0===e.crowds.length&&(e.crowdSelect="")},handleNextBypass:function(){this.showBypassStep=2},handleExpandChange:function(e,t){if(this.initExpandCrowd=t.map((function(e){return e.crowdId})),this.showByPassColumn){for(var a=t.map((function(e){return e.crowdId})),i=0,n=0;n<this.tableData.length;n++)if(this.tableData[n].crowdId===e.crowdId){i=n;break}var r=0,s=function e(t,a,i){return r+=i[a],t>=a&&t<r?a:(a+=i[a],e(t,a,i))},o=s(i,0,this.initTableMerge);a.indexOf(e.crowdId)>-1?(0!==this.initTableMerge[i]&&(this.tableMerge[i]=this.tableMerge[i]+1),i!==o&&(this.tableMerge[o]=this.tableMerge[o]+1)):(0!==this.initTableMerge[i]&&(this.tableMerge[i]=this.tableMerge[i]-1),i!==o&&(this.tableMerge[o]=this.tableMerge[o]-1))}},objectSpanMethod:function(e){var t=e.rowIndex,a=e.columnIndex;if(this.showByPassColumn&&0===a){var i=this.tableMerge[t],n=i>0?1:0;return{rowspan:i,colspan:n}}},smartObjectSpanMethod:function(e){e.row;var t=e.column,a=e.rowIndex,i=(e.columnIndex,t.label);if("流量占比"===i||"编辑"===i)return 0===a?{rowspan:100,colspan:1}:{rowspan:0,colspan:0}},handleEditBypass:function(){this.handleByPass(),this.showBypassStep=2},handleDeleteBypass:function(e){var t=this;this.$service.delBypassCrowd({pid:e.id},"删除分流成功！").then((function(){t.loadData()}))},handleSeeConfigBypass:function(e){var t=this;this.$service.seeDevFile({policyId:e}).then((function(e){t.showConfiguration=!0,t.configTextarea=e.content})).catch((function(){}))},policyCopySelChange:function(e){this.copyErrorMsg=""}}},kr=Sr,Ir=(a("1c22"),Object(U["a"])(kr,kn,In,!1,null,"579f14e2",null)),xr=Ir.exports,Tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crowd-ab-title"},["editABTest"===e.mode?a("div",{staticClass:"title"}):a("div",{staticClass:"title"},[e._v("新增AB test子人群")]),a("div",{staticClass:"el-icon-close icon-hover",on:{click:e.cancelAdd}})]),a("el-form",{ref:"divideForm",attrs:{model:e.divideForm,rules:e.divideFormRules,"label-width":"120px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],staticClass:"first-step"},[a("div",{staticClass:"divide-header"},[e._v("第一步：填写人群份数")]),e.showDivideEdit?e._l(e.crowdEditDivideForm.name,(function(t,i){return a("el-form-item",{key:i,attrs:{label:e.alphaData[i]+"人群名称："}},[a("el-input",{model:{value:e.crowdEditDivideForm.name[i],callback:function(t){e.$set(e.crowdEditDivideForm.name,i,t)},expression:"crowdEditDivideForm.name[index]"}})],1)})):e._e(),a("el-form-item",{attrs:{label:"人群划分份数："}},[a("el-select",{attrs:{size:"mini",disabled:e.showDivideEdit},model:{value:e.copies,callback:function(t){e.copies=t},expression:"copies"}},e._l(e.parts,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1),e._v("份\n            ")],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.firstStep}},[e._v("下一步")])],1)],2),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.step,expression:"step === 2"}],staticClass:"first-step"},[a("div",{staticClass:"divide-header"},[e._v("第二步：设置人群占比")]),a("el-form-item",{attrs:{label:"各人群占比："}},e._l(e.copiesItem,(function(t,i){return a("div",{key:i,staticClass:"block"},[a("span",[e._v("人群_"+e._s(e.alphaData[i])),a("span",{staticClass:"show-percent"},[e._v(e._s(e.percent[i])+"%")])]),a("el-slider",{key:t,model:{value:e.percent[i],callback:function(t){e.$set(e.percent,i,t)},expression:"percent[index]"}})],1)})),0),a("el-form-item",{attrs:{label:"比例总和："}},[e._v(e._s(e.percentTotal))]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.step=1}}},[e._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:e.secondStep}},[e._v("下一步")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.step,expression:"step === 3"}],staticClass:"first-step"},[a("div",{staticClass:"divide-header"},[e._v("第三步：填写实验有效期并保存")]),a("el-form-item",{attrs:{label:"实验有效期：",prop:"validityTime"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss",align:"right","default-time":["","23:59:59"]},model:{value:e.divideForm.validityTime,callback:function(t){e.$set(e.divideForm,"validityTime",t)},expression:"divideForm.validityTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.step=2}}},[e._v("上一步")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary","element-loading-text":"保存中，请稍候","element-loading-background":"rgba(0, 0, 0, 0.5)"},on:{click:function(t){return e.finish("divideForm")}}},[e._v("\n                完成\n                ")])],1)],1)])],1)},Dr=[];function $r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Lr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nr={name:"crowdAbTest",props:["crowd","mode"],data:function(){return{fullscreenLoading:!1,divideForm:this.genDefaultDivideForm(),divideFormRules:{validityTime:[{type:"array",required:!0,message:"请选择实验有效期",trigger:"blur"}]},parts:[2,3,4,5],copies:3,step:1,copiesItem:[],percent:[],alphaData:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],showDivideEdit:!1,crowdEditDivideForm:{currentCrowdId:void 0,id:[],name:[],pct:[],crowdId:[]},percentTotal:0,crowdChildItem:[]}},watch:{percent:function(e){this.percentTotal=e.reduce((function(e,t){return e+t}))}},methods:{genDefaultDivideForm:function(e){return Lr({crowdId:void 0,crowdName:void 0,pct:[],validityTime:""},e)},cancelAdd:function(){this.$emit("goBackCrowdListPage")},handleSetData:function(e){var t=this;this.step=1,this.showDivideEdit=!1;var a=this.genDefaultDivideForm();a.crowdId=e.crowdId,a.crowdName=e.crowdName,1===e.abMainCrowd&&(this.showDivideEdit=!0,this.$service.crowdABTestEdit(e.crowdId).then((function(i){var n=i.crowds;t.copies=n.length;var r=i.ratio;t.crowdChildItem=n;for(var s=[[],[],[],[],[],[]],o=s[0],l=s[1],c=s[2],d=s[3],u=s[4],h=0;h<r.length;h++){o.push(r[h].ratio),d.push(r[h].ratio),c.push(r[h].id);for(var p=0;p<n.length;p++)r[h].crowdId===n[p].crowdId&&(l.push(n[p].crowdName),u.push(n[p].crowdId),a.validityTime=[n[p].abStartTime,n[p].abEndTime])}t.percent=o,t.crowdEditDivideForm={currentCrowdId:e.crowdId,id:c,name:l,pct:d,crowdId:u}})),a.crowdName=e.crowdName),this.divideForm=a},firstStep:function(){this.step=2;for(var e=this.copies,t=[],a=[],i=0;i<e;i++)t.push(i),a.push(parseInt(100/e));this.copiesItem=t,this.showDivideEdit||(this.percent=a)},secondStep:function(){var e=this.percentTotal;e>100?this.$message.error("所有比例总和不能超过100%"):(this.step=3,this.divideForm.pct=this.percent)},finish:function(e){var t=this,a=this.divideForm,i=a.pct.length,n=[],r={};this.$refs[e].validate((function(e){if(!e)return!1;if(t.fullscreenLoading=!0,t.showDivideEdit){for(var s=t.crowdEditDivideForm,o=0;o<i;o++)r={id:s.id[o],name:s.name[o],pct:a.pct[o]},n.push(r);var l={crowd:n,startTime:a.validityTime[0],endTime:a.validityTime[1]};t.$service.crowdABTestEditSave({model:s.currentCrowdId,data:l},"保存A/B test划分成功").then((function(){t.fullscreenLoading=!1,t.$emit("goBackCrowdListPage",!0)}))}else{for(var c=0;c<i;c++)r={name:t.alphaData[c]+"人群_"+a.crowdName,pct:a.pct[c]},n.push(r);var d={crowd:n,startTime:a.validityTime[0],endTime:a.validityTime[1]};t.$service.crowdABTestAdd({model:a.crowdId,data:d},"新增A/B test划分成功").then((function(){t.fullscreenLoading=!1,t.$emit("goBackCrowdListPage",!0)}))}}))}},created:function(){this.handleSetData(this.crowd)}},Or=Nr,Pr=(a("17b9"),Object(U["a"])(Or,Tr,Dr,!1,null,"53741762",null)),Er=Pr.exports,Ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"menu",staticClass:"form-class",attrs:{model:e.menu,"label-position":"left","label-width":"130px"}},[a("div",{staticClass:"div-class"},[a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"动态人群: "}},[a("div",{staticClass:"filed-row"},[e._v("\n          占比：\n          "),a("el-input",{staticClass:"flow-num",staticStyle:{width:"70px"},attrs:{placeholder:""},on:{blur:function(t){return e.numberInt(t)}},model:{value:e.menu.flowNum,callback:function(t){e.$set(e.menu,"flowNum",t)},expression:"menu.flowNum"}}),e._v("\n          %\n        ")],1),e._l(e.menu.dynamicCrowd,(function(t,i){return a("div",{key:i,staticClass:"filed-row"},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"优先级",clearable:""},on:{focus:function(t){return e.inputFocus(t,i)},blur:function(t){return e.numberInt(t)}},model:{value:t.priority,callback:function(a){e.$set(t,"priority",a)},expression:"field.priority"}}),e.focusIndex===i?a("div",{staticClass:"tip-box"},[e._v("数字越大，优先级越高，顺序流转和循环流转时优先级高的人群优先命中")]):e._e(),a("span",{staticClass:"split-line"},[e._v("—")]),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"人群名称",clearable:""},model:{value:t.crowdName,callback:function(a){e.$set(t,"crowdName",a)},expression:"field.crowdName"}}),e.menu.dynamicCrowd.length>2?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-remove-outline"},on:{click:function(a){return e.handleReduceFiled(t,i,"dynamicCrowd")}}}):e._e()],1)})),a("div",{staticClass:"filed-row "},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:e.handleAddFiled}},[e._v("添加")])],1)],2),a("el-form-item",{attrs:{label:"是否做AB实验:",prop:"ab"}},[a("el-radio-group",{model:{value:e.menu.ab,callback:function(t){e.$set(e.menu,"ab",t)},expression:"menu.ab"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e.menu.ab?a("el-form-item",{staticStyle:{width:"700px"},attrs:{label:"对比人群: "}},[e._l(e.menu.controlGroup,(function(t,i){return a("div",{key:i,staticClass:"filed-row"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"人群名称",clearable:""},model:{value:t.crowdName,callback:function(a){e.$set(t,"crowdName",a)},expression:"field.crowdName"}}),a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-remove-outline"},on:{click:function(a){return e.handleReduceFiled(t,i,"controlGroup")}}}),a("span",{staticClass:"filed-row",staticStyle:{"margin-left":"40px"}},[e._v("\n              占比：\n              "),a("el-input",{staticClass:"flow-num",staticStyle:{width:"50px"},attrs:{placeholder:""},on:{blur:function(t){return e.numberInt(t)}},model:{value:t.flowNum,callback:function(a){e.$set(t,"flowNum",a)},expression:"field.flowNum"}}),e._v("\n              %\n            ")],1)],1)})),a("div",{staticClass:"filed-row "},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:e.handleAddControl}},[e._v("添加")])],1)],2):e._e()],1),"editSingle"===e.dynamicMode?a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("goBackCrowdListPage")}}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(0)}}},[e._v("保存")])],1):a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"info"},on:{click:e.handleBackPrevStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(1)}}},[e._v("下一步")])],1)],1)],1)},Fr=[],Vr=(a("3b2b"),a("2f62"));function Rr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function jr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Br={components:{},props:["isDynamicPeople","policyId","crowdId","dynamicMode"],computed:jr({},Object(Vr["b"])(["policyName"])),data:function(){return{menu:{dynamicCrowd:[{crowdName:"",priority:""}],controlGroup:[],ab:0,flowNum:100},focusIndex:-1}},created:function(){var e=this;this.crowdId&&this.$service.getDynamicCrowd({crowdId:this.crowdId}).then((function(t){e.menu=t&&t.dynamicCrowd?t:{dynamicCrowd:[{crowdName:"",priority:""},{crowdName:"",priority:""}],controlGroup:[],ab:0,flowNum:100},e.menu.dynamicCrowd=e.menu.dynamicCrowd||[],e.menu.controlGroup=e.menu.controlGroup||[]}))},methods:{inputFocus:function(e,t){this.focusIndex=t},numberInt:function(e){var t=new RegExp("^[1-9]([0-9])*$").test(e.target.value);console.log(t),t||(this.$message({showClose:!0,message:"请输入正整数",type:"warning"}),e.target.value="")},handleAddFiled:function(){this.menu.dynamicCrowd.push({crowdName:"",priority:""})},handleAddControl:function(){this.menu.controlGroup.push({crowdName:"",flowNum:""})},handleReduceFiled:function(e,t,a){var i=this;if(!e.crowdId)return this.menu[a].splice(t,1);var n={policyId:e.policyId||"",crowdId:e.crowdId||""};this.$service.delDynamicCrowd(n).then((function(){i.menu[a].splice(t,1)}))},handleBackPrevStep:function(){this.$emit("crowdPrevStep",2,this.recordId)},isValidate:function(){var e=new RegExp("^[1-9]([0-9])*$"),t=this.menu.dynamicCrowd.every((function(t){var a=t.priority&&e.test(t.priority),i=!!t.crowdName;return a&&i})),a=this.menu.controlGroup.every((function(t){var a=e.test(t.flowNum),i=!!t.crowdName;return a&&i})),i=t&&a;return i||this.$message({showClose:!0,message:"请将表单填写完整",type:"error"}),i},handleSave:function(e){var t=this;this.isValidate()&&(this.menu.policyId=this.policyId,this.menu.crowdId=this.crowdId,this.menu.crowdName="".concat(this.policyName,"(动态人群)"),this.menu.dynamicCrowd=this.menu.dynamicCrowd.map((function(e){return jr(jr({},e),{},{crowdName:e.crowdName,priority:Number(e.priority)})})),this.menu.controlGroup=this.menu.controlGroup.map((function(e,t){return jr(jr({},e),{},{priority:e.priority?Number(e.priority):Number(t+1)})})),0===e?this.$service.addDynamicCrowd(this.menu,"操作成功").then((function(e){t.$emit("goBackCrowdListPage",!0)})):this.$service.addDynamicCrowd(this.menu,"操作成功").then((function(e){t.$emit("crowdNextStep",2,t.recordId)})))},resetFormData:function(){this.$emit("resetFormData")},handleDirectStrategyListBrother:function(){this.$emit("handleDirectStrategyList")}}},Mr=Br,zr=(a("8108"),Object(U["a"])(Mr,Ar,Fr,!1,null,"3d6a4622",null)),qr=zr.exports,Jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.reloadFlag?a("div",[a("div",{staticClass:"header"},[a("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:e.activeStep,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:"第一步：圈出人群",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第二步：动态人群配置",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第三步：设置流转条件",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第四步：投放到业务平台",icon:"el-icon-edit"}})],1)],1),a("div",[e.policyId&&0===e.activeStep?a("create-crowd",{attrs:{policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,dynamicCrowdNextStep:e.handleDynamicCrowdNextStep,dynamicCrowdPrevStep:e.handleDynamicCrowdPrevStep}}):e._e(),1===e.activeStep?a("dynamic-people-setting",{attrs:{policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople,dynamicMode:e.dynamicMode},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,goBackCrowdListPage:function(t){return e.$emit("goBackCrowdListPage",!0)}}}):e._e(),2===e.activeStep?a("dynamic-people-conditions",{attrs:{policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople,dynamicMode:e.dynamicMode},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,goBackCrowdListPage:function(t){return e.$emit("goBackCrowdListPage",!0)}}}):e._e(),3===e.activeStep?a("launch-to-business",{attrs:{recordId:e.recordId,tempPolicyAndCrowd:e.tempPolicyAndCrowd,routeSource:e.routeSource,policyId:e.policyId,crowdId:e.crowdId,dynamicMode:e.dynamicMode,isDynamicPeople:e.isDynamicPeople},on:{nextStep:e.handleNextStep,launchPrevStep:e.handleLaunchPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,goBackCrowdListPage:function(t){return e.$emit("goBackCrowdListPage",!0)}}}):e._e()],1)]):e._e()},Gr=[],Ur=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("add-more-crowd",{attrs:{recordId:e.brotherRecordId,isDynamicPeople:e.isDynamicPeople,policyId:e.policyId,policyName:e.policyName,crowdId:e.crowdId},on:{resetFormData:e.resetFormData,handleBackPrevStep:e.handleBackPrevStep,handleToNextStep:e.handleToNextStep,handleDynamicCrowdNextStep:e.handleDynamicCrowdNextStep,handleDynamicCrowdPrevStep:e.handleDynamicCrowdPrevStep,handleDirectStrategyListBrother:e.handleDirectStrategyListBrother}})],1)},Hr=[],Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"130px"}},[a("CrowdAdd",{ref:"CrowdAdd",attrs:{"prop-prefix":"rulesJson.",recordId:e.recordId,isDynamicPeople:e.isDynamicPeople,policyId:e.policyId},model:{value:e.form.rulesJson,callback:function(t){e.$set(e.form,"rulesJson",t)},expression:"form.rulesJson"}}),a("el-form-item",[a("el-button",{attrs:{type:"info"},on:{click:e.handleBackPrevStep}},[e._v("上一步")]),e.isDynamicPeople?e._e():a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleSave(0)}}},[e._v("跳过保存")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(1)}}},[e._v("下一步")])],1)],1)],1)},Qr=[],Wr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-right":"30px"}},[e.isDynamicPeople?a("div",{staticClass:"el-collapse"},[a("el-form-item",{staticClass:"el-collapse_item",attrs:{label:""}},[e._l(e.inputValue,(function(t,i){return[a("div",{key:i,staticClass:"items crowd-content"},[a("el-form-item",{attrs:{label:"人群名称",prop:e.formProp(i+".crowdName"),rules:e.rules.crowdName}},[a("el-input",{attrs:{placeholder:"投放名称",maxlength:50},model:{value:t.crowdName,callback:function(a){e.$set(t,"crowdName",a)},expression:"crowd.crowdName"}})],1),a("div",{staticStyle:{position:"relative"}},[e.tags.length>0?a("div",[a("el-form-item",{attrs:{label:"设置标签",required:""}},[a("MultipleSelect",{attrs:{tags:e.tags,rulesJson:t.rulesJson,crowd:t,i:i}})],1)],1):e._e(),e.tags.length>0&&e.actionTags.length>0&&e.hasBehaviorTag||e.tags.length>0&&e.specialTags.length>0||e.actionTags.length>0&&e.hasBehaviorTag&&e.specialTags.length>0?a("div",{staticClass:"outer-and"},[a("el-button",{key:i+"condition",attrs:{type:"danger",round:""},on:{click:function(a){return e.handleConditionChange(t)}}},[e._v(e._s("OR"===t.behaviorRulesJson.link?"或":"且")+"\r\n                ")])],1):e._e(),e.actionTags.length>0&&e.hasBehaviorTag?a("el-form-item",{attrs:{label:"行为标签"}},[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",refInFor:!0,attrs:{actionTags:e.actionTags,behaviorRulesJson:t.behaviorRulesJson,crowd:t,i:i}})],1):e._e(),e.specialTags.length>0?a("el-form-item",{attrs:{label:"动态因子"}},[a("MultipleSelect",{attrs:{specialTags:e.specialTags,dynamicPolicyJson:t.dynamicPolicyJson,crowd:t,i:i}})],1):e._e()],1),t.isShowAutoVersion?a("el-form-item",{attrs:{label:"是否每日更新",prop:"autoVersion"}},[a("el-radio-group",{model:{value:t.autoVersion,callback:function(a){e.$set(t,"autoVersion",a)},expression:"crowd.autoVersion"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1):e._e(),a("a",{staticClass:"app-params__remove-param",on:{click:function(t){return e.handleRemoveParam(i)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:i>0,expression:"i > 0"}],staticClass:"icon iconfont el-icon-cc-delete"})])],1)]}))],2)],1):a("div",[a("el-collapse",{staticClass:"el-collapse",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-form-item",{staticClass:"el-collapse_item",attrs:{label:"人群条件"}},[e._l(e.inputValue,(function(t,i){return a("div",{key:i+"crowd"},[a("div",{key:i,staticClass:"items"},[a("el-collapse-item",{key:i,staticClass:"crowd-content",attrs:{name:i}},[a("template",{slot:"title"},[a("div",{staticClass:"collapse-title"},[a("div",[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.crowdName))]),a("div",{staticClass:"name"},[t.referCrowdId?a("i",{staticClass:"el-icon-link",staticStyle:{"font-size":"20px",color:"#409EFF"}}):e._e(),e._v("\r\n                        "+e._s(t.crowdName)+"\r\n                      ")])])],1)]),void 0!=t.total0?a("div",{staticClass:"collapse-title",staticStyle:{"justify-content":"center"}},[a("div",[e._v("圈定设备数量："+e._s(t.total0)+" "),a("span",{staticClass:"count-tips"},[e._v("（当人群条件有变化，请重新点击估算）")])])]):e._e()]),a("el-form-item",{attrs:{label:"人群名称",prop:e.formProp(i+".crowdName"),rules:e.rules.crowdName}},[a("el-input",{attrs:{disabled:!!t.referCrowdId,placeholder:"投放名称",maxlength:50},model:{value:t.crowdName,callback:function(a){e.$set(t,"crowdName",a)},expression:"crowd.crowdName"}})],1),t.referCrowdId?e._e():[a("div",{staticStyle:{position:"relative"}},[e.tags.length>0?a("div",[a("el-form-item",{attrs:{label:"设置标签",required:""}},[a("MultipleSelect",{attrs:{tags:e.tags,rulesJson:t.rulesJson,crowd:t,i:i}})],1)],1):e._e(),e.tags.length>0&&e.actionTags.length>0&&e.hasBehaviorTag||e.tags.length>0&&e.specialTags.length>0||e.actionTags.length>0&&e.hasBehaviorTag&&e.specialTags.length>0?a("div",{staticClass:"outer-and"},[a("el-button",{key:i+"condition",attrs:{type:"danger",round:""},on:{click:function(a){return e.handleConditionChange(t)}}},[e._v(e._s("OR"===t.behaviorRulesJson.link?"或":"且")+"\r\n                    ")])],1):e._e(),e.actionTags.length>0&&e.hasBehaviorTag?a("el-form-item",{attrs:{label:"行为标签"}},[a("MultipleActionTagSelect",{key:i+"bav",ref:"multipleActionTagSelect",refInFor:!0,attrs:{actionTags:e.actionTags,behaviorRulesJson:t.behaviorRulesJson,crowd:t,i:i}})],1):e._e(),e.specialTags.length>0?a("el-form-item",{attrs:{label:"动态因子"}},[a("MultipleSelect",{attrs:{specialTags:e.specialTags,dynamicPolicyJson:t.dynamicPolicyJson,crowd:t,i:i}})],1):e._e()],1),t.isShowAutoVersion?a("el-form-item",{attrs:{label:"是否每日更新",prop:"autoVersion"}},[a("el-radio-group",{model:{value:t.autoVersion,callback:function(a){e.$set(t,"autoVersion",a)},expression:"crowd.autoVersion"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1):e._e(),a("el-form-item",{attrs:{label:"是否限制投放数量",prop:"limitLaunch"}},[a("el-radio-group",{model:{value:t.limitLaunch,callback:function(a){e.$set(t,"limitLaunch",a)},expression:"crowd.limitLaunch"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),t.limitLaunch?a("el-form-item",{attrs:{label:"投放数量",prop:"limitLaunchCount"}},[a("el-input-number",{staticStyle:{width:"220px"},attrs:{size:"medium",placeholder:"不能大于1,000,000",max:1e6,min:1},model:{value:t.limitLaunchCount,callback:function(a){e.$set(t,"limitLaunchCount",a)},expression:"crowd.limitLaunchCount"}}),a("span",{staticClass:"tip-text"},[e._v("命中的设备数量上限")])],1):e._e(),a("el-form-item",{attrs:{label:"人群黑名单",prop:"blackFlag"}},[a("el-radio-group",{model:{value:t.blackFlag,callback:function(a){e.$set(t,"blackFlag",a)},expression:"crowd.blackFlag"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),1===t.blackFlag?[e._l(t.blackList,(function(n,r){return a("div",{key:r,staticClass:"filed-row",staticStyle:{"margin-left":"130px"}},[a("el-form-item",{attrs:{prop:e.propPrefix+i+".blackList."+r+".value",rules:[{required:!0,message:"不能为空",trigger:"blur"},{validator:e.checkBlackName,trigger:["blur"]}]}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入要屏蔽的MAC地址",clearable:"",maxlength:"12","show-word-limit":""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"item.value"}}),t.blackList.length>1?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-remove-outline"},on:{click:function(a){return e.handleDeleteBlack(r,t)}}}):e._e()],1)],1)})),a("div",{staticClass:"filed-row",staticStyle:{"margin-left":"130px"}},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:function(a){return e.handleAddBlack(t)}}},[e._v("添加")])],1)]:e._e(),a("el-form-item",{attrs:{label:"备注",prop:e.formProp("remark")}},[a("el-input",{attrs:{placeholder:"备注"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"crowd.remark"}})],1),a("el-form-item",{attrs:{label:"优先级",prop:e.formProp(i+".crowdOrder"),rules:e.rules.noEmpty}},[a("el-input-number",{attrs:{precision:0},on:{change:function(t){return e.changeSeq(i)}},model:{value:t.crowdOrder,callback:function(a){e.$set(t,"crowdOrder",a)},expression:"crowd.crowdOrder"}})],1),a("el-button",{staticClass:"copyCrowd",attrs:{type:"text"},on:{click:function(a){return e.handleCopyCrowd(t,i)}}},[e._v("复制人群")])]],2),a("a",{staticClass:"app-params__remove-param",on:{click:function(t){return e.handleRemoveParam(i)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])],1)])})),e.tags.length>0||e.actionTags.length>0||e.specialTags.length>0?a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleAddParam}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加\r\n        ")]):e._e(),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleOpenAddLinkCrowd}},[a("i",{staticClass:"el-icon-link"}),e._v(" 引用其他人群\r\n        ")])],2)],1)],1),a("el-dialog",{attrs:{title:"引用人群",visible:e.linkDialogVisible,width:"800px"},on:{"update:visible":function(t){e.linkDialogVisible=t}}},[a("linkCrowd",{ref:"linkCrowdCom",model:{value:e.multipleSelection,callback:function(t){e.multipleSelection=t},expression:"multipleSelection"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),a("el-button",{on:{click:e.handleClear}},[e._v("全部清空")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)],1)],1)},Yr=[],Zr=(a("55dd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.linkParams}},[a("el-form-item",{attrs:{label:"人群ID："}},[a("el-input",{attrs:{placeholder:"请输入人群ID",clearable:""},model:{value:e.linkParams.crowdId,callback:function(t){e.$set(e.linkParams,"crowdId",t)},expression:"linkParams.crowdId"}})],1),a("el-form-item",{attrs:{label:"人群名："}},[a("el-input",{attrs:{placeholder:"请输入人群名",clearable:""},model:{value:e.linkParams.crowdName,callback:function(t){e.$set(e.linkParams,"crowdName",t)},expression:"linkParams.crowdName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchLinkCrowdList}},[e._v("查询")])],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.linkCrowdTableData,"tooltip-effect":"dark",stripe:"",border:"","row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",selectable:e.selected}}),a("el-table-column",{attrs:{label:"人群ID",prop:"crowdId"}}),a("el-table-column",{attrs:{prop:"crowdName",label:"人群名",width:"300px"}}),a("el-table-column",{attrs:{prop:"policyId",label:"所属策略ID","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"policyName",label:"所属策略名","show-overflow-tooltip":""}})],1),a("div",{staticStyle:{margin:"40px 0 0",overflow:"hidden"}},[a("pagination",{attrs:{currentpage:e.linkParams.pageNum,pagesize:e.linkParams.pageSize,totalcount:e.linkCrowdListTotal},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1)}),Xr=[],es={props:{value:{type:Array,default:function(){return[]}},selectRow:{type:Object,default:function(){}}},data:function(){return{linkDialogVisible:!1,linkCrowdTableData:[],linkParams:{crowdId:"",crowdName:"",pageNum:1,pageSize:10},linkCrowdListTotal:0,selectValue:[]}},watch:{value:{handler:function(e){this.selectValue=e}}},created:function(){this.fetchLinkCrowdList()},methods:{selected:function(e,t){return!0},fetchLinkCrowdList:function(){var e=this;this.$service.getLinkCrowdList(this.linkParams).then((function(t){e.linkCrowdTableData=t.rows||[],e.linkCrowdListTotal=t.total||0}))},handleSizeChange:function(e){this.linkParams.pageSize=e,this.fetchLinkCrowdList()},handleCurrentChange:function(e){this.linkParams.pageNum=e,this.fetchLinkCrowdList()},getRowKeys:function(e){return e.crowdId},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.selectValue=e,this.$emit("input",e)}}},ts=es,as=Object(U["a"])(ts,Zr,Xr,!1,null,null,null),is=as.exports;function ns(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function rs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ns(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ss={components:{MultipleSelect:yi,MultipleActionTagSelect:on,LinkCrowd:is},data:function(){return{tags:[],actionTags:[],specialTags:[],cache:{},tagSelectMoreShow:!1,showMoreTags:!1,tagsListTotal:0,formInline:{attrName:""},tagList:[],checkboxValue:"",currentChildItem:"",suggestions:{},suggestionsNew:[],priority:"",initPageSize:200,initCurrentPage:1,activeName:0,inputValue:[],rules:{noEmpty:[{required:!0,message:"不能为空",trigger:"blur"}],crowdName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],limitLaunchCount:[{required:!0,message:"请输入大于0小于1,000,000的限制数量",trigger:"blur"}]},cityData:[],provinceValueList:[],linkDialogVisible:!1,multipleSelection:[]}},props:{value:{type:[String,Array]},propPrefix:{type:String},recordId:{type:Number},isDynamicPeople:{type:Boolean,default:!1},policyId:{type:[Number,String]}},watch:{value:{handler:function(e){this.setInputValue(e)}},inputValue:{handler:function(){this.emitInputValue()},deep:!0,immediate:!0}},computed:{hasBehaviorTag:function(){return this.actionTags.some((function(e){return 8===e.dataSource}))}},methods:{checkBlackName:function(e,t,a){console.warn("checkBlackName");var i=/^[a-fA-F0-9]{12}$/;i.test(t)?a():a(new Error("mac 格式为大小写的 a-f 和数字的 12 位字符组合"))},handleDeleteBlack:function(e,t){t.blackList.splice(e,1)},handleAddBlack:function(e){e.blackList.length<100&&e.blackList.push({value:""})},handleCancel:function(){this.linkDialogVisible=!1},handleClear:function(){this.$refs.linkCrowdCom.$refs.multipleTable.clearSelection()},handleOpenAddLinkCrowd:function(){this.$refs.linkCrowdCom&&this.$refs.linkCrowdCom.$refs.multipleTable&&this.$refs.linkCrowdCom.$refs.multipleTable.clearSelection(),this.linkDialogVisible=!0},changeSeq:function(){this.inputValue.sort((function(e,t){return e.crowdOrder-t.crowdOrder}))},formProp:function(e){return(this.propPrefix||"")+e},hasMoveBehaviorTagRule:function(){this.inputValue.forEach((function(e){var t=!1,a=e.behaviorRulesJson?e.behaviorRulesJson.rules:[];a.length>0&&(t=!0),t?(void 0===e.isShowAutoVersion||e.isShowAutoVersion||(e.autoVersion=!0),e.isShowAutoVersion=!0):(e.isShowAutoVersion=!1,e.autoVersion=!1)}))},setInputValue:function(e){if(e!==this.inputValue)if(e.length>0)this.inputValue=JSON.parse(JSON.stringify(e));else{if(this.inputValue.length>0||0===this.tagList.length)return;this.inputValue.push({recordId:this.getRecordId(),tempCrowdId:void 0,crowdName:void 0,tagIds:[],purpose:void 0,remark:void 0,crowdOrder:1,rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"AND",rules:[]},autoVersion:!1,isShowAutoVersion:!1,limitLaunch:!1,limitLaunchCount:void 0,total0:void 0,blackFlag:0,blacks:"",blackList:[{value:""}]})}},emitInputValue:function(e){this.hasMoveBehaviorTagRule(),this.$emit("input",this.inputValue)},handleCopyCrowd:function(e,t){var a=JSON.parse(JSON.stringify(e));this.handleAddParam({copyCrowdData:a,copyCrowdIndex:t})},handleConfirm:function(){var e=this;this.multipleSelection.forEach((function(t){var a=e.inputValue.some((function(e){return e.referCrowdId===t.crowdId}));a||e.handleAddParam({linkCrowd:t})})),this.linkDialogVisible=!1},getCopyIndex:function(e,t){var a="".concat(t||"复制人群","（").concat(e+1,"）"),i=this.inputValue.find((function(e){return e.crowdName===a}));return i?this.getCopyIndex(e+1,t):a},handleAddParam:function(e){var t=e.copyCrowdData,a=(e.copyCrowdIndex,e.linkCrowd),i=this.inputValue.length;if(this.activeName=i,i>=50)this.$message({type:"error",message:"最多添加50个"});else if(t){var n=this.getCopyIndex(0,t.crowdName);this.inputValue.push(rs(rs({},t),{},{crowdName:n}))}else{var r=a?"".concat(a.crowdName,"（引用人群）"):void 0;this.inputValue.push({referCrowdId:a?a.crowdId:null,isLink:!!a,recordId:this.getRecordId(),tempCrowdId:void 0,crowdName:r,tagIds:[],purpose:void 0,remark:void 0,crowdOrder:i+1,rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"OR",rules:[]},autoVersion:!1,isShowAutoVersion:!1,limitLaunch:!1,limitLaunchCount:void 0,total0:void 0,blackFlag:0,blacks:"",blackList:[{value:""}]})}},getRecordId:function(){return this.recordId},setSeq:function(){var e=JSON.parse(JSON.stringify(this.inputValue));this.inputValue=e.map((function(e,t){return e.crowdOrder=t+1,e}))},handleRemoveParam:function(e){this.inputValue.splice(e,1)},handleEstimate:function(e){var t=this;this.$service.estimateTemp(e.rulesJson).then((function(a){(a||0===a)&&t.$set(e,"total0",a)}))},handleConditionChange:function(e){e.behaviorRulesJson.link="AND"===e.behaviorRulesJson.link?"OR":"AND",e.rulesJson.link=e.behaviorRulesJson.link}},created:function(){var e=this;this.isDynamicPeople?this.$service.getTagsByPoliceId({policyId:this.policyId}).then((function(t){var a=[],i=[],n=[];t&&t.forEach((function(e){6===e.dataSource?n.push(e):8===e.dataSource?i.push(e):2===e.dataSource?(i.push(e),a.push(e)):a.push(e)})),e.tags=a,e.actionTags=i,e.specialTags=n,e.setInputValue(e.value)})):this.value&&this.$service.tagInfoNew(this.recordId).then((function(t){var a=[],i=[],n=[];e.tagList=t||[],t&&t.forEach((function(e){6===e.dataSource?n.push(e):8===e.dataSource?i.push(e):2===e.dataSource?(i.push(e),a.push(e)):a.push(e)})),e.tags=a,e.actionTags=i,e.specialTags=n,e.setInputValue(e.value)}))}},os=ss,ls=(a("3afd"),Object(U["a"])(os,Wr,Yr,!1,null,"765e1099",null)),cs=ls.exports;function ds(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function us(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ds(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hs={components:{CrowdAdd:cs},computed:us({},Object(Vr["b"])(["policyName"])),data:function(){return{activeName:0,form:{rulesJson:[{recordId:this.getRecordId(),tempCrowdId:void 0,crowdName:void 0,tagIds:[],remark:void 0,crowdOrder:0,rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"OR",rules:[]},autoVersion:!1,isShowAutoVersion:!1,limitLaunch:!1,limitLaunchCount:void 0}]},formRules:{},pickerOptions:{disabledDate:function(e){var t=(new Date).setHours(23,59,59),a=new Date(t).getTime(),i=5184e6,n=a+i;return e.getTime()<Date.now()-864e5||e.getTime()>n}},timeTagKongList:[]}},watch:{form:{handler:function(e){},deep:!0}},props:["recordId","isDynamicPeople","policyId","crowdId"],methods:{getRecordId:function(){return this.recordId},validateForm:function(e){this.timeTagKongList=[];for(var t=!0,a=0;a<e.length;a++){if(!e[a].crowdName){this.$message.error("第"+(a+1)+"人群的人群名称不能为空"),t=!1;break}if(e[a].limitLaunch){if(!e[a].limitLaunchCount){this.$message.error("第"+(a+1)+"人群的人群限制数量为必填"),t=!1;break}if(!Number.isInteger(e[a].limitLaunchCount)){this.$message.error("第"+(a+1)+"人群的人群限制数量必须是大于1小于10万的整数"),t=!1;break}}var i=e[a].rulesJson,n=i.rules,r=n.length,s=void 0,o=0;for(s=0;s<r;s++)for(o=0;o<n[s].rules.length;o++){var l=n[s].rules[o],c="time"===l.tagType&&0===l.dateAreaType;if(c)this.timeTagKongList.includes(l.tagName)||this.timeTagKongList.push(l.tagName);else{if(l.value&&(""===l.value||0===l.value.length)){this.$message.error("请正确填写第"+(a+1)+"人群里第"+(s+1)+"设置标签块里面的第"+(o+1)+"行的值！"),t=!1;break}if("time"===l.tagType&&3===l.isDynamicTime)if(l.version>0){var d=l.startDay?l.startDay:"@",u=l.endDay?l.endDay:"@";l.value=d+"~"+u}else{if(!this.checkNum(l.startDay)||!this.checkNum(l.endDay)){this.$message.error("第"+(a+1)+"人群里面的第"+(s+1)+"设置标签块里面的第"+(o+1)+"行的值是大于等于0的整数且不能超过4位数"),t=!1;break}if(!(parseInt(l.startDay)<parseInt(l.endDay))){this.$message.error("第"+(a+1)+"人群里面的第"+(s+1)+"设置标签块里面的第"+(o+1)+"行的天数值后面的值必须大于前面的"),t=!1;break}l.value=l.startDay+"-"+l.endDay}}}if(!t)break;var h=e[a].behaviorRulesJson,p=h.rules,m=p.length,f=void 0,v=0;for(f=0;f<m;f++)for(v=0;v<p[f].rules.length;v++){var g=p[f].rules[v],b="time"===g.tagType&&0===g.dateAreaType;if(b)this.timeTagKongList.includes(g.tagName)||this.timeTagKongList.push(g.tagName);else{if(g.value&&(""===g.value||0===g.value.length)){this.$message.error("请正确填写第"+(a+1)+"人群里第"+(f+1)+"行为标签块里面的第"+(v+1)+"行的值！"),t=!1;break}if("time"===g.tagType&&3===g.isDynamicTime)if(g.version>0){var y=g.startDay?g.startDay:"@",C=g.endDay?g.endDay:"@";g.value=y+"~"+C}else{if(!this.checkNum(g.startDay)||!this.checkNum(g.endDay)){this.$message.error("第"+(a+1)+"人群里面的第"+(f+1)+"行为标签块里面的第"+(v+1)+"行的值是大于等于0的整数且不能超过4位数"),t=!1;break}if(!(parseInt(g.startDay)<parseInt(g.endDay))){this.$message.error("第"+(a+1)+"人群里面的第"+(f+1)+"行为标签块里面的第"+(v+1)+"行的天数值后面的值必须大于前面的"),t=!1;break}g.value=g.startDay+"-"+g.endDay}}}if(!t)break;var w=JSON.parse(JSON.stringify(e[a].dynamicPolicyJson)),_=JSON.parse(JSON.stringify(w.rules)),S=_.length,k=void 0,I=0;for(k=0;k<S;k++){for(I=0;I<_[k].rules.length;I++){var x=_[k].rules[I];if(""===x.value||""===x.dynamic.version){this.$message.error("请正确填写第"+(a+1)+"人群里第"+(k+1)+"动态因子块里面的第"+(I+1)+"行的值！"),t=!1;break}if(!t)break}if(!t)break}}return t},putBehaviorRulesJsonTableIndex:function(e){if(e){var t=0,a=e.rules;a.forEach((function(e){var a=e.rules;a.forEach((function(e){t+=1,e.table=e.table.split("$")[0]+"$"+t,e.bav&&(e.bav.table=e.bav.table.split("$")[0]+"$"+t)}))}))}else e={link:"AND",condition:"OR",rules:[]};return e},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},handleSave:function(e){var t=this,a=JSON.parse(JSON.stringify(this.form));this.$refs.form.validate((function(i){if(!i)return t.$message.error("请检查表单各项是否填写完整"),!1;if(t.validateForm(a.rulesJson)){var n=[],r=t.$refs.CrowdAdd&&t.$refs.CrowdAdd.$refs.multipleActionTagSelect&&t.$refs.CrowdAdd.$refs.multipleActionTagSelect[0].$refs?t.$refs.CrowdAdd.$refs.multipleActionTagSelect:[];if(r.length>0){console.log("allBavRule----------------\x3e",r);var s=[],o=[],l=[],c=[];r.forEach((function(e){var t=e.$refs.range,a=e.$refs.bav;t&&t.length>0&&t.forEach((function(e){s.push(e.$refs.rangeForm)})),a&&a.length>0&&(a.forEach((function(e){o.push(e.$refs.bav)})),l=l.concat(a))})),l&&l.forEach((function(e){e.$refs.bav&&o.push(e.$refs.bav),e.$refs.typeRef&&Array.isArray(e.$refs.typeRef)?e.$refs.typeRef.forEach((function(e){c.push(e.$refs.typeForm)})):e.$refs.typeRef&&"object"===Object($t["a"])(e.$refs.typeRef)&&c.push(e.$refs.typeRef.$refs.typeForm)})),n=s.concat(c,o),console.log("rangeFormList=======",s),console.log("typeFormList=======",c),console.log("bavFormList=======",o),console.log("allList=======",n)}if(t.timeTagKongList.length>0){var d=t.timeTagKongList.join(","),u=t.$createElement;t.$msgbox({title:"配置提醒",message:u("p",null,[u("span",null,"".concat(d)),u("span",null,"标签的属性为空，请确认是否继续?"),u("div",{style:"color: red"},"PS：标签为空代表要圈出该属性为空的人群")]),showCancelButton:!0,confirmButtonText:"继续",cancelButtonText:"取消"}).then((function(){n.length>0?Promise.all(n.map(t.getFormPromise)).then((function(i){var n=i.every((function(e){return!!e}));n?t.fetchSave(a,e):t.$message.error("请输入必填项")})).catch((function(){t.$message.error("请至少设置一个行为标签规则")})):t.fetchSave(a,e)}))}else n.length>0?Promise.all(n.map(t.getFormPromise)).then((function(i){var n=i.every((function(e){return!!e}));n?t.fetchSave(a,e):t.$message.error("请输入必填项")})).catch((function(){t.$message.error("请至少设置一个行为标签规则")})):t.fetchSave(a,e)}}))},getValue:function(e){var t=this;e.forEach((function(e){0===e.child.length||t.getValue(e.child)}))},checkIfChildrenExist:function(e,t){if(null==e.child||0===e.child.length)return e.child.push(t),e;this.checkIfChildrenExist(e.child[0],t)},ReorganizationData:function(e){var t=[],a=e.length;if(a>1)for(var i=a-1;i>-1;i--)t=e[i],e[i-1]&&(t=this.checkIfChildrenExist(e[i-1],t));else t=e,e[0]&&e[0].child&&e[0].child.length>1&&(t[0].child=this.ReorganizationData(e[0].child));return t},fetchSave:function(e,t){var a=this;if(e.rulesJson=e.rulesJson.map((function(e){if(e.versionNum=2,e.tagIds=e.tagIds.join(","),e.rulesJson.rules=e.rulesJson.rules.map((function(e){return e.rules.forEach((function(e){"string"===e.tagType&&"null"===e.operator&&(e.operator="="),"string"===e.tagType&&"null"!==e.operator&&(e.value=e.value.join(","))})),e})),e.rulesJson=JSON.stringify(e.rulesJson),e.behaviorRulesJson=a.putBehaviorRulesJsonTableIndex(e.behaviorRulesJson),e.behaviorRulesJson.rules=e.behaviorRulesJson.rules.map((function(e){return e.rules.forEach((function(e){if("string"===e.tagType&&"null"!==e.operator&&(e.value=e.value.join(",")),e.bav&&e.bav.rang.newValue&&"fixed"===e.bav.rangeType){var t=e.bav.rang.newValue,i=[];t.forEach((function(e){e.value&&e.value.length>0&&i.push({value:e.value})})),e.bav.rang.newValue=i,e.bav.rang.value=t.map((function(e){if(e.value)return e.value})).flat()}if("BAV0016"===e.tagCode||"BAV0012"===e.tagCode||"BAV0011"===e.tagCode){var n=[],r=e.bav.showBehaviorValue,s=JSON.parse(JSON.stringify(e.bav.countValue));r.forEach((function(e){var t=JSON.parse(JSON.stringify(e)),i=a.ReorganizationData(t.child);s.child=i,t.child=[s],n.push(t)})),e.bav.behaviorValue=n}})),e})),e.behaviorRulesJson=JSON.stringify(e.behaviorRulesJson),e.dynamicPolicyJson=JSON.stringify(e.dynamicPolicyJson),e.limitLaunchCount=e.limitLaunch?e.limitLaunchCount:void 0,1===e.blackFlag){var t=e.blackList.map((function(e){return e.value}));e.blacks=t.join(",")}return e})),this.isDynamicPeople){var i=e.rulesJson[0];i.policyId=this.policyId,i.crowdId=this.crowdId,this.crowdId?this.$service.crowdEdit(i,"操作成功").then((function(e){a.$emit("handleDynamicCrowdNextStep",a.policyId,a.policyName,a.crowdId)})):this.$service.crowdSave(i,"操作成功").then((function(e){a.$emit("handleDynamicCrowdNextStep",a.policyId,a.policyName,e.crowdId)}))}else 0===t?this.$service.oneDropSaveCrowd({recordId:this.recordId,data:e.rulesJson},"保存成功").then((function(){a.$emit("handleDirectStrategyListBrother"),a.$emit("resetFormData")})):this.$service.tempCrowds({rulesJson:e.rulesJson,recordId:this.recordId},"保存成功").then((function(e){a.$emit("handleToNextStep",a.recordId,e)}))},handleEdit:function(){var e=this,t=this.recordId;this.$service.getCrowdsDetail(t).then((function(t){var a=t.map((function(e){return e.tagIds=e.tagIds.split(","),e.dynamicPolicyJson=JSON.parse(e.dynamicPolicyJson),e.behaviorRulesJson=JSON.parse(e.behaviorRulesJson),e.rulesJson=JSON.parse(e.rulesJson),e.rulesJson.rules.forEach((function(e){e.rules.forEach((function(e){"string"===e.tagType&&"nil"===e.value&&(e.operator="null"),"string"===e.tagType&&"null"!==e.operator&&"string"===typeof e.value&&(e.value=""===e.value?[]:e.value.split(","))}))})),e.behaviorRulesJson.rules.forEach((function(e){e.rules.forEach((function(e){"string"===e.tagType&&"null"!==e.operator&&"string"===typeof e.value&&(e.value=""===e.value?[]:e.value.split(","))}))})),e.isShowAutoVersion=!1,e.blackFlag=e.blackFlag?e.blackFlag:0,e.blacks=e.blacks?e.blacks:"",e.blackList=[{value:""}],1===e.blackFlag&&(e.blackList=e.blacks.split(",").map((function(e){return{value:e}}))),e}));e.form={rulesJson:a},e.$nextTick((function(){e.$refs.CrowdAdd.hasMoveBehaviorTagRule()}))}))},handleBackPrevStep:function(){this.isDynamicPeople?this.$emit("handleDynamicCrowdPrevStep",this.policyId,this.policyName,this.crowdId):this.$emit("handleBackPrevStep",this.recordId)},checkNum:function(e){var t=parseInt(e);return!!(/(^\d+$)/.test(e)&&t<=9999)||(this.$message.error("该值为必填项，且必须是大于等于0的整数且不能超过4位数"),!1)},getCrowdDetail:function(){var e=this;null!=this.crowdId&&this.$service.crowdEdit({crowdId:this.crowdId}).then((function(t){var a=[t.policyCrowds].map((function(e){var t={};return t.tagIds=e.tagIds.split(","),t.crowdName=e.crowdName,t.dynamicPolicyJson=JSON.parse(e.dynamicPolicyJson),t.behaviorRulesJson=JSON.parse(e.behaviorRulesJson),t.rulesJson=JSON.parse(e.rulesJson),t.rulesJson.rules.forEach((function(e){e.rules.forEach((function(e){"string"===e.tagType&&"nil"===e.value&&(e.operator="null"),"string"===e.tagType&&"null"!==e.operator&&"string"===typeof e.value&&(e.value=""===e.value?[]:e.value.split(","))}))})),t.behaviorRulesJson.rules.forEach((function(e){e.rules.forEach((function(e){"string"===e.tagType&&"null"!==e.operator&&"string"===typeof e.value&&(e.value=""===e.value?[]:e.value.split(","))}))})),t.isShowAutoVersion=!1,t}));e.form={rulesJson:a},console.log("this.form===",e.form),e.$nextTick((function(){e.$refs.CrowdAdd.hasMoveBehaviorTagRule()}))}))}},created:function(){this.isDynamicPeople?this.getCrowdDetail():this.handleEdit(),this.form.rulesJson[0].crowdName=this.isDynamicPeople?"".concat(this.policyName,"(动态人群)"):void 0}},ps=hs,ms=Object(U["a"])(ps,Kr,Qr,!1,null,null,null),fs=ms.exports,vs={name:"CreateCrowd",components:{addMoreCrowd:fs},data:function(){return{brotherRecordId:void 0}},props:["recordId","isDynamicPeople","policyId","policyName","crowdId"],methods:{handleBackPrevStep:function(e){this.isDynamicPeople?this.$emit("dynamicCrowdPrevStep",1,this.policyId,this.policyName):this.$emit("crowdPrevStep",1,e)},handleToNextStep:function(e,t){this.$emit("crowdNextStep",1,e,t)},handleDynamicCrowdPrevStep:function(e,t,a){this.$emit("dynamicCrowdPrevStep",1,e,t,a)},handleDynamicCrowdNextStep:function(e,t,a){this.$emit("dynamicCrowdNextStep",1,e,t,a)},resetFormData:function(){this.$emit("resetFormData")},handleDirectStrategyListBrother:function(){this.$emit("handleDirectStrategyList")}},created:function(){this.brotherRecordId=this.recordId}},gs=vs,bs=Object(U["a"])(gs,Ur,Hr,!1,null,"cf597310",null),ys=bs.exports,Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launchToBusiness"},[a("el-form",{ref:"crowdForm",attrs:{model:e.crowdForm,rules:e.rulesData,"label-width":"100px"}},[e.isDynamicPeople?e._e():a("el-form-item",{attrs:{label:"投放模式",prop:"launchMode"}},[a("el-checkbox",{model:{value:e.crowdForm.launchMode.pull,callback:function(t){e.$set(e.crowdForm.launchMode,"pull",t)},expression:"crowdForm.launchMode.pull"}},[e._v("pull模式（用于主页、产品包、广告、活动、弹窗、媒资）")]),a("el-checkbox",{attrs:{disabled:!!e.policyId},model:{value:e.crowdForm.launchMode.push,callback:function(t){e.$set(e.crowdForm.launchMode,"push",t)},expression:"crowdForm.launchMode.push"}},[e._v("push模式（用于消息、微信）")])],1),e.crowdForm.launchMode.pull?a("div",{staticClass:"border"},[a("div",{staticClass:"tips"},[e._v("投放模式(pull):针对主页、产品包、广告、活动、弹窗、媒资")]),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIdsPull"}},[a("el-select",{attrs:{multiple:""},model:{value:e.crowdForm.biIdsPull,callback:function(t){e.$set(e.crowdForm,"biIdsPull",t)},expression:"crowdForm.biIdsPull"}},e._l(e.Platforms,(function(e,t){return a("el-option",{key:t,attrs:{label:e.biName,value:e.biId}})})),1)],1),a("el-form-item",{attrs:{label:"当前策略"}},[a("el-select",{attrs:{disabled:""},model:{value:e.crowdForm.policyIdsPull,callback:function(t){e.$set(e.crowdForm,"policyIdsPull",t)},expression:"crowdForm.policyIdsPull"}},[a("el-option",{attrs:{label:e.strategyData.policyName,value:e.strategyData.policyId}})],1)],1)],1):e._e(),e.crowdForm.launchMode.push?a("div",{staticClass:"border"},[a("div",{staticClass:"tips"},[e._v("投放模式（push）:针对消息、微信")]),a("el-form-item",{attrs:{label:"投放名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",placeholder:"投放名称"},model:{value:e.crowdForm.launchName,callback:function(t){e.$set(e.crowdForm,"launchName",t)},expression:"crowdForm.launchName"}})],1),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择投放平台"},model:{value:e.crowdForm.biIds,callback:function(t){e.$set(e.crowdForm,"biIds",t)},expression:"crowdForm.biIds"}},e._l(e.launchPlatform,(function(e){return a("el-option",{key:e.biId+"",attrs:{label:e.biName,value:e.biId+""}})})),1)],1),e.crowdForm.biIds.includes("7")?a("el-form-item",{staticClass:"multipleSelect form-width",attrs:{label:"投放应用",prop:"packageName"}},[a("el-select",{attrs:{placeholder:"请选择投放应用",clearable:""},model:{value:e.crowdForm.packageName,callback:function(t){e.$set(e.crowdForm,"packageName",t)},expression:"crowdForm.packageName"}},e._l(e.pushPackageList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.appName,value:e.id}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"数据来源",prop:"dataSource"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.crowdForm.dataSource,expression:"crowdForm.dataSource"}],attrs:{type:"hidden",value:"2"},domProps:{value:e.crowdForm.dataSource},on:{input:function(t){t.target.composing||e.$set(e.crowdForm,"dataSource",t.target.value)}}}),a("el-input",{attrs:{size:"small",readonly:"",value:"大数据"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{size:"small"},model:{value:e.crowdForm.remark,callback:function(t){e.$set(e.crowdForm,"remark",t)},expression:"crowdForm.remark"}})],1),a("el-form-item",{attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{attrs:{filterable:"",disabled:""},on:{change:e.getCrowd,"remove-tag":e.removeTag},model:{value:e.crowdForm.policyIds,callback:function(t){e.$set(e.crowdForm,"policyIds",t)},expression:"crowdForm.policyIds"}},e._l(e.strategyPlatform,(function(t){return a("el-option",{key:t.policyId+"",attrs:{label:t.policyName,value:t.policyId}},[e._v(e._s(t.policyName)+"\n                    ")])})),1)],1),a("el-form-item",{attrs:{label:"选择人群",prop:"policyCrowdIds"}},e._l(e.crowdData,(function(t,i){return a("el-form-item",{key:t.policyId+"_"+i,attrs:{label:t.policyName}},[a("el-checkbox-group",{on:{change:function(t){return e.handelCheckoutGroup(t,i,e.crowdData)}},model:{value:e.crowdForm.policyCrowdIds,callback:function(t){e.$set(e.crowdForm,"policyCrowdIds",t)},expression:"crowdForm.policyCrowdIds"}},e._l(t.childs,(function(i){return a("el-checkbox",{key:i.tempCrowdId+"",attrs:{label:t.policyId+"_"+i.tempCrowdId,disabled:!1===i.canPush||i.isDisabledCrowd}},[e._v("\n                              "+e._s(i.crowdName)+"\n                            ")])})),1),a("span",{staticStyle:{color:"red"}},[e._v("单次仅可投放一个包含行为标签的人群")])],1)})),1),a("el-form-item",{attrs:{label:"每天是否更新",prop:"autoVersion"}},[a("el-select",{model:{value:e.crowdForm.autoVersion,callback:function(t){e.$set(e.crowdForm,"autoVersion",t)},expression:"crowdForm.autoVersion"}},[a("el-option",{attrs:{label:"是",value:1}}),a("el-option",{attrs:{label:"否",value:0}})],1)],1),1===e.crowdForm.autoVersion?a("el-form-item",{attrs:{label:"每天更新时间点",prop:"autoLaunchTime"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss","picker-options":{selectableRange:"9:00:00 - 23:59:59"}},model:{value:e.crowdForm.autoLaunchTime,callback:function(t){e.$set(e.crowdForm,"autoLaunchTime",t)},expression:"crowdForm.autoLaunchTime"}})],1):e._e(),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-checkbox-group",{model:{value:e.crowdForm.calType,callback:function(t){e.$set(e.crowdForm,"calType",t)},expression:"crowdForm.calType"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i,disabled:0==i}},[e._v(e._s(t))])})),1)],1)],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"info"},on:{click:e.handleBackPrevStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.submitForm("crowdForm",!1)}}},[e._v("\n              存稿不投放\n            ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("crowdForm",!0)}}},[e._v("\n              投放\n            ")])],1)],1)],1)},ws=[];function _s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ss(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ks={name:"LaunchToBusinessPlatform",props:["recordId","tempPolicyAndCrowd","routeSource","isDynamicPeople","policyId","crowdId","dynamicMode"],data:function(){return{crowdForm:{biIdsPull:[],policyIdsPull:"",abTest:!1,launchCrowdId:"",launchName:"",biIds:"",remark:"",policyIds:"",policyCrowdIds:[],autoVersion:0,autoLaunchTime:void 0,launchMode:{pull:!0,push:!1},calType:["0"],packageName:""},rulesData:{launchMode:[{required:!0,message:"请至少勾选一个投放模式"}],biIdsPull:[{required:!0,message:"请选择投放平台",trigger:"blur"}],launchName:[{required:!0,message:"请输入投放名称",trigger:"blur"}],biIds:[{required:!0,message:"请选择投放平台",trigger:"blur"}],policyIds:[{required:!0,message:"请选择策略平台",trigger:"blur"}],policyCrowdIds:[{required:!0,message:"请选择人群",trigger:"blur"}],autoLaunchTime:[{required:!0,message:"请选择每天更新时间点",trigger:"blur"}],packageName:[{required:!0,message:"请选择投放应用",trigger:"blur"}]},Platforms:[],strategyData:{policyId:void 0,policyName:""},launchPlatform:[],strategyPlatform:[],effectTimeList:[],crowdData:[],estimateItems:[],pushPackageList:[]}},computed:Ss({},Object(Vr["b"])(["policyName"])),methods:{getPushPackageList:function(){var e=this,t={pageNum:0,pageSize:200};this.$service.getPushPackageList(t).then((function(t){e.pushPackageList=t.rows||[]}))},handelCheckoutGroup:function(e,t,a){var i=this,n=a[t].childs,r=a[t].policyId,s=n.filter((function(t){var a=e.includes(r+"_"+t.tempCrowdId);return a}))||[];0===s.length&&(this.crowdData[t].childs.forEach((function(e){e.isDisabledCrowd=!1})),this.$set(this.crowdData,t,this.crowdData[t]));for(var o=function(){var e=s[l];return e.isBehaviorCrowd?(i.crowdData[t].childs.forEach((function(t){e.tempCrowdId===t.tempCrowdId?t.isDisabledCrowd=!1:t.isDisabledCrowd=!0})),i.$set(i.crowdData,t,i.crowdData[t]),"break"):(i.crowdData[t].childs.forEach((function(e){e.isBehaviorCrowd?e.isDisabledCrowd=!0:e.isDisabledCrowd=!1})),i.$set(i.crowdData,t,i.crowdData[t]),"break")},l=0;l<s.length;l++){var c=o();if("break"===c)break}console.log("this.crowdData==",this.crowdData)},handleGetCurrentPolicy:function(){var e=this;if(this.$service.getAddCrowdData().then((function(t){e.Platforms=t.biLists})),!this.isDynamicPeople){var t=this.tempPolicyAndCrowd;console.log("tempPolicyAndCrowdData===",t);var a={policyId:t.tempPolicy.recordId,policyName:t.tempPolicy.policyName};this.strategyData=a;var i=[],n=i.concat(a);this.strategyPlatform=n,this.crowdForm.policyIdsPull=a.policyId,this.crowdForm.policyIds=a.policyId,t.tempCrowds=t.tempCrowds.map((function(e){var t=!1,a=JSON.parse(e.behaviorRulesJson);return a&&a.rules&&a.rules.length>0&&(t=!0),Ss(Ss({},e),{},{isBehaviorCrowd:t,isDisabledCrowd:!1})}));var r=[],s={policyId:t.tempPolicy.recordId,policyName:t.tempPolicy.policyName,childs:t.tempCrowds};this.crowdData=r.concat(s)}},submitForm:function(e,t){var a=this;this.crowdForm.launchMode.pull||this.crowdForm.launchMode.push?this.$refs[e].validate((function(e){if(!e)return!1;var i=JSON.stringify(a.crowdForm);i=JSON.parse(i),a.crowdForm.launchMode.push&&(i.biIds=i.biIds.join(","),i.calType=i.calType.join(","),i.policyIds=i.policyIds,i.policyCrowdIds=i.policyCrowdIds.map((function(e){return e.split("_")[1]})).join(","));var n={launch:t,pullBiIds:i.biIdsPull,pull:i.launchMode.pull,push:i.launchMode.push,multiVersionCrowd:a.crowdForm.launchMode.push?{autoLaunchTime:i.autoLaunchTime,autoVersion:i.autoVersion,biIds:i.biIds,launchName:i.launchName,policyCrowdIds:i.policyCrowdIds,calType:i.calType,remark:i.remark,packageName:i.packageName}:void 0};if(a.policyId){var r={biIds:i.biIdsPull,policyIds:[a.policyId]};t?a.$service.freshCache({policyId:a.policyId},"同步成功").then((function(){setTimeout((function(){a.$service.saveAddCrowdData(r,"pull投放成功").then((function(e){a.routeSource&&a.$router.push({name:"myPolicy",params:{changeTab:"ToMyLaunch"}}),"edit"===a.dynamicMode?a.$emit("goBackCrowdListPage"):a.$router.push({path:"launch/launchTabList"})}))}),300)})):"edit"===a.dynamicMode?a.$emit("goBackCrowdListPage"):a.$router.push({path:"launch/launchTabList"})}else{var s=E["Loading"].service({fullscreen:!0,text:t?"投放中，请稍候":"保存中，请稍候",background:"rgba(0, 0, 0, 0.5)"});a.$service.oneDropCrowdSaveAndLaunch({recordId:a.recordId,data:n}).then((function(e){e.policyId?a.jumpToRouter(t,e.policyId,s):(s.close(),a.$message.success("投放成功"),a.routeSource?a.$router.push({name:"myPolicy",params:{changeTab:"ToMyLaunch"}}):a.$router.push({path:"launch/launchTabList"}),a.$root.$emit("stratege-list-refresh"),a.$emit("resetFormData"))})).catch((function(e){s.close(),-1===e.message.indexOf("已存在")&&(a.routeSource?a.$router.push({name:"myPolicy",params:{changeTab:"ToMyLaunch"}}):a.$router.push({path:"launch/launchTabList"}),a.$root.$emit("stratege-list-refresh"),a.$emit("resetFormData"))}))}})):this.$message.error("请勾选至少一种投放模式")},jumpToRouter:function(e,t,a){var i=this;e?this.$service.freshCache({policyId:t},"投放成功").then((function(){i.routeSource?(a.close(),i.$router.push({name:"myPolicy",params:{changeTab:"ToMyLaunch"}})):(a.close(),i.$router.push({path:"launch/launchTabList"})),i.$root.$emit("stratege-list-refresh"),i.$emit("resetFormData")})):(a.close(),this.$message.success("保存成功"),this.$emit("handleDirectStrategyList"),this.$emit("resetFormData"))},getCrowdInitList:function(){var e=this;this.$service.addMultiVersionCrowd(0).then((function(t){e.launchPlatform=t.biLists,e.effectTimeList=t.efTime.map((function(e){return{label:e+"天",value:e}}))}))},getCrowd:function(){var e=this,t=this.crowdForm.policyIds;this.$service.getStrategyCrowds({policyIds:t,abTest:this.crowdForm.abTest}).then((function(t){if(e.crowdForm.abTest){var a=[],i=Object.keys(t[0].childs);i.forEach((function(e){a.push({Pid:e,childs:t[0].childs[e]})})),e.crowdData=a}else e.crowdData=t})).catch((function(t){e.$message.error(t)}))},removeTag:function(e){this.crowdForm.policyCrowdIds=this.crowdForm.policyCrowdIds.filter((function(t){if(t.split("_")[0]!=e)return t}))},handleBackPrevStep:function(){this.isDynamicPeople?this.$emit("launchPrevStep",4):this.$emit("launchPrevStep",2)},getCountDataEnum:function(){var e=this;this.$service.getEstimateType().then((function(t){e.estimateItems=t}))}},created:function(){this.isDynamicPeople&&(this.crowdForm.launchMode.push=!1,this.crowdForm.policyIdsPull=this.policyName),this.getCountDataEnum(),this.handleGetCurrentPolicy(),this.getCrowdInitList(),this.getPushPackageList()}},Is=ks,xs=(a("3ddf"),Object(U["a"])(Is,Cs,ws,!1,null,"19150d24",null)),Ts=xs.exports;function Ds(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function $s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ds(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ls={name:"index",components:{createCrowd:ys,LaunchToBusiness:Ts,DynamicPeopleSetting:qr},props:{initPolicyId:{type:[String,Number],default:""},initPolicyName:{type:[String],default:""},initCrowdId:{type:[String,Number],default:void 0},dynamicMode:{type:[String],default:"add"}},computed:$s({},Object(Vr["b"])(["policyName"])),data:function(){return{activeStep:0,recordId:void 0,tempPolicyAndCrowd:{},initTagList:[],routeSource:void 0,peoplePageCheck:!1,isDynamicPeople:!1,programmeId:void 0,reloadFlag:!0,policyId:void 0,crowdId:void 0}},watch:{$route:{handler:function(){var e=this;console.log("this.$route.params.refresh==>",this.$route.params.refresh),this.$route.params.refresh&&(this.initTagList=[],this.reloadFlag=!1,this.resetFormData(),this.$nextTick((function(){e.reloadFlag=!0})))},deep:!0},"$route.params.source":function(e,t){e!=t&&(this.routeSource=e||void 0)}},beforeRouteEnter:function(e,t,a){a((function(e){"strategyList"===t.name&&(e.activeStep=0,a()),a()}))},methods:{handleNextStep:function(e,t){this.activeStep=e,this.recordId=t},handleCrowdNextStep:function(e,t,a){this.activeStep=e,this.recordId=t,this.tempPolicyAndCrowd=a},handleDynamicCrowdNextStep:function(e,t,a,i){this.activeStep=e,this.policyId=t,this.$store.commit("setPolicyName",a),this.crowdId=i},handleDynamicCrowdPrevStep:function(e,t,a,i){this.policyId=t,this.$store.commit("setPolicyName",a),this.crowdId=i,this.$emit("goBackCrowdListPage",!0)},handleCrowdPrevStep:function(e,t){this.activeStep=e-2,this.recordId=t},handleLaunchPrevStep:function(e){this.activeStep=e-2},resetFormData:function(){this.activeStep=0,this.recordId=void 0,this.isDynamicPeople=!1,this.crowdId=void 0,this.policyId=void 0,this.$store.commit("setPolicyId",void 0),this.$store.commit("setPolicyName",void 0)},handleDirectStrategyList:function(){this.$root.$emit("stratege-list-refresh"),this.routeSource?this.$router.push({path:"launch/myPolicy"}):this.$router.push({path:"launch/strategyList"})}},created:function(){this.$route.params.source&&(this.routeSource=this.$route.params.source),this.$store.commit("setEditSchemeConfig",!1),"edit"===this.dynamicMode&&(this.activeStep=0,this.isDynamicPeople=!0,this.policyId=this.initPolicyId,this.$store.commit("setPolicyName",this.initPolicyName),this.crowdId=this.initCrowdId)}},Ns=Ls,Os=(a("385a"),Object(U["a"])(Ns,Jr,Gr,!1,null,"74c659c7",null)),Ps=Os.exports,Es=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[e.reloadFlag?[a("div",{staticStyle:{height:"calc(100vh - 200px)",overflow:"auto"}},[a("div",{},[a("el-steps",{attrs:{active:e.activeStep,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:"第一步：动态方案配置",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第二步：流转方案配置",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第三步：填写实验有效期",icon:"el-icon-edit"}})],1)],1),a("div",[0===e.activeStep?a("step1",{ref:"step1",attrs:{policyId:e.policyId,crowdId:e.crowdId},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,goBackCrowdListPage:function(t){return e.$emit("goBackCrowdListPage",!0)}}}):e._e(),1===e.activeStep?a("step2",{ref:"step2",attrs:{policyId:e.policyId,crowdId:e.crowdId},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,goBackCrowdListPage:function(t){return e.$emit("goBackCrowdListPage",!0)}}}):e._e(),2===e.activeStep?a("step3",{ref:"step3",attrs:{policyId:e.policyId,crowdId:e.crowdId},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,goBackCrowdListPage:function(t){return e.$emit("goBackCrowdListPage",!0)}}}):e._e()],1),0===e.activeStep?a("div",{staticClass:"bottom-wrap"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSaveStep1()}}},[e._v("下一步")]),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("goBackCrowdListPage")}}},[e._v("返回")])],1):e._e(),2===e.activeStep?a("div",{staticClass:"bottom-wrap"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveStep3}},[e._v("完成")]),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.handleCrowdPrevStep(2)}}},[e._v("上一步")])],1):e._e()])]:e._e(),1===e.activeStep?a("div",{staticClass:"bottomBtn"},[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("下一步")]),a("el-button",{staticClass:"btn",attrs:{type:"info"},on:{click:e.handleBackPrevStep}},[e._v("上一步")]),a("el-button",{staticClass:"btn",attrs:{type:"info"},on:{click:function(t){return e.$emit("goBackCrowdListPage")}}},[e._v("返 回")])],1):e._e()],2)},As=[],Fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{color:"red"}}),a("el-form",{ref:"menu",staticClass:"form-class",attrs:{model:e.menu,"label-position":"left","label-width":"130px"}},[a("div",{staticClass:"div-class"},[a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"动态方案: "}},[e._l(e.menu.child,(function(t,i){return a("div",{key:i,staticClass:"filed-row"},[a("el-input",{attrs:{placeholder:"方案名称",clearable:""},model:{value:t.crowdName,callback:function(a){e.$set(t,"crowdName",a)},expression:"field.crowdName"}}),e.menu.child.length>2?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-remove-outline"},on:{click:function(a){return e.handleReduceFiled(t,i,"child")}}}):e._e()],1)})),a("div",{staticClass:"filed-row "},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:e.handleAddFiled}},[e._v("添加")])],1)],2)],1)])],1)},Vs=[];function Rs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function js(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Bs={components:{},props:["policyId","crowdId"],computed:js({},Object(Vr["b"])(["policyName"])),data:function(){return{menu:{policyId:this.policyId,crowdId:this.crowdId,child:[]},focusIndex:-1}},created:function(){this.crowdId&&this.getDynamic2CrowdList()},methods:{getDynamic2CrowdList:function(){var e=this,t={crowdId:this.crowdId};this.$service.getDynamic2CrowdList(t).then((function(t){e.menu.child=t||[]}))},handleAddFiled:function(){this.menu.child.length<32&&this.menu.child.push({crowdName:""})},handleReduceFiled:function(e,t,a){var i=this;if(!e.crowdId)return this.menu[a].splice(t,1);var n={policyId:e.policyId||"",crowdId:e.crowdId||""};this.$service.delDynamic2Crowd(n,"删除成功").then((function(){i.menu[a].splice(t,1)})).catch((function(e){console.log("err===",e);var r=i.menu[a][t].crowdName;i.$confirm("".concat(r," 在").concat(e.message,", 请确认删除"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.$service.delDynamic2CrowdConfirm(n,"删除成功").then((function(){i.menu[a].splice(t,1)}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))}))},isValidate:function(){var e=new RegExp("^[1-9]([0-9])*$"),t=this.menu.child.every((function(e){var a=!!e.crowdName;return t&&a})),a=this.menu.controlGroup.every((function(t){var a=e.test(t.flowNum),i=!!t.crowdName;return a&&i})),i=t&&a;return i||this.$message({showClose:!0,message:"请将表单填写完整",type:"error"}),i},handleSave:function(){var e=this;this.$service.addDynamic2Crowd(this.menu,"操作成功").then((function(t){e.$emit("crowdNextStep",1,e.recordId)}))}}},Ms=Bs,zs=(a("18ab"),Object(U["a"])(Ms,Fs,Vs,!1,null,"3aece62c",null)),qs=zs.exports,Js=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-class",attrs:{id:"step2"}},[a("div",{staticClass:"top"},[e.allGroupList.length>0?a("el-tabs",{staticStyle:{width:"calc(100% - 112px)"},attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.groupCheckIndex,callback:function(t){e.groupCheckIndex=t},expression:"groupCheckIndex"}},e._l(e.allGroupList,(function(e,t){return a("el-tab-pane",{key:e.id,attrs:{label:e.name,name:String(t)}})})),1):e._e(),a("el-button",{staticClass:"addGroupBtn",staticStyle:{position:"absolute",right:"0",top:"17px"},attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.addGroup}},[e._v("\n        添加分组\n      ")])],1),e.allGroupList.length>0?a("div",[a("div",{staticStyle:{position:"absolute",top:"102px","z-index":"999"}},[1!==e.radioType?a("span",{staticClass:"inputArrow"}):e._e(),3===e.radioType?[a("el-button",{staticStyle:{display:"inline-block","vertical-align":"23px"},attrs:{type:"text"},on:{click:e.handleChangeBigArithmetic}},[e._v("\n            "+e._s(e.condition[this.bigArithmetic])+"\n            ")]),1==Number(this.bigArithmetic)?a("el-select",{staticStyle:{width:"100px",display:"inline-block","vertical-align":"23px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:e.currentGroup.exitCrowd,callback:function(t){e.$set(e.currentGroup,"exitCrowd",t)},expression:"currentGroup.exitCrowd"}},e._l(e.crowdOptions,(function(e){return a("el-option",{key:e.crowdId,attrs:{label:e.crowdName,value:e.crowdId}})})),1):e._e()]:e._e()],2),a("div",{staticClass:"circulationModeName"},[4===e.radioType?a("span",[e._v("不流转")]):a("span",[e._v(e._s(e.getCirculationMode(e.radioType))+"流转")]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分组占比",placement:"top-start"}},[a("div",{staticClass:"flowNum"},[a("el-input",{attrs:{placeholder:"占比"},model:{value:e.currentGroup.flowNum,callback:function(t){e.$set(e.currentGroup,"flowNum",t)},expression:"currentGroup.flowNum"}}),a("span",{staticStyle:{"margin-left":"8px"}},[e._v("%")])],1)]),5===e.radioType?a("span",{staticClass:"openLoopStyle"},[e._v("\n          开启循环\n          "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.currentGroup.openLoop,callback:function(t){e.$set(e.currentGroup,"openLoop",t)},expression:"currentGroup.openLoop"}})],1):e._e()],1),6===e.radioType?a("div",{staticClass:"aaa"},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.storySetting}},[e._v("配置故事运营")])],1):a("div",{staticStyle:{position:"relative"}},[e.currentGraphData.allCrowd&&e.currentGraphData.allCrowd.length>0?a("antv-graph",{attrs:{type:e.radioType,currentGraphData:e.currentGraphData}}):e._e()],1)]):a("div",[a("el-empty",{attrs:{description:"暂无分组，请添加"}})],1),a("el-dialog",{attrs:{title:"新建分组",visible:e.dialogFormVisible,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"groupForm",staticClass:"addGroupForm",attrs:{model:e.form,rules:e.rules,"label-width":e.formLabelWidth}},[a("el-form-item",{attrs:{label:"流转方式：",required:""}},[a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{prop:"mainArithmetic"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分组算法",placement:"top-start"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.mainArithmetic,callback:function(t){e.$set(e.form,"mainArithmetic",t)},expression:"form.mainArithmetic"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1),a("el-form-item",{attrs:{label:"分组名称：",required:""}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{clearable:"",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"36px"},attrs:{label:"选择方案：",required:""}},[4===e.form.mainArithmetic?[a("el-select",{attrs:{placeholder:"请选择方案"},model:{value:e.form.cid,callback:function(t){e.$set(e.form,"cid",t)},expression:"form.cid"}},e._l(e.smallCrowdList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}},[e._v("\n                  "+e._s(t.id)+" - "+e._s(t.label)+"\n                ")])})),1)]:[e.dialogFormVisible?a("DragSortMultiSelect",{attrs:{data:e.smallCrowdList},model:{value:e.form.cid,callback:function(t){e.$set(e.form,"cid",t)},expression:"form.cid"}}):e._e()]],2),a("el-form-item",{attrs:{label:"分组占比：",required:"",prop:"flowNum"}},[a("el-input",{staticStyle:{margin:"0 10px 0 0"},attrs:{clearable:"",autocomplete:"off"},model:{value:e.form.flowNum,callback:function(t){e.$set(e.form,"flowNum",t)},expression:"form.flowNum"}}),e._v("%\n        ")],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveGroup}},[e._v("确 定")])],1)],1)],1)},Gs=[],Us=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"g6"}},[a("G6Editor",{attrs:{mode:"edit",data:e.flowChartData,height:e.height,width:e.width}})],1)},Hs=[],Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"mountNode",attrs:{id:"mountNode"}},[a("div",{staticClass:"editor"},[a("toolbar"),a("div",{staticClass:"bottom-container"},[a("minimap"),a("page",{attrs:{height:e.height,width:e.width,data:e.data}})],1)],1),a("Flow")],1)},Qs=[],Ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toolbar"},[a("link",{attrs:{rel:"stylesheet",type:"text/css",href:"//at.alicdn.com/t/font_598462_3xve1872wizzolxr.css"}}),a("i",{staticClass:"command iconfont icon-undo",class:e.undoList.length>0?"":"disable",attrs:{title:"撤销"},on:{click:e.handleUndo}}),a("i",{staticClass:"command iconfont icon-redo",class:e.redoList.length>0?"":"disable",attrs:{title:"重做"},on:{click:e.handleRedo}}),a("span",{staticClass:"separator"}),a("i",{staticClass:"command iconfont icon-zoom-in-o",attrs:{"data-command":"zoomIn",title:"放大"},on:{click:e.handleZoomIn}}),a("i",{staticClass:"command iconfont icon-zoom-out-o",attrs:{"data-command":"zoomOut",title:"缩小"},on:{click:e.handleZoomOut}}),a("i",{staticClass:"command iconfont icon-fit",attrs:{"data-command":"autoZoom",title:"适应画布"},on:{click:e.handleAutoZoom}}),a("i",{staticClass:"command iconfont icon-actual-size-o",attrs:{"data-command":"resetZoom",title:"实际尺寸"},on:{click:e.handleResetZoom}}),a("span",{staticClass:"separator"}),a("div",{staticStyle:{float:"right",margin:"0 20px 0 0"}},[a("el-radio-group",{on:{change:e.handleChangeView},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),1)],1)])},Ys=[],Zs=new L["default"],Xs=a("1bb5"),eo=a.n(Xs),to=(a("4245"),a("2593"),a("98dc")),ao=a.n(to),io=(a("8103"),function(e,t,a,i){var n=e+a<e?e+a:e,r=e+a>e?e+a:e,s=t+i<t?t+i:t,o=t+i>t?t+i:t;return{x1:n,x2:r,y1:s,y2:o}}),no={data:function(){return{value:"",options:[{label:"环形视图",value:0},{label:"线形视图",value:1}],page:{},graph:{},redoList:[],undoList:[],editor:null,command:null,selectedItem:null,multiSelect:!1,addGroup:!1}},props:{height:{type:Number,default:0},width:{type:Number,default:0}},created:function(){this.init(),this.bindEvent()},watch:{selectedItem:function(e){e&&e.length>1?this.addGroup=!0:this.addGroup=!1}},methods:{handleChangeView:function(e){var t=document.getElementById("graph-container").scrollWidth,a=document.getElementById("graph-container").scrollHeight||500;0===e?this.graph.updateLayout({type:"circular",preventOverlap:!0,clockwise:!1}):1===e?this.graph.updateLayout({type:"grid",begin:[20,20],width:t-20,height:a-20}):(this.graph.updateLayout({type:""}),this.graph.layout())},test:function(){},init:function(){var e=this.$parent,t=e.editor,a=e.command;this.editor=t,this.command=a},bindEvent:function(){var e=this,t=this;Zs.$on("afterAddPage",(function(e){t.page=e,t.graph=t.page.graph})),Zs.$on("add",(function(t){e.redoList=t.redoList,e.undoList=t.undoList})),Zs.$on("update",(function(t){e.redoList=t.redoList,e.undoList=t.undoList})),Zs.$on("delete",(function(t){e.redoList=t.redoList,e.undoList=t.undoList})),Zs.$on("updateItem",(function(t){e.command.executeCommand("update",[t])})),Zs.$on("addItem",(function(t){e.command.executeCommand("add",[t])})),Zs.$on("nodeselectchange",(function(){var t;e.selectedItem=[],e.selectedItem=(t=e.selectedItem).concat.apply(t,Object(N["a"])(e.graph.findAllByState("edge","selected")))})),Zs.$on("deleteItem",(function(){e.handleDelete()})),Zs.$on("muliteSelectEnd",(function(){e.multiSelect=!1,e.selectedItem=e.graph.findAllByState("node","selected")}))},handleUndo:function(){this.undoList.length>0&&this.command.undo()},handleRedo:function(){this.redoList.length>0&&this.command.redo()},handleDelete:function(){this.selectedItem&&this.selectedItem.length>0&&(this.command.executeCommand("delete",this.selectedItem),this.selectedItem=null)},getFormatPadding:function(){return eo.a.formatPadding(this.graph.get("fitViewPadding"))},getViewCenter:function(){var e=this.getFormatPadding(),t=this.graph,a=this.graph.get("width"),i=t.get("height");return{x:(a-e[2]-e[3])/2+e[3],y:(i-e[0]-e[2])/2+e[0]}},handleZoomIn:function(){var e=this.graph.getZoom();this.graph.zoomTo(e+.5,this.getViewCenter())},handleZoomOut:function(){var e=this.graph.getZoom();this.graph.zoomTo(e-.5,this.getViewCenter())},handleToBack:function(){var e=this;this.selectedItem&&this.selectedItem.length>0&&this.selectedItem.forEach((function(t){t.toBack(),e.graph.paint()}))},handleToFront:function(){var e=this;this.selectedItem&&this.selectedItem.length>0&&this.selectedItem.forEach((function(t){"edge"===t.getType()||t.toFront(),e.graph.paint()}))},handleAutoZoom:function(){this.graph.fitView()},handleResetZoom:function(){this.graph.zoomTo(1,this.getViewCenter())},handleMuiltSelect:function(){this.multiSelect=!0,this.graph.setMode("mulitSelect")},handleAddGroup:function(){},getPosition:function(e){var t,a,i,n,r=[];e.forEach((function(e){var t=e.getBBox();r.push(io(t.x,t.y,t.width,t.height))})),r.forEach((function(e){"undefined"===typeof t&&(t=e.x1),"undefined"===typeof a&&(a=e.y1),"undefined"===typeof i&&(i=e.x2),"undefined"===typeof n&&(n=e.y2),t>e.x1&&(t=e.x1),a>e.y1&&(a=e.y1),i<e.x2&&(i=e.x2),n<e.y2&&(n=e.y2)}));var s=i-t,o=n-a,l=t+s/2,c=a+o/2,d="team"+ao()(),u={id:d,width:s,height:o,x:l,y:c,shape:"teamNode"};this.command.executeCommand("add",u)},consoleData:function(){console.log("this.graph===",this.graph),console.log(this.graph.save())}}},ro=no,so=(a("2931"),Object(U["a"])(ro,Ws,Ys,!1,null,"e6e5cbb6",null)),oo=so.exports,lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"navigator"}},[a("div",{staticClass:"pannel-title"},[e._v("导航器")]),a("div",{ref:"minimap",staticClass:"minimap",attrs:{id:"minimap"}})])},co=[],uo=a("027f"),ho=a.n(uo);function po(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function mo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?po(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):po(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fo={data:function(){return{minimap:null,graph:null}},created:function(){this.bindEvent()},mounted:function(){var e=this;this.$nextTick((function(){e.initMinmap()}))},methods:{initMinmap:function(){var e={container:"minimap"};this.minimap=new ho.a(mo({},e))},bindEvent:function(){var e=this;Zs.$on("afterAddPage",(function(t){e.graph=t.graph,e.bindPage()}))},bindPage:function(){this.minimap&&this.graph&&this.graph.addPlugin(this.minimap)}}},vo=fo,go=(a("f259"),Object(U["a"])(vo,lo,co,!1,null,"bc559068",null)),bo=go.exports,yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"graph-container",staticStyle:{position:"relative"},attrs:{id:e.pageId}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!!e.currentNode,expression:"!!currentNode"}],staticClass:"hover_con",style:e.positionStyle},[e._v("\n    "+e._s(e.currentNode)+"\n  ")]),e.dialogVisible?a("el-dialog",{staticClass:"setCirculation",attrs:{title:"设置动态流转条件",visible:e.dialogVisible,width:"900px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("SetCirculationConditionsCom",{attrs:{crowdId:e.crowdId,graph:e.graph},on:{handleCancel:function(t){e.dialogVisible=!1},handleSave:e.handleSave}})],1):e._e(),e.entryDialogVisible?a("el-dialog",{attrs:{title:"设置进入条件",visible:e.entryDialogVisible,width:"800px"},on:{"update:visible":function(t){e.entryDialogVisible=t}}},[a("SetEntryConditionsCom",{attrs:{crowdId:e.crowdId,graph:e.graph},on:{handleCancel:function(t){e.entryDialogVisible=!1},handleSave:e.handleSaveEntryCondition}})],1):e._e()],1)},Co=[],wo=a("07cd"),_o=a.n(wo),So={getEvents:function(){return{"node:mouseover":"onMouseover","node:mouseleave":"onMouseleave","node:mousedown":"onMousedown"}},onMouseover:function(e){var t=this,a=e.item,i=t.graph,n=a.getContainer();"hoverTitleName"===e.target.get("className")&&Zs.$emit("handleHoverTitleName",{target:a,select:!0,event:e}),(e.target._attrs.isOutPointOut||e.target._attrs.isOutPoint)&&(n.find((function(t){(t._attrs.isInPoint||t._attrs.isOutPoint)&&t.attr("fill","#fff"),t._attrs.isOutPoint&&(t._attrs.id===e.target._attrs.parent&&n.find((function(e){e._attrs.id===t._attrs.id&&(e.attr("fill","#1890ff"),e.attr("opacity",1))})),t._attrs.id===e.target._attrs.id&&(t.attr("fill","#1890ff"),t.attr("opacity",1)))})),e.target.attr("cursor","crosshair"),this.graph.paint()),a.hasState("selected")||(t.shouldUpdate.call(t,e)&&i.setItemState(a,"hover",!0),i.paint())},onMouseleave:function(e){var t=this,a=e.item,i=t.graph,n=a.getContainer();Zs.$emit("handleHoverTitleName",{onMouseleave:!0}),n.find((function(e){(e._attrs.isInPoint||e._attrs.isOutPoint)&&e.attr("fill","#fff")})),t.shouldUpdate.call(t,e)&&(a.hasState("selected")||i.setItemState(a,"hover",!1)),i.paint()},onMousedown:function(e){e.target._attrs.isOutPoint||e.target._attrs.isOutPointOut?this.graph.setMode("addEdge"):this.graph.setMode("moveNode")}},ko=null,Io=null,xo={},To=null,Do=null,$o={getEvents:function(){return{mousemove:"onMousemove",mouseup:"onMouseup","node:mouseover":"onMouseover","node:mouseleave":"onMouseleave"}},onMouseup:function(e){var t=e.item;if(t&&"node"===t.getType()){var a=t.getContainer();if(e.target._attrs.isInPoint){var i=a._cfg.children;i.map((function(t){t._attrs.isInPointOut&&t._attrs.parent===e.target._attrs.id&&(To=t)})),Do=e.target}else if(e.target._attrs.isInPointOut){To=e.target;var n=a._cfg.children;n.map((function(t){t._attrs.isInPoint&&t._attrs.id===e.target._attrs.parent&&(Do=t)}))}if(To){var r=parseInt(Do._attrs.x),s=parseInt(Do._attrs.y);if(xo={x:r,y:s},this.edge){this.graph.removeItem(this.edge);var o={id:"edge"+ao()(),source:Io,target:t,sourceId:Io._cfg.id,targetId:t._cfg.id,start:ko,end:xo,shape:"customEdge",type:"edge"};Zs.$emit("addItem",o)}}else this.edge&&this.graph.removeItem(this.edge)}else this.edge&&this.graph.removeItem(this.edge);this.graph.find("node",(function(e){var t=e.get("group"),a=t._cfg.children;a.map((function(e){e._attrs.isInPointOut&&e.attr("opacity","0"),e._attrs.isInPoint&&e.attr("opacity","0"),e._attrs.isOutPoint&&(e.attr("opacity","0"),e.attr("fill","#fff"))}))})),Io&&this.graph.setItemState(Io,"hover",!1),this.graph.paint(),ko=null,Io=null,xo={},To=null,Do=null,this.graph.setMode("default")},onMousemove:function(e){var t=e.item;if(ko){var a={x:e.x,y:e.y};this.edge&&this.graph.updateItem(this.edge,{start:ko,target:a})}else{this.graph.find("node",(function(e){var t=e.get("group"),a=t._cfg.children;a.map((function(e){e._attrs.isInPointOut&&e.attr("opacity","0.3"),e._attrs.isInPoint&&e.attr("opacity","1")}))}));var i=parseInt(e.target._attrs.x),n=parseInt(e.target._attrs.y);ko={x:i,y:n},Io=t,this.edge=this.graph.addItem("edge",{source:t,target:t,start:ko,end:ko,shape:"link-edge"})}},onMouseover:function(e){var t=e.item;t&&"node"===t.getType()&&(e.target._attrs.isInPointOut&&!this.hasTran&&(this.hasTran=!0,e.target.transform([["t",0,3],["s",1.2,1.2]])),this.graph.paint())},onMouseleave:function(){this.graph.find("node",(function(e){var t=e.get("group"),a=t._cfg.children;a.map((function(e){e._attrs.isInPointOut&&e.resetMatrix()}))})),this.hasTran=!1,this.graph.paint()}};function Lo(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=No(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function No(e,t){if(e){if("string"===typeof e)return Oo(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Oo(e,t):void 0}}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function Po(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Eo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Po(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ao={fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},Fo=document.body,Vo={isDrag:!1,nodeEvent:null,getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{}}},getEvents:function(){return{"node:mousedown":"onMousedown",mousemove:"onMousemove",mouseup:"onMouseup","canvas:mouseleave":"onOutOfRange"}},getNode:function(e){var t=this;if(this.shouldBegin.call(this,e)){this.isDrag=!0,this.nodeEvent=e;var a=e.item,i=this.graph;this.targets=[];var n=i.findAllByState("node","selected"),r=a.get("id"),s=n.filter((function(e){var t=e.get("id");return r===t}));0===s.length?this.target=a:n.length>1?n.forEach((function(e){t.targets.push(e)})):this.targets.push(a),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}},onMousemove:function(e){this.origin||this.getNode(e),this.isDrag&&this.get("shouldUpdate").call(this,e)&&(this.targets&&this.targets.length>0?this._updateDelegate(e,this.nodeEvent):this._update(this.target,e,this.nodeEvent,!0))},onMouseup:function(e){var t=this;if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var a=this.target.get("delegateShape");a&&(a.remove(),this.target.set("delegateShape",null))}if(this.targets&&this.targets.length>0)this.targets.forEach((function(a){return t._update(a,e)}));else if(this.target){var i=this.origin,n=this.target.get("model"),r=this.target.get("id");this.point[r]||(this.point[r]={x:n.x,y:n.y});var s=e.x-i.x+this.point[r].x,o=e.y-i.y+this.point[r].y,l={};l.item=this.target,l.oldModel=this.origin,l.newModel={x:s,y:o},Zs.$emit("updateItem",l)}this.point={},this.origin=null,this.originPoint={},this.targets&&(this.targets.length=0),this.target=null;var c=this.fn;c&&(Fo.removeEventListener("mouseup",c,!1),this.fn=null),this.isDrag=!1,this.nodeEvent=null,this.graph.setMode("default")},onOutOfRange:function(e){var t=this;if(this.origin){var a=t.graph.get("canvas").get("el"),i=function(i){i.target!==a&&t.onDragEnd(e)};this.fn=i,Fo.addEventListener("mouseup",i,!1)}},_update:function(e,t,a,i){var n=this.origin,r=e.get("model"),s=e.get("id");this.point[s]||(this.point[s]={x:r.x,y:r.y});var o=t.x-n.x+this.point[s].x,l=t.y-n.y+this.point[s].y;if(i)this._updateDelegate(t,a,o,l);else{var c={x:o,y:l};this.get("updateEdge")?this.graph.updateItem(e,c):(e.updatePosition(c),this.graph.paint())}},_updateDelegate:function(e,t,a,i){var n=t.item.get("keyShape").getBBox();if(!this.shape){var r=this.graph.get("group"),s=Object(nt["merge"])({},Ao,this.delegateStyle);if(this.targets.length>0){var o=this.calculationGroupPosition(),l=o.x,c=o.y,d=o.width,u=o.height,h=o.minX,p=o.minY;this.originPoint={x:l,y:c,width:d,height:u,minX:h,minY:p},this.shape=r.addShape("rect",{attrs:Eo({width:d,height:u,x:l,y:c},s)})}else this.target&&(this.shape=r.addShape("rect",{attrs:Eo({width:n.width,height:n.height,x:a-n.width/2,y:i-n.height/2},s)}),this.target.set("delegateShape",this.shape));this.shape.set("capture",!1)}if(this.targets.length>0){var m=e.x-this.origin.x+this.originPoint.minX,f=e.y-this.origin.y+this.originPoint.minY;this.shape.attr({x:m,y:f})}else this.target&&this.shape.attr({x:a-n.width/2,y:i-n.height/2});this.graph.paint()},calculationGroupPosition:function(){var e,t=this.graph,a=t.findAllByState("node","selected"),i=[],n=[],r=[],s=[],o=Lo(a);try{for(o.s();!(e=o.n()).done;){var l=e.value,c=Object(nt["isString"])(l)?t.findById(l):l,d=c.getBBox(),u=d.minX,h=d.minY,p=d.maxX,m=d.maxY;i.push(u),r.push(h),n.push(p),s.push(m)}}catch(S){o.e(S)}finally{o.f()}var f=Math.floor(Math.min.apply(Math,i)),v=Math.floor(Math.max.apply(Math,n)),g=Math.floor(Math.min.apply(Math,r)),b=Math.floor(Math.max.apply(Math,s)),y=f-20,C=g+10,w=v-f,_=b-g;return{x:y,y:C,width:w,height:_,minX:f,minY:g}}},Ro={getDefaultCfg:function(){return{multiple:!0,keyCode:16}},getEvents:function(){return{"node:click":"onClick","canvas:click":"onCanvasClick","canvas:mouseover":"onCanvasMouseover",keyup:"onKeyUp",keydown:"onKeyDown",click:"onGraphClick"}},onGraphClick:function(e){var t=e,a=self.graph;console.log("item===",t),console.log("shape===",a)},onClick:function(e){var t=e.item,a=e.target;if("handleCirculationConditions"===a.get("className"))Zs.$emit("nodeSettingRule",{target:t,select:!0});else if("handleClickEntryConditions"===a.get("className"))Zs.$emit("nodeSettingEntry",{target:t,select:!0});else if("changeArithmeticType"===a.get("className"))Zs.$emit("changeArithmeticType",{target:t,select:!0});else if("changeWeight"===a.get("className"))Zs.$emit("changeWeight",{target:t,select:!0});else{var i=this,n=e.item,r=i.graph,s=r.get("autoPaint");r.setAutoPaint(!1);var o=r.findAllByState("edge","selected");if(eo.a.each(o,(function(e){r.setItemState(e,"selected",!1)})),!i.keydown||!i.multiple){var l=r.findAllByState("node","selected");eo.a.each(l,(function(e){e!==n&&r.setItemState(e,"selected",!1)}))}n.hasState("selected")?(i.shouldUpdate.call(i,e)&&r.setItemState(n,"selected",!1),Zs.$emit("nodeselectchange",{target:n,select:!1})):(i.shouldUpdate.call(i,e)&&r.setItemState(n,"selected",!0),Zs.$emit("nodeselectchange",{target:n,select:!0})),r.setAutoPaint(s),r.paint()}},onCanvasClick:function(){var e=this.graph,t=e.get("autoPaint");e.setAutoPaint(!1);var a=e.findAllByState("node","selected");eo.a.each(a,(function(t){e.setItemState(t,"selected",!1),Zs.$emit("nodeselectchange",{target:t,select:!1})}));var i=e.findAllByState("edge","selected");eo.a.each(i,(function(t){e.setItemState(t,"selected",!1),Zs.$emit("nodeselectchange",{target:t,select:!1})})),e.paint(),e.setAutoPaint(t)},onCanvasMouseover:function(){var e=this.graph;e.paint()},onKeyDown:function(e){var t=e.keyCode||e.which;t===this.keyCode?this.keydown=!0:this.keydown=!1},onKeyUp:function(){this.keydown=!1}},jo={getEvents:function(){return{"edge:mouseover":"onMouseover","edge:mouseleave":"onMouseleave","edge:click":"onClick"}},onMouseover:function(e){var t=this,a=e.item,i=t.graph;a.hasState("selected")||(t.shouldUpdate.call(t,e)&&i.setItemState(a,"hover",!0),i.paint())},onMouseleave:function(e){var t=this,a=e.item,i=t.graph,n=a.getContainer();n.find((function(e){(e._attrs.isInPoint||e._attrs.isOutPoint)&&e.attr("fill","#fff")})),t.shouldUpdate.call(t,e)&&(a.hasState("selected")||i.setItemState(a,"hover",!1)),i.paint()},onClick:function(e){var t=this,a=e.item,i=t.graph,n=i.get("autoPaint");i.setAutoPaint(!1);var r=i.findAllByState("node","selected");if(eo.a.each(r,(function(e){i.setItemState(e,"selected",!1)})),!t.keydown||!t.multiple){var s=i.findAllByState("edge","selected");eo.a.each(s,(function(e){e!==a&&i.setItemState(e,"selected",!1)}))}a.hasState("selected")?(t.shouldUpdate.call(t,e)&&i.setItemState(a,"selected",!1),Zs.$emit("nodeselectchange",{target:a,select:!1})):(t.shouldUpdate.call(t,e)&&i.setItemState(a,"selected",!0),Zs.$emit("nodeselectchange",{target:a,select:!0})),i.setAutoPaint(n),i.paint()}},Bo={getDefaultCfg:function(){return{backKeyCode:8,deleteKeyCode:46}},getEvents:function(){return{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.keyCode||e.which;switch(t){case this.deleteKeyCode:case this.backKeyCode:Zs.$emit("deleteItem");break}},onKeyUp:function(){this.keydown=!1}},Mo={version:"0.0.1-beat",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",groupContainerClassName:"group-container",defaultNode:{shape:"circle",style:{fill:"#fff"},size:40,color:"#333"},defaultEdge:{shape:"line",style:{},size:1,color:"#333"},nodeLabel:{style:{fill:"#595959",textAlign:"center",textBaseline:"middle"},offset:5},edgeLabel:{style:{fill:"#595959",textAlign:"center",textBaseline:"middle"}},nodeStateStyle:{active:{fillOpacity:.8},selected:{lineWidth:2}},edgeStateStyle:{active:{strokeOpacity:.8},selected:{lineWidth:2}},loopPosition:"top",delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}};function zo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function qo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jo={getDefaultCfg:function(){return{}},getEvents:function(){return{"canvas:mouseenter":"onCanvasMouseenter","canvas:mousedown":"onCanvasMousedown",mousemove:"onMousemove",mouseup:"onMouseup"}},onCanvasMouseenter:function(){var e=document.getElementById("graph-container").children[0];e.style.cursor="crosshair"},onCanvasMousedown:function(e){var t=Mo.delegateStyle,a=0,i=0,n=e.x,r=e.y,s=this.graph.get("group");this.shape=s.addShape("rect",{attrs:qo({id:"rect"+ao()(),width:a,height:i,x:n,y:r},t)})},onMousemove:function(e){if(this.shape){var t=e.x-this.shape._attrs.x,a=e.y-this.shape._attrs.y;this.shape.attr({width:t,height:a}),this.graph.paint()}},onMouseup:function(){var e=this,t=document.getElementById("graph-container").children[0];t.style.cursor="default";var a=this.graph.findAllByState("node","selected");eo.a.each(a,(function(t){e.graph.setItemState(t,"selected",!1),Zs.$emit("nodeselectchange",{target:t,select:!1})})),this.shape&&(this.addTeam(),this.shape.remove(),this.shape=null),this.graph.paint(),Zs.$emit("muliteSelectEnd"),this.graph.setMode("default")},addTeam:function(){var e=this,t=this.shape._attrs,a=t.x,i=t.y,n=t.width,r=t.height,s=io(a,i,n,r),o=s.x1,l=s.y1,c=s.x2,d=s.y2;this.graph.findAll("node",(function(t){var a=t.getBBox(),i=a.x,n=a.y,r=a.width,s=a.height,u=io(i,n,r,s);c>=u.x1&&u.x1>=o&&c>=u.x2&&u.x2>=o&&d>=u.y1&&u.y1>=l&&d>=u.y2&&u.y2>=l&&e.graph.setItemState(t,"selected",!0)}))}},Go={getEvents:function(){return{"node:contextmenu":"onContextmenu",mousedown:"onMousedown","canvas:click":"onCanvasClick"}},onContextmenu:function(e){Zs.$emit("contextmenuClick",e)},onMousedown:function(e){Zs.$emit("mousedown",e)},onCanvasClick:function(e){Zs.$emit("canvasClick",e)}},Uo={"hover-node":So,"add-edge":$o,"drag-item":Vo,"select-node":Ro,"hover-edge":jo,keyboard:Bo,"mulit-select":Jo,"add-menu":Go};function Ho(){for(var e in Uo)_o.a.registerBehavior(e,Uo[e])}var Ko=a("3820"),Qo=a.n(Ko),Wo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",attrs:{model:e.rulesJson}},[e.tags&&e.tags.length>0?a("div",{staticClass:"label-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.rulesJson.rules.length>1,expression:"rulesJson.rules.length > 1"}],key:e.i+"or",staticClass:"label-or-space",style:{"border-color":"AND"===e.rulesJson.condition?"#67c23a":"#e6a23c"}},[a("el-button",{key:"button2_"+e.i,attrs:{type:"AND"===e.rulesJson.condition?"success":"warning",round:""},on:{click:function(t){return e.handleRulesConditionChange(e.rulesJson)}}},[e._v("\n          "+e._s("AND"===e.rulesJson.condition?"且":"或")+"\n        ")])],1),e._l(e.rulesJson.rules,(function(t,i){return[a("div",{key:i,staticClass:"label-ground"},[a("div",{staticClass:"tag-condition--parent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rules.length>1,expression:"item.rules.length > 1"}],staticClass:"tag-condition",style:{"border-color":"AND"===t.condition?"#67c23a":"#e6a23c"}},[a("el-button",{key:"button"+i+"_"+e.i,attrs:{type:"AND"===t.condition?"success":"warning",round:"",size:"small"},on:{click:function(a){return e.handleRulesConditionChange(t)}}},[e._v("\n                "+e._s("AND"===t.condition?"且":"或")+"\n              ")])],1),e._l(t.rules,(function(n,r){return a("div",{key:"tagId"+r,class:{"label-item":!0,paddingTop:r>0}},[a("span",{staticClass:"txt"},[e._v(e._s(n.tagName))]),a("RuleCom",{staticClass:"rule-wrap",attrs:{childItem:n,index:i,n:r}}),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])],1)})),a("div",{staticClass:"label-add"},[a("div",{staticClass:"optional-condition"},e._l(e.tags,(function(i){return a("el-tag",{key:i.tagItem,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[i.labelType]},nativeOn:{click:function(a){return e.handleAddChildRule(t,i)}}},[e._v(e._s(i.tagName))])})),1)])],2)])]})),a("div",{staticClass:"label-or"},[e.tags.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.rulesJson.rules.length>0?"10px":0}},e._l(e.tags,(function(t){return a("el-tag",{key:t.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[t.labelType]},nativeOn:{click:function(a){return e.handleAddRule(t)}}},[e._v(e._s(t.tagName)+"\n          ")])})),1):e._e()])],2):e._e(),e.crowdId?[a("el-checkbox",{staticStyle:{"margin-bottom":"30px"},model:{value:e.applyAll,callback:function(t){e.applyAll=t},expression:"applyAll"}},[e._v("应用全部人群")]),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"warning"},on:{click:e.handleCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")])],1)]:e._e()],2)},Yo=[];function Zo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Xo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var el={props:["isDynamicPeople","crowdId","graph","dynamicMode","allCrowdRule","storyLineCirculationRulesJson"],provide:function(){return{_this:this}},data:function(){return{dataSourceColorEnum:{0:"",1:"success"},tags:[],rulesJson:{condition:"OR",rules:[]},i:0,crowdRule:{},policyId:"",applyAll:!1,initRulesJson:{},soureceSignList:[]}},watch:{crowdId:{handler:function(e){this.init()}},storyLineCirculationRulesJson:{handler:function(e){this.rulesJson=e},immediate:!0},rulesJson:{handler:function(e){this.$emit("update:storyLineCirculationRulesJson",e)},deep:!0}},created:function(){var e=this;this.$service.getRuleIndicators().then((function(t){e.tags=t})),this.$service.getSourceSign().then((function(t){e.soureceSignList=t}))},mounted:function(){this.init()},methods:{handleSave:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.initRulesJson=JSON.parse(JSON.stringify(e.rulesJson)),e.$emit("handleSave",{rulesJson:e.rulesJson,policyId:e.policyId,applyAll:e.applyAll}))}))},handleCancel:function(){this.rulesJson=JSON.parse(JSON.stringify(this.initRulesJson)),this.$emit("handleCancel")},init:function(){var e=this;if(this.crowdId){var t=this.graph.save(),a=t.nodes.find((function(t){return Number(t.crowdId)===Number(e.crowdId)}));this.policyId=a.policyId||"",this.applyAll=1===a.applyAll,a.dynamicJson?(this.initRulesJson=JSON.parse(a.dynamicJson),this.rulesJson=JSON.parse(a.dynamicJson),console.log("res===",this.rulesJson)):this.rulesJson={condition:"OR",rules:[]}}},handleAddRule:function(e){this.rulesJson.rules.push({condition:"AND",rules:[Xo(Xo({},e),{},{operator:">",sourceSign:"",value:"",tagCode:""})]})},handleAddChildRule:function(e,t){e.rules.push(Xo(Xo({},t),{},{operator:">",sourceSign:"",value:"",tagCode:""}))},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},handleRemoveRule:function(e,t){var a=this.rulesJson;e.rules.splice(e.rules.indexOf(t),1),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleBackPrevStep:function(){this.$emit("crowdPrevStep",3,this.recordId)},resetFormData:function(){this.$emit("resetFormData")},handleDirectStrategyListBrother:function(){this.$emit("handleDirectStrategyList")}},components:{RuleCom:di}},tl=el,al=(a("cf1f"),Object(U["a"])(tl,Wo,Yo,!1,null,"231bd46b",null)),il=al.exports,nl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticClass:"row-title",attrs:{span:4}},[e._v("\n    选择入口标签：\n    ")]),a("el-col",{attrs:{span:20}},[a("el-select",{staticClass:"input-inline",attrs:{name:"oxve",multiple:!0},on:{change:e.handleSelectModelGroup},model:{value:e.selectModelGroupValue,callback:function(t){e.selectModelGroupValue=t},expression:"selectModelGroupValue"}},[e._l(e.dataList,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.tagName}})}))],2)],1)],1),a("el-row",[a("el-col",{staticClass:"row-title",attrs:{span:4}},[e._v("\n    设置进入条件：\n    ")]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"label-container"},[e.tags&&e.tags.length>0?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.rulesJson.rules.length>1,expression:"rulesJson.rules.length > 1"}],key:e.i+"or",staticClass:"label-or-space",style:{"border-color":"AND"===e.rulesJson.condition?"#67c23a":"#e6a23c"}},[a("el-button",{key:"button2_"+e.i,attrs:{type:"AND"===e.rulesJson.condition?"success":"warning",round:""},on:{click:function(t){return e.handleRulesConditionChange(e.rulesJson)}}},[e._v("\n            "+e._s("AND"===e.rulesJson.condition?"且":"或")+"\n          ")])],1),e._l(e.rulesJson.rules,(function(t,i){return[a("div",{key:i,staticClass:"label-ground"},[a("div",{staticClass:"tag-condition--parent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rules.length>1,expression:"item.rules.length > 1"}],staticClass:"tag-condition",style:{"border-color":"AND"===t.condition?"#67c23a":"#e6a23c"}},[a("el-button",{key:"button"+i+"_"+e.i,attrs:{type:"AND"===t.condition?"success":"warning",round:"",size:"small"},on:{click:function(a){return e.handleRulesConditionChange(t)}}},[e._v("\n                  "+e._s("AND"===t.condition?"且":"或")+"\n                ")])],1),e._l(t.rules,(function(i,n){return a("div",{key:"tagId"+n,class:{"label-item":!0,paddingTop:n>0}},[a("span",{staticClass:"txt"},[e._v(e._s(i.tagName))]),a("span",{staticClass:"sel"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},model:{value:i.operator,callback:function(t){e.$set(i,"operator",t)},expression:"childItem.operator"}},[[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"否"}})]],2)],1),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveRule(t,i)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])])})),a("div",{staticClass:"label-add"},[a("div",{staticClass:"optional-condition"},e._l(e.tags,(function(i){return a("el-tag",{key:i.tagItem,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[i.dataSource]},nativeOn:{click:function(a){return e.handleAddChildRule(t,i)}}},[e._v(e._s(i.tagName))])})),1)])],2)])]})),a("div",{staticClass:"label-or"},[e.tags.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.rulesJson.rules.length>0?"10px":0}},e._l(e.tags,(function(t){return a("el-tag",{key:t.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[t.dataSource]},nativeOn:{click:function(a){return e.handleAddRule(t)}}},[e._v(e._s(t.tagName)+"\n            ")])})),1):e._e()])],2):e._e()])]),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"warning"},on:{click:e.handleCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")])],1)],1)],1)},rl=[];a("4f7f");function sl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ol(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ll={props:["isDynamicPeople","crowdId","graph","dynamicMode","allCrowdRule"],data:function(){return{tags:[],rulesJson:{condition:"OR",rules:[]},i:0,crowdRule:{},policyId:"",applyAll:!1,initRulesJson:{},selectModelGroupValue:[],filter:{pageNum:1,pageSize:100,condition:""},dataList:[],tagIds:[]}},computed:{dataSourceColorEnum:function(){return ya}},watch:{crowdId:{handler:function(e){this.init()}}},created:function(){},mounted:function(){this.fetchData(),this.init()},methods:{handleSelectModelGroup:function(e){this.fetchTagData()},fetchData:function(){var e=this,t=this.filter;this.$service.searchModelTag(t).then((function(t){var a=t;e.dataList=a.list.map((function(e){return ol(ol({},e),{},{tagId:e.id})}))||[]}))},fetchTagData:function(){var e=this,t=this.selectModelGroupValue.join(",");this.$service.getModelTag({modelTagIds:t}).then((function(t){e.tags=t.list||[]}))},handleSave:function(){var e=this.rulesJson.rules.map((function(e){var t=e.rules;return e.rules=t.map((function(e){return ol(ol({},e),{},{value:e.tagVersion})})),e}));this.rulesJson.rules=e,this.tagIds=Object(N["a"])(new Set(this.tagIds)),this.initRulesJson=JSON.parse(JSON.stringify(this.rulesJson)),this.$emit("handleSave",{enterCondition:this.rulesJson,selectModelGroupValue:this.selectModelGroupValue,tagIds:this.tagIds})},handleCancel:function(){this.rulesJson=JSON.parse(JSON.stringify(this.initRulesJson)),this.$emit("handleCancel")},init:function(){var e=this;if(this.crowdId){var t=this.graph.save(),a=t.nodes.find((function(t){return Number(t.crowdId)===Number(e.crowdId)}));this.policyId=a.policyId||"",a.selectModelGroupValue?(this.selectModelGroupValue=a.selectModelGroupValue,this.fetchTagData()):this.selectModelGroupValue=[],a.enterCondition?(this.initRulesJson=JSON.parse(a.enterCondition),this.rulesJson=JSON.parse(a.enterCondition),console.log("res===",this.rulesJson)):this.rulesJson={condition:"OR",rules:[]},a.tagIds&&(this.tagIds=a.tagIds)}},handleAddRule:function(e){this.rulesJson.rules.push({condition:"AND",rules:[ol(ol({},e),{},{operator:"=",value:""})]}),this.tagIds.push(e.tagId)},handleAddChildRule:function(e,t){e.rules.push(ol(ol({},t),{},{operator:"=",value:""})),this.tagIds.push(t.tagId)},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},handleRemoveRule:function(e,t){var a=this.rulesJson;e.rules.splice(e.rules.indexOf(t),1),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleBackPrevStep:function(){this.$emit("crowdPrevStep",3,this.recordId)},resetFormData:function(){this.$emit("resetFormData")},handleDirectStrategyListBrother:function(){this.$emit("handleDirectStrategyList")}}},cl=ll,dl=(a("ccf3"),Object(U["a"])(cl,nl,rl,!1,null,"e0fb831c",null)),ul=dl.exports;function hl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function pl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ml={components:{SetCirculationConditionsCom:il,SetEntryConditionsCom:ul},data:function(){return{pageId:"graph-container",graph:null,dialogVisible:!1,crowdId:void 0,allCrowdRule:[],currentTarget:null,entryDialogVisible:!1,currentNode:"",popUpShow:!1,positionStyle:{top:"0px",left:"0px"}}},props:{height:{type:Number,default:0},width:{type:Number,default:0},data:{type:Object,default:function(){}}},created:function(){Ho()},mounted:function(){var e=this;this.$nextTick((function(){e.init()})),this.bindEvent(),window.addEventListener("resize",this.debounce((function(){var t=document.getElementsByClassName("el-main")[0].offsetWidth-50,a=document.documentElement.clientHeight-225;e.graph.changeSize(t,a)}),300))},methods:{debounce:function(e,t){var a=null,i=null,n=null;function r(){n=+new Date,n-a<t?i=setTimeout(r,t):(e(),i=null),a=n}return function(){a=+new Date,i||(i=setTimeout(r,t))}},handleSaveEntryCondition:function(e){var t={selectModelGroupValue:e.selectModelGroupValue,enterCondition:JSON.stringify(e.enterCondition),tagIds:e.tagIds},a={selectModelGroupValue:t.selectModelGroupValue,enterCondition:t.enterCondition,tagIds:t.tagIds};this.graph.update(this.currentTarget,a),this.entryDialogVisible=!1},handleSave:function(e){var t={policyId:e.policyId,crowdId:this.crowdId,dynamicJson:JSON.stringify(e.rulesJson),applyAll:e.applyAll?1:0};if(t.applyAll){var a=this.graph.save(),i=a.nodes,n=i.map((function(e){return pl(pl({},e),{},{dynamicJson:t.dynamicJson,applyAll:t.applyAll})})),r=pl(pl({},a),{},{nodes:n});this.graph.read(r)}else{var s={dynamicJson:t.dynamicJson,applyAll:t.applyAll};this.graph.update(this.currentTarget,s)}this.dialogVisible=!1},init:function(){var e=this.height-42,t=this.width;this.graph=new _o.a.Graph({container:"graph-container",height:e,width:t,fitCenter:!0,fitViewPadding:[20,40,50,20],modes:{default:["drag-canvas","zoom-canvas","hover-node","select-node","hover-edge","keyboard","customer-events","add-menu"],mulitSelect:["mulit-select"],addEdge:["add-edge"],moveNode:["drag-item"]}}),this.graph.updateLayout({type:"grid",begin:[20,20],width:t-20,height:e-20});var a=this.$parent,i=a.editor,n=a.command;i.emit("afterAddPage",{graph:this.graph,command:n}),i.on("changeNodeData"),this.readData()},readData:function(){var e=this.data;e&&this.graph.read(e)},bindEvent:function(){var e=this,t=this;Zs.$on("afterAddPage",(function(a){t.page=a,t.graph=t.page.graph,t.grid=new Qo.a,console.log("_this.graph==========>",t.graph),t.graph.addPlugin(t.grid),Zs.$on("nodeselectchange",(function(e){!0===e.select&&"node"===e.target.getType()?(t.status="node-selected",t.item=e.target,t.node=e.target.getModel()):(t.status="canvas-selected",t.item=null,t.node=null)})),Zs.$on("nodeSettingRule",(function(a){var i=a.target.getModel();t.crowdId=i.id,t.currentTarget=a.target,e.$nextTick((function(){t.dialogVisible=!0}))})),Zs.$on("nodeSettingEntry",(function(a){var i=a.target.getModel();t.crowdId=i.id,t.currentTarget=a.target,e.$nextTick((function(){t.entryDialogVisible=!0}))})),Zs.$on("changeArithmeticType",(function(t){var a,i=t.target.getModel();i.arithmetic?1==i.arithmetic?a=2:2==i.arithmetic?a=3:3==i.arithmetic&&(a=1):a=3,console.log("changeArithmeticType=====",i);var n={arithmetic:a};e.graph.update(t.target,n)})),Zs.$on("changeWeight",(function(a){var i=a.target.getModel();t.$prompt("请输入权重（权重越大，比重越高）","",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[+]{0,1}(\d+)$/,inputErrorMessage:"只能输入正整数",inputValue:i.weight||0,closeOnClickModal:!1}).then((function(t){var i=t.value,n={weight:i};e.graph.update(a.target,n)})).catch((function(){t.$message({type:"info",message:"取消输入"})}))})),Zs.$on("handleHoverTitleName",(function(e){if(e.onMouseleave)return t.currentNode="",void(t.positionStyle={top:"0px",left:"0px"});var a=e.target.getModel();t.currentNode=a.crowdName;var i=e.event.clientX-300+"px",n=e.event.clientY-300+"px";t.positionStyle={top:n,left:i}}))}))}}},fl=ml,vl=(a("0e82"),Object(U["a"])(fl,yo,Co,!1,null,"7c30f218",null)),gl=vl.exports,bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},yl=[];a("a481");function Cl(e,t){if(2*e.length<=t)return e;for(var a=0,i="",n=0;n<e.length;n++)if(i+=e.charAt(n),e.charCodeAt(n)>128){if(a+=2,a>=t)return i.substring(0,i.length-1)+"..."}else if(a+=1,a>=t)return i.substring(0,i.length-2)+"...";return i}var wl={init:function(){_o.a.registerNode("customNode",{draw:function(e,t){var i=[230,45],n=parseInt(i[0]),r=parseInt(i[1]),s=e.color,o=-n/2,l=-r/2,c="rect"+ao()(),d=t.addShape("rect",{attrs:{id:c,x:o,y:l,width:n,height:r,stroke:"#ced4d9",fill:"#fff",radius:20}});if(2===e.mainType||3===e.mainType){var u=t.addShape("text",{attrs:{x:-n/2,y:l+r+20,cursor:"pointer",label:"aaaaa",text:"权重："+e.weight,fill:s}});u.set("className","changeWeight")}t.addShape("text",{attrs:{x:n/2-60,y:l+r+20,cursor:"pointer",label:"aaaaa",text:"id:  ".concat(e.id),fill:s}});var h=t.addShape("rect",{attrs:{x:n/2-58,y:r/2-43,text:"流转条件",width:56,height:40,fill:"#FFF",parent:c,cursor:"pointer",radius:20}});t.addShape("image",{attrs:{x:n/2-72,y:-12,img:a("fd98"),width:20,height:20}});var p=t.addShape("text",{attrs:{x:n/2-50,y:l+r/2,textBaseline:"middle",parent:c,text:"流转条件",cursor:"pointer",fill:"#409EFF"}}),m=t.addShape("image",{attrs:{x:n/2-72,y:-12,img:a("fd98"),width:20,height:20}});if(h.set("className","handleCirculationConditions"),p.set("className","handleCirculationConditions"),m.set("className","handleCirculationConditions"),5===e.mainType){var f=t.addShape("text",{attrs:{x:-(n/2+50),y:l+r/2,textBaseline:"middle",parent:c,text:"入口条件",fill:s||"#409EFF"}});f.set("className","handleClickEntryConditions")}if(0===e.crowdIndex&&1===e.mainType&&t.addShape("image",{attrs:{x:o-60,y:-30,img:a("16cf"),width:63,height:60}}),t.addShape("rect",{attrs:{x:o,y:l,width:45,height:r,fill:s,parent:c,radius:[20,0,0,20]}}),t.addShape("image",{attrs:{x:o+8,y:l+5,width:30,height:30,img:a("d160")}}),e.label){var v=e.label;v=v.replace(/[^\x00-\xff]/g,"$&").replace(/.{14}\x01?/g,"$&\n").replace(/\x01/g,""),v.length>14&&(v=Cl(v,28));var g=t.addShape("text",{attrs:{id:"label"+ao()(),x:o+n/2-70,y:l+r/2-12,textAlign:"middle",textBaseline:"top",text:v,parent:c,fill:"#333",fontSize:v.length>10?12:14,lineWidth:50,width:50}});g.set("className","hoverTitleName")}if(e.inPoints)for(var b=0;b<e.inPoints.length;b++){var y=void 0,C=0;C=0===e.inPoints[b][0]?0:r,y=n*e.inPoints[b][1];var w="circle"+ao()();t.addShape("circle",{attrs:{id:"circle"+ao()(),parent:w,x:y+o,y:C+l,r:10,isInPointOut:!0,fill:"#1890ff",opacity:0}}),t.addShape("circle",{attrs:{id:w,x:y+o,y:C+l,r:3,isInPoint:!0,fill:"#fff",stroke:"#1890ff",opacity:0}})}if(e.outPoints)for(var _=0;_<e.outPoints.length;_++){var S=void 0,k=0;k=0===e.outPoints[_][0]?0:r,S=n*e.outPoints[_][1];var I="circle"+ao()();t.addShape("circle",{attrs:{id:"circle"+ao()(),parent:I,x:S+o,y:k+l,r:10,isOutPointOut:!0,fill:"#1890ff",opacity:0}}),t.addShape("circle",{attrs:{id:I,x:S+o,y:k+l,r:3,isOutPoint:!0,fill:"#fff",stroke:"#1890ff",opacity:0}})}return d},setState:function(e,t,a){var i=a.getContainer(),n=i.get("children")[0],r=i.findAll((function(e){return e._attrs.parent===n._attrs.id})),s=i.findAll((function(e){return e._attrs.isInPoint||e._attrs.isOutPoint})),o=function(){n.attr("fill","#f3f9ff"),n.attr("stroke","#6ab7ff"),n.attr("cursor","move"),r.forEach((function(e){e.attr("cursor","move")})),s.forEach((function(e){e.attr("opacity",1)}))},l=function(){n.attr("fill","#fff"),n.attr("stroke","#ced4d9"),s.forEach((function(e){e.attr("opacity",0)}))};switch(e){case"selected":case"hover":t?o():l();break}}})}},_l=wl,Sl=3,kl={init:function(){var e=[[0,1],[0,2],[1,2],[0,1,1,2],[0,2,1,2],[1,2,1,2],[2,2,1,2],[3,2,1,2],[4,2,1,2]],t=[4,2,1,2],a=9;_o.a.registerEdge("customEdge",{labelAutoRotate:!0,draw:function(e,t){var a,i,n,r;"string"===typeof e.source&&(e.source=e.sourceNode),e.start={x:0,y:22},e.end={x:0,y:-22},e.source.x?n=e.source:(a=e.source.getModel(),n={x:a.x+e.start.x,y:a.y+e.start.y}),"string"===typeof e.target&&(e.target=e.targetNode),e.target.x?r=e.target:(i=e.target.getModel(),r={x:i.x+e.end.x,y:i.y+e.end.y});var s=[],o=Math.abs(r.x-n.x);s=(r.x,n.x,[["M",n.x,n.y],["C",n.x,n.y+o/(o/50),r.x,r.y-o/(o/50),r.x,r.y-4],["L",r.x,r.y]]);var l=6;l=l>Sl?l:Sl;var c=8*l/3,d=5*l/3,u=[["M",-c,d],["L",0,0],["L",-c,-d],["L",-8,0],["Z"]],h=t.addShape("path",{attrs:{id:"edge"+ao()(),path:s,stroke:"#b8c3ce",lineAppendWidth:20,lineWidth:2,endArrow:{path:u}}});return h},afterDraw:function(i,n){if(i.source.getModel().isDoingStart&&i.target.getModel().isDoingEnd){for(var r=n.get("children")[0],s=r.getTotalLength(),o=[],l=0;l<s;l+=a)o=o.concat(t);var c=0;r.animate({onFrame:function(){var t={lineDash:e[c].concat(o)};return c=(c+1)%a,t},repeat:!0},3e3)}},setState:function(e,t,a){var i=a.getContainer(),n=i.get("children")[0],r=function(){n.attr("stroke","#6ab7ff")},s=function(){n.attr("stroke","#b8c3ce")};switch(e){case"selected":case"hover":t?r():s();break}}}),_o.a.registerEdge("link-edge",{draw:function(e,t){var a,i,n,r;e.source.x?n=e.source:(a=e.source.getModel(),n={x:a.x+e.start.x,y:a.y+e.start.y}),e.target.x?r=e.target:(i=e.target.getModel(),r={x:i.x+e.end.x,y:i.y+e.end.y});var s=[];s=[["M",n.x,n.y],["L",r.x,r.y]];var o=t.addShape("path",{attrs:{id:"edge"+ao()(),path:s,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}});return o}})}},Il=kl,xl={name:"Flow",data:function(){return{page:null}},created:function(){this.init()},methods:{init:function(){_l.init(),Il.init()}}},Tl=xl,Dl=Object(U["a"])(Tl,bl,yl,!1,null,null,null),$l=Dl.exports,Ll=function(){function e(){Object(ue["a"])(this,e),this.id=ao()()}return Object(he["a"])(e,[{key:"getGrpah",value:function(){return this.graph}},{key:"emit",value:function(e,t){"afterAddPage"===e&&(this.graph=t.graph),Zs.$emit(e,t)}},{key:"on",value:function(e){switch(e){case"changeNodeData":this.graph.refresh();break}}},{key:"add",value:function(e,t){this.graph.add(e,t)}},{key:"update",value:function(e,t){this.graph.update(e,t)}},{key:"remove",value:function(e){var t=this.graph.findById(e.id);this.graph.remove(t)}}]),e}(),Nl=function(){function e(t){Object(ue["a"])(this,e),Object(it["a"])(this,"editor",null),Object(it["a"])(this,"undoList",[]),Object(it["a"])(this,"redoList",[]),this.editor=t}return Object(he["a"])(e,[{key:"executeCommand",value:function(e,t){var a=this,i=[];t.map((function(t){var n=t;if("add"===e&&(n.id=t.type+ao()()),"delete"===e)if("node"===t.getType()){var r=t.getEdges();n=t.getModel(),n.type=t.getType(),n.id=t.get("id"),r.forEach((function(e){var t=e.getModel();t.type="edge",t.id=e.get("id"),i.push(t)}))}else"edge"===t.getType()&&(n=t.getModel(),n.type=t.getType(),n.id=t.get("id"));i.push(n),a.doCommand(e,n)})),this.undoList.push({key:e,datas:i}),"delete"===e&&(this.redoList=[]),this.editor.emit(e,{undoList:this.undoList,redoList:this.redoList})}},{key:"doCommand",value:function(e,t){switch(e){case"add":this.add(t.type,t);break;case"update":this.update(t.item,t.newModel);break;case"delete":this.remove(t);break}}},{key:"add",value:function(e,t){this.editor.add(e,t)}},{key:"update",value:function(e,t){this.editor.update(e,t)}},{key:"remove",value:function(e){this.editor.remove(e)}},{key:"undo",value:function(){for(var e=this.undoList.pop(),t=[],a=[],i=0;i<e.datas.length;i++){var n=e.datas[i];"edge"!==n.type?(a.push(n),this.doundo(e.key,n)):t.push(n)}for(var r=0;r<t.length;r++){var s=t[r];s.source.destroyed&&(s.source=s.sourceId),s.target.destroyed&&(s.target=s.targetId),a.push(s),this.doundo(e.key,s)}this.redoList.push({key:e.key,datas:a}),this.editor.emit(e.key,{undoList:this.undoList,redoList:this.redoList})}},{key:"doundo",value:function(e,t){switch(e){case"add":this.remove(t);break;case"update":this.update(t.item,t.oldModel);break;case"delete":this.add(t.type,t);break}}},{key:"redo",value:function(){for(var e=this.redoList.pop(),t=[],a=[],i=0;i<e.datas.length;i++){var n=e.datas[i];"edge"!==n.type?(t.push(n),this.doredo(e.key,n)):a.push(n)}for(var r=0;r<a.length;r++){var s=a[r];s.source.destroyed&&(s.source=s.sourceId),s.target.destroyed&&(s.target=s.targetId),t.push(s),this.doredo(e.key,s)}this.undoList.push({key:e.key,datas:t}),this.editor.emit(e.key,{undoList:this.undoList,redoList:this.redoList})}},{key:"doredo",value:function(e,t){switch(e){case"add":this.add(t.type,t);break;case"update":this.update(t.item,t.newModel);break;case"delete":this.remove(t);break}}},{key:"delete",value:function(e){this.executeCommand("delete",[e])}}]),e}(),Ol=Nl,Pl={name:"G6Editor",components:{Toolbar:oo,Minimap:bo,Page:gl,Flow:$l},props:{height:{type:Number,default:document.documentElement.clientHeight},width:{type:Number,default:document.documentElement.clientWidth-20},data:{type:Object,default:function(){}}},data:function(){return{editor:{},command:null}},created:function(){this.init()},methods:{init:function(){this.editor=new Ll,this.command=new Ol(this.editor)}}},El=Pl,Al=(a("5e3d"),Object(U["a"])(El,Ks,Qs,!1,null,"09a1c5ea",null)),Fl=Al.exports;function Vl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Rl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jl=function(){function e(t,a,i,n){Object(ue["a"])(this,e),this.type=t,this.crowdList=a,this.commonObj=i,this.height=n}return Object(he["a"])(e,[{key:"initEdges",value:function(){var e=this.type,t=[],a=this.crowdList,i={shape:"customEdge",type:"edge"};return 0!==e&&1!==e||(a.reduce((function(e,a){return t.push(Rl(Rl({},i),{},{source:e.crowdId.toString(),target:a.crowdId.toString(),sourceId:e.crowdId.toString(),targetId:a.crowdId.toString()})),a}),a[0]),t.shift()),1===e&&t.push(Rl(Rl({},i),{},{label:"权重",source:a[a.length-1].crowdId.toString(),target:a[0].crowdId.toString(),sourceId:a[a.length-1].crowdId.toString(),targetId:a[0].crowdId.toString()})),t}},{key:"initDefaultNodes",value:function(){var e=this,t=this.crowdList,a=this.commonObj,i=this.height;3===this.type?(a.inPoints=[[0,.5]],a.outPoints=[[1,.5]]):(a.inPoints=void 0,a.outPoints=void 0),this.X=-200,this.Y=i/2;var n=t.map((function(t,i){var n=e.X+=300,r=e.Y+=1,s=Rl(Rl(Rl({},a),t),{},{x:n,y:r,name:t.crowdName,label:t.crowdName,id:t.crowdId.toString(),arithmetic:null,weight:null,mainType:e.type,crowdIndex:i});return 3===e.type&&(s.arithmetic=t.arithmetic?t.arithmetic:2,s.weight=t.weight),s}));return n}},{key:"initRandomNodes",value:function(){var e=this,t=this.crowdList,a=this.commonObj;3===this.type?(a.inPoints=[[0,.5]],a.outPoints=[[1,.5]]):(a.inPoints=void 0,a.outPoints=void 0);var i=t.map((function(t,i){var n=e.returnStyle(i),r=n.left,s=n.top;return Rl(Rl(Rl({},a),t),{},{x:r,y:s,name:t.crowdName,label:t.crowdName,id:t.crowdId.toString(),arithmetic:null,mainType:e.type})}));return i}},{key:"returnStyle",value:function(e){var t={radius:200,avd:0,ahd:0,dotLeft:635,dotTop:235},a=this.crowdList.length;t.avd=360/a,t.ahd=t.avd*Math.PI/180;var i=t.ahd,n=t.radius,r=t.dotLeft,s=t.dotTop,o=Math.sin(i*e)*n+r,l=Math.cos(i*e)*n+s;return{left:o,top:l}}}]),e}(),Bl=jl,Ml={name:"app",components:{G6Editor:Fl},data:function(){return{width:0,flowChartData:{},Y:-50,X:0,graph:null,crowdList:[],commonObj:{size:[150,40],type:"node",shape:"customNode",color:"#1890ff"}}},props:{type:{type:Number,default:0},currentGraphData:{type:Object,default:function(){}}},watch:{currentGraphData:{handler:function(){if(this.crowdList=this.currentGraphData.allCrowd||{},0!==this.crowdList.length){if(this.currentGraphData.flowChart)this.flowChartData=JSON.parse(this.currentGraphData.flowChart);else{var e=new Bl(this.type,this.crowdList,this.commonObj,this.height);this.flowChartData.nodes=[],this.flowChartData.edges=[],3===this.type?(this.flowChartData.nodes=e.initDefaultNodes(),this.flowChartData.edges=[]):2===this.type?(this.flowChartData.nodes=e.initRandomNodes(),this.flowChartData.edges=[]):(this.flowChartData.nodes=e.initDefaultNodes(),this.flowChartData.edges=e.initEdges())}this.readData()}},deep:!0,immediate:!0}},computed:{height:function(){return document.documentElement.clientHeight-225}},created:function(){var e=this;Zs.$on("afterAddPage",(function(t){e.graph=t.graph}))},mounted:function(){this.width=document.getElementsByClassName("el-main")[0].offsetWidth-40},methods:{readData:function(){var e=this.flowChartData;e&&this.graph&&this.graph.refresh(e),this.graph&&(this.graph.refresh(),this.graph.read(e))}}},zl=Ml,ql=(a("cffd"),Object(U["a"])(zl,Us,Hs,!1,null,"5a3b8d8a",null)),Jl=ql.exports,Gl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"demo"},[a("el-transfer",{attrs:{filterable:"",data:e.data,"filter-method":e.filterMethod,"target-order":"push",titles:["待选方案","已选方案"],props:{key:"id",label:"label"},"left-default-checked":e.hasCheckedWHLeftData,"right-default-checked":e.hasCheckedWHRightData},on:{"left-check-change":e.handleWHLeftChange,"right-check-change":e.handleWHRightChange},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.option;return a("span",{},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.label,placement:"top-start"}},[a("div",[e._v(e._s(i.id)+" - "+e._s(i.label))])]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"拖拽移动顺序",placement:"top-start"}},[e.returnIconShow(i.id)?a("i",{staticClass:"el-icon-s-operation"}):e._e()])],1)}}]),model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),a("div",{staticClass:"tip"},[e._v("提示：已选方案的顺序决定了顺序流转、循环流转的顺序")])],1)},Ul=[],Hl=a("aa47"),Kl={name:"DragSortMultiSelect",props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}}},watch:{value:function(e){this.selectValue=e},selectValue:function(e){this.$emit("input",e)}},data:function(){return{selectValue:[],filterMethod:function(e,t){var a=e.replace("/*/g",".*"),i=new RegExp(a);return i.test(t.label)},shiftKey:!1,firstWHLeftLocation:-1,lastWHLeftLocation:-1,hasCheckedWHLeftData:[],firstWHRightLocation:-1,lastWHRightLocation:-1,hasCheckedWHRightData:[]}},mounted:function(){var e=this;window.addEventListener("keydown",(function(t){16===t.keyCode&&t.shiftKey&&(e.shiftKey=!0)})),window.addEventListener("keyup",(function(t){e.shiftKey=!1}));var t=document.querySelector(".el-transfer").querySelectorAll(".el-checkbox-group")[1];new Hl["a"](t,{forceFallback:!1,onUpdate:function(t){var a=e.$el.querySelector(".el-transfer").querySelectorAll(".el-checkbox-group")[1],i=e.$el.querySelector(".el-transfer").querySelectorAll(".el-checkbox-group")[1].childNodes.length;if(console.log(i,t.newIndex),!(t.newIndex>=i)){var n=t.newIndex,r=t.oldIndex,s=a.children[n],o=a.children[r];a.removeChild(s),n<r?a.insertBefore(s,o):a.insertBefore(s,o.nextSibling);var l=e.value.splice(r,1);e.value.splice(n,0,l[0])}}})},methods:{returnIconShow:function(e){return this.selectValue.includes(e)},handleWHLeftChange:function(e,t){var a=this;console.log(a.hasCheckedWHLeftData),a.hasCheckedWHLeftData=a.commonChangeFuc(e,t,a.hasCheckedWHLeftData,a.firstWHLeftLocation,a.lastWHLeftLocation,a.data,"id"),console.log(a.hasCheckedWHLeftData)},handleWHRightChange:function(e,t){var a=this;console.log(a.hasCheckedWHRightData),a.hasCheckedWHRightData=a.commonChangeFuc(e,t,a.hasCheckedWHRightData,a.firstWHRightLocation,a.lastWHRightLocation,a.value,!1),console.log(a.hasCheckedWHRightData)},commonChangeFuc:function(e,t,a,i,n,r,s){for(var o=this,l=!1,c=0;c<e.length;c++)e[c]==t[0]&&(l=!0);if(l){if(1==e.length)i=0,a.push(e[0]);else if(e.length>1){if(o.shiftKey){for(var d=0;d<r.length;d++){var u=s?r[d][s]:r[d];u==e[e.length-2]&&(i=d),u==t[0]&&(n=d)}if(-1!=i&&-1!=n)if(i<n)for(var h=0;h<r.length;h++){var p=s?r[h][s]:r[h];h>=i&&h<=n&&a.push(p)}else if(i>n)for(h=0;h<r.length;h++)h>=n&&h<=i&&a.push(item)}else a.push(t[0])}}else{a=[];for(c=0;c<e.length;c++)e[c]!=t[0]&&a.push(e[c])}return a=new Set(a),a=Array.from(a),a}}},Ql=Kl,Wl=(a("5e81"),Object(U["a"])(Ql,Gl,Ul,!1,null,"29f8dff1",null)),Yl=Wl.exports;function Zl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Xl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ec={components:{antvGraph:Jl,DragSortMultiSelect:Yl},props:["policyId","crowdId"],inject:["crowdIndexThis"],data:function(){return{initDynamicGroupId:this.crowdIndexThis.dynamicGroupId,groupCheckIndex:void 0,radioType:0,tags:[],rulesJson:{condition:"OR",rules:[]},i:0,showGraph:!0,currentGraphData:{flowChart:null,allCrowd:[]},graph:void 0,condition:{1:"定向",2:"随机",3:"终止"},bigArithmetic:"",exitCrowd:"",crowdOptions:[],dialogFormVisible:!1,form:{name:"",policyId:this.policyId,crowdId:this.crowdId,mainArithmetic:"",cid:[],flowNum:""},rules:{name:[{required:!0,message:"请输入分组名称",trigger:"blur"}],mainArithmetic:[{required:!0,message:"请选择流转算法",trigger:"change"}],cid:[{required:!0,message:"请至少选择一个方案",trigger:"change"}],flowNum:[{required:!0,message:"请输入分组占比",trigger:"blur"}]},formLabelWidth:"120px",options:[{value:6,label:"故事线"},{value:0,label:"顺序"},{value:1,label:"循环"},{value:2,label:"随机"},{value:3,label:"自定义"},{value:4,label:"不流转"},{value:5,label:"智能"}],smallCrowdList:[],allGroupList:[],currentGroup:{},commonObj:{size:[150,40],type:"node",shape:"customNode",color:"#1890ff"}}},watch:{"form.mainArithmetic":function(e,t){4===e?this.form.cid="":4===t&&(this.form.cid=[])},groupCheckIndex:{handler:function(e,t){if(this.allGroupList.length>0){var a=this.getChartJson();a&&this.allGroupList[t]&&(this.allGroupList[t].flowChart=a||null),this.setGroupData(e)}},immediate:!0}},computed:{height:function(){return document.documentElement.clientHeight-225},dataSourceColorEnum:function(){return ya}},created:function(){this.bindEvent(),this.getDynamic2CrowdList(),this.getDynamic2PlanList()},beforeDestroy:function(){this.graph&&(this.graph=null),Zs.$off()},methods:{storySetting:function(){this.handleSave("justSave"),this.$router.push({name:"storyLine",params:{sceneId:this.currentGroup.sceneId}})},fullScreen:function(){var e=document.getElementById("step2");if(window.ActiveXObject){var t=new ActiveXObject("WScript.Shell");t.SendKeys("{F11}")}else e.requestFullScreen?e.requestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},fullExit:function(){var e=document.documentElement;if(window.ActiveXObject){var t=new ActiveXObject("WScript.Shell");t.SendKeys("{F11}")}else e.requestFullScreen?document.exitFullscreen():e.msRequestFullscreen?document.msExitFullscreen():e.webkitRequestFullScreen?document.webkitCancelFullScreen():e.mozRequestFullScreen&&document.mozCancelFullScreen()},getCirculationMode:function(e){var t=this.options.find((function(t){return t.value===e}));return t.label},setGroupData:function(e){var t=this;this.currentGroup=this.allGroupList[e];var a=this.currentGroup,i=a.cid;this.radioType=a.mainArithmetic,this.bigArithmetic=a.arithmetic||2;var n={crowdId:this.crowdId,child:i};this.$service.getDynamic2CrowdList(n).then((function(e){t.currentGraphData.flowChart=a.flowChart,t.currentGraphData.allCrowd=e,t.crowdOptions=e}))},getChartJson:function(){var e=this.graph?JSON.stringify(this.graph.save()):null;return e},removeTab:function(e){var t=this,a=this.allGroupList[e];this.$confirm("此操作将永久删除 ".concat(a.name," 分组, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={id:a.id};t.$service.deleteDynamic2Plan(i,"删除分组成功").then((function(a){t.allGroupList.splice(e,1);var i=t.groupCheckIndex;t.groupCheckIndex=(t.allGroupList.length-1).toString(),i===t.groupCheckIndex&&t.setGroupData(t.groupCheckIndex)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getFlowChart:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,a,i){var n,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={crowdId:a,child:i},e.next=3,this.$service.getDynamic2CrowdList(n).then((function(e){return e}));case 3:return r=e.sent,s=new Bl(t,r,this.commonObj,this.height),o={nodes:[],edges:[]},3===t?(o.nodes=s.initDefaultNodes(),o.edges=[]):2===t?(o.nodes=s.initRandomNodes(),o.edges=[]):(o.nodes=s.initDefaultNodes(),o.edges=s.initEdges()),e.abrupt("return",JSON.stringify(o));case 8:case"end":return e.stop()}}),e,this)})));function t(t,a,i){return e.apply(this,arguments)}return t}(),handleSaveGroup:function(){var e=this;this.$refs.groupForm.validate(function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return i=Xl(Xl({},e.form),{},{cid:Array.isArray(e.form.cid)?e.form.cid.join(","):e.form.cid}),t.next=4,e.getFlowChart(i.mainArithmetic,i.crowdId,i.cid);case 4:n=t.sent,i.flowChart=n,e.$service.addDynamic2Plan(i,"新建分组成功").then((function(t){if(6===e.form.mainArithmetic){console.log("form",e.form);var a=e.form.cid.map((function(t){var a=e.smallCrowdList.find((function(e){return e.id===t}));return a.label})),i={planId:t.id,policyId:e.form.policyId,sceneName:e.form.name,crowdNames:a.join(",")};e.$service.addScenedynamic(i).then((function(a){e.allGroupList.push(Xl(Xl({},t),{},{sceneId:a})),e.groupCheckIndex=(e.allGroupList.length-1).toString()}))}else e.allGroupList.push(t),e.groupCheckIndex=(e.allGroupList.length-1).toString();e.dialogFormVisible=!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getDynamic2PlanList:function(e){var t=this;this.$service.getDynamic2PlanList({crowdId:this.crowdId}).then((function(e){if(t.allGroupList=e||[],t.initDynamicGroupId){var a=t.allGroupList.findIndex((function(e){return e.id===t.initDynamicGroupId}));t.groupCheckIndex=a.toString()}else t.allGroupList.length&&t.setGroupData(0)}))},getDynamic2CrowdList:function(){var e=this,t={crowdId:this.crowdId};this.$service.getDynamic2CrowdList(t).then((function(t){e.smallCrowdList=t.map((function(e){return{id:e.crowdId,label:e.crowdName}}))||[]}))},handleBackPrevStep:function(){this.$emit("crowdPrevStep",1,this.recordId)},addGroup:function(){this.dialogFormVisible=!0,console.log("this.$refs.groupForm===",this.$refs.groupForm),this.$refs.groupForm&&this.$refs.groupForm.resetFields(),this.form={name:"",policyId:this.policyId,crowdId:this.crowdId,mainArithmetic:0,cid:[],flowNum:""}},bindEvent:function(){var e=this,t=this;Zs.$on("afterAddPage",(function(a){e.graph=a.graph,e.graph.on("afteradditem",(function(e){var a=t.graph?t.graph.save():{};t.handleExitCrowdVisibleChange(a)})),e.graph.on("afterremoveitem",(function(e){var a=t.graph?t.graph.save():{};t.handleExitCrowdVisibleChange(a)}))}))},handleExitCrowdVisibleChange:function(e){var t=e.edges;if(t){var a=t.map((function(e){return e.target.toString()})),i=this.currentGraphData.allCrowd;this.crowdOptions=i.filter((function(e){return!a.includes(e.crowdId.toString())}))||[],this.crowdOptions=this.crowdOptions.map((function(e){return Xl({},e)}))}},handleChangeBigArithmetic:function(){var e;this.bigArithmetic?1===Number(this.bigArithmetic)?e=2:2===Number(this.bigArithmetic)&&(e=1):e=2,this.bigArithmetic=e,this.currentGroup.arithmetic=e},handleAddChildRule:function(e){this.rulesJson.rules.push(Xl(Xl({},e),{},{operator:">",value:""}))},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},handleRemoveRule:function(e){var t=this.rulesJson;t.rules.splice(e,1)},handleSave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=this.getChartJson();a&&(console.log("currentGroupChartJson====",a),this.allGroupList[this.groupCheckIndex].flowChart=a||null);var i=this.allGroupList;this.$service.saveDynamic2Plan(i,"操作成功").then((function(a){"justSave"!==t&&e.$emit("crowdNextStep",2)}))},resetFormData:function(){this.$emit("resetFormData")},handleDirectStrategyListBrother:function(){this.$emit("handleDirectStrategyList")}}},tc=ec,ac=(a("7aec"),Object(U["a"])(tc,Js,Gs,!1,null,"4e463ef0",null)),ic=ac.exports,nc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{color:"red"}}),a("el-form",{ref:"form",staticClass:"form-class",attrs:{model:e.form,"label-position":"left","label-width":"130px"}},[a("div",{staticClass:"div-class"},[a("el-form-item",{staticStyle:{width:"600px"},attrs:{label:"实验有效期：",prop:"dynamicTime"}},[e._l(e.form.dynamicTime,(function(t,i){return a("div",{key:i,staticClass:"filed-row"},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss",align:"right","default-time":["","23:59:59"]},model:{value:t.range,callback:function(a){e.$set(t,"range",a)},expression:"field.range"}}),e.form.dynamicTime.length>1?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-remove-outline"},on:{click:function(a){return e.handleReduceFiled(t,i,"dynamicTime")}}}):e._e()],1)})),a("div",{staticClass:"filed-row"},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:e.handleAddFiled}},[e._v("添加")])],1)],2)],1)])],1)},rc=[];function sc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function oc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var lc={components:{},props:["policyId","crowdId"],computed:oc({},Object(Vr["b"])(["policyName"])),data:function(){return{form:{crowdId:this.crowdId,dynamicTime:[{range:[]}]},focusIndex:-1,divideFormRules:{validityTime:[{type:"array",required:!0,message:"请选择实验有效期",trigger:"blur"}]}}},created:function(){this.crowdId&&this.getDynamicTime()},methods:{handleBackPrevStep:function(){this.$emit("crowdPrevStep",2)},getDynamicTime:function(){var e=this,t={crowdId:this.crowdId};this.$service.getDynamicTime(t).then((function(t){e.form.dynamicTime=t.map((function(e){return{range:[e.start,e.end]}}))||[]}))},handleAddFiled:function(){this.form.dynamicTime.length<10?this.form.dynamicTime.push({range:[]}):this.$message.warning("实验有效期上限为 10 组")},handleReduceFiled:function(e,t,a){this.form[a].splice(t,1)},isValidate:function(){var e=new RegExp("^[1-9]([0-9])*$"),t=this.form.dynamicTime.every((function(e){var a=!!e.crowdName;return t&&a})),a=this.form.controlGroup.every((function(t){var a=e.test(t.flowNum),i=!!t.crowdName;return a&&i})),i=t&&a;return i||this.$message({showClose:!0,message:"请将表单填写完整",type:"error"}),i},handleSave:function(){var e=this,t=this.form.dynamicTime.some((function(e){return 0===e.range.length}));if(t)return this.$message.warning("请将表单填写完整");var a=this.form.dynamicTime.map((function(e){return{start:e.range[0],end:e.range[1]}})),i={crowdId:this.form.crowdId,dynamicTime:a};this.$service.setDynamicTime(i,"操作成功").then((function(t){e.$emit("goBackCrowdListPage")}))}}},cc=lc,dc=(a("1889"),Object(U["a"])(cc,nc,rc,!1,null,"683a7773",null)),uc=dc.exports;function hc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function pc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mc={name:"dynamicTest",components:{step1:qs,step2:ic,step3:uc},props:{initPolicyId:{type:[String,Number],default:""},initPolicyName:{type:[String],default:""},initCrowdId:{type:[String,Number],default:void 0},initActiveStep:{type:[Number],default:0}},computed:pc({},Object(Vr["b"])(["policyName"])),watch:{activeStep:{handler:function(e){this.$emit("handleActiveStepChange",e)},immediate:!0}},data:function(){return{activeStep:0,recordId:void 0,tempPolicyAndCrowd:{},routeSource:void 0,peoplePageCheck:!1,programmeId:void 0,reloadFlag:!0,policyId:void 0,crowdId:void 0}},methods:{handleSaveStep3:function(){this.$refs.step3.handleSave()},handleSaveStep1:function(){this.$refs.step1.handleSave()},handleBackPrevStep:function(){this.handleCrowdPrevStep(1,this.recordId)},handleSave:function(){this.$refs.step2.handleSave()},handleCrowdNextStep:function(e,t,a){this.activeStep=e,this.recordId=t,this.tempPolicyAndCrowd=a},handleDynamicCrowdNextStep:function(e,t,a,i){this.activeStep=e,this.policyId=t,this.$store.commit("setPolicyName",a),this.crowdId=i},handleCrowdPrevStep:function(e,t){this.activeStep=e-1,this.recordId=t},resetFormData:function(){this.recordId=void 0,this.crowdId=void 0,this.policyId=void 0,this.$store.commit("setPolicyId",void 0),this.$store.commit("setPolicyName",void 0)},handleDirectStrategyList:function(){this.$root.$emit("stratege-list-refresh"),this.routeSource?this.$router.push({path:"launch/myPolicy"}):this.$router.push({path:"launch/strategyList"})}},created:function(){this.$route.params.source&&(this.routeSource=this.$route.params.source),this.$store.commit("setEditSchemeConfig",!1),this.policyId=this.initPolicyId,this.$store.commit("setPolicyName",this.initPolicyName),this.crowdId=this.initCrowdId,this.activeStep=this.initActiveStep,console.log("-----dynamicTest created-----")}},fc=mc,vc=(a("1806"),Object(U["a"])(fc,Es,As,!1,null,"2d544f4a",null)),gc=vc.exports,bc={data:function(){return{isShowCrowdList:!0,crowdId:null,isAbTest:!1,tabSet:"first",mode:"",crowd:void 0,effectCrowd:!1,activeStep:0,bigCrowdId:void 0,isDynamicPeople:!1,linkDialogVisible:!1,multipleSelection:[],dynamicGroupId:void 0,dynamicTestActiveStep:0}},props:["selectRow"],provide:function(){return{crowdIndexThis:this}},methods:{handleBeforeTagLeave:function(e,t){if("first"===t){var a=this.$refs.crowdAddRef;a.handleTabChangeSave(),console.log("crowdAddRef---\x3e",a)}else{var i=this.$refs.dynamicTestRef,n=i.activeStep;0===n?i.handleSaveStep1():1===n?i.handleSave():2===n&&i.handleSaveStep3(),console.log("step---\x3e",n)}},handleTabClick:function(e){this.initActiveStep=0},handleActiveStepChange:function(e){this.dynamicTestActiveStep=e},openAddLinkCrowd:function(e){this.$refs.linkCrowdCom&&this.$refs.linkCrowdCom.$refs.multipleTable&&this.$refs.linkCrowdCom.$refs.multipleTable.clearSelection(),this.linkDialogVisible=!0},handleCancel:function(){this.linkDialogVisible=!1},handleClear:function(){this.$refs.linkCrowdCom.$refs.multipleTable.clearSelection()},handleConfirm:function(){var e=this,t=this.multipleSelection.map((function(t){return{crowdName:"".concat(t.crowdName,"（引用人群）"),policyId:e.selectRow.policyId,referCrowdId:t.crowdId}}));this.$service.createReferCrowd(t,"操作成功").then((function(t){e.goBackCrowdListPage(!0),e.linkDialogVisible=!1}))},getBigCrowdId:function(e){this.bigCrowdId=e},goBackFirstLayer:function(){this.$emit("goBack")},addCrowd:function(e){this.crowd=e;var t=this.$refs.list.tableData;if(t.length>49)return this.$message.warning("策略下人群数量已达最大值");var a=e?e.crowdId:void 0;this.mode="",this.isAbTest=!1,this.isShowCrowdList=!1,this.isDynamicPeople=!(!e||!e.smart)&&e.smart,a?(this.crowdId=a,this.effectCrowd="投放中"===this.selectRow.useStatus&&2==e.crowdValidStatus):(this.crowdId=null,this.effectCrowd=!1)},editABCrowd:function(e,t){this.crowd=e,this.isShowCrowdList=!1,this.isAbTest=1===e.abMainCrowd,this.crowdId=e.crowdId,this.mode=t,this.effectCrowd="投放中"===this.selectRow.useStatus&&2==e.apiStatus||this.isAbTest},handleDynamicTest:function(e,t,a){this.crowd=e,this.isShowCrowdList=!1,this.mode=t,this.crowdId=e.crowdId,this.bigCrowdId=e.crowdId,this.tabSet=a?a.tabSet:"first",this.initActiveStep=a?a.initActiveStep:0,this.dynamicGroupId=e.id||void 0},goBackCrowdListPage:function(e){this.isShowCrowdList=!0,e&&this.$refs.list.loadData()}},components:{CrowdAdd:Sn,CrowdList:xr,CrowdABAdd:Er,DynamicPeopleSetting:qr,DynamicCrowdAdd:Ps,DynamicTest:gc,LinkCrowd:is}},yc=bc,Cc=Object(U["a"])(yc,Ta,Da,!1,null,null,null),wc=Cc.exports,_c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"schemeIndex-wrap"},[a("fieldset",[a("legend",[e._v(e._s(e.selectRow.policyName))]),a("div",{staticClass:"crowd-top"},[a("div",{staticClass:"crowd-top-back"},[a("el-button",{attrs:{type:"text"},on:{click:e.goBack}},[a("i",{staticClass:"el-icon-cc-left"}),e._v("返回\n                ")])],1),a("div",{staticClass:"info"},[e._v("\n                策略ID："+e._s(e.selectRow.policyId)+"\n                策略维度:\n                "),e._l(e.selectRow.tagsList,(function(t){return a("el-tag",{key:t.tagId,attrs:{size:"mini",type:e.dataSourceColorEnum[t.dataSource]}},[e._v(e._s(t.tagName))])}))],2),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditSave}},[e._v("保存")])],1)])]),a("scheme-config",{ref:"schemeConfigEdit",on:{click:e.goBack}})],1)},Sc=[],kc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"configScheme-wrap"},[e._m(0),a("people-dialog",{attrs:{show:e.peopleDialogStatus,info:e.editPeopleInfo},on:{savePeople:e.savePeople}}),a("entry-config",{attrs:{entryData:e.entryData,show:e.schemeStart,recordId:e.recordId,policyId:e.policyId,splitRadio:e.splitRadio},on:{saveEntryData:e.saveEntryData}}),a("out-condition",{attrs:{recordId:e.recordId,show:e.outConditionStatus,outputData:e.outputData,policyId:e.policyId},on:{saveOutputCondition:e.saveOutputCondition}}),a("div",{staticClass:"scale-group"},[a("el-tooltip",{staticClass:"item",attrs:{content:"放大画布",placement:"top-start"}},[a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.scaleGraph(.2)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{content:"缩小画布",placement:"top-start"}},[a("el-button",{attrs:{icon:"el-icon-minus"},on:{click:function(t){return e.scaleGraph(-.2)}}})],1)],1),e.isSmartEdit?e._e():a("div",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"info"},on:{click:e.handleBackPrevStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleSave(0)}}},[e._v("跳过保存")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(1)}}},[e._v("下一步")])],1)],1)},Ic=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"sider",attrs:{id:"flowStencil"}}),a("div",{staticClass:"panel"},[a("div",{staticClass:"x6-graph",attrs:{id:"flowContainer"}})])])}],xc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"peopleDialog-wrap"},[a("el-dialog",{attrs:{title:"人群配置",visible:e.show.is,width:"30%"},on:{"update:visible":function(t){return e.$set(e.show,"is",t)}}},[a("div",{staticClass:"content"},[a("el-form",{ref:"peopleFormRef",attrs:{"label-position":"right","label-width":"140px",model:e.peopleForm,rules:e.rules}},[e.id?a("el-form-item",{attrs:{label:"人群ID："}},[a("el-input",{attrs:{disabled:""},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1):e._e(),a("el-form-item",{attrs:{label:"人群名称：",prop:"name"}},[a("el-input",{model:{value:e.peopleForm.name,callback:function(t){e.$set(e.peopleForm,"name",t)},expression:"peopleForm.name"}})],1),a("el-form-item",{attrs:{label:"人群影响时间：",prop:"time"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:3}},[e._v(">=")]),a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.peopleForm.time,callback:function(t){e.$set(e.peopleForm,"time",t)},expression:"peopleForm.time"}})],1),a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.peopleForm.type,callback:function(t){e.$set(e.peopleForm,"type",t)},expression:"peopleForm.type"}},[a("el-option",{attrs:{label:"天",value:"day"}}),a("el-option",{attrs:{label:"小时",value:"hour"}})],1)],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show.is=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.savePeople}},[e._v("确 定")])],1)])],1)},Tc=[],Dc={name:"peopleDialog",props:{show:{type:Object,default:function(){return{is:!1}}},info:{type:Object,default:function(){return{}}}},data:function(){return{peopleForm:{name:"",time:"",type:"day",frequency:""},rules:{name:[{required:!0,message:"请输入人群名称",trigger:"blur"}],time:[{required:!0,message:"请输入人群影响时间",trigger:"blur"}],frequency:[{required:!0,message:"请输入人群曝光次数",trigger:"blur"}]},id:null}},methods:{savePeople:function(){var e=this;this.$refs["peopleFormRef"].validate((function(t){if(!t)return!1;var a=e.peopleForm,i=a.name,n=a.time,r=a.type,s=a.frequency,o={strategyNodeName:i,condition:{times:{operation:">=",val:s},time:{operation:">=",val:n,type:r}}};e.$emit("savePeople",o)}))}},watch:{show:{handler:function(e){var t=this;e.is&&this.$nextTick((function(){if(t.info.strategyNodeId||t.info.strategyNodeName){var e=t.info,a=e.strategyNodeName,i=e.time,n=i.val,r=i.type,s=e.frequency,o=e.id;t.peopleForm={name:a,time:n,type:r,frequency:s},t.id=o}else t.peopleForm={name:"",time:"",type:"day",frequency:""};t.$refs["peopleFormRef"].resetFields()}))},deep:!0}}},$c=Dc,Lc=Object(U["a"])($c,xc,Tc,!1,null,"4d2fe547",null),Nc=Lc.exports,Oc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"entryConfig-wrap"},[a("el-dialog",{attrs:{title:"总入口配置",visible:e.show.is,width:"45%"},on:{"update:visible":function(t){return e.$set(e.show,"is",t)}}},[a("el-form",{attrs:{"label-position":"left","label-width":"100px",model:e.entryConfigForm}},[a("el-form-item",{attrs:{label:"规则设置："}},[e._l(e.inputValue,(function(t,i){return[a("multiple-select",{attrs:{tags:e.tags,rulesJson:t.rulesJson,crowd:t,i:i}})]}))],2),a("el-form-item",{attrs:{label:"分流比例："}},[a("el-row",[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.entryConfigForm.splitRadio,callback:function(t){e.$set(e.entryConfigForm,"splitRadio",t)},expression:"entryConfigForm.splitRadio"}},[a("template",{slot:"append"},[e._v("%")])],2)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show.is=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEntryData}},[e._v("确 定")])],1)],1)],1)},Pc=[],Ec={props:{show:{type:Object,default:function(){return{is:!1}}},recordId:{type:[Number,String],default:1},entryData:{type:[Array,Object,String]},policyId:{type:[String,Number]},splitRadio:{type:[String,Number]}},name:"entryConfig",data:function(){return{tags:[],entryConfigForm:{splitRadio:null},inputValue:[]}},methods:{saveEntryData:function(){this.$emit("saveEntryData",this.inputValue,this.entryConfigForm.splitRadio)},getRecordId:function(){return this.recordId},setInputValue:function(e){if(e!==this.inputValue)if(e.length>0)this.inputValue=e,this.setSeq();else{if(this.inputValue.length>0)return;this.inputValue.push({recordId:this.getRecordId(),tempCrowdId:void 0,crowdName:void 0,tagIds:[],purpose:void 0,remark:void 0,crowdOrder:length+1,rulesJson:{condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"AND",rules:[]},limitLaunch:!1,limitLaunchCount:void 0,total0:void 0}),this.setSeq()}},setSeq:function(){var e=JSON.parse(JSON.stringify(this.inputValue));this.inputValue=e.map((function(e,t){return e.crowdOrder=t+1,e}))}},components:{multipleSelect:yi},watch:{show:{handler:function(e){var t=this;e.is&&(this.policyId?this.$service.getTagsByPoliceId({policyId:this.policyId}).then((function(e){t.tags=e.filter((function(e){return 6!==e.dataSource})),t.entryConfigForm.splitRadio=t.splitRadio,t.setInputValue(t.entryData)})):this.$service.tagInfoNew(this.recordId).then((function(e){t.tags=e.filter((function(e){return 6!==e.dataSource})),t.entryConfigForm.splitRadio=t.splitRadio?t.splitRadio:"",t.setInputValue(t.entryData)})))},deep:!0},entryData:"setInputValue"}},Ac=Ec,Fc=Object(U["a"])(Ac,Oc,Pc,!1,null,"f7add46c",null),Vc=Fc.exports,Rc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outCondition-wrap"},[a("el-dialog",{attrs:{title:"方案出口规则配置",visible:e.show.is,width:"65%"},on:{"update:visible":function(t){return e.$set(e.show,"is",t)}}},[a("p",{staticClass:"title"},[e._v("规则设置")]),e._l(e.inputValue,(function(t,i){return[a("multiple-select",{attrs:{specialTags:e.specialTags,dynamicPolicyJson:t.dynamicPolicyJson,crowd:t,i:i}})]})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show.is=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEntryData}},[e._v("确 定")])],1)],2)],1)},jc=[],Bc={name:"outCondition",props:{show:{type:Object,default:function(){return{is:!1}}},recordId:{type:[Number,String],default:1},policyId:{type:[String,Number]},outputData:{type:[Array,Object,String]}},data:function(){return{specialTags:[],inputValue:[]}},methods:{saveEntryData:function(){var e,t=JSON.parse(JSON.stringify(this.inputValue[0].dynamicPolicyJson)),a=t.rules,i=a.length,n=0;if(0!==i){var r=!0;for(e=0;e<i;e++){for(n=0;n<a[e].rules.length;n++){var s=a[e].rules[n];if(""===s.value||""===s.dynamic.version){this.$message.error("请正确填写第"+(e+1)+"动态因子里面的第"+(n+1)+"行的值！"),r=!1;break}if(!r)break}if(!r)break}r&&this.$emit("saveOutputCondition",this.inputValue)}else this.$message.error("请至少填写一个动态因子完整的内容！")},getRecordId:function(){return this.recordId},setInputValue:function(e){if(e!==this.inputValue)if(e.length>0)this.inputValue=e,this.setSeq();else{if(this.inputValue.length>0)return;this.inputValue.push({recordId:this.getRecordId(),tempCrowdId:void 0,crowdName:void 0,tagIds:[],purpose:void 0,remark:void 0,crowdOrder:length+1,rulesJson:{condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"AND",rules:[]},limitLaunch:!1,limitLaunchCount:void 0,total0:void 0}),this.setSeq()}},setSeq:function(){var e=JSON.parse(JSON.stringify(this.inputValue));this.inputValue=e.map((function(e,t){return e.crowdOrder=t+1,e}))}},watch:{show:{handler:function(e){var t=this;e.is&&(this.inputValue=[],this.policyId?this.$service.getTagsByPoliceId({policyId:this.policyId}).then((function(e){t.specialTags=e.filter((function(e){return 6===e.dataSource})),console.log(t.outputData),t.setInputValue(t.outputData)})):this.$service.tagInfoNew(this.recordId).then((function(e){t.specialTags=e.filter((function(e){return 6===e.dataSource})),t.setInputValue(t.outputData)})))},deep:!0},outputData:"setInputValue"},components:{multipleSelect:yi}},Mc=Bc,zc=(a("a961"),Object(U["a"])(Mc,Rc,jc,!1,null,"ec84a452",null)),qc=zc.exports,Jc=a("5728"),Gc=a("2019");Jc["d"].registerNode("flow-chart-start",{inherit:"rect",width:80,height:42,attrs:{body:{stroke:"#5F95FF",strokeWidth:1,fill:"rgba(95,149,255,0.05)"},fo:{refWidth:"100%",refHeight:"100%"},foBody:{xmlns:Jc["b"].ns.xhtml,style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},"edit-text":{contenteditable:"false",class:"x6-edit-text",style:{width:"100%",textAlign:"center",fontSize:12,color:"rgba(0,0,0,0.85)"}},text:{fontSize:12,fill:"#FFFFFF"}},markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"text"},{tagName:"foreignObject",selector:"fo",children:[{ns:Jc["b"].ns.xhtml,tagName:"body",selector:"foBody",children:[{tagName:"div",selector:"edit-text"}]}]}],ports:{groups:{bottom:{position:"bottom",attrs:{circle:{r:3,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"bottom",id:"bottom"}]}}),Jc["d"].registerNode("flow-chart-rect",{inherit:"rect",width:80,height:42,attrs:{body:{stroke:"#5F95FF",strokeWidth:1,fill:"rgba(95,149,255,0.05)"},text:{fontSize:12,fill:"#FFFFFF"}},ports:{groups:{top:{position:"top",attrs:{circle:{r:3,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:3,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{id:"top",group:"top"},{id:"bottom",group:"bottom"}]}}),Jc["d"].registerNode("flowGroupNode",{inherit:"rect",width:160,height:40,markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"text"},{tagName:"g",selector:"buttonGroup",children:[{tagName:"rect",selector:"button",attrs:{"pointer-events":"visiblePainted"}},{tagName:"path",selector:"buttonSign",attrs:{fill:"none","pointer-events":"none"}}]}],attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:1,fill:"rgba(95,149,255,0.05)",stroke:"#5F95FF"},image:{"xlink:href":Gc,width:16,height:16,x:8,y:12},text:{fontSize:12,fill:"#FFFFFF",refX:50,refY:20}},ports:{groups:{top:{position:"top",attrs:{circle:{r:3,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:3,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{id:"top",group:"top"},{id:"bottom",group:"bottom"}]}});var Uc=function(){function e(){Object(ue["a"])(this,e)}return Object(he["a"])(e,null,[{key:"init",value:function(e){this.graph=e,this.initStencil(),this.initShape(),this.initEvent()}},{key:"initStencil",value:function(){this.stencil=new Jc["a"].Stencil({title:"",target:this.graph,search:!1,stencilGraphWidth:160,collapsable:!1,groups:[{name:"basicComponents",title:"基础组件",collapsable:!1,graphHeight:160,layoutOptions:{columns:1,marginX:40}}]});var e=document.querySelector("#flowStencil");e.appendChild(this.stencil.container)}},{key:"initShape",value:function(){var e=this.graph,t=e.createNode({shape:"flow-chart-rect",width:40,height:40,label:"人群",name:"people",attrs:{body:{fill:"#1790ff",stroke:"#1790ff",rx:35,ry:35},text:{fill:"#FFFFFF"}}}),a=e.createNode({name:"group",shape:"flowGroupNode",label:"策略",attrs:{body:{fill:"orange",stroke:"orange"},text:{fill:"#FFFFFF"}},data:{parent:!0}});this.stencil.load([t,a],"basicComponents")}},{key:"showPorts",value:function(e,t){for(var a=0,i=e.length;a<i;a+=1)e[a].style.visibility=t?"visible":"hidden"}},{key:"initEvent",value:function(){var e=this,t=this.graph,a=document.getElementById("flowContainer");t.on("node:mouseenter",Jc["c"].debounce((function(){var t=a.querySelectorAll(".x6-port-body");e.showPorts(t,!0)})),500),t.on("node:mouseleave",(function(){var t=a.querySelectorAll(".x6-port-body");e.showPorts(t,!1)})),t.on("node:change:size",(function(e){var t=e.node,a=e.options;if(!a.skipParentHandler){var i=t.getChildren();i&&i.length&&t.prop("originSize",t.getSize())}})),t.on("node:change:position",(function(e){var t=e.node,a=e.options;if(!a.skipParentHandler){var i=t.getChildren();i&&i.length&&t.prop("originPosition",t.getPosition());var n=t.getParent();if(n&&n.isNode()){var r=n.prop("originSize");null==r&&n.prop("originSize",n.getSize()),r=n.prop("originSize");var s=n.prop("originPosition");null==s&&n.prop("originPosition",n.getPosition()),s=n.prop("originPosition");var o=s.x,l=s.y,c=s.x+r.width,d=s.y+r.height,u=!1,h=n.getChildren();h&&h.forEach((function(e){var t=e.getBBox().inflate(30),a=t.getCorner();t.x<o&&(o=t.x,u=!0),t.y<l&&(l=t.y,u=!0),a.x>c&&(c=a.x,u=!0),a.y>d&&(d=a.y,u=!0)})),u&&n.prop({position:{x:o,y:l},size:{width:c-o,height:d-l}},{skipParentHandler:!0})}}}))}},{key:"destroy",value:function(){this.graph.dispose()}}]),e}(),Hc={getStartNode:function(e){var t={shape:"flow-chart-start",label:"方案入口",attrs:{body:{fill:"#fe3499",stroke:"#fe3499",rx:5,ry:5}}};return Object.assign(t,e),t},getRectNode:function(e){var t={shape:"flow-chart-rect",width:40,height:40,label:"人群",attrs:{body:{fill:"#1790ff",stroke:"#1790ff",rx:35,ry:35},label:{refX:.5,refY:"20%",refY2:4,textAnchor:"middle",textVerticalAnchor:"top"},text:{textWrap:{width:"100%",height:"120%",text:e.text,ellipsis:!0}}}};return Object.assign(t,e),t},getGroupNode:function(e){var t={shape:"flowGroupNode",label:"策略",attrs:{body:{fill:"orange",stroke:"orange"}},data:{parent:!0}};return Object.assign(t,e),t}},Kc={methods:{initGraph:function(){var e=this,t=this,a=new Jc["d"]({container:document.getElementById("flowContainer"),width:window.innerWidth-440,height:window.innerHeight-205,grid:!0,mousewheel:{enabled:!0,global:!0,modifiers:["ctrl","meta"]},snapline:{enabled:!0,sharp:!0},scroller:{enabled:!0,pageVisible:!1,pageBreak:!1,pannable:!0},connecting:{anchor:"center",connectionPoint:"anchor",allowBlank:!1,highlight:!0,snap:!0,allowMulti:!1,allowLoop:!1,createEdge:function(){return new Jc["e"].Edge({attrs:{line:{stroke:"#ff5518",strokeWidth:2,targetMarker:{name:"classic",size:8}}},router:{name:"manhattan"},zIndex:10})},validateConnection:function(e){var t=e.sourceView,a=e.targetView,i=e.sourceMagnet,n=e.targetMagnet;return t!==a&&(!!i&&(!!n&&(!(!i||"bottom"!==i.getAttribute("port-group"))&&!(!n||"top"!==n.getAttribute("port-group")))))}},highlighting:{magnetAvailable:{name:"stroke",args:{padding:4,attrs:{strokeWidth:4,stroke:"rgba(223,234,255)"}}}},history:!0,clipboard:{enabled:!0},keyboard:{enabled:!0},embedding:{enabled:!0,findParent:function(e){var t=e.node,a=t.getBBox();return this.getNodes().filter((function(e){var t=e.getData();if(t&&t.parent){var i=e.getBBox();return a.isIntersectWithRect(i)}return!1}))}}});Uc.init(a),this.graph=a,this.policyId?this.$service.smartProgrammeDetail(this.policyId).then((function(i){var n=i.data;e.$set(e.schemeConfig,"programmeId",n.programmeId),e.handleParseData(n),n.inputCondition&&(e.entryData=n.inputCondition[0]?n.inputCondition[0]:[],e.splitRadio=n.inputCondition[1]?n.inputCondition[1]:"");var r=e.findGroupName(n.smartStrategies),s=e.findGroupCrowdName(n.smartStrategies);e.groupIdx=e.getMaxNum(r.toString()),e.peopleIdx=e.getMaxNum(s.toString(),"crowd");var o=[],l=[];n.smartStrategies&&n.smartStrategies.forEach((function(a){switch(a.mapGrid&&a.mapGrid.identify){case"start":o.push(Hc.getStartNode({id:a.mapGrid.id,x:a.mapGrid.x,y:a.mapGrid.y}));break;case"schemeGroup":o.push(Hc.getGroupNode({id:a.mapGrid.id,x:a.mapGrid.x,y:a.mapGrid.y,width:a.mapGrid.w,height:a.mapGrid.h,label:a.strategyName,children:e.findChildId(a.smartStrategyNodes),tools:t.setTools()})),a.smartStrategyNodes&&a.smartStrategyNodes.length>0&&a.smartStrategyNodes.forEach((function(e){o.push(Hc.getRectNode({id:e.mapGrid.id,x:e.mapGrid.x,y:e.mapGrid.y,parent:a.mapGrid.id,text:"".concat(e.strategyNodeName," ")})),e.mapGrid.target&&l.push({source:{cell:e.mapGrid.id,port:"bottom"},target:{cell:e.mapGrid.target,port:"top"},attrs:{line:{stroke:"#ff5518",strokeWidth:2,targetMarker:{name:"classic",size:8}}},router:{name:"er",args:{offset:40}},zIndex:10})}));break}a.mapGrid.target&&l.push({source:{cell:a.mapGrid.id,port:"bottom"},target:{cell:a.mapGrid.target||"",port:"top"},attrs:{line:{stroke:"#ff5518",strokeWidth:2,targetMarker:{name:"classic",size:8}}},router:{name:"manhattan"},zIndex:10})})),e.schemeData=n.smartStrategies||[],a.fromJSON({nodes:o,edges:l})})):(a.addNode(Hc.getStartNode({id:"startNode",x:300,y:20})),this.addStartNode()),this.graph.on("node:added",(function(t){var a=t.node,i=a.store.data.name;switch(i){case"group":e.addGroupNode(a);break;case"people":e.addPeopleNode(a);break}})),this.graph.on("edge:connected",(function(t){var a=t.isNew,i=t.edge;if(a){var n,r,s=i.getSourceCell(),o=i.getTargetCell(),l=s.getParentId(),c=o.getParentId();if(l&&!c||!l&&c||l!==c)return i.remove(),!1;if(n=e.findNodesById(s.getParentId(),s.id),r=e.findNodesById(o.getParentId(),o.id),r.mapGrid.prevSourceId||n.mapGrid.prevSourceId===o.id)return i.remove(),!1;var d=n.mapGrid.identify;n.mapGrid.source=s.id,n.mapGrid.target=o.id,r.mapGrid.prevSourceId=s.id,"start"!==d&&(s.getParent()?(n.mapGrid.prevSourceId||n.strategyNodeIndex++,n.strategyNodeIndex>=1&&(r.strategyNodeIndex=n.strategyNodeIndex+1)):("startNode"!==n.mapGrid.prevSourceId&&n.mapGrid.prevSourceId||n.strategyIndex++,n.strategyIndex>=1&&(r.strategyIndex=n.strategyIndex+1)))}})),this.graph.on("node:moved",(function(t){t.e,t.x,t.y;var a=t.node,i=(t.view,a.position()),n=e.findNodesById(a.getParentId(),a.id);n.mapGrid.x=i.x,n.mapGrid.y=i.y})),this.graph.on("node:click",(function(t){t.e,t.x,t.y;var a=t.node,i=(t.view,e.findNodesById(a.getParentId(),a.id)),n=i.mapGrid.identify;if("start"===n)e.schemeStart.is=!0;else if("crowd"===n){e.currentNode=a,e.peopleId=a.id,e.groupId=a.getParentId();var r=e.findNodesById(a.getParentId(),a.id);r.nodeCondition.time?(e.editPeopleInfo={strategyNodeName:r.strategyNodeName,frequency:r.nodeCondition.times.val,time:r.nodeCondition.time},e.policyId&&(e.editPeopleInfo.id=r.strategyNodeId)):(e.editPeopleInfo={},e.editPeopleInfo.id=null),e.peopleDialogStatus.is=!0}})),this.graph.on("node:mouseenter",(function(a){var i=a.node,n=e.findNodesById(i.getParentId(),i.id);"start"!==n.mapGrid.identify&&i.addTools({name:"button-remove",args:{x:"100%",y:0,offset:{x:-10,y:10},onClick:function(e){var a=e.view;if(n.delFlag=2,t.setNodeIdx(n.mapGrid.identify,n,!0),"schemeGroup"===n.mapGrid.identify)t.schemeData.forEach((function(e){e.mapGrid.id===n.mapGrid.prevSourceId&&(e.mapGrid.target="")})),a.cell.remove();else if("crowd"===n.mapGrid.identify){var r=i.getParentId();t.schemeData.forEach((function(e){e.mapGrid.id===r&&e.smartStrategyNodes.forEach((function(e){e.mapGrid.id===n.mapGrid.prevSourceId&&(e.mapGrid.target="")}))})),a.cell.remove()}}}})})),this.graph.on("node:mouseleave",(function(e){var t=e.node;t.removeTool("button-remove")})),this.graph.on("node:change:size",(function(t){t.cell;var a=t.node,i=e.findNodesById(a.getParent(),a.id),n=a.size(),r=a.position();i.mapGrid.w=n.width,i.mapGrid.h=n.height,i.mapGrid.x=r.x,i.mapGrid.y=r.y}))},handleEditSave:function(){var e=this,t=this.handleSaveData(Object(nt["cloneDeep"])(this.schemeConfig));return new Promise((function(a){e.$service.smartProframPolicyUpdate({data:t,params:{programmeId:t.programmeId}},"编辑成功").then((function(e){a(e)}))}))},scaleGraph:function(e){this.graph.zoom(e)}}};function Qc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Wc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yc={props:["recordId"],name:"CreateConfigScheme",mixins:[Kc],data:function(){return{schemeConfig:{programmeName:"方案入口",inputCondition:null,remark:"",smartStrategies:[]},graph:null,schemeData:[],currentNode:null,peopleDialogStatus:{is:!1},peopleId:null,groupId:null,schemeStart:{is:!1},groupIdx:1,peopleIdx:1,entryData:[],outputData:[],editPeopleInfo:{},tempPortArr:[],splitRadio:"",outConditionStatus:{is:!1}}},components:{peopleDialog:Nc,entryConfig:Vc,outCondition:qc},mounted:function(){this.initGraph()},computed:Wc({},Object(Vr["b"])(["policyInfo","policyId","isSmartEdit"])),methods:{handleParseData:function(e){e.inputCondition=e.inputCondition?JSON.parse(e.inputCondition):[],e.smartStrategies&&e.smartStrategies.forEach((function(e){e.mapGrid=JSON.parse(e.mapGrid),e.outCondition=e.outCondition?JSON.parse(e.outCondition):[],e.smartStrategyNodes&&e.smartStrategyNodes.length>0&&e.smartStrategyNodes.forEach((function(e){e.mapGrid=JSON.parse(e.mapGrid),e.nodeCondition=JSON.parse(e.nodeCondition)}))}))},setNodeIdx:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.mapGrid.source,n=t.mapGrid.target;if("schemeGroup"===e){var r=this.findNodesById(null,n);r&&(a&&(t.strategyIndex=0),r.strategyIndex>=1?r.strategyIndex=t.strategyIndex+1:r.strategyIndex=0,this.setNodeIdx(r.mapGrid.identify,r))}else{var s=this.findNodesById(i,n);s&&(a&&(t.strategyNodeIndex=0),s.strategyNodeIndex>=1?s.strategyNodeIndex=t.strategyNodeIndex+1:s.strategyNodeIndex=0,this.setNodeIdx(s.mapGrid.identify,s))}},addStartNode:function(){this.currentNode={strategyName:"方案入口",strategyIndex:0,defaultStrategy:!1,smartStrategyNodes:[],remark:"",mapGrid:{x:300,y:20,source:"startNode",target:"",id:"startNode",identify:"start"}},this.schemeData.push(this.currentNode)},addGroupNode:function(e){var t=this.findGroupName(this.schemeData),a=e.position();this.groupIdx=this.getMaxNum(t.toString()),this.currentNode={strategyName:"策略".concat(this.groupIdx),strategyIndex:0,defaultStrategy:!0,outCondition:"",remark:"",mapGrid:{x:a.x,y:a.y,source:"",target:"",id:e.id,identify:"schemeGroup"},smartStrategyNodes:[]},e.attr({text:{text:"策略".concat(this.groupIdx)}}),e.setTools(this.setTools()),this.schemeData.push(this.currentNode),e.size({width:250,height:180})},addPeopleNode:function(e){var t=this;this.$nextTick((function(){var a=e.parent;if(!a)return t.$message({message:"人群只能放置在策略组中!",type:"warning"}),e.remove(),!1;var i=t.findGroupCrowdName(t.schemeData),n=e.position();t.peopleIdx=t.getMaxNum(i.toString(),"child"),t.currentNode={nodeCondition:{},strategyNodeName:"人群".concat(t.peopleIdx),strategyNodeIndex:0,mapGrid:{x:n.x,y:n.y,source:"",target:"",id:e.id,identify:"crowd"}},e.attr({text:{text:"人群".concat(t.peopleIdx)}}),t.schemeData.forEach((function(e){e.mapGrid.id===a.id&&e.smartStrategyNodes.push(t.currentNode)}))}))},savePeople:function(e){var t=this;this.schemeData.forEach((function(a){a.mapGrid.id===t.groupId&&a.smartStrategyNodes.forEach((function(a){a.mapGrid.id===t.peopleId&&(a.nodeCondition=e.condition,a.strategyNodeName=e.strategyNodeName),t.peopleDialogStatus.is=!1}))})),this.currentNode.attr({text:{textWrap:{text:e.strategyNodeName}}})},findNodesById:function(e,t){var a;return e?this.schemeData.forEach((function(i){i.mapGrid.id===e&&(a=i.smartStrategyNodes.find((function(e){return e.mapGrid.id===t})))})):a=this.schemeData.find((function(e){return e.mapGrid.id===t})),a},findChildId:function(e){var t=[];return e&&e.forEach((function(e){t.push(e.mapGrid.id)})),t},handleBackPrevStep:function(){this.$emit("crowdPrevStep",1,this.recordId)},handleSaveData:function(e){var t=Object(nt["cloneDeep"])(this.schemeData);return t.forEach((function(e){e.mapGrid=JSON.stringify(e.mapGrid),e.outCondition=JSON.stringify(e.outCondition),e.smartStrategyNodes&&e.smartStrategyNodes.length>0&&e.smartStrategyNodes.forEach((function(e){e.mapGrid=JSON.stringify(e.mapGrid),e.nodeCondition=JSON.stringify(e.nodeCondition)}))})),e.smartStrategies=t,e},handleSave:function(e){var t=this,a=this.handleSaveData(this.schemeConfig);if(this.policyId){var i={data:a,params:{programmeId:a.programmeId}};this.$store.dispatch("saveSmartProgramme",i).then((function(){0===e?(t.$emit("handleDirectStrategyList"),t.$emit("resetFormData")):t.$store.dispatch("getPolicyInfo",t.policyId).then((function(e){var a={tempPolicy:{recordId:t.recordId,policyName:e.policyName}};t.$emit("handleToNextStep",1,null,a)}))}))}else{this.schemeConfig.recordId=this.recordId;var n={recordId:this.recordId,data:a};this.$store.dispatch("saveSmartProgramme",n).then((function(a){0===e?(t.$emit("handleDirectStrategyList"),t.$emit("resetFormData")):(t.$store.commit("setPolicyId",a.policyId),t.$store.dispatch("getPolicyInfo",a.policyId).then((function(e){var a={tempPolicy:{recordId:t.recordId,policyName:e.policyName}};t.$emit("handleToNextStep",1,null,a)})))}))}},saveEntryData:function(e,t){this.entryData=e,this.splitRadio=t;var a=[e,t];this.schemeConfig.inputCondition=JSON.stringify(a),this.schemeStart.is=!1},findGroupName:function(e){return e&&e.map((function(e){return e.strategyName}))},findGroupCrowdName:function(e){var t=[];return e.forEach((function(e){e.smartStrategyNodes&&e.smartStrategyNodes.forEach((function(e){t.push(e.strategyNodeName)}))})),t},getMaxNum:function(e,t){var a;a=t?/人群(\d+)/g:/策略(\d+)/g;var i=0,n=0;while(null!=i)i=a.exec(e),null!=i&&(n=Math.max(n,i[1]));return n+1},addGroupOutCondition:function(e){this.groupId=e.id;var t=this.findNodesById(null,e.id);this.outputData=t.outCondition.length>0?t.outCondition:[],this.outConditionStatus.is=!0},saveOutputCondition:function(e){var t=this.findNodesById(null,this.groupId);this.outputData=e,t.outCondition=Object(nt["cloneDeep"])(e),this.outConditionStatus.is=!1},setTools:function(){var e=this;return[{name:"button",args:{markup:[{tagName:"circle",selector:"button",attrs:{r:14,stroke:"green",strokeWidth:2,fill:"green",cursor:"pointer"}},{tagName:"text",textContent:"出口11111",selector:"icon",attrs:{fill:"#ffffff",fontSize:10,textAnchor:"middle",pointerEvents:"none",y:"0.3em"}}],x:"50%",y:"100%",offset:{x:0,y:-20},onClick:function(t){var a=t.cell;e.addGroupOutCondition(a)}}}]}}},Zc=Yc,Xc=(a("b18f"),Object(U["a"])(Zc,kc,Ic,!1,null,"32bcd689",null)),ed=Xc.exports,td={name:"schemeIndex",props:["selectRow"],data:function(){return{}},computed:{dataSourceColorEnum:function(){return ya}},components:{schemeConfig:ed},mounted:function(){this.$store.commit("setEditSchemeConfig",!0)},methods:{goBack:function(){this.$emit("goBack")},handleEditSave:function(){var e=this;this.$refs.schemeConfigEdit.handleEditSave().then((function(){e.$emit("goBack")}))}}},ad=td,id=(a("4f72"),Object(U["a"])(ad,_c,Sc,!1,null,"cc7228b2",null)),nd=id.exports,rd={name:"strategyListAA",data:function(){return{selectRow:null,isShowStrategyList:!0,historyFilter:null,checkListFilter:["useStatus"],showAllParent:!1,isShowSchemePage:!1}},props:["source"],methods:{openCrowdPage:function(e,t,a,i){this.selectRow=e,this.isShowStrategyList=!1,this.historyFilter=t,this.checkListFilter=a,this.showAllParent=i},openSchemePage:function(e){this.isShowSchemePage=!0,this.isShowStrategyList=!1,this.selectRow=e,this.$store.commit("setPolicyId",e.policyId)},goBack:function(){this.isShowStrategyList=!0,this.isShowSchemePage=!1}},components:{StrategyList:xa,CrowdIndex:wc,SchemeIndex:nd}},sd=rd,od=Object(U["a"])(sd,ta,aa,!1,null,null,null),ld=od.exports,cd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("list",{directives:[{name:"show",rawName:"v-show",value:e.isShowList,expression:"isShowList"}],ref:"list",on:{changeStatus:e.changeStatus}}),e.isShowList?e._e():a("add",{attrs:{isShowAddOrEdit:!e.isShowList,editLaunchCrowdId:e.editLaunchCrowdId},on:{changeStatus:e.changeStatus,goBack:e.goBack}})],1)},dd=[],ud=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-list"},[a("div",{staticClass:"TopNav"},[a("div",{staticClass:"left"},[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:modify",expression:"'hoder:launch:crowd:modify'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增投放\n        ")])],1)],1),a("div",{staticClass:"right"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchForm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"",prop:"launchName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入投放名称"},model:{value:e.searchForm.launchName,callback:function(t){e.$set(e.searchForm,"launchName",t)},expression:"searchForm.launchName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.submitForm}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleReset}},[a("a",{staticClass:"fa fa-refresh",staticStyle:{color:"white"}}),e._v(" 重置\n          ")])],1)],1)],1)]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"ID",width:"50"}}),a("el-table-column",{attrs:{prop:"launchName",label:"投放名称",width:"100"}}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"人群投放Id",width:"80"}}),a("el-table-column",{attrs:{prop:"biName",label:"投放平台",width:"120"}}),a("el-table-column",{attrs:{prop:"status",label:"人群状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.launchStatusEnum[t.row.status]))])]}}])}),a("el-table-column",{attrs:{prop:"expiryTime",label:"人群有效期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.expiryTime))])]}}])}),a("el-table-column",{attrs:{prop:"dmpEstimate",label:"设备数量",width:"80"}}),a("el-table-column",{attrs:{prop:"total1",label:"手机号数量",width:"90"}}),a("el-table-column",{attrs:{prop:"total3",label:"微信openId数量",width:"110"}}),a("el-table-column",{attrs:{prop:"total2",label:"酷开openId数量",width:"110"}}),a("el-table-column",{attrs:{prop:"creatorName",label:"创建人"}}),a("el-table-column",{attrs:{prop:"department",label:"业务部门"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",{staticClass:"button-group-position"},[1==t.row.status?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:launch",expression:"'hoder:launch:crowd:launch'"}],attrs:{size:"small",type:"warning"},on:{click:function(a){return e.lanuch(t.$index,t.row)}}},[e._v("投放")]):e._e(),3==t.row.status?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:cancel",expression:"'hoder:launch:crowd:cancel'"}],attrs:{size:"small",type:"warning"},on:{click:function(a){return e.cancelLanuch(t.row)}}},[e._v("取消投放")]):e._e(),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:detail",expression:"'hoder:launch:crowd:detail'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.condition(t.row)}}},[e._v("人群条件")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:modify",expression:"'hoder:launch:crowd:modify'"}],attrs:{size:"small",type:"primary","shiro:hasPermission":"sysAdministrative:role:edit"},on:{click:function(a){return e.handleEdit(t.row.launchCrowdId)}}},[e._v("编辑")]),1==t.row.status?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:del",expression:"'hoder:launch:crowd:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")]):e._e()],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"选择的策略",visible:e.isShowCondition,width:"30%"},on:{"update:visible":function(t){e.isShowCondition=t}}},[a("el-form",e._l(e.selectStrategy,(function(t){return a("el-form-item",{key:t.policyName,attrs:{label:t.policyName}},e._l(t.childs,(function(t){return a("el-checkbox",{key:t.crowdId,attrs:{disabled:""},model:{value:t.choosed,callback:function(a){e.$set(t,"choosed",a)},expression:"v.choosed"}},[e._v(e._s(t.crowdName)+"\n        ")])})),1)})),1)],1),a("el-dialog",{attrs:{visible:e.showEstimate},on:{"update:visible":function(t){e.showEstimate=t}}},[a("div",{staticClass:"choose-tip"},[e._v("请选择下列需要估算的字段，勾选保存后将估算该字段的人群数量")]),a("el-checkbox-group",{attrs:{"aria-required":"true"},model:{value:e.estimateValue,callback:function(t){e.estimateValue=t},expression:"estimateValue"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i}},[e._v(e._s(t))])})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],staticClass:"error-msg"},[e._v("请至少选择一个要投放的人群")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showEstimate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEstimate}},[e._v("投放")])],1)],1)],1)},hd=[],pd={data:function(){return{tableData:[],launchStatusEnum:{1:"待投放",2:"计算中",3:"投放中"},criteria:{},searchForm:{launchName:""},pageSize:10,currentPage:1,start:1,totalCount:1,isShowCondition:!1,selectStrategy:null,showEstimate:!1,estimateValue:["0"],estimateItems:[],currentLaunchId:"",showError:!1}},created:function(){this.loadData()},methods:{callback:function(){this.loadData()},handleAdd:function(){this.$emit("changeStatus",!1)},handleEdit:function(e){this.$emit("changeStatus",!1,e)},condition:function(e){var t=this;this.isShowCondition=!0,this.$service.ruleDetail({launchCrowdId:e.launchCrowdId}).then((function(e){var a=e.respcl;t.selectStrategy=a}))},del:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.launchCrowdDel({launchCrowdId:a},"删除成功").then((function(){t.callback()}))})).catch((function(){}))},loadData:function(){var e=this;this.criteria.pageNum=this.currentPage,this.criteria.pageSize=this.pageSize,this.$service.crowdList(this.criteria).then((function(t){e.tableData=t.list,e.totalCount=t.total}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},submitForm:function(){var e=this;this.$refs.searchForm.validate((function(t){if(!t)return!1;e.criteria=e.searchForm,e.loadData()}))},handleReset:function(){this.searchForm.launchName="",this.criteria={},this.loadData()},lanuch:function(e,t){var a=this;this.currentLaunchId=t.launchCrowdId,this.showEstimate=!0,this.$service.getEstimateType().then((function(e){a.estimateItems=e}))},handleEstimate:function(){var e=this;if(0!==this.estimateValue.length){this.showError=!1;var t=this.estimateValue.map((function(e){return e})).join(",");this.$service.launchCrowd({launchCrowdId:this.currentLaunchId,calIdType:t},"投放成功").then((function(){e.showEstimate=!1,e.callback()}))}else this.showError=!0},cancelLanuch:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要取消投放吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.cancelLaunchCrowd({launchCrowdId:a},"取消投放成功").then((function(){t.callback()}))})).catch((function(){}))}}},md=pd,fd=(a("f71f"),Object(U["a"])(md,ud,hd,!1,null,"60c9207c",null)),vd=fd.exports,gd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"title"},[e._v(e._s(e.title))])])],1),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"crowdForm",attrs:{model:e.crowdForm,rules:e.crowdFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"投放名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",placeholder:"投放名称",disabled:void 0!==e.status&&1!==e.status},model:{value:e.crowdForm.launchName,callback:function(t){e.$set(e.crowdForm,"launchName",t)},expression:"crowdForm.launchName"}})],1),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择投放平台"},model:{value:e.crowdForm.biIds,callback:function(t){e.$set(e.crowdForm,"biIds",t)},expression:"crowdForm.biIds"}},e._l(e.launchPlatform,(function(e){return a("el-option",{key:e.biId+"",attrs:{label:e.biName,value:e.biId+""}})})),1)],1),a("el-form-item",{attrs:{label:"数据来源",prop:"dataSource"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.crowdForm.dataSource,expression:"crowdForm.dataSource"}],attrs:{type:"hidden",value:"2"},domProps:{value:e.crowdForm.dataSource},on:{input:function(t){t.target.composing||e.$set(e.crowdForm,"dataSource",t.target.value)}}}),a("el-input",{attrs:{size:"small",readonly:"",value:"大数据"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{size:"small"},model:{value:e.crowdForm.remark,callback:function(t){e.$set(e.crowdForm,"remark",t)},expression:"crowdForm.remark"}})],1),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择策略",disabled:void 0!==e.status&&1!==e.status},on:{change:e.getCrowd,"remove-tag":e.removeTag},model:{value:e.crowdForm.policyIds,callback:function(t){e.$set(e.crowdForm,"policyIds",t)},expression:"crowdForm.policyIds"}},e._l(e.strategyPlatform,(function(t){return a("el-option",{key:t.policyId+"",attrs:{label:t.policyName,value:t.policyId+""}},[e._v(e._s(t.policyName)+"\n            ")])})),1)],1),a("el-form-item",{attrs:{label:"选择人群",prop:"policyCrowdIds"}},e._l(e.crowdData,(function(t){return a("el-form-item",{key:t.policyId,attrs:{label:t.policyName}},[a("el-checkbox-group",{attrs:{disabled:void 0!==e.status&&1!==e.status},model:{value:e.crowdForm.policyCrowdIds,callback:function(t){e.$set(e.crowdForm,"policyCrowdIds",t)},expression:"crowdForm.policyCrowdIds"}},e._l(t.childs,(function(i){return a("el-checkbox",{key:i.crowdId+"",attrs:{label:t.policyId+"_"+i.crowdId,disabled:!1===i.canLaunch}},[e._v(e._s(i.crowdName)+"\n              ")])})),1)],1)})),1)],1)],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1)},bd=[],yd={data:function(){return{strategyPlatform:[],launchPlatform:[],getStrategyCrowds:[],title:"",crowdForm:{launchCrowdId:"",launchName:"",biIds:"",remark:"",policyIds:"",policyCrowdIds:[]},status:void 0,crowdFormRules:{launchName:[{required:!0,message:"请输入投放名称",trigger:"blur"}],biIds:[{required:!0,message:"请选择投放平台",trigger:"blur"}],policyIds:[{required:!0,message:"请选择策略平台",trigger:"blur"}],policyCrowdIds:[{required:!0,message:"请选择人群",trigger:"blur"}]},filterText:"",crowdData:null}},props:["editLaunchCrowdId"],created:function(){var e=this;null!=this.editLaunchCrowdId&&void 0!=this.editLaunchCrowdId?(this.title="编辑",this.$service.modifyCrowdLanuch({launchCrowdId:this.editLaunchCrowdId}).then((function(t){if(e.launchPlatform=t.biLists,e.strategyPlatform=t.policies,t.launchCrowd){var a=t.launchCrowd;e.crowdForm.launchCrowdId=a.launchCrowdId,e.crowdForm.dmpCrowdId=a.dmpCrowdId,e.crowdForm.launchName=a.launchName,e.crowdForm.biIds=t.launchCrowdBiIds,e.crowdForm.remark=a.remark,e.crowdForm.dataSource=a.dataSource,e.status=a.status,e.crowdForm.policyIds=a.policyIds.split(","),e.getCrowd(),t.respcl.forEach((function(t){t.childs.forEach((function(a){a.choosed&&e.crowdForm.policyCrowdIds.push(t.policyId+"_"+a.crowdId)}))}))}}))):(this.title="新增",this.$service.addCrowdLanuch().then((function(t){e.launchPlatform=t.biLists,e.strategyPlatform=t.policies})))},methods:{callback:function(){this.$emit("changeStatus",!0)},removeTag:function(e){this.crowdForm.policyCrowdIds=this.crowdForm.policyCrowdIds.filter((function(t){if(t.split("_")[0]!=e)return t}))},getCrowd:function(){var e=this;this.$service.getStrategyCrowds({policyIds:this.crowdForm.policyIds.join(",")}).then((function(t){e.crowdData=t})).catch((function(){}))},addSubmit:function(){var e=this;this.$refs.crowdForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.crowdForm);a=JSON.parse(a),a.biIds=a.biIds.join(","),a.policyIds=a.policyIds.join(","),a.policyCrowdIds=a.policyCrowdIds.map((function(e){return e.split("_")[1]})).join(","),null!=e.editLaunchCrowdId&&void 0!=e.editLaunchCrowdId?e.$service.CrowdLanuchEditBtn(a,"编辑成功").then((function(){e.callback()})):e.$service.CrowdLanuchAddBtn(a,"新增成功").then((function(){e.callback()}))}))},cancelAdd:function(){this.$emit("goBack")}}},Cd=yd,wd=(a("54f8"),Object(U["a"])(Cd,gd,bd,!1,null,"37bd4ac0",null)),_d=wd.exports,Sd={name:"crowdAA",data:function(){return{isShowList:!0,editLaunchCrowdId:null}},components:{List:vd,Add:_d},methods:{changeStatus:function(e,t){this.isShowList=e,e&&this.$refs.list.loadData(),this.editLaunchCrowdId=t||null},goBack:function(){this.isShowList=!0}}},kd=Sd,Id=Object(U["a"])(kd,cd,dd,!1,null,null,null),xd=Id.exports,Td=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-tab-list"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.tabsValue,callback:function(t){e.tabsValue=t},expression:"tabsValue"}},[a("el-tab-pane",{attrs:{name:"pull",label:"人群分割投放（pull：针对主页产品包、广告、活动、弹窗、媒资）"}},[a("pull-list",{attrs:{parentSource:e.source,showAllParent:e.showAll}})],1),a("el-tab-pane",{attrs:{name:"push",label:"人群圈定投放（push：用于消息、微信圈定人群）"}},[a("push-list",{attrs:{parentSource:e.source,showAllParent:e.showAll}})],1)],1),a("div",{staticClass:"el-radio-header"},[a("el-radio-group",{model:{value:e.showAll,callback:function(t){e.showAll=t},expression:"showAll"}},[a("el-radio",{attrs:{label:!1}},[e._v("全部")]),a("el-radio",{attrs:{label:!0}},[e._v("我的投放")])],1)],1)],1)},Dd=[],$d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"strategy"},[a("c-content-wrapper",{attrs:{filter:e.filter,pagination:e.pagination},on:{"filter-change":e.handleFilterChange}},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[a("div",{staticClass:"search-input"},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入策略名称或ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.filter.search,callback:function(t){e.$set(e.filter,"search",t)},expression:"filter.search"}}),a("i",{staticClass:"el-icon-cc-search icon-fixed",on:{click:e.handleSearch}})],1)]),a("div",{staticClass:"header-right"},[a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:policy:save",expression:"'hoder:launch:policy:save'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新增投放")])],1)])]),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.launchPlatformData,(function(e){return a("el-tab-pane",{key:e.biId,attrs:{label:e.biName+"(业务id:"+e.biId+")",value:e.biId,name:"name"+e.biId}})})),1),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data}})],1),a("el-dialog",{attrs:{title:"新增投放",visible:e.showAddDialog},on:{"update:visible":function(t){e.showAddDialog=t}}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rulesData}},[a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIds"}},[a("el-select",{attrs:{multiple:""},model:{value:e.formData.biIds,callback:function(t){e.$set(e.formData,"biIds",t)},expression:"formData.biIds"}},e._l(e.Platforms,(function(e,t){return a("el-option",{key:t,attrs:{label:e.biName,value:e.biId}})})),1)],1),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{attrs:{multiple:"",filterable:""},model:{value:e.formData.policyIds,callback:function(t){e.$set(e.formData,"policyIds",t)},expression:"formData.policyIds"}},e._l(e.strategyData,(function(e,t){return a("el-option",{key:t,attrs:{label:e.policyId+"-"+e.policyName,value:e.policyId}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v("投放")]),a("el-button",{on:{click:function(t){return e.handleCancel("formData")}}},[e._v("取消")])],1)],1)],1)],1)},Ld=[],Nd=(a("386d"),{name:"strategyAA",data:function(){var e=this;return{activeName:null,biId:null,launchPlatformData:[],strategyData:[],Platforms:[],showAddDialog:!1,formData:{biIds:[],policyIds:[]},rulesData:{biIds:[{required:!0,message:"请选择投放平台",trigger:"blur"}],policyIds:[{required:!0,message:"请选择策略平台",trigger:"blur"}]},filter:{search:void 0},pagination:{},table:{props:{},header:[{label:"序号",type:"index",width:"50"},{label:"策略ID",prop:"policyId"},{label:"策略名称",prop:"policyName"},{label:"创建人",prop:"creator"},{label:"创建部门",prop:"department"},{label:"状态",prop:"status",render:function(t,a){var i=a.row;return e.launchStatusEnum[i.status]}},{label:"操作",fixed:"right",width:"100",render:this.$c_utils.component.createOperationRender(this,{cancelLaunch:"取消投放"})}],data:[]},launchStatusEnum:{1:"投放中"}}},props:["parentSource","showAllParent"],watch:{showAllParent:function(){this.fetchData(this.biId)}},methods:{getPolicyList:function(){var e=this;this.$service.launchPolicyIndex().then((function(t){e.launchPlatformData=t.biLists,e.launchPlatformData.length>0&&(e.biId=e.launchPlatformData[0].biId,e.activeName="name"+e.biId,e.fetchData(e.biId))}))},handleFilterChange:function(e,t){t&&(this.filter=t),"query"===e&&this.pagination&&(this.pagination.currentPage=1),this.fetchData(this.biId)},handleFilterReset:function(){this.filter={search:void 0},this.fetchData(this.biId)},handleSearch:function(){this.fetchData(this.biId)},handleClick:function(e){this.biId=parseInt(e.name.replace("name","")),this.pagination.currentPage=1,this.fetchData(this.biId)},fetchData:function(e){var t=this,a=e,i=this.pagination.currentPage,n=this.pagination.pageSize,r=this.filter.search;this.showAllParent?this.$service.getMyCrowdLaunchList({tabIndex:a,pageNum:i,pageSize:n,search:r}).then((function(e){t.table.data=e.list,t.pagination.total=e.total})):this.$service.getCrowdsListByPolicyId({tabIndex:a,pageNum:i,pageSize:n,search:r}).then((function(e){t.table.data=e.list,t.pagination.total=e.total}))},handleAdd:function(){var e=this;this.showAddDialog=!0,this.showAllParent?this.$service.getAddMyCrowdData().then((function(t){e.Platforms=t.biLists,e.strategyData=t.polices})):this.$service.getAddCrowdData().then((function(t){e.Platforms=t.biLists,e.strategyData=t.polices}))},cancelLaunch:function(e){var t=this,a=e.row,i={launchPolicyId:a.launchPolicyId,policyId:a.policyId,biId:this.biId};this.$confirm("确定要取消投放吗？取消投放之后这条记录将被删除，且策略及人群将不会投放到业务平台。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.cancelLaunchData(i,"取消投放成功").then((function(){t.fetchData(t.biId)}))}))},handleCancel:function(e){this.showAddDialog=!1,this.$refs[e].resetFields()},submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;var i=JSON.stringify(t.formData);i=JSON.parse(i),t.$service.saveAddCrowdData(i).then((function(){t.showAddDialog=!1,t.fetchData(t.biId),t.$refs[e].resetFields()})).catch((function(e){console.log(e)}))}))}},created:function(){this.getPolicyList()}}),Od=Nd,Pd=(a("fe1a"),Object(U["a"])(Od,$d,Ld,!1,null,"0ceb3758",null)),Ed=Pd.exports,Ad=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("list",{directives:[{name:"show",rawName:"v-show",value:e.isShowList,expression:"isShowList"}],ref:"list",attrs:{parentSource:e.parentSource,showAllParent:e.showAllParent},on:{changeStatus:e.changeStatus}}),e.isShowList?e._e():a("add",{attrs:{model:e.addModel,showAllParent:e.showAllParent,editLaunchCrowdId:e.editLaunchCrowdId,editStatus:e.editStatus,parentSource:e.parentSource},on:{changeStatus:e.changeStatus,goBack:e.goBack}})],1)},Fd=[],Vd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-list"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[a("div",{staticClass:"search-input"},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入投放名称或ID",clearable:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchForm.launchName,callback:function(t){e.$set(e.searchForm,"launchName",t)},expression:"searchForm.launchName"}}),a("i",{staticClass:"el-icon-cc-search icon-fixed",on:{click:e.handleSearch}})],1)]),a("div",{staticClass:"header-right"},[a("div",{staticClass:"button-list"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:add",expression:"'hoder:launch:crowd:ver:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("\n                    新增投放\n                ")]),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"createTime"}},[e._v("创建时间")]),a("el-checkbox",{attrs:{label:"creatorName"}},[e._v("创建人")]),a("el-checkbox",{attrs:{label:"status"}},[e._v("投放状态")]),a("el-checkbox",{attrs:{label:"department"}},[e._v("业务部门")]),a("el-checkbox",{attrs:{label:"totalWxOpenid"}},[e._v("微信openId数量")]),a("el-checkbox",{attrs:{label:"totalPhone"}},[e._v("手机号数量")]),a("el-checkbox",{attrs:{label:"totalUser"}},[e._v("设备数量")]),a("el-checkbox",{attrs:{label:"totalCoocaaOpenid"}},[e._v("酷开openId数量")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)])]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"投放ID",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:4===e.launchStatusEnum[t.row.history.status].code||5===e.launchStatusEnum[t.row.history.status].code?"red-text":""},[4===e.launchStatusEnum[t.row.history.status].code||5===e.launchStatusEnum[t.row.history.status].code?a("span",[e._v("！")]):e._e(),a("span",[e._v(e._s(t.row.launchCrowdId))])])]}}])}),a("el-table-column",{attrs:{prop:"launchName",label:"投放名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.abTest?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showABTestDetail(t.row)}}},[e._v(e._s(t.row.launchName))]):a("span",{class:4===e.launchStatusEnum[t.row.history.status].code||5===e.launchStatusEnum[t.row.history.status].code?"red-text":""},[e._v(e._s(t.row.launchName))])]}}])}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"大数据标识",width:"90"}}),a("el-table-column",{attrs:{prop:"biName",label:"投放平台",width:"120"}}),e.checkList.indexOf("status")>-1?a("el-table-column",{attrs:{prop:"status",label:"人群状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.status?a("div",[t.row.history.status>=20&&t.row.history.status<30?a("div",[e._v("\n                  "+e._s(t.row.history.process)+"\n                ")]):3===e.launchStatusEnum[t.row.history.status].code?a("div",[e._v("\n                  计算完成\n                ")]):2===e.launchStatusEnum[t.row.history.status].code&&23===e.launchStatusEnum[t.row.history.status].childrenCode?a("div",[e._v("\n                  "+e._s(e.launchStatusEnum[t.row.history.status].childrenName)+"\n                ")]):1===e.launchStatusEnum[t.row.history.status].code||4===e.launchStatusEnum[t.row.history.status].code||7===e.launchStatusEnum[t.row.history.status].code?a("div",[4===e.crowdType?a("span",[e._v("计算")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.calculate(t.row)}}},[e._v("计算")])],1):5===e.launchStatusEnum[t.row.history.status].code?a("div",{staticStyle:{color:"red"}},[e._v("\n                  计算失败\n                  ")]):a("div",[e._v("\n                  "+e._s(e.launchStatusEnum[t.row.history.status].name)+"\n                ")])]):e._e()]}}],null,!1,2542193e3)}):e._e(),a("el-table-column",{attrs:{label:"人群类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.crowdType[t.row.isFxFullSql])+"\n            ")]}}])}),e.checkList.indexOf("totalUser")>-1?a("el-table-column",{attrs:{label:"设备数量",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.totalUser?a("div",[e._v("\n                    "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n                ")]):a("div",[e._v("\n                    "+e._s(t.row.history.totalUser)+"\n                ")])]}}],null,!1,3389390786)}):e._e(),e.checkList.indexOf("totalPhone")>-1?a("el-table-column",{attrs:{prop:"history.totalPhone",label:"手机号数量",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.totalPhone?a("div",[e._v("\n                    "+e._s(e.cc_format_number(t.row.history.totalPhone))+"\n                ")]):a("div",[e._v("\n                    "+e._s(t.row.history.totalPhone)+"\n                ")])]}}],null,!1,3937445711)}):e._e(),e.checkList.indexOf("totalWxOpenid")>-1?a("el-table-column",{attrs:{prop:"history.totalWxOpenid",label:"微信openId数量",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.totalWxOpenid?a("div",[e._v("\n                    "+e._s(e.cc_format_number(t.row.history.totalWxOpenid))+"\n                ")]):a("div",[e._v("\n                    "+e._s(t.row.history.totalWxOpenid)+"\n                ")])]}}],null,!1,2733676581)}):e._e(),e.checkList.indexOf("totalCoocaaOpenid")>-1?a("el-table-column",{attrs:{prop:"history.totalCoocaaOpenid",label:"酷开openId数量",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.totalCoocaaOpenid?a("div",[e._v("\n                    "+e._s(e.cc_format_number(t.row.history.totalCoocaaOpenid))+"\n                ")]):a("div",[e._v("\n                    "+e._s(t.row.history.totalCoocaaOpenid)+"\n                ")])]}}],null,!1,2212552042)}):e._e(),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{prop:"creatorName",label:"创建人"}}):e._e(),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{prop:"department",label:"业务部门"}}):e._e(),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",{staticClass:"button-group-position"},[0===t.row.pushLaunchStatus||2===t.row.pushLaunchStatus?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:launch",expression:"'hoder:launch:crowd:ver:launch'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.lanuch(t.$index,t.row)}}},[e._v("投放")]):a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:cancel",expression:"'hoder:launch:crowd:ver:cancel'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.cancelLanuch(t.row)}}},[e._v("取消投放")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:detail",expression:"'hoder:launch:crowd:ver:detail'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.condition(t.row)}}},[e._v("人群条件")]),a("el-dropdown",{on:{command:e.handleCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                            操作\n                        ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:modify",expression:"'hoder:launch:crowd:ver:modify'"}],attrs:{command:["edit",t.row]}},[e._v("编辑\n                            ")]),1===t.row.isFxFullSql&&91===e.launchStatusEnum[t.row.history.status].code?a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["adjust",t.row]}},[e._v("调整波动阀值\n                            ")]):e._e(),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["monitor",t.row]}},[e._v("数据监控\n                            ")]),1===t.row.isFxFullSql&&t.row.tempCrowdId>0?a("span",[t.row.launchTempCrowdStatus?e._e():a("span",[a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:delete",expression:"'hoder:launch:crowd:ver:delete'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                                    ")])],1)]):a("span",[1===e.launchStatusEnum[t.row.history.status].code||4===e.launchStatusEnum[t.row.history.status].code||5===e.launchStatusEnum[t.row.history.status].code||7===e.launchStatusEnum[t.row.history.status].code?a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:delete",expression:"'hoder:launch:crowd:ver:delete'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                                ")]):e._e()],1),1==t.row.isFxFullSql&&!1===t.row.abTest&&1===e.launchStatusEnum[t.row.history.status].code?a("el-dropdown-item",{attrs:{command:["divide",t.row]}},[e._v("AB实验\n                            ")]):e._e(),1!==e.launchStatusEnum[t.row.history.status].code?a("el-dropdown-item",{attrs:{command:["commitHistory",t.row],divided:""}},[e._v("提交历史数据\n                            ")]):e._e(),t.row.myCollect?e._e():a("el-dropdown-item",{attrs:{command:["collect",t.row]}},[e._v("添加到'我的'")]),t.row.myCollect&&!e.parentSource?a("el-dropdown-item",{attrs:{disabled:""}},[e._v("添加到'我的'")]):e._e(),t.row.myCollect&&e.parentSource&&t.row.creator!==e.$appState.user.userId?a("el-dropdown-item",{attrs:{command:["collect",t.row]}},[e._v("从'我的'删除")]):e._e()],1)],1),1!==e.launchStatusEnum[t.row.history.status].code?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleGetLaunchDetail(t.row)}}},[e._v("投放详情")]):e._e()],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:e.launchTitle,visible:e.isShowCondition},on:{"update:visible":function(t){e.isShowCondition=t}}},[0===e.launchType?a("el-form",e._l(e.selectStrategy,(function(t){return a("el-form-item",{key:t.policyName,attrs:{label:t.policyName}},e._l(t.childs,(function(t){return a("el-checkbox",{key:t.crowdId,attrs:{disabled:""},model:{value:t.choosed,callback:function(a){e.$set(t,"choosed",a)},expression:"v.choosed"}},[e._v(e._s(t.crowdName)+"\n                ")])})),1)})),1):e._e(),1===e.launchType||3===e.launchType?a("div",[e._v(e._s(e.selectStrategy))]):e._e()],1),a("el-dialog",{attrs:{visible:e.showEstimate},on:{"update:visible":function(t){e.showEstimate=t}}},[a("div",{staticClass:"choose-tip"},[e._v("请选择下列需要估算的字段，勾选保存后将估算该字段的人群数量")]),a("el-checkbox-group",{attrs:{disabled:e.accountDefine,"aria-required":"true"},model:{value:e.estimateValue,callback:function(t){e.estimateValue=t},expression:"estimateValue"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i}},[e._v(e._s(t))])})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],staticClass:"error-msg"},[e._v("请至少选择一个要投放的人群")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showEstimate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEstimate(e.estimateValue)}}},[e._v("投放")])],1)],1),a("el-dialog",{attrs:{visible:e.showDivide,title:"圈定人群划分AB test"},on:{"update:visible":function(t){e.showDivide=t}}},[a("el-form",{attrs:{model:e.divideForm,"label-width":"120px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],staticClass:"first-step"},[a("div",[e._v("第一步：填写人群份数")]),a("el-form-item",{attrs:{label:"人群划分份数："}},[a("el-select",{attrs:{size:"mini"},model:{value:e.copies,callback:function(t){e.copies=t},expression:"copies"}},e._l(e.parts,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1),e._v("份\n                ")],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.firstStep}},[e._v("下一步")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.step,expression:"step === 2"}],staticClass:"first-step"},[a("div",[e._v("第二步：设置人群占比")]),a("el-form-item",{attrs:{label:"各人群占比："}},e._l(e.copiesItem,(function(t,i){return a("div",{key:i,staticClass:"block"},[a("span",[e._v("人群_"+e._s(e.alphaData[i])),a("span",{staticClass:"show-percent"},[e._v(e._s(e.percent[i])+"%")])]),a("el-slider",{key:t,model:{value:e.percent[i],callback:function(t){e.$set(e.percent,i,t)},expression:"percent[index]"}})],1)})),0),a("el-form-item",{attrs:{label:"比例总和："}},[e._v(e._s(e.percentTotal))]),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.step=1}}},[e._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:e.secondStep}},[e._v("下一步")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.step,expression:"step === 3"}],staticClass:"first-step"},[a("div",[e._v("第三步：勾选计算的类型")]),a("el-form-item",{attrs:{label:""}},[a("el-checkbox-group",{attrs:{"aria-required":"true"},model:{value:e.divideForm.calType,callback:function(t){e.$set(e.divideForm,"calType",t)},expression:"divideForm.calType"}},e._l(e.divideEstimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:parseInt(t.value)}},[e._v(e._s(t.label))])})),1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.step=2}}},[e._v("上一步")]),a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.finish(0)}}},[e._v("存稿不投放")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish(1)}}},[e._v("投放")])],1)],1)])],1),a("el-dialog",{attrs:{visible:e.showCountFailDialog,title:"计算失败"},on:{"update:visible":function(t){e.showCountFailDialog=t}}},[a("div",{staticClass:"count-fail-text"},[e._v("计算失败，原因可能是sql出错或者大数据计算失败，若想再次计算，请重新点击【投放】按钮")])]),a("el-dialog",{attrs:{visible:e.showDivideDetailDialog,title:"划分详情"},on:{"update:visible":function(t){e.showDivideDetailDialog=t}}},[e.DivideTableData.length>0?a("div",{staticStyle:{margin:"-15px 0 20px 0"}},[e._v("\n            实验有效期："+e._s(e.DivideTableData[0].abStartTime)+" - "+e._s(e.DivideTableData[0].abEndTime)+"\n        ")]):e._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.DivideTableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"投放子ID"}}),a("el-table-column",{attrs:{prop:"launchName",label:"人群名称"}}),a("el-table-column",{attrs:{prop:"ratio",label:"占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.ratio)+"%\n                ")]}}])}),a("el-table-column",{attrs:{prop:"count",label:"数量"}})],1)],1),a("commit-history-dialog",{attrs:{setShowCommitHistoryDialog:e.setShowCommitHistoryDialog,crowdId:e.currentCrowdId},on:{closeDialog:function(t){e.setShowCommitHistoryDialog=!1},submit:e.handleSubmitHistory}}),a("el-dialog",{attrs:{title:"投放详情",visible:e.showLaunchDetail},on:{"update:visible":function(t){e.showLaunchDetail=t}}},[a("el-form",{attrs:{form:e.launchDetailFormData,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"创建时间："}},[e._v(e._s(e.launchDetailFormData.createTime||"暂无数据"))]),a("el-form-item",{attrs:{label:"是否更新："}},[e._v(e._s(e.updateEnum[e.launchDetailFormData.autoVision]||"暂无数据"))]),a("el-form-item",{attrs:{label:"更新时间："}},[e._v(e._s(e.launchDetailFormData.autoTime||"暂无数据"))]),a("el-form-item",{attrs:{label:"任务调度是否更新："}},[e._v(e._s(e.updateEnum[e.launchDetailFormData.autoUpdate]||"暂无数据"))]),a("el-form-item",{attrs:{label:"任务调度："}},[e.launchDetailFormData.logs.length>0?a("div",e._l(e.launchDetailFormData.logs,(function(t,i){return a("div",{key:i},[e._v(e._s(t))])})),0):a("div",[e._v("暂无数据")])]),a("el-form-item",{attrs:{label:"所属标签分类："}},[e._v(e._s(e.launchDetailFormData.tempTag||"暂无数据"))])],1)],1),a("el-dialog",{attrs:{title:"数据监控",visible:e.monitorDialog},on:{"update:visible":function(t){e.monitorDialog=t}}},[a("el-date-picker",{staticClass:"monitor-time",attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd"},on:{change:e.getDataMonitor},model:{value:e.monitorRangeTime,callback:function(t){e.monitorRangeTime=t},expression:"monitorRangeTime"}}),e.isShowMonitorTab?a("div",{staticClass:"monitor-legend"},[a("el-radio-group",{model:{value:e.monitorTab,callback:function(t){e.monitorTab=t},expression:"monitorTab"}},[a("el-radio-button",{attrs:{label:"mac"}},[e._v("设备数量")]),a("el-radio-button",{attrs:{label:"wx"}},[e._v("wxopenId")])],1)],1):e._e(),"mac"===e.monitorTab&&e.isShowMonitorTab||e.chartMonitorMacData&&!e.isShowMonitorTab?a("ve-histogram",{attrs:{settings:{yAxisName:["设备数量"],xAxisType:["value"]},extend:e.chartExtend,data:e.chartMonitorMacData}}):e._e(),"wx"===e.monitorTab&&e.isShowMonitorTab||e.chartMonitorWxData&&!e.isShowMonitorTab?a("ve-histogram",{attrs:{settings:{yAxisName:["wxopenId"],xAxisType:["value"]},extend:e.chartExtend,data:e.chartMonitorWxData}}):e._e(),a("c-table",{staticClass:"table-overflow",attrs:{props:e.monitorTable.props,header:e.monitorTable.header,data:e.monitorTable.data}}),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.monitorOutForm.pageNum,pagesize:e.monitorOutForm.pageSize,totalcount:e.monitorTotal},on:{"handle-size-change":e.handleMonitorSizeChange,"handle-current-change":e.handleMonitorCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"调整波动阀值",visible:e.adjustDialog,width:e.screenWidth>1100?"1020px":"80%"},on:{"update:visible":function(t){e.adjustDialog=t}}},[a("ve-line",{attrs:{data:e.adjustChartdata,settings:{yAxisType:["percent"]},extend:e.adjustExtend}}),a("el-form",{attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"Mac数量基准",prop:"macInitialValue"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.crowdDefineForm.macInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"macInitialValue",t)},expression:"crowdDefineForm.macInitialValue"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"环比低于","label-width":"100px",prop:"macBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.macBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"macBelowPer",t)},expression:"crowdDefineForm.macBelowPer"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"%,则告警"}})],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"环比高于","label-width":"100px",prop:"macAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.macAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"macAbovePer",t)},expression:"crowdDefineForm.macAbovePer"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"%,则告警"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"微信数量基准",prop:"wxInitialValue"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.crowdDefineForm.wxInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"wxInitialValue",t)},expression:"crowdDefineForm.wxInitialValue"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"环比低于","label-width":"100px",prop:"wxBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.wxBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"wxBelowPer",t)},expression:"crowdDefineForm.wxBelowPer"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"%,则告警"}})],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"环比高于","label-width":"100px",prop:"wxAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.wxAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"wxAbovePer",t)},expression:"crowdDefineForm.wxAbovePer"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"%,则告警"}})],1)],1)],1)],1),e.selectedRow&&e.selectedRow.history&&91===e.selectedRow.history.status?a("el-row",{attrs:{justify:"end"}},[a("el-col",{attrs:{span:4,offset:20}},[a("el-button",{on:{click:function(t){e.adjustDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleFluctuationLaunch}},[e._v("确定调整")])],1)],1):e._e()],1)],1)],1)},Rd=[];a("4917");function jd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Bd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jd(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Md={components:{CommitHistoryDialog:tr},data:function(){return{tableData:[],launchStatusEnum:{},criteria:{},searchForm:{launchName:""},adjustExtend:{series:{smooth:!1,type:"line"}},screenWidth:void 0,crowdDefineForm:{macInitialValue:void 0,macAbovePer:void 0,macBelowPer:void 0,wxInitialValue:void 0,wxAbovePer:void 0,wxBelowPer:void 0},pageSize:10,currentPage:1,start:1,totalCount:1,isShowCondition:!1,selectStrategy:null,adjustDialog:!1,adjustChartdata:void 0,monitorDialog:!1,monitorRangeTime:void 0,monitorOutForm:{pageSize:10,pageNum:1},monitorTotal:0,monitorTable:{props:{},header:[{label:"人群名称",prop:"launch_name"},{label:"投放ID（dmp_crowd_id）",prop:"launch_crowd_id"},{label:"临时人群（SQL）指令",prop:"crowd_sql",render:function(e,t){return e("el-tooltip",{props:{effect:"dark",content:t.row.crowd_sql,placement:"top"}},[e("el-button",{props:{type:"text"}},t.row.crowd_sql?t.row.crowd_sql.slice(0,20):"")])}},{label:"临时人群版本号",prop:"version"},{label:"当前版本",prop:"cur_version"},{label:"临时人群es index",prop:"es_index"},{label:"状态",prop:"status_name"},{label:"临时人群同步日期",prop:"update_time"}],data:[]},chartMonitorMacData:void 0,chartMonitorWxData:void 0,selectedRow:{},monitorTab:"mac",showEstimate:!1,showLaunchTip:!1,launchTip:"",currentLaunchRow:{},estimateValue:["0"],estimateItems:[],currentLaunchId:"",showError:!1,launchType:void 0,launchTitle:"",showDivide:!1,parts:[2,3,4,5],copies:2,step:1,divideForm:this.genDefaultDivideForm(),copiesItem:[],percent:[],alphaData:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],divideEstimateItems:[],showCountFailDialog:!1,percentTotal:0,showDivideDetailDialog:!1,DivideTableData:[],setShowCommitHistoryDialog:!1,currentCrowdId:void 0,crowdType:{0:"普通人群",1:"自定义人群",2:"本地人群",3:"行为人群",4:"数据银行人群"},checkList:["status","totalWxOpenid","totalUser"],showLaunchDetail:!1,launchDetailFormData:{createTime:"",autoUpdate:null,autoTime:"",logs:[],tempTag:"",autoVision:null},updateEnum:{0:"否",1:"是"},chartExtend:{xAxis:{axisLabel:{margin:15,interval:0,rotate:45},triggerEvent:!0}},accountDefine:!1}},props:["parentSource","showAllParent"],created:function(){this.screenWidth=window.screen.width,this.loadData(),this.monitorRangeTime=[this.$moment().subtract(6,"days").format("YYYY-MM-DD"),this.$moment().subtract(0,"days").format("YYYY-MM-DD")]},computed:{isShowMonitorTab:function(){return this.chartMonitorMacData&&this.chartMonitorWxData}},watch:{percent:function(e){this.percentTotal=e.reduce((function(e,t){return e+t}))},showAllParent:function(){this.loadData()}},methods:{calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.loadData()}))},genDefaultDivideForm:function(e){return Bd({launchCrowdId:void 0,pct:[],calType:[]},e)},callback:function(){this.loadData()},handleAdd:function(){this.$emit("changeStatus",!1,0)},handleCrowdDefineAdd:function(){this.$emit("changeStatus",!1,1)},handleEdit:function(e){this.$emit("changeStatus",!1,e.isFxFullSql,e.launchCrowdId,this.launchStatusEnum[e.history.status].code)},condition:function(e){var t=this;this.isShowCondition=!0,this.$service.MultiVersionCrowdPeople({launchCrowdId:e.launchCrowdId}).then((function(e){t.launchType=e.type,1===e.type||3===e.type?(t.launchTitle="人群条件",t.selectStrategy=e.sqlRule):(t.launchTitle="选择的策略",t.selectStrategy=e.respcl)}))},del:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delMultiVersionCrowd(a,"删除成功").then((function(){t.callback()}))})).catch((function(){}))},loadData:function(){var e=this;this.$service.getListDimension({type:3}).then((function(t){t&&t.behaviorShow&&(e.checkList=t.behaviorShow.split(","))})),this.criteria.pageNum=this.currentPage,this.criteria.pageSize=this.pageSize,this.showAllParent?this.$service.getMyMultiVersionCrowd(this.criteria).then((function(t){e.launchStatusEnum=t.launchStatusEnum,e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total})):this.$service.getMultiVersionCrowd(this.criteria).then((function(t){e.launchStatusEnum=t.launchStatusEnum,e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},handleSearch:function(){this.criteria=this.searchForm,this.loadData()},handleReset:function(){this.searchForm.launchName="",this.criteria={},this.loadData()},lanuch:function(e,t){var a=this;this.currentLaunchRow=t,this.currentLaunchId=t.launchCrowdId,this.showEstimate=!0,t.setCalculate?(this.accountDefine=!0,this.estimateValue=["0","1","2","3"]):(this.accountDefine=!1,this.estimateValue=["0"]),this.$service.getEstimateType().then((function(e){a.estimateItems=e}))},handleEstimate:function(e){var t=this;if(0!==e.length){var a=e.map((function(e){return e})).join(",");this.$service.LaunchMultiVersionCrowd({launchCrowdId:this.currentLaunchId,calIdType:a},"投放成功").then((function(){t.showEstimate=!1,t.callback()}))}else this.$message.error("请至少选择一个要投放的人群")},cancelLanuch:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要取消投放吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.cancelLaunchMultiVersionCrowd({launchCrowdId:a},"取消投放成功").then((function(){t.callback()}))})).catch((function(){}))},objectToArray:function(e){var t=[];for(var a in e)t.push({value:a,label:e[a]});return t},handleCommandOpreate:function(e){var t=e[0],a=e[1];switch(t){case"edit":this.handleEdit(a);break;case"del":this.del(a);break;case"divide":this.divideAB(a);break;case"commitHistory":this.handleCommitHistory(a);break;case"collect":this.handlePushCollect(a);break;case"adjust":this.handleAdjust(a);break;case"monitor":this.handleMonitor(a);break}},handleFluctuationLaunch:function(){var e=this,t=JSON.parse(JSON.stringify(this.crowdDefineForm)),a=t.macInitialValue,i=t.wxInitialValue;t.macInitialValue=a?a.toString().replace(/,/g,""):void 0,t.wxInitialValue=i?i.toString().replace(/,/g,""):void 0,this.$service.fluctuationLaunch(Bd({launchCrowdId:this.selectedRow.launchCrowdId},t),"调整成功").then((function(){e.adjustDialog=!1}))},format_number:function(e){var t=parseInt(e).toString(),a=t.length;if(a<=3)return t;var i=a%3;return i>0?t.slice(0,i)+","+t.slice(i,a).match(/\d{3}/g).join(","):t.slice(i,a).match(/\d{3}/g).join(",")},handleAdjust:function(e){var t=this;this.adjustDialog=!0,this.selectedRow=e,this.$service.fluctuation({launchCrowdId:e.launchCrowdId}).then((function(e){var a=e.multiVersionCrowd,i=a.macInitialValue,n=a.macAbovePer,r=a.macBelowPer,s=a.wxInitialValue,o=a.wxAbovePer,l=a.wxBelowPer;t.crowdDefineForm={macInitialValue:null===i?void 0:t.format_number(i),macAbovePer:null===n?void 0:n,macBelowPer:null===r?void 0:r,wxInitialValue:null===s?void 0:t.format_number(s),wxAbovePer:null===o?void 0:o,wxBelowPer:null===l?void 0:l},t.adjustChartdata={columns:["日期","mac数量波动","微信数量波动"]};var c=e.data.reduce((function(e,t){return e.push({"日期":t.date,"mac数量波动":t.macTrendPer,"微信数量波动":t.wxTrendPer}),e}),[]);t.adjustChartdata={columns:["日期","mac数量波动","微信数量波动"],rows:c}}))},handleMonitor:function(e){this.monitorDialog=!0,this.selectedRow=e,this.getDataMonitor()},setMonitorFormart:function(e){var t=["日期","SQL圈定的人群数量","DMP收到的人群数量"],a=e.reduce((function(e,t){return e.push({"DMP收到的人群数量":t.rec_num,"SQL圈定的人群数量":t.cul_num,"日期":t.date}),e}),[]);return{columns:t,rows:a}},getDataMonitor:function(){var e=this,t=this.monitorRangeTime,a=t[0],i=t[1];this.$service.dataMonitor({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i}).then((function(t){e.monitorTab=t.mac?"mac":"wx",e.chartMonitorMacData=t.mac?e.setMonitorFormart(t.mac):void 0,e.chartMonitorWxData=t.wx?e.setMonitorFormart(t.wx):void 0})),this.handleGetMonitorTableList()},handleGetMonitorTableList:function(){var e=this,t=this.monitorRangeTime,a=t[0],i=t[1],n=Bd({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i},this.monitorOutForm);this.$service.launchVersionList(n).then((function(t){t?(e.monitorTotal=t.pageInfo.total,e.monitorTable.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleMonitorSizeChange:function(e){this.monitorOutForm.pageSize=e,this.monitorOutForm.pageNum=1,this.handleGetMonitorTableList()},handleMonitorCurrentChange:function(e){this.monitorOutForm.pageNum=e,this.handleGetMonitorTableList()},divideAB:function(e){this.showDivide=!0,this.step=1,this.copies=2;var t=this.genDefaultDivideForm();t.launchCrowdId=e.launchCrowdId,this.divideForm=t},firstStep:function(){this.step=2;for(var e=this.copies,t=[],a=[],i=0;i<e;i++)t.push(i),a.push(parseInt(100/e));var n=a.reduce((function(e,t){return e+t}));if(100%e!==0){var r=100-n;a[e-1]=a[e-1]+r}this.copiesItem=t,this.percent=a},secondStep:function(){var e=this;100!==this.percentTotal?this.$message.error("所有比例总和必须等于100%"):(this.step=3,this.divideForm.pct=this.percent,this.$service.getEstimateType().then((function(t){e.divideEstimateItems=e.objectToArray(t)})))},finish:function(e){var t=this,a=this.divideForm.launchCrowdId,i=this.divideForm;if(0!==i.calType.length){var n={pct:i.pct,calType:i.calType};this.$service.ABTestAdd({model:a,data:n},"新增A/B test划分成功").then((function(){t.showDivide=!1,t.callback(),1===e&&(t.currentLaunchId=t.divideForm.launchCrowdId,t.handleEstimate(n.calType))}))}else this.$message.error("请至少勾选一个计算的类型进行投放")},handleCountFail:function(){this.showCountFailDialog=!0},showABTestDetail:function(e){var t=this,a=e.launchCrowdId;this.$service.getABTestDetail(a).then((function(e){t.showDivideDetailDialog=!0,t.DivideTableData=e.abTestRatio}))},handleCommitHistory:function(e){this.setShowCommitHistoryDialog=!0,this.currentCrowdId=e.launchCrowdId},handleSubmitHistory:function(e){var t=this,a={isSubmit:e.isSubmit,launchCrowdId:e.id,dateNum:e.dateNum};this.$service.submitMultiHistoryData(a,1===e.isSubmit?"提交历史数据成功":"关闭提交成功").then((function(){t.setShowCommitHistoryDialog=!1}))},handleGetLaunchDetail:function(e){var t=this;this.showLaunchDetail=!0,this.$service.getPushLaunchDetail(e.launchCrowdId).then((function(e){t.launchDetailFormData=e}))},handlePushCollect:function(e){var t=this,a=e.myCollect,i=e.launchCrowdId;a?this.$service.removeCollectPush({launchCrowdId:i},"成功取消收藏此圈定人群！").then((function(){t.loadData()})):this.$service.collectPush({launchCrowdId:i},"成功收藏圈定人群！").then((function(){t.loadData()}))},handleCheckListChange:function(e){this.$service.saveListDimension({type:3,behaviorShow:e.join(",")})}}},zd=Md,qd=(a("8bb3"),Object(U["a"])(zd,Vd,Rd,!1,null,"5a80e6f6",null)),Jd=qd.exports,Gd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"title"},[e._v(e._s(e.title))])])],1),1==e.model&&e.isTempCrowd?a("div",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"crowdDefineForm",attrs:{model:e.crowdDefineForm,rules:e.crowdDefineFormRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"人群名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",disabled:void 0!==e.status&&(2===e.status||3===e.status),maxlength:50},model:{value:e.crowdDefineForm.launchName,callback:function(t){e.$set(e.crowdDefineForm,"launchName",t)},expression:"crowdDefineForm.launchName"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"crowdSql"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入生成临时人群的sql语句",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.crowdSql,callback:function(t){e.$set(e.crowdDefineForm,"crowdSql",t)},expression:"crowdDefineForm.crowdSql"}})],1),a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"投放平台",prop:"biIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择投放平台"},model:{value:e.crowdDefineForm.biIds,callback:function(t){e.$set(e.crowdDefineForm,"biIds",t)},expression:"crowdDefineForm.biIds"}},e._l(e.launchPlatform,(function(e,t){return a("el-option",{key:t,attrs:{label:e.biName,value:e.biId+""}})})),1)],1),a("el-form-item",{attrs:{label:"数据有效期",prop:"expiryDay"}},[a("el-select",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.expiryDay,callback:function(t){e.$set(e.crowdDefineForm,"expiryDay",t)},expression:"crowdDefineForm.expiryDay"}},e._l(e.effectTimeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"horizontal-line"},[a("el-form-item",{attrs:{label:"是否生成临时标签",prop:"proTempTag"}},[a("el-radio-group",{model:{value:e.crowdDefineForm.proTempTag,callback:function(t){e.$set(e.crowdDefineForm,"proTempTag",t)},expression:"crowdDefineForm.proTempTag"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),!0===e.crowdDefineForm.proTempTag?a("el-form-item",{attrs:{label:"选择标签",prop:"tagId"}},[a("el-select",{staticClass:"select-tag",attrs:{filterable:"",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.tagId,callback:function(t){e.$set(e.crowdDefineForm,"tagId",t)},expression:"crowdDefineForm.tagId"}},e._l(e.tagsList,(function(e){return a("el-option",{key:e.tagId,attrs:{label:e.tagName,value:e.tagId}})})),1)],1):e._e()],1),a("div",{staticClass:"horizontal-line"},[a("el-form-item",{attrs:{label:"每天是否更新",prop:"autoVersion"}},[a("el-radio-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.autoVersion,callback:function(t){e.$set(e.crowdDefineForm,"autoVersion",t)},expression:"crowdDefineForm.autoVersion"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),1===e.crowdDefineForm.autoVersion?a("el-form-item",{attrs:{label:"每天更新时间点",prop:"autoLaunchTime"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss",disabled:void 0!==e.status&&(2===e.status||3===e.status),"picker-options":{selectableRange:"9:00:00 - 23:59:59"}},model:{value:e.crowdDefineForm.autoLaunchTime,callback:function(t){e.$set(e.crowdDefineForm,"autoLaunchTime",t)},expression:"crowdDefineForm.autoLaunchTime"}})],1):e._e()],1),1===e.crowdDefineForm.autoVersion?a("div",{staticClass:"basic-line"},[a("el-form-item",{staticClass:"one-line",attrs:{label:"Mac数量基准"}},[a("el-form-item",{staticClass:"inline-block  base-line",attrs:{label:"",prop:"macInitialValue"}},[a("cc-input-thousands-int",{ref:"inputThousandsInt",on:{change:e.handleRule},model:{value:e.crowdDefineForm.macInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"macInitialValue",t)},expression:"crowdDefineForm.macInitialValue"}})],1),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比低于","label-width":"100px",prop:"macBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.macBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"macBelowPer",t)},expression:"crowdDefineForm.macBelowPer"}})],1),e._v("  %，则告警\n                              "),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比高于","label-width":"100px",prop:"macAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.macAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"macAbovePer",t)},expression:"crowdDefineForm.macAbovePer"}})],1),e._v("  %，则告警\n                              "),a("span",[e._v("请至少填写一组基准和环比阀值")])],1),a("el-form-item",{staticClass:"one-line",attrs:{label:"微信数量基准"}},[a("el-form-item",{staticClass:"inline-block  base-line",attrs:{label:"",prop:"wxInitialValue"}},[a("cc-input-thousands-int",{model:{value:e.crowdDefineForm.wxInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"wxInitialValue",t)},expression:"crowdDefineForm.wxInitialValue"}})],1),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比低于","label-width":"100px",prop:"wxBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.wxBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"wxBelowPer",t)},expression:"crowdDefineForm.wxBelowPer"}})],1),e._v("  %，则告警\n                              "),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比高于","label-width":"100px",prop:"wxAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.wxAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"wxAbovePer",t)},expression:"crowdDefineForm.wxAbovePer"}})],1),e._v("  %，则告警\n                                "),a("span",[e._v("请至少填写一组基准和环比阀值")])],1),a("div",{staticClass:"basic-line-error"},[e._v(e._s(e.basicLineErrorText))])],1):e._e(),a("el-form-item",{attrs:{label:"数据类型",prop:"calType"}},[a("el-checkbox-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.calType,callback:function(t){e.$set(e.crowdDefineForm,"calType",t)},expression:"crowdDefineForm.calType"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i,disabled:0==i}},[e._v(e._s(t))])})),1)],1),null!=e.editLaunchCrowdId&&void 0!=e.editLaunchCrowdId&&e.crowdDefineForm.abTest?a("div",{staticStyle:{width:"80%"}},[a("el-form-item",{attrs:{label:"人群划分份数"}},[a("el-input",{staticStyle:{width:"10%","margin-right":"10px"},attrs:{disabled:""},model:{value:e.abTestApart,callback:function(t){e.abTestApart=t},expression:"abTestApart"}}),e._v("份\n                    ")],1),a("el-form-item",{attrs:{label:"各人群占比"}},e._l(e.copiesItem,(function(t,i){return a("div",{key:i,staticClass:"block"},[a("span",[e._v("人群_"+e._s(e.alphaData[i])),a("span",{staticClass:"show-percent"},[e._v(e._s(e.percent[i])+"%")])]),a("el-slider",{key:t,attrs:{disabled:2===e.status||3===e.status},model:{value:e.percent[i],callback:function(t){e.$set(e.percent,i,t)},expression:"percent[index]"}})],1)})),0),a("el-form-item",{attrs:{label:"比例总和："}},[e._v(e._s(e.percentTotal))])],1):e._e(),a("el-form-item",{attrs:{label:"该人群所属的视频源"}},[a("el-radio-group",{model:{value:e.crowdDefineForm.videoSource,callback:function(t){e.$set(e.crowdDefineForm,"videoSource",t)},expression:"crowdDefineForm.videoSource"}},[a("el-radio",{attrs:{label:"0"}},[e._v("不区分")]),a("el-radio",{attrs:{label:"1"}},[e._v("区分")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.crowdDefineForm.videoSource,expression:"crowdDefineForm.videoSource === '1'"}],attrs:{label:""}},[a("el-checkbox-group",{model:{value:e.crowdDefineForm.videoSourceIds,callback:function(t){e.$set(e.crowdDefineForm,"videoSourceIds",t)},expression:"crowdDefineForm.videoSourceIds"}},e._l(e.videoSourceList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.tagValueId}},[e._v(e._s(t.tagValue))])})),1)],1)],1)],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):a("div",[a("el-form",{ref:"crowdForm",attrs:{model:e.crowdForm,rules:e.crowdFormRules,"label-width":"130px"}},[a("el-form-item",{staticClass:"form-width",attrs:{label:"投放名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",placeholder:"投放名称",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdForm.launchName,callback:function(t){e.$set(e.crowdForm,"launchName",t)},expression:"crowdForm.launchName"}})],1),a("el-form-item",{staticClass:"multipleSelect form-width",attrs:{label:"投放平台",prop:"biIds"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择投放平台",disabled:void 0!==e.status&&(2===e.status||3===e.status)},on:{change:e.handleBiIdChange},model:{value:e.crowdForm.biIds,callback:function(t){e.$set(e.crowdForm,"biIds",t)},expression:"crowdForm.biIds"}},e._l(e.launchPlatform,(function(e){return a("el-option",{key:e.biId+"",attrs:{label:e.biName,value:e.biId+""}})})),1),e.showAccountRelative?a("el-checkbox",{staticStyle:{"margin-left":"20px",position:"absolute"},model:{value:e.crowdForm.setCalculate,callback:function(t){e.$set(e.crowdForm,"setCalculate",t)},expression:"crowdForm.setCalculate"}},[e._v("\n                    账号关联去重\n                ")]):e._e()],1),e.crowdForm.biIds.includes("7")?a("el-form-item",{staticClass:"multipleSelect form-width",attrs:{label:"投放应用",prop:"packageName"}},[a("el-select",{attrs:{placeholder:"请选择投放应用",clearable:""},model:{value:e.crowdForm.packageName,callback:function(t){e.$set(e.crowdForm,"packageName",t)},expression:"crowdForm.packageName"}},e._l(e.pushPackageList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.appName,value:e.id}})})),1)],1):e._e(),0===e.crowdForm.crowdType||3===e.crowdForm.crowdType?a("el-form-item",{staticClass:"form-width",attrs:{label:"是否投放子人群"}},[a("el-radio-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},on:{change:e.handleAbTestChange},model:{value:e.crowdForm.abTest,callback:function(t){e.$set(e.crowdForm,"abTest",t)},expression:"crowdForm.abTest"}},[a("el-radio",{attrs:{label:!1}},[e._v("否")]),a("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1):e._e(),a("el-form-item",{staticClass:"form-width",attrs:{label:"选择人群类型"}},[a("el-radio-group",{attrs:{disabled:e.disabledCrowdType},model:{value:e.crowdForm.crowdType,callback:function(t){e.$set(e.crowdForm,"crowdType",t)},expression:"crowdForm.crowdType"}},[a("el-radio",{attrs:{label:0}},[e._v("普通人群")]),a("el-radio",{attrs:{label:1}},[e._v("临时标签/本地标签")]),a("el-radio",{attrs:{label:3}},[e._v("行为人群")])],1)],1),0===e.crowdForm.crowdType?[a("el-form-item",{staticClass:"multipleSelect form-width",attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handePushListLoadmore},expression:"{'methord': handePushListLoadmore}"}],key:e.crowdForm.abTest,attrs:{multiple:!e.crowdForm.abTest,placeholder:"请选择策略",disabled:void 0!==e.status&&(2===e.status||3===e.status),loading:e.remoteLoading,filterable:"",remote:"","remote-method":e.remoteMethod},on:{change:e.getCrowd,"remove-tag":e.removeTag},model:{value:e.crowdForm.policyIds,callback:function(t){e.$set(e.crowdForm,"policyIds",t)},expression:"crowdForm.policyIds"}},e._l(e.strategyPlatform,(function(t){return a("el-option",{key:t.policyId+"",attrs:{label:t.policyName,value:t.policyId+""}},[e._v(e._s(t.policyName)+"\n                  ")])})),1)],1),a("el-form-item",{attrs:{label:"选择人群",prop:"policyCrowdIds"}},e._l(e.crowdData,(function(t,i){return a("el-form-item",{key:t.policyId+"_"+i,attrs:{label:e.crowdForm.abTest?t.Pid:t.policyName}},[a("el-checkbox-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdForm.policyCrowdIds,callback:function(t){e.$set(e.crowdForm,"policyCrowdIds",t)},expression:"crowdForm.policyCrowdIds"}},e._l(t.childs,(function(t){return a("el-checkbox",{key:t.crowdId+"",attrs:{label:t.policyId+"_"+t.crowdId,disabled:!1===t.canLaunch}},[e._v("\n                        "+e._s(t.crowdName)+"\n                        ")])})),1)],1)})),1)]:e._e(),1===e.crowdForm.crowdType?a("el-form-item",{attrs:{label:"选择人群",prop:"tempCrowdId"}},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handelLoadmore},expression:"{'methord': handelLoadmore}"}],attrs:{filterable:"",remote:"",clearable:"","remote-method":e.getTempCrowdList,disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdForm.tempCrowdId,callback:function(t){e.$set(e.crowdForm,"tempCrowdId",t)},expression:"crowdForm.tempCrowdId"}},e._l(e.tempCrowdList,(function(t){return a("el-option",{key:t.launchCrowdId+"",attrs:{label:t.launchName,value:t.launchCrowdId}},[e._v("\n                    "+e._s(t.launchName)+"\n                    ")])})),1)],1):e._e(),3===e.crowdForm.crowdType&&e.crowdForm.abTest?[a("el-form-item",{staticClass:"multipleSelect form-width",attrs:{label:"选择策略",prop:"policyIds"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择策略",disabled:void 0!==e.status&&(2===e.status||3===e.status)},on:{change:e.getABChildByPolicyId,"remove-tag":e.removeTag},model:{value:e.crowdForm.policyIds,callback:function(t){e.$set(e.crowdForm,"policyIds",t)},expression:"crowdForm.policyIds"}},e._l(e.behaviorPolicyList,(function(t){return a("el-option",{key:t.policyId+"",attrs:{label:t.policyName,value:t.policyId+""}},[e._v(e._s(t.policyName)+"\n                  ")])})),1)],1),a("el-form-item",{attrs:{label:"选择人群",prop:"policyCrowdIds"}},e._l(e.crowdData,(function(t,i){return a("el-form-item",{key:t.policyId+"_"+i,attrs:{label:t.Pid}},[a("el-checkbox-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdForm.policyCrowdIds,callback:function(t){e.$set(e.crowdForm,"policyCrowdIds",t)},expression:"crowdForm.policyCrowdIds"}},e._l(t.childs,(function(t){return a("el-checkbox",{key:t.crowdId+"",attrs:{label:t.policyId+"_"+t.crowdId+"_"+t.pid,disabled:!1===t.canLaunch}},[e._v("\n                        "+e._s(t.crowdName)+"\n                        ")])})),1)],1)})),1)]:3===e.crowdForm.crowdType?[a("el-form-item",{attrs:{label:"选择人群",prop:"tempCrowdId"}},[a("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:{methord:e.handelLoadmore},expression:"{'methord': handelLoadmore}"}],attrs:{filterable:"",remote:"",clearable:"","remote-method":e.getBehaviorCrowdList,disabled:void 0!==e.status&&(2===e.status||3===e.status)},on:{change:function(t){return e.handelBehaviorCrowdSelectChange(t,e.crowdForm.policyCrowdIds[0],e.behaviorCrowdList)},clear:e.getBehaviorCrowdList},model:{value:e.crowdForm.policyCrowdIds[0],callback:function(t){e.$set(e.crowdForm.policyCrowdIds,0,t)},expression:"crowdForm.policyCrowdIds[0]"}},e._l(e.behaviorCrowdList,(function(t){return a("el-option",{key:t.policyCrowdIds,attrs:{label:t.launchName,value:t.policyIds+"_"+t.policyCrowdIds}},[e._v("\n                          "+e._s(t.launchName)+" -- "+e._s(t.launchCrowdId)+"\n                      ")])})),1)],1)]:e._e(),0===e.crowdForm.crowdType?a("el-form-item",{staticClass:"form-width",attrs:{label:"每天是否更新",prop:"autoVersion"}},[a("el-select",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdForm.autoVersion,callback:function(t){e.$set(e.crowdForm,"autoVersion",t)},expression:"crowdForm.autoVersion"}},[a("el-option",{attrs:{label:"是",value:1}}),a("el-option",{attrs:{label:"否",value:0}})],1)],1):e._e(),1===e.crowdForm.autoVersion&&0===e.crowdForm.crowdType?a("el-form-item",{staticClass:"form-width",attrs:{label:"每天更新时间点",prop:"autoLaunchTime"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss",disabled:void 0!==e.status&&(2===e.status||3===e.status),"picker-options":{selectableRange:"9:00:00 - 23:59:59"}},model:{value:e.crowdForm.autoLaunchTime,callback:function(t){e.$set(e.crowdForm,"autoLaunchTime",t)},expression:"crowdForm.autoLaunchTime"}})],1):e._e()],2),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")]),void 0===e.status||2!==e.status&&3!==e.status?a("el-button",{attrs:{type:"primary"},on:{click:e.launchDirectly}},[e._v("直接投放")]):e._e()],1),a("el-dialog",{attrs:{visible:e.showEstimate},on:{"update:visible":function(t){e.showEstimate=t}}},[a("div",{staticClass:"choose-tip"},[e._v("请选择下列需要估算的字段，勾选保存后将估算该字段的人群数量")]),a("el-checkbox-group",{attrs:{disabled:e.accountDefine,"aria-required":"true"},model:{value:e.estimateValue,callback:function(t){e.estimateValue=t},expression:"estimateValue"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i}},[e._v(e._s(t))])})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showEstimate=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEstimate(e.estimateValue)}}},[e._v("投 放")])],1),3===e.crowdForm.crowdType?a("div",{staticClass:"tip"},[e._v("Tips: 行为人群当前仅支持push设备类型")]):e._e()],1)],1)],1)},Ud=[],Hd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{ref:"input",attrs:{type:"text",name:e.name,autocomplete:e.autocomplete,value:e.inputValue,disabled:e.disabled,placeholder:e.placeholder,maxlength:e.maxlength},on:{input:e.handleInputValue,blur:function(t){return e.$emit("blur")},change:function(t){return e.$emit("change")}}},[e.prepend?a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("\n    "+e._s(e.prepend)+"\n  ")]):e._e(),e.append?a("span",{attrs:{slot:"append"},slot:"append"},[e._v("\n    "+e._s(e.append)+"\n  ")]):e._e()])},Kd=[],Qd={data:function(){return{inputValue:void 0}},watch:{inputValue:function(e,t){e=rt.a.trim(e).replace(/,/g,""),null!==e&&void 0!==e&&parseInt(e)>this.max&&e.length<=this.maxlength&&(this.inputValue=t,this.$message({type:"error",message:"最大值不能超过"+this.max}))}},props:["value","disabled","append","prepend","placeholder","name","autocomplete","maxlength","max","isIncludeZero"],methods:{handleInputValue:function(e){e=rt.a.trim(e).replace(/,/g,""),(""===e||/^[1-9]\d*$/.test(e)||"0"===e&&this.isIncludeZero)&&(this.inputValue=""!==e?this.format_number(e):e,this.$emit("input",this.inputValue))},getPositiveInt:function(e){return e.replace(/,/g,"")},format_number:function(e){Object($t["a"])(e)!==String&&(e=e.toString());var t=e.length;if(t<=3)return e;var a=t%3,i=e.slice(0,a),n=e.slice(a).match(/\d{3}/g).join(",");return a>0?i+","+n:n}},created:function(){var e=this;this.$watch("value",(function(t){e.inputValue!==t&&(e.inputValue=e.format_number(t),e.$emit("input",e.inputValue))}),{immediate:!0})}},Wd=Qd,Yd=Object(U["a"])(Wd,Hd,Kd,!1,null,null,null),Zd=Yd.exports;function Xd(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=eu(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function eu(e,t){if(e){if("string"===typeof e)return tu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?tu(e,t):void 0}}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function au(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function iu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?au(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):au(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var nu={components:{CcInputThousandsInt:Zd},data:function(){var e=this,t=/^[1-9][0-9]{0,7}$/,a=function(a,i,n){if(!i)return n(),!0;var r=t.test(i);r?e.crowdDefineForm.minMacEstimateCount&&parseInt(i)<parseInt(e.crowdDefineForm.minMacEstimateCount)?n(new Error("mac数量上限必须大于mac数量下限")):n():n(new Error("请输入正整数,最多8位数"))},i=function(a,i,n){if(!i)return n(),!0;var r=t.test(i);r?e.crowdDefineForm.maxMacEstimateCount&&parseInt(i)>parseInt(e.crowdDefineForm.maxMacEstimateCount)?n(new Error("mac数量下限必须小于mac数量上限")):n():n(new Error("请输入正整数,最多8位数"))},n=function(a,i,n){if(!i)return n(),!0;var r=t.test(i);r?e.crowdDefineForm.minWxEstimateCount&&parseInt(i)<parseInt(e.crowdDefineForm.minWxEstimateCount)?n(new Error("微信数量上限必须大于微信数量下限")):n():n(new Error("请输入正整数,最多8位数"))},r=function(a,i,n){if(!i)return n(),!0;var r=t.test(i);r?e.crowdDefineForm.maxWxEstimateCount&&parseInt(i)>parseInt(e.crowdDefineForm.maxWxEstimateCount)?n(new Error("微信数量下限必须小于微信数量上限")):n():n(new Error("请输入正整数,最多8位数"))};return{remoteLoading:!1,totalPages:0,remoteMethodParams:{pageNum:1,pageSize:30,keyword:""},strategyPlatform:[],launchPlatform:[],getStrategyCrowds:[],title:"",basicLineErrorText:"",crowdForm:{abTest:!1,launchCrowdId:"",launchName:"",biIds:"",policyIds:[],policyCrowdIds:[],autoVersion:0,autoLaunchTime:void 0,setCalculate:!1,crowdType:0,tempCrowdId:void 0,packageName:""},crowdDefineForm:{launchCrowdId:void 0,launchName:"",biIds:"",crowdSql:"",expiryDay:7,autoVersion:0,calType:["0"],proTempTag:!1,autoLaunchTime:void 0,tagId:void 0,abTest:void 0,ratios:void 0,basicLine:void 0,macInitialValue:void 0,macAbovePer:void 0,macBelowPer:5,wxInitialValue:void 0,wxAbovePer:void 0,wxBelowPer:void 0,videoSource:"0",videoSourceIds:[]},abTestApart:void 0,status:void 0,crowdFormRules:{launchName:[{required:!0,message:"请输入投放名称",trigger:"blur"}],biIds:[{required:!0,message:"请选择投放平台",trigger:"blur"}],policyIds:[{required:!0,message:"请选择策略平台",trigger:"blur"}],policyCrowdIds:[{required:!0,message:"请选择人群",trigger:"blur"}],autoLaunchTime:[{required:!0,message:"请选择每天更新时间点",trigger:"blur"}],tempCrowdId:[{required:!0,message:"请选择人群",trigger:"blur"}],packageName:[{required:!0,message:"请选择投放应用",trigger:"blur"}]},crowdDefineFormRules:{launchName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],biIds:[{required:!0,message:"请选择投放平台",trigger:"blur"}],crowdSql:[{required:!0,message:"请输入SQL语句",trigger:"blur"}],proTempTag:[{required:!0,message:"请选择是否生成临时标签",trigger:"blur"}],autoVersion:[{required:!0,message:"请选择每天是否更新",trigger:"blur"}],autoLaunchTime:[{required:!0,message:"请选择每天更新时间点",trigger:"blur"}],tagId:[{required:!0,message:"请选择标签",trigger:"blur"}],maxMacEstimateCount:[{required:!1,validator:a,trigger:"blur"}],maxWxEstimateCount:[{required:!1,validator:n,trigger:"blur"}],minMacEstimateCount:[{required:!1,validator:i,trigger:"blur"}],minWxEstimateCount:[{required:!1,validator:r,trigger:"blur"}]},filterText:"",crowdData:[],effectTimeList:[],estimateItems:[],tagsList:[],formatTimeSet:void 0,firstTimeLoad:!1,alphaData:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],percent:[],copiesItem:[],percentTotal:0,videoSourceList:[],showAccountRelative:!1,tempCrowdList:[],disabledCrowdType:!1,isTempCrowd:!1,showEstimate:!1,showLaunchTip:!1,launchTip:"",currentLaunchRow:{},estimateValue:["0"],accountDefine:!1,currentLaunchId:void 0,islaunchDirectly:!1,tempListFilter:{crowdType:1,pageNum:1,pageSize:10},tempListpages:0,behaviorPolicyList:[],behaviorCrowdList:[],behaviorCrowdListFilter:{crowdType:3,pageNum:1,pageSize:30},behaviorCrowdListpages:0,loading:!1,pushPackageList:[]}},props:["editLaunchCrowdId","model","editStatus","parentSource","showAllParent"],watch:{percent:function(e){this.percentTotal=e.reduce((function(e,t){return e+t}))},"crowdDefineForm.videoSource":function(e){"0"===e&&(this.crowdDefineForm.videoSourceIds=[])},"crowdForm.crowdType":function(){this.crowdForm.policyIds="",this.crowdForm.policyCrowdIds=[],this.crowdForm.crowdId="",this.crowdData=[]}},methods:{handePushListLoadmore:function(){this.remoteMethodParams.pageNum<this.totalPages&&(this.remoteMethodParams.pageNum++,this.remoteMethod())},remoteMethod:function(e){var t=this;console.log(this.remoteMethodParams);var a=void 0===e;a||(this.remoteMethodParams.pageNum=1,this.strategyPlatform=[],this.remoteMethodParams.keyword=e),this.remoteLoading=!0;var i=iu({},this.remoteMethodParams);this.$service.getPushList(i).then((function(e){t.totalPages=e.pages,t.strategyPlatform=a?t.strategyPlatform.concat(e.rows):e.rows,t.remoteLoading=!1})).catch((function(){t.strategyPlatform=[],t.remoteLoading=!1}))},getPushPackageList:function(){var e=this,t={pageNum:0,pageSize:200};this.$service.getPushPackageList(t).then((function(t){e.pushPackageList=t.rows||[]}))},handelLoadmore:function(){var e=this.crowdForm.crowdType;1!==e||this.loading?3!==e||this.loading||this.behaviorCrowdListFilter.pageNum<this.behaviorCrowdListpages&&(this.behaviorCrowdListFilter.pageNum++,this.getBehaviorCrowdList()):this.tempListFilter.pageNum<this.tempListpages&&(this.tempListFilter.pageNum++,this.getTempCrowdList())},handelBehaviorCrowdSelectChange:function(e,t,a){var i=this;this.crowdForm.policyIds=t.split("_")[0];var n=t.split("_")[1];this.crowdForm.tempCrowdId=a.find((function(e){var t=e.policyIds==i.crowdForm.policyIds,a=e.policyCrowdIds==n;return t&&a})).launchCrowdId},callback:function(){this.$emit("changeStatus",!0)},removeTag:function(e){this.crowdForm.policyCrowdIds=this.crowdForm.policyCrowdIds.filter((function(t){if(t.split("_")[0]!=e)return t}))},getCrowd:function(){var e=this,t=null;return t=this.crowdForm.abTest?this.crowdForm.policyIds:this.crowdForm.policyIds.join(","),this.$service.getStrategyCrowds({policyIds:t,abTest:this.crowdForm.abTest}).then((function(t){if(e.crowdForm.abTest){e.crowdForm.policyCrowdIds=[],e.crowdForm.crowdId="";var a=[],i=Object.keys(t[0].childs);i.forEach((function(e){a.push({Pid:e,childs:t[0].childs[e]})})),console.log("newDataForm====",a),e.crowdData=a}else e.crowdData=t})).catch((function(){}))},getABChildByPolicyId:function(){var e=this,t=null;return t=this.crowdForm.abTest?this.crowdForm.policyIds:this.crowdForm.policyIds.join(","),this.$service.getABChildByPolicyId({policyId:t}).then((function(t){if(e.crowdForm.abTest){e.crowdForm.policyCrowdIds=[],e.crowdForm.crowdId="";var a=[],i=Object.keys(t[0].childs);i.forEach((function(e){a.push({Pid:e,childs:t[0].childs[e]})})),e.crowdData=a}else e.crowdData=t})).catch((function(){}))},addSubmit:function(){this.islaunchDirectly=!1,1===Number(this.model)&&this.isTempCrowd?this.saveDefineCrowd():this.saveNormalCrowd()},reParamsData:function(){var e=JSON.parse(JSON.stringify(this.crowdForm));return e.biIds=e.biIds.join(","),1===e.crowdType?(e.abTest=!1,e.policyIds=void 0,e.policyCrowdIds=void 0):3===e.crowdType?(e.abTest&&(e.crowdType=9,e.crowdId=e.policyCrowdIds[0].split("_")[2]),e.policyCrowdIds=e.policyCrowdIds.map((function(e){return e.split("_")[1]})).join(",")):(e.tempCrowdId=0,e.policyIds=e.abTest?e.policyIds:e.policyIds.join(","),e.policyCrowdIds=e.policyCrowdIds.map((function(e){return e.split("_")[1]})).join(",")),e},saveNormalCrowd:function(){var e=this;this.$refs.crowdForm.validate((function(t){if(!t)return!1;var a=e.reParamsData();null!==e.editLaunchCrowdId&&void 0!==e.editLaunchCrowdId?e.$service.saveEditMultiVersionCrowd({model:a.crowdType,data:a},"编辑成功").then((function(t){e.callback(),3===a.crowdType&&e.islaunchDirectly&&e.$service.calculateTempCrowd({launchCrowdId:t.launchCrowdId,calType:t.calType},"成功计算中").then((function(){e.fetchData()}))})):e.$service.saveAddMultiVersionCrowd({model:a.crowdType,data:a},"新增成功").then((function(t){e.callback(),3===a.crowdType&&e.islaunchDirectly&&e.$service.calculateTempCrowd({launchCrowdId:t.launchCrowdId,calType:t.calType},"成功计算中").then((function(){e.fetchData()}))}))}))},handleRule:function(){var e=JSON.parse(JSON.stringify(this.crowdDefineForm)),t=e.macInitialValue,a=e.macBelowPer,i=e.wxInitialValue,n=e.wxBelowPer;t=t&&t.toString().replace(/,/g,""),i=i&&i.toString().replace(/,/g,""),this.validateBasicLine(t,a,i,n)},validateBasicLine:function(e,t,a,i){var n=(void 0===e||""===e)&&(void 0===t||""===t),r=(void 0===a||""===a)&&(void 0===i||""===i);return n&&r?(this.basicLineErrorText="请至少填写一组基准和环比阀值",!1):void 0===e||""===e||void 0!==t&&""!==t?void 0===t||""===t||void 0!==e&&""!==e?void 0===a||""===a||void 0!==i&&""!==i?void 0===i||""===i||void 0!==a&&""!==a?(this.basicLineErrorText="",!0):(this.basicLineErrorText="请把微信数量基准这个选项填写完整",!1):(this.basicLineErrorText="请把微信数量环比低于这个选项填写完整",!1):(this.basicLineErrorText="请把Mac数量基准这个选项填写完整",!1):(this.basicLineErrorText="请把Mac数量环比低于这个选项填写完整",!1)},saveDefineCrowd:function(){var e=this;this.$refs.crowdDefineForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.crowdDefineForm);if(a=JSON.parse(a),a.biIds=a.biIds.join(","),a.calType=a.calType.join(","),a.crowdSql=a.crowdSql.trim(),"1"===a.videoSource){if(0===a.videoSourceIds.length)return void e.$message.error("请必须勾选至少一种内容源！");a.videoSource=a.videoSourceIds.join(",")}if(null!=e.editLaunchCrowdId&&void 0!=e.editLaunchCrowdId&&a.abTest){if(100!==e.percentTotal)return void e.$message.error("划分的所有比例总和必须等于100%，请调整比例再保存！");var i=a.ratios;Object.keys(i).forEach((function(t,a){i[t]=e.percent[a]})),a.ratios=i}var n=a,r=n.macInitialValue,s=n.macBelowPer,o=n.wxInitialValue,l=n.wxBelowPer;r=r&&r.toString().replace(/,/g,""),o=o&&o.toString().replace(/,/g,""),a.macInitialValue=r,a.wxInitialValue=o,(1!==a.autoVersion||e.validateBasicLine(r,s,o,l))&&(null!=e.editLaunchCrowdId&&void 0!=e.editLaunchCrowdId?e.$service.saveEditMultiVersionCrowd({model:e.model,data:a},"编辑成功").then((function(){e.callback()})):e.$service.saveAddMultiVersionCrowd({model:e.model,data:a},"新增成功").then((function(){e.callback()})))}))},cancelAdd:function(){this.$emit("goBack")},getAddList:function(e){var t=this;this.$service.getEstimateType().then((function(e){t.estimateItems=e})),this.$service.getPushPlatform().then((function(e){t.launchPlatform=e||[]})),1===e?(this.$service.addMultiVersionCrowd(this.model).then((function(e){t.launchPlatform=e.biLists,t.effectTimeList=e.efTime.map((function(e){return{label:e+"天",value:e}}))})),this.$service.searchTags().then((function(e){t.tagsList=e}))):this.remoteMethod()},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=Xd(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},handleGetVideoList:function(){var e=this;this.$service.getVideoSourceList().then((function(t){e.videoSourceList=t}))},handleBiIdChange:function(e){e&&"7"===e.join(",")?this.showAccountRelative=!0:(this.showAccountRelative=!1,this.crowdForm.setCalculate=!1)},getTempCrowdList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.tempListFilter.launchName=t,""!==t&&(this.tempListFilter.pageNum=1,this.tempCrowdList=[]),this.loading=!0,this.$service.getTempLaunchList(this.tempListFilter).then((function(t){e.tempListpages=t.pageInfo.pages,e.tempCrowdList=e.tempCrowdList.concat(t.pageInfo.list),e.loading=!1})).catch((function(){e.loading=!1}))},getBehaviorCrowdList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.behaviorCrowdListFilter.launchName=t,""!==t&&(this.behaviorCrowdListFilter.pageNum=1,this.behaviorCrowdList=[]),this.loading=!0,this.$service.getTempLaunchList(this.behaviorCrowdListFilter).then((function(a){e.behaviorCrowdListpages=a.pageInfo.pages,e.behaviorCrowdList=""!==t?a.pageInfo.list:e.behaviorCrowdList.concat(a.pageInfo.list),e.loading=!1})).catch((function(){e.loading=!1}))},getBehaviorPolicyList:function(){var e=this;this.$service.getBehaviorABPolicy().then((function(t){e.behaviorPolicyList=t||[]}))},handleAbTestChange:function(e){e?(this.crowdForm.policyIds="",this.crowdData=[]):(this.crowdForm.policyIds=[],this.crowdData=[]),this.crowdForm.policyCrowdIds=[]},handelLaunch:function(){var e=this;if(this.islaunchDirectly=!0,1!==this.crowdForm.crowdType&&3!==this.crowdForm.crowdType){console.log("this.crowdForm==>",this.crowdForm);var t=this.crowdForm.policyCrowdIds.map((function(e){return e.split("_")[1]})).join(",");this.$refs.crowdForm.validate((function(a){if(!a)return!1;var i={crowdIds:t};e.$service.alertLaunch(i).then((function(t){e.showLaunchTip=!0,e.launchTip=t}))}))}else this.launchDirectly()},launchDirectly:function(){var e=this;console.log("this.crowdForm==>",this.crowdForm),this.$refs.crowdForm.validate((function(t){if(!t)return!1;e.showEstimatePop()}))},showEstimatePop:function(){this.showEstimate=!0,console.log(" this.crowdForm.crowdType==",this.crowdForm.crowdType),console.log(" this.crowdForm.crowdType==","3"===this.crowdForm.crowdType),console.log(" this.crowdForm.crowdType==",3===this.crowdForm.crowdType),this.crowdForm.setCalculate?(this.accountDefine=!0,this.estimateValue=["0","1","2","3"]):3===this.crowdForm.crowdType?(this.accountDefine=!0,this.estimateValue=["0"]):(this.accountDefine=!1,this.estimateValue=["0"])},handleEstimate:function(e){var t=this;if(0!==e.length){var a=e.map((function(e){return e})).join(",");this.$refs.crowdForm.validate((function(e){if(!e)return!1;var i=t.reParamsData(t.crowdForm);null!=t.editLaunchCrowdId&&void 0!=t.editLaunchCrowdId?t.$service.saveEditMultiVersionCrowd({model:i.crowdType,data:i},"编辑成功").then((function(){t.currentLaunchId=t.editLaunchCrowdId,t.$service.LaunchMultiVersionCrowd({launchCrowdId:t.currentLaunchId,calIdType:a},"投放成功").then((function(){t.showEstimate=!1,t.callback()}))})):t.$service.saveAddMultiVersionCrowd({model:i.crowdType,data:i},"新增成功").then((function(e){t.currentLaunchId=e.launchCrowdId,t.$service.LaunchMultiVersionCrowd({launchCrowdId:t.currentLaunchId,calIdType:a},"投放成功").then((function(){t.showEstimate=!1,t.callback()}))}))}))}else this.$message.error("请至少选择一个要投放的人群")},setEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=this.editLaunchCrowdId&&void 0!=this.editLaunchCrowdId?(this.title="编辑",this.$service.editMultiVersionCrowd(this.editLaunchCrowdId).then(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(a){var i,n,r,s,o,l,c,d,u,h,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=a.launchCrowd,n=a.ratio||{},t.isTempCrowd=!i.tempCrowdId,1!==Number(t.model)||i.tempCrowdId)t.launchPlatform=a.biLists,t.crowdForm.launchCrowdId=i.launchCrowdId,t.crowdForm.dmpCrowdId=i.dmpCrowdId,t.crowdForm.launchName=i.launchName,t.crowdForm.biIds=a.launchCrowdBiIds,t.crowdForm.crowdType=i.crowdType?i.crowdType:i.tempCrowdId?1:0,t.disabledCrowdType=!0,t.crowdForm.autoVersion=i.autoVersion,t.crowdForm.autoLaunchTime=i.autoLaunchTime,t.crowdForm.abTest=i.abTest,"7"===t.crowdForm.biIds.join(",")&&(t.showAccountRelative=!0),t.crowdForm.packageName=Number(i.packageName),t.crowdForm.setCalculate=i.setCalculate,t.status=t.editStatus,1===t.crowdForm.crowdType?(t.crowdForm.tempCrowdId=i.tempCrowdId,t.crowdForm.policyIds=void 0,t.crowdForm.policyCrowdIds=void 0):3===t.crowdForm.crowdType?t.$nextTick(Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.crowdForm.tempCrowdId=i.tempCrowdId,t.crowdForm.policyIds=i.policyIds,t.crowdForm.policyCrowdIds.push("".concat(i.policyIds,"_").concat(i.policyCrowdIds));case 3:case"end":return e.stop()}}),e)})))):0===t.crowdForm.crowdType?(t.crowdForm.tempCrowdId=void 0,t.$nextTick(Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.crowdForm.policyIds=i.abTest?i.policyIds:i.policyIds.split(","),e.next=3,t.getCrowd();case 3:a.respcl&&a.respcl.forEach((function(e){e.childs.forEach((function(a){a.choosed&&t.crowdForm.policyCrowdIds.push("".concat(e.policyId,"_").concat(a.crowdId)),console.log("this.crowdForm.policyCrowdIds===",t.crowdForm.policyCrowdIds)}))}));case 4:case"end":return e.stop()}}),e)}))))):9===t.crowdForm.crowdType&&(t.crowdForm.crowdType=3,t.crowdForm.tempCrowdId=void 0,console.log("row===",i.policyIds),t.$nextTick(Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.crowdForm.policyIds=i.policyIds,e.next=3,t.getABChildByPolicyId();case 3:a.respcl&&a.respcl.forEach((function(e){e.childs.forEach((function(a,i){a.choosed&&t.crowdForm.policyCrowdIds.push("".concat(e.policyId,"_").concat(a.crowdId,"_").concat(a.pid))}))}));case 4:case"end":return e.stop()}}),e)})))));else{if(r=a.launchCrowdBiIds,s=i.macInitialValue,o=i.macAbovePer,l=i.macBelowPer,c=i.wxInitialValue,d=i.wxAbovePer,u=i.wxBelowPer,t.crowdDefineForm={launchCrowdId:i.launchCrowdId,launchName:i.launchName,biIds:r,crowdSql:i.crowdSql,expiryDay:i.expiryDay,autoVersion:i.autoVersion,calType:i.calType.split(","),proTempTag:i.proTempTag,autoLaunchTime:i.autoLaunchTime,tagId:i.tagId,abTest:i.abTest,ratios:n,macInitialValue:null===s?void 0:s,macAbovePer:null===o?void 0:o,macBelowPer:null===l?void 0:l,wxInitialValue:null===c?void 0:c,wxAbovePer:null===d?void 0:d,wxBelowPer:null===u?void 0:u,videoSource:null===i.videoSource?"0":"1",videoSourceIds:null===i.videoSource?[]:i.videoSource.split(",")},i.abTest){for(t.abTestApart=Object.keys(n).length,h=[],Object.keys(n).forEach((function(e){h.push(n[e])})),p=[],m=0;m<t.abTestApart;m++)p.push(m);t.copiesItem=p,t.percent=h}t.status=t.editStatus}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):this.title=1===Number(this.model)?"新增自定义人群":"新增";case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.tempCrowdList=[],this.tempListpages=0,this.setEdit(),this.getAddList(this.model),this.getTempCrowdList(),this.getBehaviorPolicyList(),this.getBehaviorCrowdList(),this.handleGetVideoList(),this.getPushPackageList()}},ru=nu,su=(a("9a42"),Object(U["a"])(ru,Gd,Ud,!1,null,"7a423449",null)),ou=su.exports,lu={name:"multiVersionCrowdAA",data:function(){return{isShowList:!0,editLaunchCrowdId:null,addModel:0,editStatus:null}},props:["parentSource","showAllParent"],components:{List:Jd,Add:ou},methods:{changeStatus:function(e,t,a,i){this.isShowList=e,this.addModel=t,e&&this.$refs.list.loadData(),this.editLaunchCrowdId=a||null,i&&(this.editStatus=i)},goBack:function(){this.isShowList=!0}}},cu=lu,du=Object(U["a"])(cu,Ad,Fd,!1,null,null,null),uu=du.exports,hu={name:"launchTabListAA",components:{pullList:Ed,pushList:uu},data:function(){return{tabsValue:"pull",showAll:!1}},props:["source"]},pu=hu,mu=(a("b81a"),Object(U["a"])(pu,Td,Dd,!1,null,"67f7b342",null)),fu=mu.exports,vu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{background:"#f3f4fa",margin:"-20px",padding:"20px"},attrs:{id:""}},[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,rules:e.rules}},[a("el-form-item",{attrs:{label:"人群ID:",prop:"crowdId"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formInline.crowdId,callback:function(t){e.$set(e.formInline,"crowdId",t)},expression:"formInline.crowdId"}})],1),e.crowdName?a("el-form-item",{staticStyle:{margin:"0 50px 0 20px"},attrs:{label:"人群名:"}},[e._v("\n     "+e._s(e.crowdName)+"\n   ")]):e._e(),a("el-form-item",{attrs:{label:"分析周期:",prop:"timeRange"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.formInline.timeRange,callback:function(t){e.$set(e.formInline,"timeRange",t)},expression:"formInline.timeRange"}})],1),a("el-form-item",{staticStyle:{"margin-left":"15px"}},[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.formInline.isDelCache,callback:function(t){e.$set(e.formInline,"isDelCache",t)},expression:"formInline.isDelCache"}},[e._v("清除历史记录 ")])],1),a("el-form-item",{staticStyle:{"margin-left":"15px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置查询")])],1),a("br"),a("el-form-item",{staticStyle:{"max-width":"70%","white-space":"nowrap"},attrs:{label:"业务范围:",prop:"sourceNameList"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("el-checkbox-group",{staticStyle:{"white-space":"break-spaces"},model:{value:e.formInline.sourceNameList,callback:function(t){e.$set(e.formInline,"sourceNameList",t)},expression:"formInline.sourceNameList"}},e._l(e.cities,(function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate2},on:{change:e.handleCheckAllChange2},model:{value:e.checkAll2,callback:function(t){e.checkAll2=t},expression:"checkAll2"}},[e._v("广电直播")]),a("el-checkbox-group",{staticStyle:{"white-space":"break-spaces"},model:{value:e.formInline.sourceNameList,callback:function(t){e.$set(e.formInline,"sourceNameList",t)},expression:"formInline.sourceNameList"}},e._l(e.cities2,(function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1),a("el-form-item",{staticStyle:{"margin-left":"136px"}},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v(e._s(e.loading?"分析中":"分析"))]),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{type:"text"},on:{click:function(t){e.drawer=!0}}},[e._v("\n       历史记录\n     ")])],1)],1),1===e.pageStatus?a("div",[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"big-title"},[e._v("总览")]),a("div",{staticClass:"export-button"},[a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleGxportRightsInterests}},[e._v("导出数据")])],1)]),a("div",{staticClass:"wrap-div"},[a("div",{staticClass:"overview-table"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("\n               主页活跃人数\n               "),a("span",{staticClass:"remark"},[e._v("（根据圈定量统计）")])]),a("div",{staticClass:"text-two"},[e._v("\n               "+e._s(e.cc_format_number(e.overview.homepageActiveUv))+"\n             ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("圈定用户数")]),a("span",[e._v("\n                   "+e._s(e.cc_format_number(e.overview.quandingUv))+"\n                 ")])])])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("起播活跃率\n               "),a("span",{staticClass:"remark"},[e._v("（根据圈定量统计）")])]),a("div",{staticClass:"text-two"},[e._v("\n               "+e._s(e.toPercent(e.overview.totalPlayRate))+"\n             ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("起播人数")]),a("span",[e._v("\n                   "+e._s(e.cc_format_number(e.overview.totalPlayUv))+"\n                 ")])]),a("div",{staticClass:"small"},[a("span",[e._v("主页活跃人数")]),a("span",[e._v("\n                   "+e._s(e.cc_format_number(e.overview.homepageActiveUv))+"\n                 ")])])])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("产品包曝光率\n               "),a("span",{staticClass:"remark"},[e._v("（根据命中量统计）")])]),a("div",{staticClass:"text-two"},[e._v("\n               "+e._s(e.toPercent(e.overview.totalPkgShowRate))+"\n             ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("产品包曝光人数")]),a("span",[e._v(e._s(e.cc_format_number(e.overview.totalPkgShowUv)))])]),a("div",{staticClass:"small"},[a("span",[e._v("起播人数")]),a("span",[e._v(e._s(e.cc_format_number(e.overview.totalPlayUv)))])])])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("下单率\n               "),a("span",{staticClass:"remark"},[e._v("（根据命中量统计）")])]),a("div",{staticClass:"text-two"},[e._v("\n               "+e._s(e.toPercent(e.overview.totalPkgXiadanRate))+"\n             ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("下单人数")]),a("span",[e._v(e._s(e.cc_format_number(e.overview.totalPkgXiadanUv)))])]),a("div",{staticClass:"small"},[a("span",[e._v("曝光人数")]),a("span",[e._v(e._s(e.cc_format_number(e.overview.totalPkgShowUv)))])])])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("付费率\n               "),a("span",{staticClass:"remark"},[e._v("（根据命中量统计）")])]),a("div",{staticClass:"text-two"},[e._v("\n               "+e._s(e.toPercent(e.overview.totalPkgPayRate))+"\n             ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("付费人数")]),a("span",[e._v(e._s(e.cc_format_number(e.overview.totalPkgPayUv)))])]),a("div",{staticClass:"small"},[a("span",[e._v("曝光人数")]),a("span",[e._v(e._s(e.cc_format_number(e.overview.totalPkgShowUv)))])])])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("付费金额\n               "),a("span",{staticClass:"remark"},[e._v("（根据命中量统计）")])]),a("div",{staticClass:"text-two",staticStyle:{height:"70px"}},[e._v("\n               "+e._s(e.cc_format_number(e.overview.totalPrice))+"\n             ")])])])],1)],1),a("div",{staticClass:"chart-wrap"},[a("div",{ref:"chart1",staticClass:"chart-1",attrs:{id:"chart1"}},[e._v("chart1")])])])]),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"内容型",name:"one"}},[a("div",{staticClass:"launch-statistics"},[e._l(e.rowObj2,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n                       "+e._s(e.allChartData[i].title)+"\n                     ")]):a("span",[e._v("\n                       "+e._s(t.title)+"\n                     ")])]),e.show&&t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)}))],2)]),a("el-tab-pane",{attrs:{label:"付费型",name:"two"}},[a("div",{staticClass:"launch-statistics"},[e._l(e.rowObj,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n                       "+e._s(e.allChartData[i].title)+"\n                     ")]):a("span",[e._v("\n                       "+e._s(t.title)+"\n                     ")])]),e.show&&t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&e.allChartData[i].series&&e.allChartData[i].series.length>0?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)}))],2)])],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{height:"calc(100vh - 321px)"},attrs:{"element-loading-text":"拼命加载中","element-loading-background":"rgb(243, 244, 250)"}},[e.emptyTxt?a("el-empty",{attrs:{description:e.emptyTxt}}):e._e()],1),a("el-drawer",{attrs:{title:"历史记录",visible:e.drawer,size:"45%"},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticStyle:{position:"relative",height:"50px"}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索历史记录","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleGetRightsInterestsSearchRecord.apply(null,arguments)}},model:{value:e.historysCondition,callback:function(t){e.historysCondition=t},expression:"historysCondition"}})],1),a("div",{staticClass:"history-content"},e._l(e.historys,(function(t){return a("div",{key:t.id,staticClass:"search-text",on:{click:function(a){return e.hitHistory(t)}}},[a("i",{staticClass:"delete-icon el-icon-close",on:{click:function(a){return a.stopPropagation(),e.deleteHistory(t.id)}}}),a("span",[e._v(e._s(t.crowdId))]),a("span",[e._v(e._s(t.crowdName))]),a("span",[e._v(e._s(t.startDate)+" 至 "+e._s(t.endDate))]),a("br"),a("span",[e._v(e._s(t.sourceNameStr))]),a("span",{staticClass:"foot"},[a("span",{class:{bold:1===t.status}},[e._v("\n           "+e._s(e.statusMap[t.status])+"\n         ")]),a("span",[e._v(e._s(t.createTime))])])])})),0),a("div",{staticClass:"bottom-delete-all"},[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("p",[e._v("确认清空历史记录吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.deleteHistory(-1)}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("清空历史记录")])],1)],1)])],1)},gu=[];function bu(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=yu(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function yu(e,t){if(e){if("string"===typeof e)return Cu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Cu(e,t):void 0}}function Cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function wu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Su=["腾讯影视VIP","爱奇艺影视VIP","酷喵VIP","芒果TV大屏VIP","芒果全屏VIP","港剧VIP","欢喜","亲子VIP","音乐K歌会员","家庭影院VIP","画报屏保","4K花园","戏曲VIP","健身VIP","炫舞广场","电竞VIP","1905"],ku=["湖南","河北","贵州","四川","重庆","云南","江西","河南","安徽","山西","湖北","甘肃","广西","江苏","新疆","山东","辽宁","陕西","海南"],Iu={components:{},data:function(){return{visible:!1,statusMap:{0:"分析中",1:"已查出数据",2:"暂无数据"},setTimeOutVal:void 0,historys:[],historysCondition:"",drawer:!1,checkAll:!1,checkAll2:!1,checkedCities:[],cities:Su,cities2:ku,isIndeterminate:!1,isIndeterminate2:!1,overview:{},formInline:{crowdId:"",sourceNameList:[],timeRange:[],isDelCache:0},rules:{crowdId:[{required:!0,message:"请输入人群ID",trigger:"blur"}],timeRange:[{type:"array",required:!0,message:"请选择日期",trigger:"change"}],sourceNameList:[{type:"array",required:!0,message:"请至少选择一个业务范围",trigger:"change"}]},show:!0,allCharts:{},timeRange:[],allChartData:{},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},activeName:"one",rowObj:[{vipPkgShow:{type:"bar",title:"各权益曝光人数及占比",span:8},vipPkgXiadan:{type:"bar",title:"各权益下单人数及占比",span:8},vipPkgPay:{type:"bar",title:"各权益付费人数及占比",span:8}},{vipPkgShowTrend:{type:"line",title:"影视VIP曝光趋势",span:8},vipPkgXiadanTrend:{type:"line",title:"影视VIP下单趋势",span:8},vipPkgPayTrend:{type:"line",title:"影视VIP付费趋势",span:8}},{pathPkgShow:{type:"bar",title:"影视VIP曝光路径人数及占比",span:8},productTypePkgXiadan:{type:"bar",title:"影视VIP下单产品包分类人数及占比",span:8},pathPkgPay:{type:"bar",title:"影视VIP付费路径人数及占比",span:8}},{empty1:{span:8},empty2:{span:8},productTypePkgPay:{type:"bar",title:"影视VIP付费产品包分类人数及占比",span:8}}],rowObj2:[{vipPlay:{type:"bar",title:"各权益起播人数及占比",span:12},vipPlayTrend:{type:"line",title:"影视VIP起播趋势",span:12}},{viewingCategoryRank:{type:"pie",title:"各权益观影分类TOP5及占比",span:12}}],crowdId:11882,colorList:["#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],loading:!1,crowdName:"",pageStatus:2,emptyTxt:"投后效果，一键分析",downloadUrl:""}},mounted:function(){var e=this;window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}})),this.setDefaultData(),this.handleGetRightsInterestsSearchRecord()},watch:{"formInline.sourceNameList":{handler:function(e){var t=e.length,a=Su.concat(ku).length;this.checkAll=t===a,this.isIndeterminate=t>0&&t<a,this.checkAll2=ku.every((function(t){return e.indexOf(t)>-1})),this.isIndeterminate2=ku.some((function(t){return e.indexOf(t)>-1}))&&!this.checkAll2}}},beforeDestroy:function(){this.destoryTimeInterval()},activated:function(){console.log("activated - setTimeOutVal-------\x3e",this.setTimeOutVal),this.setTimeOutVal&&(this.fetchAllData(),this.handleGetRightsInterestsSearchRecord())},deactivated:function(){console.log("deactivated - setTimeOutVal-------\x3e",this.setTimeOutVal)},methods:{resetForm:function(e){var t=this;this.pageStatus=0,this.crowdName="",this.checkAll=!1,this.$nextTick((function(){t.$refs[e].resetFields()}))},deleteHistory:function(e){var t=this;this.$service.delRightsInterestsSearchRecord({id:e},"删除成功").then((function(e){t.handleGetRightsInterestsSearchRecord()}))},handleGxportRightsInterests:function(){var e=this,t={crowdId:this.formInline.crowdId,sourceNameList:this.formInline.sourceNameList.join(","),startDate:this.formInline.timeRange[0],endDate:this.formInline.timeRange[1]},a="crowdId=".concat(t.crowdId,"&startDate=").concat(t.startDate,"&endDate=").concat(t.endDate,"&sourceNameList=").concat(t.sourceNameList);this.downloadUrl="/api/exportRightsInterests?"+a,this.$nextTick((function(){e.$refs.download_Url.click()}))},handleGetRightsInterestsSearchRecord:function(){var e=this,t={condition:this.historysCondition};this.$service.getRightsInterestsSearchRecord(t).then((function(t){e.historys=t||[]}))},handleCheckAllChange:function(e){this.formInline.sourceNameList=e?Su.concat(ku):[]},handleCheckAllChange2:function(e){this.formInline.sourceNameList=e?this.formInline.sourceNameList.concat(ku):this.formInline.sourceNameList.filter((function(e){return-1===ku.indexOf(e)}))},handleClick:function(e,t){var a=this;this.$nextTick((function(){for(var e=0,t=Object.keys(a.allCharts);e<t.length;e++){var i=t[e],n=a.allCharts[i];n.resize()}}))},showFunnel:function(e,t){var i=document.getElementById(e);if(i){var n=[{value:t.homepageActiveUv,name:"主页活跃"},{value:t.totalPlayUv,name:"起播"},{value:t.totalPkgShowUv,name:"产品包曝光"},{value:t.totalPkgXiadanUv,name:"下单"},{value:t.totalPkgPayUv,name:"成交"}],r=this,s={title:{text:"漏斗图"},tooltip:{trigger:"item"},toolbox:{feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},legend:{data:["Show","Click","Visit","Inquiry","Order"]},color:r.colorList,series:[{name:"漏斗图",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",minSize:"0%",maxSize:"100%",sort:"none",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:n}]},o=a("313e"),l=o.init(i);console.log("echarts---------\x3e",o),console.log("myChart---------\x3e",l),l.setOption(s)}},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%",t},setDefaultData:function(){var e=this;this.formInline={crowdId:"18321",sourceNameList:["家庭影院VIP"],timeRange:["2023-04-25","2023-04-30"],isDelCache:0},this.$nextTick((function(){e.onSubmit()}))},onSubmit:function(e){var t=this;this.$refs.ruleForm.validate((function(a){a&&(t.loading=!0,t.show=!1,t.initChart(e),t.$nextTick((function(){t.show=!0})))}))},hitHistory:function(e){this.formInline={crowdId:e.crowdId,sourceNameList:e.sourceNameStr.split(","),timeRange:[e.startDate,e.endDate],isDelCache:0},this.initChart()},initChart:function(e){var t=this;this.crowdName="",this.destoryTimeInterval(),this.$service.crowdEdit({crowdId:this.formInline.crowdId}).then((function(a){t.crowdName=a.policyCrowds.crowdName,t.fetchAllData(e)})).catch((function(e){t.loading=!1}))},fetchAllData:function(e){var t=this;this.loading=!0;var a=this.formInline,i={crowdId:a.crowdId,sourceNameList:a.sourceNameList.join(","),startDate:a.timeRange[0],endDate:a.timeRange[1],isDelCache:a.isDelCache,sourceName:e||""};this.$service.rightsInterestsOutcome(i).then((function(e){if(t.loading=!1,t.pageStatus=e.status,console.log("this.setTimeOutVal===",t.setTimeOutVal),t.setTimeOutVal&&t.destoryTimeInterval(),0===t.pageStatus)t.emptyTxt="数据正在分析中，请稍后重试",t.allChartData={},t.openTimeInterval();else if(1===t.pageStatus){var a=e.data||{};t.overview=a.overview.data||{},t.allChartData=a||{},t.show=!0,t.$nextTick((function(){t.showFunnel("chart1",t.overview),t.drawChart()}))}else t.emptyTxt="暂无数据",t.allChartData={};t.handleGetRightsInterestsSearchRecord()})).catch((function(e){t.loading=!1,t.destoryTimeInterval(),t.handleGetRightsInterestsSearchRecord()}))},openTimeInterval:function(){var e=this;console.log("我执行了定时器-----"),this.setTimeOutVal=setInterval((function(){e.fetchAllData()}),8e3)},destoryTimeInterval:function(){console.log("=========我清除了定时器-----"),clearInterval(this.setTimeOutVal)},drawChart:function(){var e=this,t=this.rowObj,a=this.rowObj2;t.forEach((function(t){for(var a in t)"line"===t[a].type?e.showLine(e.allChartData[a],a):"bar"===t[a].type?e.showBar(e.allChartData[a],a):"pie"===t[a].type&&e.showPie(e.allChartData[a],a)})),a.forEach((function(t){for(var a in t)"line"===t[a].type?e.showLine(e.allChartData[a],a):"bar"===t[a].type?e.showBar(e.allChartData[a],a):"pie"===t[a].type&&e.showPie(e.allChartData[a],a)}))},showLine:function(e,t){var a=!1;if(e&&e.xaxis&&e.xaxis.length>0){var i=e.series||[],n=i.map((function(e){return e.name})),r=i.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return 100*e}));return{name:t.name,data:a,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));if(e.series2){a=!0;var s=e.series2||[],o=s.map((function(e){return e.name})),l=s.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return 100*e}));return{name:t.name,data:a,type:"line",yAxisIndex:1}}return{name:t.name,data:t.value,type:"line",yAxisIndex:1}}));n=n.concat(o),r=r.concat(l),console.log("legendData===",n),console.log("linesData===",r)}var c="",d="";"vipPlayTrend"===t?(c="人数/次数",d="时长"):"vipPkgPayTrend"===t?(c="人数",d="金额"):"vipPkgShowTrend"===t&&(c="人数/次数",d="人均次数"),this.setLinesEchart(t,"",e.xaxis,r,n,e.xunit,e.yunit,a,c,d)}},showBar:function(e,t){e&&e.xaxis&&e.xaxis.length>0&&("%"===e.yunit&&(e.series=e.series.map((function(e){return 100*e}))),this.setBarEchart(t,"",e.xaxis,e.series,e.xunit,e.yunit,e.dataaxis))},showPie:function(e,t){if(console.log("showBar======111>>>",e),e&&e.data){var a=e.data.map((function(e,t){return _u(_u({},e),{},{value:e.count})}));console.log("d==------------------------\x3e",a),console.log("d==------------------------\x3e",t),this.setPie(t,a)}},setBarEchart:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=document.getElementById(e);if(l){var c=this,d=a("313e"),u=d.init(l);u.setOption({title:{text:t},tooltip:{trigger:"axis",formatter:function(e){var t,a=e[0].marker+e[0].name+"<br/>",i=bu(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;a=a+n.name+": "+c.cc_format_number(n.value)+s+"<br/>占比: "+o[n.dataIndex]}}catch(r){i.e(r)}finally{i.f()}return a}},color:c.colorList,dataZoom:[{disabled:n.length<=10,type:"inside"},{show:n.length>10,type:"slider"}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:n.length>10?-45:0,formatter:function(e){return e+r}}},yAxis:{type:"value",width:"50px",triggerEvent:!0,scale:!0,axisLabel:{interval:"auto",formatter:function(e){return e>=1e8?e=e/1e8+"亿"+s:e>=1e7?e=e/1e7+"千万"+s:e>=1e4&&e<1e7?e=e/1e4+"万"+s:e+=s,e}}},series:[{data:n,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},barWidth:n.length>10?"30%":20,label:{show:!0,position:"top",formatter:function(e){return"".concat(o[e.dataIndex])},color:"#000"}}]},!0),"vipPkgShow"!==e&&"vipPkgXiadan"!==e&&"vipPkgPay"!==e&&"vipPlay"!==e||(u.getZr().off("click"),u.getZr().on("click",(function(e){var t=[e.offsetX,e.offsetY];if(u.containPixel("grid",t)){var a=u.convertFromPixel({seriesIndex:0},[e.offsetX,e.offsetY])[0],n=i[a];c.onSubmit(n)}}))),this.allCharts[e]=u}},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=document.getElementById(e);if(u){var h=a("313e"),p=this,m={type:"value",name:c,axisTick:{inside:!0},axisLabel:{formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},f={title:{text:t},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},color:p.colorList,legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:n.length>10?-45:0,formatter:function(e){return e+s}}},yAxis:[m],series:n};l&&f.yAxis.push(_u(_u({},m),{},{name:d}));var v=h.init(u);v.setOption(f,!0),this.allCharts[e]=v}},setPie:function(e,t){var i=document.getElementById(e);if(i){var n=this,r={tooltip:{trigger:"item"},legend:{x:"right",y:"center",icon:"circle",backgroundColor:"transparent",itemHeight:10,itemWidth:10,orient:"vertical",type:"scroll",pageIconSize:8,pageIconColor:"#2C86FF",pageIconInactiveColor:"rgba(44,132,251,0.40)",pageTextStyle:{color:"#999"},align:"left",formatter:function(e){for(var a,i=0;i<t.length;i++)t[i].name===e&&(a=t[i].percent);return"{name|".concat(e,"}    |    {num|").concat(a,"}")},textStyle:{color:"#464c54",rich:{name:{fontSize:14,height:30,color:"#011"},num:{fontSize:12,fontWeight:100,color:"#000"}}}},color:n.colorList,series:[{type:"pie",center:["25%","center"],radius:["40%","60%"],avoidLabelOverlap:!0,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30"}},labelLine:{show:!1},data:t}]},s=a("313e"),o=s.init(i);o.setOption(r),this.allCharts[e]=o}}}},xu=Iu,Tu=(a("3fb0"),Object(U["a"])(xu,vu,gu,!1,null,"30f29034",null)),Du=Tu.exports,$u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-content"},[a("el-tabs",{on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"影视",name:"影视"}}),a("el-tab-pane",{attrs:{label:"亲子",name:"亲子"}})],1),a("tab-page",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList,typeTabsList:e.typeTabsList,businessType:e.activeName},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1)},Lu=[],Nu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.typeTabsList,(function(e){return a("el-tab-pane",{key:e.value,attrs:{label:e.groupName,name:e.value}})})),1),a("div",{staticClass:"filterFields"},[a("el-form",{ref:"formData",attrs:{model:e.formData,inline:!0}},["ctr"===e.activeName?a("span",[a("el-form-item",{attrs:{prop:"crowdId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群ID",clearable:""},model:{value:e.formData.crowdId,callback:function(t){e.$set(e.formData,"crowdId",t)},expression:"formData.crowdId"}})],1),a("el-form-item",{attrs:{prop:"crowdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群名",clearable:""},model:{value:e.formData.crowdName,callback:function(t){e.$set(e.formData,"crowdName",t)},expression:"formData.crowdName"}})],1),a("el-form-item",{attrs:{prop:"pageIdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"版面ID或版面名称",clearable:""},model:{value:e.formData.pageIdName,callback:function(t){e.$set(e.formData,"pageIdName",t)},expression:"formData.pageIdName"}})],1),a("el-form-item",{attrs:{prop:"blockIdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"板块ID或板块名",clearable:""},model:{value:e.formData.blockIdName,callback:function(t){e.$set(e.formData,"blockIdName",t)},expression:"formData.blockIdName"}})],1),a("el-form-item",{attrs:{prop:"slotIdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"推荐位ID或名称",clearable:""},model:{value:e.formData.slotIdName,callback:function(t){e.$set(e.formData,"slotIdName",t)},expression:"formData.slotIdName"}})],1)],1):"package"===e.activeName?a("span",[a("el-form-item",{attrs:{prop:"crowdId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群ID",clearable:""},model:{value:e.formData.crowdId,callback:function(t){e.$set(e.formData,"crowdId",t)},expression:"formData.crowdId"}})],1),a("el-form-item",{attrs:{prop:"crowdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群名",clearable:""},model:{value:e.formData.crowdName,callback:function(t){e.$set(e.formData,"crowdName",t)},expression:"formData.crowdName"}})],1),a("el-form-item",{attrs:{prop:"equityPackageName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"权益名",clearable:""},model:{value:e.formData.equityPackageName,callback:function(t){e.$set(e.formData,"equityPackageName",t)},expression:"formData.equityPackageName"}})],1),a("el-form-item",{attrs:{prop:"packageType"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"产品包类型",clearable:""},model:{value:e.formData.packageType,callback:function(t){e.$set(e.formData,"packageType",t)},expression:"formData.packageType"}})],1),a("el-form-item",{attrs:{prop:"dealSource"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"成单路径",clearable:""},model:{value:e.formData.dealSource,callback:function(t){e.$set(e.formData,"dealSource",t)},expression:"formData.dealSource"}})],1),a("el-form-item",{attrs:{prop:"packageId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"产品包ID",clearable:""},model:{value:e.formData.packageId,callback:function(t){e.$set(e.formData,"packageId",t)},expression:"formData.packageId"}})],1)],1):"active"===e.activeName?a("span",[a("el-form-item",{attrs:{prop:"crowdId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群ID",clearable:""},model:{value:e.formData.crowdId,callback:function(t){e.$set(e.formData,"crowdId",t)},expression:"formData.crowdId"}})],1),a("el-form-item",{attrs:{prop:"crowdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群名",clearable:""},model:{value:e.formData.crowdName,callback:function(t){e.$set(e.formData,"crowdName",t)},expression:"formData.crowdName"}})],1),a("el-form-item",{attrs:{prop:"dealSource"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"成交路径",clearable:""},model:{value:e.formData.dealSource,callback:function(t){e.$set(e.formData,"dealSource",t)},expression:"formData.dealSource"}})],1)],1):"tv"===e.activeName?a("span",[a("el-form-item",{attrs:{prop:"crowdId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群ID",clearable:""},model:{value:e.formData.crowdId,callback:function(t){e.$set(e.formData,"crowdId",t)},expression:"formData.crowdId"}})],1),a("el-form-item",{attrs:{prop:"crowdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群名",clearable:""},model:{value:e.formData.crowdName,callback:function(t){e.$set(e.formData,"crowdName",t)},expression:"formData.crowdName"}})],1)],1):"top20"===e.activeName?a("span",[a("el-form-item",{attrs:{prop:"crowdId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群ID",clearable:""},model:{value:e.formData.crowdId,callback:function(t){e.$set(e.formData,"crowdId",t)},expression:"formData.crowdId"}})],1),a("el-form-item",{attrs:{prop:"crowdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群名",clearable:""},model:{value:e.formData.crowdName,callback:function(t){e.$set(e.formData,"crowdName",t)},expression:"formData.crowdName"}})],1),a("el-form-item",{attrs:{prop:"videoFirstLevelClassification"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"业务一级分类",clearable:""},model:{value:e.formData.videoFirstLevelClassification,callback:function(t){e.$set(e.formData,"videoFirstLevelClassification",t)},expression:"formData.videoFirstLevelClassification"}})],1),a("el-form-item",{attrs:{prop:"videoId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"影片ID",clearable:""},model:{value:e.formData.videoId,callback:function(t){e.$set(e.formData,"videoId",t)},expression:"formData.videoId"}})],1),a("el-form-item",{attrs:{prop:"videoName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"影片名",clearable:""},model:{value:e.formData.videoName,callback:function(t){e.$set(e.formData,"videoName",t)},expression:"formData.videoName"}})],1)],1):"category"===e.activeName?a("span",[a("el-form-item",{attrs:{prop:"crowdId"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群ID",clearable:""},model:{value:e.formData.crowdId,callback:function(t){e.$set(e.formData,"crowdId",t)},expression:"formData.crowdId"}})],1),a("el-form-item",{attrs:{prop:"crowdName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"人群名",clearable:""},model:{value:e.formData.crowdName,callback:function(t){e.$set(e.formData,"crowdName",t)},expression:"formData.crowdName"}})],1),a("el-form-item",{attrs:{prop:"classificationName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"分类",clearable:""},model:{value:e.formData.classificationName,callback:function(t){e.$set(e.formData,"classificationName",t)},expression:"formData.classificationName"}})],1),a("el-form-item",{attrs:{prop:"classificationChannel"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"频道",clearable:""},model:{value:e.formData.classificationChannel,callback:function(t){e.$set(e.formData,"classificationChannel",t)},expression:"formData.classificationChannel"}})],1)],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")]),a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:function(t){return e.handelGo()}}},[e._v("效果数据计算进展")])],1)],1)],1),e.tableData.selected.length>0?a("div",[a("span",{staticClass:"watchChartDiv"},[e._v("\n        已选择 "),a("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(e.tableData.selected.length)+" ")]),e._v(" 项\n\n        "),a("el-popover",{attrs:{placement:"top",title:"",width:"100",trigger:"manual",transition:"fade-in-linear",content:"当前数据暂无图表"},model:{value:e.chartPopoverVisible,callback:function(t){e.chartPopoverVisible=t},expression:"chartPopoverVisible"}},[a("el-button",{attrs:{slot:"reference",type:"text"},on:{click:e.watchFunnel},slot:"reference"},[e._v("查看漏斗图")]),"active"===e.activeName?a("el-button",{attrs:{slot:"reference",type:"text"},on:{click:e.watchLine},slot:"reference"},[e._v("查看折线图")]):e._e()],1)],1),a("span",{staticStyle:{color:"#999","margin-left":"10px","font-size":"12px"}},[e._v("\n        漏斗图和折线图不细分具体资源位或产品包\n      ")])]):e._e(),a("div",{staticClass:"secondScreening"},[e._v("\n      数据展示：\n      "),a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),e.showLoadingDownload?a("i",{staticClass:"el-icon-loading",staticStyle:{float:"right",color:"#5cb6ff"}}):e._e(),a("i",{staticClass:"el-icon-download download",on:{click:e.handleDownload}}),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{on:{change:e.HandleShowDayChange},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},[e._v("按天展示")])],1)]),e.showTable?a("c-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tbLoading,expression:"tbLoading"}],ref:"tabTable",attrs:{props:e.tableData.props,header:e.tableData.header,data:e.tableData.data,selected:e.tableData.selected,"selection-type":e.tableData.selectionType},on:{"row-selection-add":e.handleRowSelectionAdd,"row-selection-remove":e.handleRowSelectionRemove,"all-row-selection-change":e.handleAllRowSelectionChange}}):e._e(),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.page,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),Object.keys(e.lineChartData).length>0?a("div",{staticStyle:{display:"flex",width:"100%","justify-content":"center",padding:"40px 0"}},[a("div",{ref:"chart1",staticStyle:{width:"48%",height:"360px",display:"inline-block"}},[e._v("chart1")]),a("div",{ref:"chart2",staticStyle:{width:"48%",height:"360px",display:"inline-block"}},[e._v("chart2")])]):e._e(),a("div",{staticStyle:{overflow:"hidden",width:"100%"}},e._l(e.chartData,(function(e,t){return a("div",{key:"chart"+t,staticStyle:{float:"left",width:"500px",height:"360px",padding:"20px 0 40px"},attrs:{id:"funnelChart"+t}})})),0)],1)},Ou=[];function Pu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Eu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Au={name:"TabPage",components:{},props:{checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean},typeTabsList:{type:Array,default:function(){return[]}},businessType:{type:String}},data:function(){return{chartPopoverVisible:!1,tbLoading:!1,allCharts:{},dataList:[],filter:{businessType:this.businessType,effectType:"",versionCode:[],resourceIds:[],startPeriod:"",endPeriod:"",dataType:"",showDay:0,page:1,pageSize:10},dataSourceEnum:{},typeEnum:{},multipleSelection:[],form:{tagName:"",tagKey:"",remark:""},dialogTitle:"",totalCount:0,activeName:"ctr",showTypeTab:!0,tableData:{},formData:{},behaviorCrowdList:[],behaviorCrowdListFilter:{businessType:this.businessType,effectType:this.activeName,keywords:"",page:1,pageSize:30},resourceList:[],showDataType:0,checked1:!1,checked2:!1,selected:[],popoverVisible:!0,chartData:[],lineChartData:{},downloadUrl:"",showTable:!0,showLoadingDownload:!1}},computed:{resourceIdsPlaceholder:function(){var e="";switch(this.activeName){case"ctr":e="资源位ID、资源位名称";break;case"package":e="产品包ID、产品包类型";break;case"active":e="成交路径";break;case"tv":e="";break;case"top20":e="影片ID、影片名";break;case"category":e="分类";break}return e}},watch:{selected:function(e){var t=this;console.log("val===",e),console.log("val===",this.tableData.selected),e.forEach((function(e){var a=t.tableData.data.filter((function(t){return t.id===e}));console.log(a),console.log("this.tableData.data==",t.tableData.data)}))},businessType:{handler:function(){this.resetForm("formData")}},activeName:{handler:function(e){var t=this;"ctr"===e?this.formData={crowdId:"",crowdName:"",pageIdName:"",blockIdName:"",slotIdName:""}:"package"===e?this.formData={crowdId:"",crowdName:"",packageType:"",equityPackageName:"",dealSource:"",packageId:""}:"active"===e?this.formData={crowdId:"",crowdName:"",dealSource:""}:"tv"===e?this.formData={crowdId:"",crowdName:""}:"top20"===e?this.formData={crowdId:"",crowdName:"",videoFirstLevelClassification:"",videoId:"",videoName:""}:"category"===e&&(this.formData={crowdId:"",crowdName:"",classificationName:"",classificationChannel:""}),this.showTable=!1,this.$nextTick((function(){t.showTable=!0,t.setTableData(e),t.resetForm("formData")}))},immediate:!0}},created:function(){this.fetchData()},methods:{handelGo:function(){this.$router.push({name:"launchStatus"})},setTableData:function(e){var t=this;switch(e){case"ctr":this.tableData={props:{},header:[{label:"日期",render:function(e,a){var i=a.row;return t.checked1?i.statsDate:"".concat(i.startPeriod," - ").concat(i.endPeriod)}},{label:"人群ID&名称",render:function(e,t){var a=t.row;return a.crowdIdName?a.crowdIdName:"".concat(a.crowdId,"_").concat(a.crowdName)}},{label:"圈定量",prop:"crowdAmount",sortable:!0,sortBy:"crowdAmount"},{label:"命中量",prop:"hitAmount",sortable:!0},{label:"版面ID&名称",prop:"pageIdName",width:150,sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"pageIdName")}},{label:"板块（专辑）id&名称",prop:"blockIdName",width:180,sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"blockIdName")}},{label:"推荐位id&名称",prop:"slotIdName",width:150,sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"slotIdName")}},{label:"曝光次数",prop:"exposureTimes",sortable:!0},{label:"曝光人数",prop:"exposureNum",sortable:!0},{label:"点击次数",prop:"clickTimes",sortable:!0},{label:"点击人数",prop:"clickNum",sortable:!0},{label:"PV CTR",sortable:!0,render:function(e,t){var a=t.row;return a.clickPv?"".concat(parseFloat((100*a.clickPv).toPrecision(12)),"%"):"-"}},{label:"UV CTR",prop:"clickUv",sortable:!0,render:function(e,t){var a=t.row;return a.clickUv?"".concat(parseFloat((100*a.clickUv).toPrecision(12)),"%"):"-"}}],data:[],selected:[],selectionType:"multiple"};break;case"package":this.tableData={props:{},header:[{label:"人群ID",prop:"crowdId",width:"70"},{label:"人群名称",prop:"crowdName"},{label:"日期",render:function(e,a){var i=a.row;return t.checked1?i.statsDate:"".concat(i.startPeriod," - ").concat(i.endPeriod)}},{label:"产品包页面曝光次数",prop:"exposeTimes",sortable:!0},{label:"产品包页面曝光人数",prop:"exposeNum",sortable:!0},{label:"权益名",prop:"equityPackageName",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"equityPackageName")}},{label:"产品包类型",prop:"packageType",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"packageType")}},{label:"成单路径",prop:"dealSource",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"dealSource")}},{label:"产品包ID",prop:"packageId",sortable:!0},{label:"单价(元)",prop:"unitPrice",sortable:!0},{label:"成交单量",prop:"dealVolume",sortable:!0},{label:"成交金额(元)",prop:"dealAmount",sortable:!0}],data:[],selected:[],selectionType:"multiple"};break;case"active":this.tableData={props:{},header:[{label:"人群ID",prop:"crowdId",width:"70"},{label:"人群名称",prop:"crowdName"},{label:"日期",render:function(e,a){var i=a.row;return t.checked1?i.statsDate:"".concat(i.startPeriod," - ").concat(i.endPeriod)}},{label:"圈定量",prop:"crowdNum",sortable:!0},{label:"主页活跃量",prop:"activeUsersNum",sortable:!0},{label:"起播活跃量",prop:"playVideoUsersNum",sortable:!0},{label:"产品包页面曝光人数",prop:"exposeNum",sortable:!0},{label:"成交路径",prop:"dealSource",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"dealSource")}},{label:"成单总设备量",prop:"dealUsers",sortable:!0},{label:"成交单量",prop:"dealContractsNum",sortable:!0},{label:"成交金额(元)",prop:"dealAmount",sortable:!0}],data:[],selected:[],selectionType:"multiple"};break;case"tv":this.tableData={props:{},header:[{label:"日期",render:function(e,a){var i=a.row;return t.checked1?i.statsDate:"".concat(i.startPeriod," - ").concat(i.endPeriod)}},{label:"人群ID&名称",render:function(e,t){var a=t.row;return a.crowdIdName?a.crowdIdName:"".concat(a.crowdId,"_").concat(a.crowdName)}},{label:"播放次数",prop:"watchTimes",sortable:!0},{label:"播放人数",prop:"viewersNum",sortable:!0},{label:"播放总时长",prop:"watchLastingTimes",sortable:!0},{label:"平均每次时长",prop:"averageWatchPeriodByTime",sortable:!0},{label:"平均每人时长",prop:"averageWatchPeriodByNum",sortable:!0}],data:[],selected:[],selectionType:"none"};break;case"top20":this.tableData={props:{},header:[{label:"日期",render:function(e,a){var i=a.row;return t.checked1?i.statsDate:"".concat(i.startPeriod," - ").concat(i.endPeriod)}},{label:"人群ID&名称",render:function(e,t){var a=t.row;return a.crowdIdName?a.crowdIdName:"".concat(a.crowdId,"_").concat(a.crowdName)}},{label:"业务一级分类",prop:"videoFirstLevelClassification",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"videoFirstLevelClassification")}},{label:"影片ID&影片名",render:function(e,t){var a=t.row;return a.videoId+a.videoName},sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,["videoId","videoName"])}},{label:"影片排名",prop:"videoRanking",sortable:!0},{label:"成单人数",prop:"dealUsers",sortable:!0},{label:"成交单量",prop:"dealVolume",sortable:!0},{label:"成交金额",prop:"dealAmount",sortable:!0},{label:"播放次数",prop:"watchTimes",sortable:!0},{label:"播放人数",prop:"viewersNum",sortable:!0},{label:"播放总时长",prop:"watchLastingTimes",sortable:!0},{label:"平均每次时长",prop:"averageWatchPeriodByTime",sortable:!0},{label:"平均每人时长",prop:"averageWatchPeriodByNum",sortable:!0}],data:[],selected:[],selectionType:"none"};break;case"category":this.tableData={props:{},header:[{label:"日期",render:function(e,a){var i=a.row;return t.checked1?i.statsDate:"".concat(i.startPeriod," - ").concat(i.endPeriod)}},{label:"人群ID&名称",render:function(e,t){var a=t.row;return a.crowdIdName?a.crowdIdName:"".concat(a.crowdId,"_").concat(a.crowdName)}},{label:"分类",prop:"classificationName",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"classificationName")}},{label:"频道",prop:"classificationChannel",sortable:!0,sortMethod:function(e,a){return t.sortDevName(e,a,"classificationChannel")}},{label:"播放次数",prop:"watchTimes",sortable:!0},{label:"播放人数",prop:"viewersNum",sortable:!0},{label:"播放总时长",prop:"watchLastingTimes",sortable:!0},{label:"平均每次时长",prop:"averageWatchPeriodByTime",sortable:!0},{label:"平均每人时长",prop:"averageWatchPeriodByNum",sortable:!0}],data:[],selected:[],selectionType:"none"};break}},sortDevName:function(e,t,a){var i="",n="";Array.isArray(a)?(i=a.map((function(t){return e[t]})).join(),n=a.map((function(e){return t[e]})).join()):(i=e[a],n=t[a]);for(var r=0,s=0;;s++){if(!i[s]||!n[s]){r=i.length-n.length;break}var o=i[s],l=this.getChartType(o),c=n[s],d=this.getChartType(c);if(l[0]===d[0]){if(o===c)continue;r="zh"===l[0]?o.localeCompare(c):"en"===l[0]?o.charCodeAt(0)-c.charCodeAt(0):o-c;break}r=l[1]-d[1];break}return r},getChartType:function(e){return/^[\u4e00-\u9fa5]$/.test(e)?["zh",100]:/^[A-Z]$/.test(e)?["EN",300]:/^[a-z]$/.test(e)?["en",200]:/^[0-9]$/.test(e)?["number",400]:["others",999]},handleDownload:function(){var e=this;if(!this.showLoadingDownload){if(this.showLoadingDownload=!0,this.totalCount>1e5)return this.$message.error("最多下载10万条数据，请筛选后下载");var t=Eu({businessType:this.businessType,effectType:this.activeName,dataType:2,showDay:this.checked1?1:0,page:this.filter.page,pageSize:this.totalCount},this.formData),a=document.createElement("a");xe.a.post("/api/effect/downloadNew",t,{responseType:"arraybuffer"}).then((function(t){e.showLoadingDownload=!1;var i=t.headers["content-disposition"].split(";")[1].split("filename=")[1],n=decodeURIComponent(i),r=new Blob([t.data],{type:"application/vnd.ms-excel"}),s=URL.createObjectURL(r);a.href=s,a.download=n,a.click(),URL.revokeObjectURL(s)}))}},clearChart:function(){this.chartData=[],this.lineChartData={}},setBottom:function(){this.$nextTick((function(){var e=document.querySelector(".el-main");e.scrollTo(0,e.scrollHeight)}))},watchLine:function(){var e=this,t=this.selected;t=t.map((function(t){return{crowdId:t.crowdId,crowdName:t.crowdName,effectType:e.activeName,versionCode:t.versionCode,dataType:e.showDataType,showDay:e.checked1?1:0,statsDate:t.statsDate,startPeriod:t.startPeriod,endPeriod:t.endPeriod}})),this.$service.effectGetLine(t).then((function(t){if(!t||0===t.length||0===t.amount.data.length&&0===t.dealVolume.data.length)return e.chartPopoverVisible=!e.chartPopoverVisible,void setTimeout((function(){e.chartPopoverVisible=!e.chartPopoverVisible}),2e3);e.lineChartData=t;var a=e.lineChartData.amount,i=a.data||[],n=i.map((function(e){return e.crowdName})),r=i.map((function(e){return{name:e.crowdName,data:e.data,type:"line"}})),s=e.lineChartData.dealVolume,o=s.data||[],l=o.map((function(e){return e.crowdName})),c=o.map((function(e){return{name:e.crowdName,data:e.data,type:"line"}}));e.$nextTick((function(){e.setLinesEchart("chart1","成交金额",a.date,r,n),e.setLinesEchart("chart2","成交单量",s.date,c,l),e.setBottom()}))}))},getBusinessUseTendency:function(e){var t=this;this.$service.getStatisticStrategyReqAndHit({rangeType:e}).then((function(e){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(e){return{name:e.name,data:e.value,type:"line"}}));t.setLinesEchart("chart1","",e.xaxis,n,i,e.xunit,e.yunit)}))},watchFunnel:function(){var e=this,t=this.selected;t=t.map((function(t){return{crowdId:t.crowdId,crowdName:t.crowdName,effectType:e.activeName,versionCode:t.versionCode,dataType:e.showDataType,showDay:e.checked1?1:0,statsDate:t.statsDate}})),this.$service.effectGetFunnel(t).then((function(t){if(!t||0===t.length)return e.chartPopoverVisible=!e.chartPopoverVisible,void setTimeout((function(){e.chartPopoverVisible=!e.chartPopoverVisible}),2e3);e.chartData=t,e.chartData.forEach((function(t,a){e.$nextTick((function(){e.showFunnel(t,"funnelChart".concat(a)),e.setBottom()}))}))}))},showFunnel:function(e,t){var i=a("313e");function n(e){var t=Number(100*e).toFixed(1);return t+="%",t}var r=n(e.total),s="".concat(e.crowdName),o="统计周期：".concat(e.startPeriod,"-").concat(e.endPeriod,"，").concat(e.dataType),l=e.data,c=[{value:120,percent:e.first},{value:120,percent:e.second}];i.init(document.getElementById(t)).setOption({title:[{text:"总转化率".concat(r),top:56,left:150,textStyle:{fontFamily:"MicrosoftYaHei",color:"#252525",fontSize:16,fontWeight:400}},{subtext:s,left:"41%",bottom:20,textAlign:"center",subtextStyle:{fontFamily:"MicrosoftYaHei",color:"#252525",fontSize:14,fontWeight:400}},{subtext:o,left:"41%",bottom:0,textAlign:"center",subtextStyle:{fontFamily:"MicrosoftYaHei",color:"gray",fontSize:14,fontWeight:400}}],color:["#1481E2","#1F88E5","#3594E8","#4CA0EA","#62ABED","#79B8EF","#8FC3F2"],xAxis:{show:!1},yAxis:{show:!1,type:"category",inverse:!0,min:0,max:2},series:[{type:"funnel",sort:"none",minSize:90,maxSize:"70%",left:0,top:100,bottom:50,gap:2,label:{position:"inside",fontFamily:"Microsoft YaHei",fontSize:16,color:"#fff",formatter:"{b}{xx|}\n{c}",rich:{xx:{padding:[6,0]}}},data:l},{type:"pictorialBar",symbol:"image://http://homework.mizholdings.com/kacha/kcsj/8351c72ed86c1a0c/.png",symbolSize:["40%",60],z:1,symbolOffset:["115%",65],label:{show:!0,position:"right",offset:[-25,65],align:"center",backgroundColor:"rgba(249,249,249,1)",width:76,height:60,fontStyle:"Microsoft YaHei",formatter:function(e){var t="{s|转换率}\n"+a(e.data.percent);function a(e){var t=Number(100*e).toFixed(1);return t+="%",t}return t},rich:{s:{fontSize:14,color:"#545454",padding:[5,0,12,0]},x:{fontSize:16,color:"#121212"}}},data:c}]})},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=a("313e"),c=l.init(this.$refs[e]);c.setOption({title:{text:t,top:0},tooltip:{trigger:"axis"},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:-45,formatter:function(e){return e+s}}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:5,formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},series:n},!0),this.allCharts[e]=c},getLabelByActiveName:function(e){var t="";switch(this.activeName){case"ctr":t=e.blockIdName+","+e.pageIdName+","+e.slotIdName;break;case"package":t=e.packageId+","+e.packageType;break;case"active":t=e.dealSource||"--";break;case"top20":t=e.videoId;break;case"category":t=e.classificationName;break}return t},HandleShowDayChange:function(){this.filter.page=1,this.fetchData()},HandleDataTypeChange:function(){this.filter.page=1,this.fetchData()},resetForm:function(e){this.$refs[e]&&this.$refs[e].resetFields(),this.$refs.tabTable&&this.$refs.tabTable.$refs.table.clearSort(),this.filter.page=1,this.tableData.data=[],this.totalCount=0,this.fetchData()},handelBehaviorCrowdSelectChange:function(e){},getBehaviorCrowdList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={businessType:this.businessType,effectType:this.activeName,keywords:t,page:1,pageSize:100};""!==t&&(this.behaviorCrowdList=[]),this.loading=!0,this.$service.getEffectCrowd(a).then((function(t){e.behaviorCrowdList=t.rows,e.loading=!1})).catch((function(){e.loading=!1}))},getResourceList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={businessType:this.businessType,effectType:this.activeName,keywords:t,page:1,pageSize:100};""!==t&&(this.resourceList=[]),this.loading=!0,this.$service.getResource(a).then((function(t){e.resourceList=t.rows.filter((function(e){return e})),e.loading=!1})).catch((function(){e.loading=!1}))},fetchData:function(){var e=this;this.tbLoading=!0,this.clearChart(),this.selected=[],this.tableData.selected=[],console.log("formData======",this.formData);var t=Eu({businessType:this.businessType,effectType:this.activeName,dataType:2,showDay:this.checked1?1:0,page:this.filter.page,pageSize:this.filter.pageSize},this.formData),a="",i=this.activeName;"ctr"===i?a="getCtr":"package"===i?a="getPackage":"active"===i?a="getActive":"tv"===i?a="getTv":"top20"===i?a="getTvTop":"category"===i&&(a="getCategory"),this.$service[a](t).then((function(t){e.tbLoading=!1,e.tableData.data=t.rows,e.totalCount=t.total})).catch((function(){e.tbLoading=!1}))},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.page=1,this.fetchData()},handleCurrentChange:function(e){this.filter.page=e,this.fetchData()},handleRowSelectionAdd:function(e){if(this.selected.length>3)return this.$message.error("表格最多能选4项");this.selected.push(e),this.updateTableSelected()},handleRowSelectionRemove:function(e){this.selected=this.selected.filter((function(t){return t.id!==e.id})),this.updateTableSelected()},handleAllRowSelectionChange:function(e){if(e){if(this.tableData.data.length>4)return this.$message.error("表格最多能选4项，无法全选");this.tableData.data.forEach(this.handleRowSelectionAdd)}else this.selected=[],this.tableData.selected=[]},updateTableSelected:function(){var e=this.tableData,t=this.selected.map((function(e){return e}));e.selected=e.data.reduce((function(e,a,i){return t.some((function(e){return e.id===a.id}))&&e.push(i),e}),[])}}},Fu=Au,Vu=(a("042b"),Object(U["a"])(Fu,Nu,Ou,!1,null,"6d8f142a",null)),Ru=Vu.exports,ju={name:"labelSquareAA",components:{TabPage:Ru},data:function(){return{activeName:"影视",searchVal:"",labelZoneTagName:void 0,myCollectTagName:void 0,checkList:[],tagList:[],showSelection:!1,tempCheckList:[],typeTabsList:[{groupName:"流量CTR",value:"ctr"},{groupName:"产品包成交",value:"package"},{groupName:"活跃成交",value:"active"},{groupName:"起播数据",value:"tv"},{groupName:"观影TOP20影片",value:"top20"},{groupName:"观影分类",value:"category"}]}},methods:{handleSearch:function(){},handleClearSearch:function(){this.searchVal=void 0,this.labelZoneTagName=void 0,this.myCollectTagName=void 0},fetchCheckListData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow?e.checkList=t.behaviorShow.split(","):e.checkList=["defineRemark"]}))},handleTabChange:function(){switch(this.activeName){case"labelZone":this.fetchCheckListData(),this.$root.$emit("label-zone-list-refresh");break}},handleGetTableSelectedData:function(e,t){var a=this.tagList;if("add"===t){for(var i=-1,n=0;n<a.length;n++)if(a[n].tagId===e.tagId)return void(i=n);-1===i&&this.tagList.push(e)}else for(var r=-1,s=0;s<a.length;s++)if(a[s].tagId===e.tagId)return r=s,void this.tagList.splice(r,1)},removeTag:function(e){this.tagList.splice(this.tagList.indexOf(e),1)},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})},handleTempCheckListChange:function(e){this.$service.saveListDimension({type:5,behaviorShow:e.join(",")})}},created:function(){}},Bu=ju,Mu=(a("a1b8"),Object(U["a"])(Bu,$u,Lu,!1,null,"0d56a84e",null)),zu=Mu.exports,qu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"first-form",attrs:{model:e.form,rules:e.rules,inline:"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"MAC地址：",prop:"mac"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.mac,callback:function(t){e.$set(e.form,"mac",t)},expression:"form.mac"}})],1),a("el-form-item",{attrs:{label:"策略ID：",prop:"policyIds"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.policyIds,callback:function(t){e.$set(e.form,"policyIds",t)},expression:"form.policyIds"}})],1),a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),a("el-button",{attrs:{type:"info"},on:{click:e.handleReset}},[e._v("重置")])],1)],1),e.resultContent?a("div",{staticClass:"content"},[a("pre",[a("code",[e._v(e._s(e.resultContent))])])]):e._e()],1)},Ju=[];function Gu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Uu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Hu={name:"hitSearchAA",data:function(){return{form:this.genForm(),outForm:this.genOutForm(),pageNum:0,pageSize:1,showNext:!1,resultContent:void 0,rules:{MAC:{required:!0,message:"请输入有效的Mac地址",trigger:"blur"},policyId:{required:!0,message:"请输入策略ID",trigger:"blur"},mac:{required:!0,message:"请输入有效的Mac地址",trigger:"blur"},policyIds:{required:!0,message:"请输入策略ID",trigger:"blur"}}}},watch:{"outForm.auto":function(e){e?this.handleGetAutoData():this.form=this.genForm()}},methods:{genForm:function(e){return{policyIds:void 0,mac:void 0}},genOutForm:function(e){return Uu({MAC:void 0,policyId:void 0,auto:!1},e)},handleReset:function(){this.form=this.genForm(),this.outForm=this.genOutForm(),this.resultContent=void 0,this.showNext=!1},handleSearch:function(){var e=this,t=this.form;this.$service.getHitSearchData(t).then((function(t){e.resultContent=t||"暂无数据"}))},checkOutForm:function(){var e=this.outForm;return!(!e.MAC&&!e.policyId)||(this.$message.error("MAC或策略ID至少得填一项！"),!1)},parseAutoFilter:function(){var e=this.outForm;return{MAC:e.MAC,policyId:e.policyId,pageSize:this.pageSize,pageNum:this.pageNum}},handleGetAutoData:function(){var e=this,t=this.checkOutForm();if(t){var a=this.parseAutoFilter();this.$service.getAutoFilledParams(a).then((function(t){t.length>0?(e.form=t[0],e.showNext=!0):e.showNext=!1}))}},handleNext:function(){this.pageNum=this.pageNum+1,this.handleGetAutoData()}}},Ku=Hu,Qu=(a("da84"),Object(U["a"])(Ku,qu,Ju,!1,null,"d98778cc",null)),Wu=Qu.exports,Yu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"TopNav"},[a("div",{staticClass:"left"},[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:email:add",expression:"'sysSetup:email:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\n        ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:email:batchDel",expression:"'sysSetup:email:batchDel'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleBatchDel}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 批量删除\n        ")])],1)],1),a("div",{staticClass:"right"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",{attrs:{label:"",prop:"emailName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请填写邮箱"},model:{value:e.searchForm.emailName,callback:function(t){e.$set(e.searchForm,"emailName",t)},expression:"searchForm.emailName"}})],1),a("el-form-item",{attrs:{label:"",prop:"type"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择类型"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},e._l(e.emailTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.submitForm}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleReset}},[a("a",{staticClass:"fa fa-refresh",staticStyle:{color:"white"}}),e._v(" 重置\n          ")])],1)],1)],1)]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),a("el-table-column",{attrs:{prop:"emailName",label:"邮箱",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"message"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.emailName))])]}}])}),a("el-table-column",{attrs:{prop:"comment",label:"类型",width:"200"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDate))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-tag",{attrs:{type:"success","close-transition":"false"}},[a("a",{staticClass:"fa fa-unlock"}),e._v(" 启用\n        ")]):e._e(),0===t.row.status?a("el-tag",{attrs:{type:"danger","close-transition":"false"}},[a("a",{staticClass:"fa fa-lock"}),e._v(" 禁用\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:email:changeStatus",expression:"'sysSetup:email:changeStatus'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleChangetStatus(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 修改状态\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:email:edit",expression:"'sysSetup:email:edit'"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 编辑\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:email:del",expression:"'sysSetup:email:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 删除\n          ")])],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),e.addFormVisible?a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"emailForm",attrs:{model:e.emailForm,rules:e.emailFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"邮箱",prop:"emailName"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写邮箱, 如:xxx@coocaa.com/xxx@skyworth.com"},model:{value:e.emailForm.emailName,callback:function(t){e.$set(e.emailForm,"emailName",t)},expression:"emailForm.emailName"}})],1),a("el-form-item",{attrs:{label:"邮件类型",prop:"typeFlags"}},[a("el-checkbox-group",{model:{value:e.emailForm.typeFlags,callback:function(t){e.$set(e.emailForm,"typeFlags",t)},expression:"emailForm.typeFlags"}},e._l(e.emailTypeList,(function(t){return a("el-checkbox",{key:t.value,attrs:{value:t.value,label:t.value,name:"typeNames"}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请填写备注"},model:{value:e.emailForm.remarks,callback:function(t){e.$set(e.emailForm,"remarks",t)},expression:"emailForm.remarks"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.emailForm.status,callback:function(t){e.$set(e.emailForm,"status",t)},expression:"emailForm.status"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("正常")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("锁定")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):e._e()],1)},Zu=[],Xu={name:"emailNoticeAA",data:function(){var e=function(e,t,a){var i=t.indexOf("@coocaa.com"),n=t.indexOf("@skyworth.com");i<=0&&n<=0?a(new Error("邮箱后缀必须是coocaa.com或者skyworth.com")):a()};return{tableData:[],dialogTitle:"新增",multipleSelection:[],criteria:{},searchForm:{emailName:"",type:""},emailTypeList:null,addFormVisible:!1,emailForm:{id:"",emailName:"",remarks:"",status:0,typeFlags:[]},emailFormRules:{emailName:[{required:!0,message:"请填写邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱"},{validator:e,trigger:"change"}],typeFlags:[{type:"array",required:!0,message:"请至少选择一个邮件类型",trigger:"change"}]},editFormVisible:!1,pageSize:10,currentPage:1,start:1,totalCount:1}},methods:{loadData:function(){var e=this;this.criteria.pageNum=this.currentPage,this.criteria.pageSize=this.pageSize,this.$service.get_emails_json(this.criteria).then((function(t){e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total,e.emailTypeList=t.emailTypeList}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},submitForm:function(){var e=this;this.$refs.searchForm.validate((function(t){if(!t)return!1;e.criteria=e.searchForm,e.loadData()}))},handleReset:function(){this.$refs.searchForm.resetFields()},handleChangetStatus:function(e,t){var a=this,i=t.id,n=1==t.status?0:1;this.$confirm("确定修改该条记录的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$service.changeEmailStatus({id:i,status:n},"修改成功").then((function(){a.loadData()}))})).catch((function(){a.$message({showClose:!0,message:"已取消修改该条记录的状态"})}))},handleAdd:function(){this.dialogTitle="新增",this.addFormVisible=!0,this.emailForm.id="",this.emailForm.emailName="",this.emailForm.typeFlags=[],this.emailForm.remarks="",this.emailForm.status=0},addSubmit:function(){var e=this,t=this;this.$refs.emailForm.validate((function(a){if(!a)return!1;var i=JSON.stringify(t.emailForm);i=JSON.parse(i),i.typeFlags=i.typeFlags.join(","),""!=e.emailForm.id?e.$service.updateEmail(i,"更新成功").then((function(){e.loadData(),e.addFormVisible=!1})):e.$service.addEmail(i,"添加成功").then((function(){e.loadData(),e.addFormVisible=!1}))}))},handleEdit:function(e,t){this.dialogTitle="编辑",this.addFormVisible=!0,this.emailForm.id=t.id,this.emailForm.emailName=t.emailName,this.emailForm.typeFlags=t.typeIds,this.emailForm.remarks=t.remarks,this.emailForm.status=t.status},cancelAdd:function(){this.addFormVisible=!1},cancelEdit:function(){this.editFormVisible=!1,this.$message({showClose:!0,message:"已取消编辑"})},handleDelete:function(e,t){var a=this,i=t.id;this.$confirm("确定要删除该条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){a.$service.delEmail({id:i},"删除成功").then((function(){a.loadData()}))})).catch((function(){}))},handleSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);this.multipleSelection=t},handleBatchDel:function(){var e=this,t=this.multipleSelection;t.length>0?this.$confirm("确定要删除这批记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){e.$service.batchDelEmail({ids:t.join(",")},"删除成功").then((function(){e.loadData()}))})).catch((function(){})):this.$alert("请至少勾选一条记录","提示",{confirmButtonText:"确定",type:"warning"})}},created:function(){this.loadData()}},eh=Xu,th=(a("d73e"),Object(U["a"])(eh,Yu,Zu,!1,null,"eb134fdc",null)),ah=th.exports,ih=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"登录用户",prop:"loginName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入登录用户"},model:{value:e.queryForm.loginName,callback:function(t){e.$set(e.queryForm,"loginName",t)},expression:"queryForm.loginName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.submitForm}},[a("i",{staticClass:"el-icon-search"}),a("span",[e._v("查询")])]),a("el-button",{attrs:{type:"primary",size:"small","shiro:hasPermission":"sysAdministrative:user:batchDel"},on:{click:e.handleReset}},[a("i",{staticClass:"el-icon-delete"}),a("span",[e._v("重置")])])],1)],1),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"loginName",label:"账号"}}),a("el-table-column",{attrs:{prop:"loginTime",label:"登录时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.loginTime))])]}}])}),a("el-table-column",{attrs:{prop:"loginIp",label:"登录Ip"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1)},nh=[],rh={name:"loginLogAA",data:function(){return{tableData:[],queryForm:{loginName:""},pageSize:10,currentPage:1,start:1,totalCount:6,criteria:{},isDisabl:!0,pageVisible:!1}},methods:{loadData:function(){var e=this;this.criteria["pageNum"]=this.currentPage,this.criteria["pageSize"]=this.pageSize,this.$service.get_loginLogs_json(this.criteria).then((function(t){e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total}))},submitForm:function(){var e=this;this.$refs.queryForm.validate((function(t){if(!t)return!1;e.criteria=e.queryForm,e.loadData()}))},pageRefresh:function(){var e=this;this.tableData[0].loginName?this.$refs.queryForm.validate((function(t){if(!t)return!1;e.criteria=e.queryForm,e.loadData()})):this.$message("未查询！")},handleReset:function(){this.$refs.queryForm.resetFields()},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()}},created:function(){this.loadData()}},sh=rh,oh=Object(U["a"])(sh,ih,nh,!1,null,null,null),lh=oh.exports,ch=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.isShowMenuList,expression:"!isShowMenuList"}],on:{getIcon:e.getIcon,show:e.showPage}}),a("MenuList",{directives:[{name:"show",rawName:"v-show",value:e.isShowMenuList,expression:"isShowMenuList"}],attrs:{iconName:e.iconName},on:{show:e.showPage}})],1)},dh=[],uh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:menu:add",expression:"'sysSetup:menu:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\n    ")])],1),a("br"),a("br"),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"0px"}}):e._e(),2===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"10px"}}):e._e(),3===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"20px"}}):e._e(),4===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"30px"}}):e._e(),5===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"40px"}}):e._e(),6===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"50px"}}):e._e(),e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"href",label:"链接",width:"300"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),a("el-table-column",{attrs:{prop:"permission",label:"权限标识",width:"300"}}),a("el-table-column",{attrs:{prop:"isShow",label:"可见"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isShow?a("el-tag",{attrs:{type:"success","close-transition":"false"}},[a("a",{staticClass:"fa fa-unlock"}),e._v(" 显示\n        ")]):e._e(),0===t.row.isShow?a("el-tag",{attrs:{type:"danger","close-transition":"false"}},[a("a",{staticClass:"fa fa-lock"}),e._v(" 隐藏\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:menu:changeStatus",expression:"'sysSetup:menu:changeStatus'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleChangetStatus(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 修改状态\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:menu:edit",expression:"'sysSetup:menu:edit'"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 编辑\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:menu:del",expression:"'sysSetup:menu:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 删除\n          ")])],1)]}}])})],1),a("br"),e.addFormVisible?a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"menuForm",attrs:{model:e.menuForm,rules:e.menuFormRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.menuForm.parentId,callback:function(t){e.$set(e.menuForm,"parentId",t)},expression:"menuForm.parentId"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择父级菜单"},model:{value:e.menuForm.parentName,callback:function(t){e.$set(e.menuForm,"parentName",t)},expression:"menuForm.parentName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.selectMenu}},[e._v("选择")])],1),a("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入菜单名称"},model:{value:e.menuForm.name,callback:function(t){e.$set(e.menuForm,"name",t)},expression:"menuForm.name"}})],1),a("el-form-item",{attrs:{label:"菜单链接",prop:"href"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入菜单链接"},model:{value:e.menuForm.href,callback:function(t){e.$set(e.menuForm,"href",t)},expression:"menuForm.href"}})],1),a("el-form-item",{attrs:{label:"权限",prop:"permission"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入权限"},model:{value:e.menuForm.permission,callback:function(t){e.$set(e.menuForm,"permission",t)},expression:"menuForm.permission"}})],1),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请填写图标样式,如:fa-book"},model:{value:e.menuForm.icon,callback:function(t){e.$set(e.menuForm,"icon",t)},expression:"menuForm.icon"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.selectIcon}},[e._v("选择图标")])],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写排序数"},model:{value:e.menuForm.sort,callback:function(t){e.$set(e.menuForm,"sort",e._n(t))},expression:"menuForm.sort"}})],1),a("el-form-item",{attrs:{label:"是否在菜单中显示"}},[a("el-radio-group",{model:{value:e.menuForm.isShow,callback:function(t){e.$set(e.menuForm,"isShow",t)},expression:"menuForm.isShow"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("显示")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("隐藏")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):e._e(),a("el-dialog",{staticClass:"organSelect",attrs:{title:"选择机构",visible:e.organVisible,width:"30%"},on:{"update:visible":function(t){e.organVisible=t}}},[a("el-tree",{attrs:{data:e.organs,props:e.organProps,accordion:""},on:{"node-click":e.handleNodeClick}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.companySelectCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.companySelectOk}},[e._v("确 定")])],1)],1)],1)},hh=[],ph={data:function(){var e=function(e,t,a){if(!t)return a(new Error("排序不能为空"));Number.isInteger(t)?a():a(new Error("请输入正整数"))};return{tableData:[],dialogTitle:"",organs:[],organProps:{chilidren:"children",label:"name"},addFormVisible:!1,organVisible:!1,menuForm:{id:"",parentId:0,parentName:"顶级菜单",name:"",href:"",permission:"",icon:"",sort:"",isShow:0},menuFormRules:{name:[{required:!0,message:"请填写菜单名称",trigger:"blur"}],permission:[{required:!0,message:"请填写权限",trigger:"blur"}],icon:[{required:!0,message:"请填写菜单图标",trigger:"blur"}],sort:[{required:!0,validator:e,trigger:"blur"}]},editFormVisible:!1}},props:["iconName"],created:function(){this.loadData(),this.menuForm.icon=this.iconName},watch:{iconName:function(e){this.menuForm.icon=e}},methods:{loadData:function(){var e=this;this.$service.get_menus_json().then((function(t){e.tableData=t.menuTreeTable}))},selectIcon:function(){this.$emit("show",!1),document.querySelector(".v-modal").style.display="none"},handleChangetStatus:function(e,t){var a=this,i=t.id,n=1==t.isShow?0:1;this.$confirm("确定修改该条记录的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$service.changeMenuStatus({id:i,isShow:n},"修改成功").then((function(){a.loadData()}))})).catch((function(){}))},selectMenu:function(){var e=this;this.$service.get_menu_tree_json().then((function(t){e.organs=t,e.organVisible=!0}))},handleNodeClick:function(e){this.$appState.$set("company_data",JSON.stringify(e))},companySelectCancel:function(){this.$appState.$set("company_data",""),this.organVisible=!1},companySelectOk:function(){this.organVisible=!1;var e=JSON.parse(this.$appState.$get("company_data"));this.menuForm.parentId=e.id,this.menuForm.parentName=e.name},handleAdd:function(){this.dialogTitle="新增",this.addFormVisible=!0,this.menuForm.id="",this.menuForm.parentId="",this.menuForm.parentName="",this.menuForm.name="",this.menuForm.href="",this.menuForm.permission="",this.menuForm.icon="",this.menuForm.sort="",this.menuForm.isShow=0},addSubmit:function(){var e=this,t=JSON.parse(JSON.stringify(this.menuForm));""===t.parentId&&(t.parentId=0),this.$refs.menuForm.validate((function(a){if(!a)return!1;""!=t.id?e.$service.MenuUpdate(t,"更新成功").then((function(){e.loadData(),e.addFormVisible=!1})):e.$service.MenuAdd(t,"添加成功").then((function(){e.loadData(),e.addFormVisible=!1}))}))},handleEdit:function(e,t){this.dialogTitle="编辑",this.addFormVisible=!0,this.menuForm.id=t.id,this.menuForm.parentId=t.parentId,null==t.parentName?this.menuForm.parentName="":this.menuForm.parentName=t.parentName,this.menuForm.name=t.name,this.menuForm.href=t.href,this.menuForm.permission=t.permission,this.menuForm.icon=t.icon,this.menuForm.sort=t.sort,this.menuForm.isShow=t.isShow},cancelAdd:function(){this.addFormVisible=!1},handleDelete:function(e,t){var a=this,i=t.id;this.$confirm("确定要删除该条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){a.$service.delMenu({id:i},"删除成功").then((function(){a.loadData()}))})).catch((function(){}))}}},mh=ph,fh=(a("7d55"),Object(U["a"])(mh,uh,hh,!1,null,"7ae91b7a",null)),vh=fh.exports,gh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"markdown"},[a("div",{staticClass:"TopNav"},[a("div",{staticClass:"left"},[e._v("IconFont 图标")]),a("div",{staticClass:"right"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.goBack}},[e._v("返回")])],1)]),a("div",{staticClass:"content font-class",staticStyle:{display:"block"}},[a("ul",{staticClass:"icon_lists dib-box",on:{click:e.getIconClassName}},[e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8),e._m(9),e._m(10),e._m(11),e._m(12),e._m(13),e._m(14),e._m(15),e._m(16),e._m(17),e._m(18),e._m(19),e._m(20),e._m(21),e._m(22),e._m(23),e._m(24),e._m(25),e._m(26),e._m(27),e._m(28),e._m(29),e._m(30),e._m(31),e._m(32),e._m(33),e._m(34),e._m(35),e._m(36),e._m(37),e._m(38),e._m(39),e._m(40),e._m(41),e._m(42),e._m(43),e._m(44),e._m(45),e._m(46),e._m(47),e._m(48),e._m(49),e._m(50),e._m(51),e._m(52),e._m(53),e._m(54),e._m(55),e._m(56),e._m(57),e._m(58),e._m(59),e._m(60),e._m(61),e._m(62),e._m(63),e._m(64),e._m(65),e._m(66),e._m(67),e._m(68),e._m(69),e._m(70),e._m(71),e._m(72),e._m(73),e._m(74),e._m(75),e._m(76),e._m(77),e._m(78),e._m(79),e._m(80),e._m(81),e._m(82),e._m(83),e._m(84),e._m(85),e._m(86),e._m(87),e._m(88),e._m(89),e._m(90),e._m(91),e._m(92),e._m(93),e._m(94),e._m(95),e._m(96),e._m(97),e._m(98),e._m(99),e._m(100),e._m(101),e._m(102),e._m(103),e._m(104),e._m(105),e._m(106),e._m(107),e._m(108),e._m(109),e._m(110),e._m(111),e._m(112),e._m(113),e._m(114),e._m(115),e._m(116),e._m(117),e._m(118),e._m(119),e._m(120),e._m(121),e._m(122),e._m(123),e._m(124),e._m(125),e._m(126),e._m(127),e._m(128),e._m(129),e._m(130),e._m(131),e._m(132),e._m(133),e._m(134),e._m(135),e._m(136),e._m(137),e._m(138),e._m(139),e._m(140),e._m(141),e._m(142),e._m(143),e._m(144),e._m(145),e._m(146),e._m(147),e._m(148),e._m(149),e._m(150),e._m(151),e._m(152),e._m(153),e._m(154),e._m(155),e._m(156),e._m(157),e._m(158),e._m(159),e._m(160),e._m(161),e._m(162),e._m(163),e._m(164),e._m(165),e._m(166),e._m(167),e._m(168),e._m(169),e._m(170),e._m(171),e._m(172),e._m(173),e._m(174),e._m(175),e._m(176),e._m(177),e._m(178),e._m(179),e._m(180),e._m(181),e._m(182),e._m(183),e._m(184),e._m(185),e._m(186),e._m(187),e._m(188),e._m(189),e._m(190),e._m(191),e._m(192),e._m(193),e._m(194),e._m(195),e._m(196),e._m(197),e._m(198),e._m(199),e._m(200),e._m(201),e._m(202),e._m(203),e._m(204),e._m(205),e._m(206),e._m(207),e._m(208),e._m(209),e._m(210),e._m(211),e._m(212),e._m(213),e._m(214),e._m(215),e._m(216),e._m(217),e._m(218),e._m(219),e._m(220),e._m(221),e._m(222),e._m(223),e._m(224),e._m(225),e._m(226),e._m(227),e._m(228),e._m(229),e._m(230),e._m(231),e._m(232),e._m(233),e._m(234),e._m(235),e._m(236),e._m(237),e._m(238),e._m(239),e._m(240),e._m(241),e._m(242),e._m(243),e._m(244),e._m(245),e._m(246),e._m(247),e._m(248),e._m(249),e._m(250),e._m(251),e._m(252),e._m(253),e._m(254),e._m(255),e._m(256),e._m(257),e._m(258),e._m(259),e._m(260),e._m(261),e._m(262),e._m(263),e._m(264),e._m(265),e._m(266),e._m(267),e._m(268),e._m(269),e._m(270),e._m(271),e._m(272),e._m(273),e._m(274),e._m(275),e._m(276),e._m(277),e._m(278),e._m(279),e._m(280),e._m(281),e._m(282),e._m(283),e._m(284),e._m(285),e._m(286),e._m(287),e._m(288),e._m(289),e._m(290),e._m(291),e._m(292),e._m(293),e._m(294),e._m(295),e._m(296),e._m(297),e._m(298),e._m(299),e._m(300),e._m(301),e._m(302),e._m(303),e._m(304),e._m(305),e._m(306),e._m(307),e._m(308),e._m(309),e._m(310),e._m(311),e._m(312),e._m(313),e._m(314),e._m(315),e._m(316),e._m(317),e._m(318),e._m(319),e._m(320),e._m(321),e._m(322),e._m(323),e._m(324),e._m(325),e._m(326),e._m(327),e._m(328),e._m(329),e._m(330),e._m(331),e._m(332),e._m(333),e._m(334),e._m(335),e._m(336),e._m(337),e._m(338),e._m(339),e._m(340),e._m(341),e._m(342),e._m(343),e._m(344),e._m(345),e._m(346),e._m(347),e._m(348),e._m(349),e._m(350),e._m(351),e._m(352),e._m(353),e._m(354),e._m(355),e._m(356),e._m(357),e._m(358),e._m(359),e._m(360),e._m(361),e._m(362),e._m(363),e._m(364),e._m(365),e._m(366),e._m(367),e._m(368),e._m(369),e._m(370),e._m(371),e._m(372),e._m(373),e._m(374),e._m(375),e._m(376),e._m(377),e._m(378),e._m(379),e._m(380),e._m(381),e._m(382),e._m(383),e._m(384),e._m(385),e._m(386),e._m(387),e._m(388),e._m(389),e._m(390),e._m(391),e._m(392),e._m(393),e._m(394),e._m(395),e._m(396),e._m(397),e._m(398),e._m(399),e._m(400),e._m(401),e._m(402),e._m(403),e._m(404),e._m(405),e._m(406),e._m(407),e._m(408),e._m(409),e._m(410),e._m(411),e._m(412),e._m(413),e._m(414),e._m(415),e._m(416),e._m(417),e._m(418),e._m(419),e._m(420),e._m(421),e._m(422),e._m(423),e._m(424),e._m(425),e._m(426),e._m(427),e._m(428),e._m(429),e._m(430),e._m(431),e._m(432),e._m(433),e._m(434),e._m(435),e._m(436),e._m(437),e._m(438),e._m(439),e._m(440),e._m(441),e._m(442),e._m(443),e._m(444),e._m(445),e._m(446),e._m(447),e._m(448),e._m(449),e._m(450),e._m(451),e._m(452),e._m(453),e._m(454),e._m(455),e._m(456),e._m(457),e._m(458),e._m(459),e._m(460),e._m(461),e._m(462),e._m(463),e._m(464),e._m(465),e._m(466),e._m(467),e._m(468),e._m(469),e._m(470),e._m(471),e._m(472),e._m(473),e._m(474),e._m(475),e._m(476),e._m(477),e._m(478),e._m(479),e._m(480),e._m(481),e._m(482),e._m(483),e._m(484),e._m(485),e._m(486),e._m(487),e._m(488),e._m(489),e._m(490),e._m(491),e._m(492),e._m(493),e._m(494),e._m(495),e._m(496),e._m(497),e._m(498),e._m(499),e._m(500),e._m(501),e._m(502),e._m(503),e._m(504),e._m(505),e._m(506),e._m(507),e._m(508),e._m(509),e._m(510),e._m(511),e._m(512),e._m(513),e._m(514),e._m(515),e._m(516),e._m(517),e._m(518),e._m(519),e._m(520),e._m(521),e._m(522),e._m(523),e._m(524),e._m(525),e._m(526),e._m(527),e._m(528),e._m(529),e._m(530),e._m(531),e._m(532),e._m(533),e._m(534),e._m(535),e._m(536),e._m(537),e._m(538),e._m(539),e._m(540),e._m(541),e._m(542),e._m(543),e._m(544),e._m(545),e._m(546),e._m(547),e._m(548),e._m(549),e._m(550),e._m(551),e._m(552),e._m(553),e._m(554),e._m(555),e._m(556),e._m(557)])])])},bh=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-denglu"}),a("div",{staticClass:"name"},[e._v("\n            登录\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-denglu\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-toufangfangan"}),a("div",{staticClass:"name"},[e._v("\n            投放方案\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-toufangfangan\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-iconset0225"}),a("div",{staticClass:"name"},[e._v("\n            投放仪\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-iconset0225\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-iconset0226"}),a("div",{staticClass:"name"},[e._v("\n            投放仪\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-iconset0226\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-iconset0329"}),a("div",{staticClass:"name"},[e._v("\n            标签\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-iconset0329\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-renqun"}),a("div",{staticClass:"name"},[e._v("\n            人群\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-renqun\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-prize-copy"}),a("div",{staticClass:"name"},[e._v("\n            prize\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-prize-copy\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-caozuo"}),a("div",{staticClass:"name"},[e._v("\n            操作\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-caozuo\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-xitong"}),a("div",{staticClass:"name"},[e._v("\n            系统\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-xitong\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-jiaose"}),a("div",{staticClass:"name"},[e._v("\n            角色\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-jiaose\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-yanzheng"}),a("div",{staticClass:"name"},[e._v("\n            验证\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-yanzheng\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tab_activity"}),a("div",{staticClass:"name"},[e._v("\n            tab_activity\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tab_activity\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tubiaozhizuomoban"}),a("div",{staticClass:"name"},[e._v("\n            个人\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tubiaozhizuomoban\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-celve1"}),a("div",{staticClass:"name"},[e._v("\n            策略\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-celve1\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-email"}),a("div",{staticClass:"name"},[e._v("\n            邮件\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-email\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-institute"}),a("div",{staticClass:"name"},[e._v("\n            机构\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-institute\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-menu1"}),a("div",{staticClass:"name"},[e._v("\n            菜单\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-menu1\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rizhi"}),a("div",{staticClass:"name"},[e._v("\n            日志\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rizhi\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-renyuanguanli"}),a("div",{staticClass:"name"},[e._v("\n            人员管理\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-renyuanguanli\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rizhiguanli"}),a("div",{staticClass:"name"},[e._v("\n            日志管理\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rizhiguanli\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-yanjizhushou-shangchuan_xitong"}),a("div",{staticClass:"name"},[e._v("\n            系统\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-yanjizhushou-shangchuan_xitong\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-celveguanli"}),a("div",{staticClass:"name"},[e._v("\n            策略管理\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-celveguanli\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-celve"}),a("div",{staticClass:"name"},[e._v("\n            策略\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-celve\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-xinxi"}),a("div",{staticClass:"name"},[e._v("\n            信息\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-xinxi\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-mima"}),a("div",{staticClass:"name"},[e._v("\n            密码\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-mima\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-check-circle"}),a("div",{staticClass:"name"},[e._v("\n            check-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-check-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Dollar"}),a("div",{staticClass:"name"},[e._v("\n            Dollar\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Dollar\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-compass"}),a("div",{staticClass:"name"},[e._v("\n            compass\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-compass\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-close-circle"}),a("div",{staticClass:"name"},[e._v("\n            close-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-close-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-frown"}),a("div",{staticClass:"name"},[e._v("\n            frown\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-frown\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-info-circle"}),a("div",{staticClass:"name"},[e._v("\n            info-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-info-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-left-circle"}),a("div",{staticClass:"name"},[e._v("\n            left-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-left-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-down-circle"}),a("div",{staticClass:"name"},[e._v("\n            down-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-down-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-EURO"}),a("div",{staticClass:"name"},[e._v("\n            EURO\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-EURO\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-copyright"}),a("div",{staticClass:"name"},[e._v("\n            copyright\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-copyright\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-minus-circle"}),a("div",{staticClass:"name"},[e._v("\n            minus-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-minus-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-meh"}),a("div",{staticClass:"name"},[e._v("\n            meh\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-meh\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-plus-circle"}),a("div",{staticClass:"name"},[e._v("\n            plus-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-plus-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-play-circle"}),a("div",{staticClass:"name"},[e._v("\n            play-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-play-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-question-circle"}),a("div",{staticClass:"name"},[e._v("\n            question-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-question-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Pound"}),a("div",{staticClass:"name"},[e._v("\n            Pound\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Pound\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-right-circle"}),a("div",{staticClass:"name"},[e._v("\n            right-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-right-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-smile"}),a("div",{staticClass:"name"},[e._v("\n            smile\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-smile\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-trademark"}),a("div",{staticClass:"name"},[e._v("\n            trademark\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-trademark\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-time-circle"}),a("div",{staticClass:"name"},[e._v("\n            time-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-time-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-timeout"}),a("div",{staticClass:"name"},[e._v("\n            time out\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-timeout\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-earth"}),a("div",{staticClass:"name"},[e._v("\n            earth\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-earth\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-YUAN"}),a("div",{staticClass:"name"},[e._v("\n            YUAN\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-YUAN\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-up-circle"}),a("div",{staticClass:"name"},[e._v("\n            up-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-up-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-warning-circle"}),a("div",{staticClass:"name"},[e._v("\n            warning-circle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-warning-circle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sync"}),a("div",{staticClass:"name"},[e._v("\n            sync\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sync\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-transaction"}),a("div",{staticClass:"name"},[e._v("\n            transaction\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-transaction\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-undo"}),a("div",{staticClass:"name"},[e._v("\n            undo\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-undo\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-redo"}),a("div",{staticClass:"name"},[e._v("\n            redo\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-redo\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reload"}),a("div",{staticClass:"name"},[e._v("\n            reload\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reload\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reloadtime"}),a("div",{staticClass:"name"},[e._v("\n            reload time\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reloadtime\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-message"}),a("div",{staticClass:"name"},[e._v("\n            message\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-message\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dashboard"}),a("div",{staticClass:"name"},[e._v("\n            dashboard\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dashboard\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-issuesclose"}),a("div",{staticClass:"name"},[e._v("\n            issues close\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-issuesclose\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-poweroff"}),a("div",{staticClass:"name"},[e._v("\n            poweroff\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-poweroff\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-logout"}),a("div",{staticClass:"name"},[e._v("\n            logout\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-logout\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-login"}),a("div",{staticClass:"name"},[e._v("\n            login\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-login\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-piechart"}),a("div",{staticClass:"name"},[e._v("\n            pie chart\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-piechart\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-setting"}),a("div",{staticClass:"name"},[e._v("\n            setting\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-setting\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-eye"}),a("div",{staticClass:"name"},[e._v("\n            eye\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-eye\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-location"}),a("div",{staticClass:"name"},[e._v("\n            location\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-location\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-edit-square"}),a("div",{staticClass:"name"},[e._v("\n            edit-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-edit-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-export"}),a("div",{staticClass:"name"},[e._v("\n            export\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-export\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-save"}),a("div",{staticClass:"name"},[e._v("\n            save\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-save\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Import"}),a("div",{staticClass:"name"},[e._v("\n            Import\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Import\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-appstore"}),a("div",{staticClass:"name"},[e._v("\n            app store\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-appstore\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-close-square"}),a("div",{staticClass:"name"},[e._v("\n            close-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-close-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-down-square"}),a("div",{staticClass:"name"},[e._v("\n            down-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-down-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-layout"}),a("div",{staticClass:"name"},[e._v("\n            layout\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-layout\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-left-square"}),a("div",{staticClass:"name"},[e._v("\n            left-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-left-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-play-square"}),a("div",{staticClass:"name"},[e._v("\n            play-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-play-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-control"}),a("div",{staticClass:"name"},[e._v("\n            control\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-control\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-codelibrary"}),a("div",{staticClass:"name"},[e._v("\n            code library\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-codelibrary\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-detail"}),a("div",{staticClass:"name"},[e._v("\n            detail\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-detail\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-minus-square"}),a("div",{staticClass:"name"},[e._v("\n            minus-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-minus-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-plus-square"}),a("div",{staticClass:"name"},[e._v("\n            plus-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-plus-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-right-square"}),a("div",{staticClass:"name"},[e._v("\n            right-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-right-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-project"}),a("div",{staticClass:"name"},[e._v("\n            project\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-project\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-wallet"}),a("div",{staticClass:"name"},[e._v("\n            wallet\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-wallet\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-up-square"}),a("div",{staticClass:"name"},[e._v("\n            up-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-up-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-calculator"}),a("div",{staticClass:"name"},[e._v("\n            calculator\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-calculator\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-interation"}),a("div",{staticClass:"name"},[e._v("\n            interation\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-interation\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-check-square"}),a("div",{staticClass:"name"},[e._v("\n            check-square\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-check-square\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border"}),a("div",{staticClass:"name"},[e._v("\n            border\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-outer"}),a("div",{staticClass:"name"},[e._v("\n            border-outer\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-outer\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-top"}),a("div",{staticClass:"name"},[e._v("\n            border-top\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-top\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-bottom"}),a("div",{staticClass:"name"},[e._v("\n            border-bottom\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-bottom\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-left"}),a("div",{staticClass:"name"},[e._v("\n            border-left\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-left\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-right"}),a("div",{staticClass:"name"},[e._v("\n            border-right\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-right\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-inner"}),a("div",{staticClass:"name"},[e._v("\n            border-inner\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-inner\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-verticle"}),a("div",{staticClass:"name"},[e._v("\n            border-verticle\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-verticle\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-border-horizontal"}),a("div",{staticClass:"name"},[e._v("\n            border-horizontal\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-border-horizontal\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-radius-bottomleft"}),a("div",{staticClass:"name"},[e._v("\n            radius-bottomleft\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-radius-bottomleft\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-radius-bottomright"}),a("div",{staticClass:"name"},[e._v("\n            radius-bottomright\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-radius-bottomright\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-radius-upleft"}),a("div",{staticClass:"name"},[e._v("\n            radius-upleft\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-radius-upleft\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-radius-upright"}),a("div",{staticClass:"name"},[e._v("\n            radius-upright\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-radius-upright\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-radius-setting"}),a("div",{staticClass:"name"},[e._v("\n            radius-setting\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-radius-setting\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-adduser"}),a("div",{staticClass:"name"},[e._v("\n            add user\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-adduser\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-deleteteam"}),a("div",{staticClass:"name"},[e._v("\n            delete team\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-deleteteam\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-deleteuser"}),a("div",{staticClass:"name"},[e._v("\n            delete user\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-deleteuser\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-addteam"}),a("div",{staticClass:"name"},[e._v("\n            addteam\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-addteam\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-user"}),a("div",{staticClass:"name"},[e._v("\n            user\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-user\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-team"}),a("div",{staticClass:"name"},[e._v("\n            team\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-team\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-areachart"}),a("div",{staticClass:"name"},[e._v("\n            area chart\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-areachart\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-linechart"}),a("div",{staticClass:"name"},[e._v("\n            line chart\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-linechart\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-barchart"}),a("div",{staticClass:"name"},[e._v("\n            bar chart\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-barchart\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pointmap"}),a("div",{staticClass:"name"},[e._v("\n            point map\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pointmap\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-container"}),a("div",{staticClass:"name"},[e._v("\n            container\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-container\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-database"}),a("div",{staticClass:"name"},[e._v("\n            database\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-database\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sever"}),a("div",{staticClass:"name"},[e._v("\n            sever\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sever\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-mobile"}),a("div",{staticClass:"name"},[e._v("\n            mobile\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-mobile\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tablet"}),a("div",{staticClass:"name"},[e._v("\n            tablet\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tablet\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-redenvelope"}),a("div",{staticClass:"name"},[e._v("\n            red envelope\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-redenvelope\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-book"}),a("div",{staticClass:"name"},[e._v("\n            book\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-book\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-filedone"}),a("div",{staticClass:"name"},[e._v("\n            file done\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-filedone\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reconciliation"}),a("div",{staticClass:"name"},[e._v("\n            reconciliation\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reconciliation\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-exception"}),a("div",{staticClass:"name"},[e._v("\n            file -exception\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-exception\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-filesync"}),a("div",{staticClass:"name"},[e._v("\n            file sync\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-filesync\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-filesearch"}),a("div",{staticClass:"name"},[e._v("\n            file search\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-filesearch\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-solution"}),a("div",{staticClass:"name"},[e._v("\n            solution\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-solution\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fileprotect"}),a("div",{staticClass:"name"},[e._v("\n            file protect\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fileprotect\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-add"}),a("div",{staticClass:"name"},[e._v("\n            file-add\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-add\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-excel"}),a("div",{staticClass:"name"},[e._v("\n            file-excel\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-excel\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-exclamation"}),a("div",{staticClass:"name"},[e._v("\n            file-exclamation\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-exclamation\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-pdf"}),a("div",{staticClass:"name"},[e._v("\n            file-pdf\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-pdf\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-image"}),a("div",{staticClass:"name"},[e._v("\n            file-image\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-image\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-markdown"}),a("div",{staticClass:"name"},[e._v("\n            file-markdown\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-markdown\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-unknown"}),a("div",{staticClass:"name"},[e._v("\n            file-unknown\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-unknown\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-ppt"}),a("div",{staticClass:"name"},[e._v("\n            file-ppt\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-ppt\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-word"}),a("div",{staticClass:"name"},[e._v("\n            file-word\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-word\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file"}),a("div",{staticClass:"name"},[e._v("\n            file\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-zip"}),a("div",{staticClass:"name"},[e._v("\n            file-zip\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-zip\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-text"}),a("div",{staticClass:"name"},[e._v("\n            file-text\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-text\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-copy"}),a("div",{staticClass:"name"},[e._v("\n            file-copy\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-copy\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-snippets"}),a("div",{staticClass:"name"},[e._v("\n            snippets\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-snippets\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-audit"}),a("div",{staticClass:"name"},[e._v("\n            audit\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-audit\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-diff"}),a("div",{staticClass:"name"},[e._v("\n            diff\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-diff\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Batchfolding"}),a("div",{staticClass:"name"},[e._v("\n            Batch folding\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Batchfolding\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-securityscan"}),a("div",{staticClass:"name"},[e._v("\n            security scan\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-securityscan\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-propertysafety"}),a("div",{staticClass:"name"},[e._v("\n            property safety\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-propertysafety\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-safetycertificate"}),a("div",{staticClass:"name"},[e._v("\n            safety certificate\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-safetycertificate\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-insurance"}),a("div",{staticClass:"name"},[e._v("\n            insurance\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-insurance\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alert"}),a("div",{staticClass:"name"},[e._v("\n            alert\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alert\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-delete"}),a("div",{staticClass:"name"},[e._v("\n            delete\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-delete\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-hourglass"}),a("div",{staticClass:"name"},[e._v("\n            hourglass\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-hourglass\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bulb"}),a("div",{staticClass:"name"},[e._v("\n            bulb\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bulb\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-experiment"}),a("div",{staticClass:"name"},[e._v("\n            experiment\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-experiment\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bell"}),a("div",{staticClass:"name"},[e._v("\n            bell\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bell\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-trophy"}),a("div",{staticClass:"name"},[e._v("\n            trophy\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-trophy\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rest"}),a("div",{staticClass:"name"},[e._v("\n            rest\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rest\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-USB"}),a("div",{staticClass:"name"},[e._v("\n            USB\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-USB\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-skin"}),a("div",{staticClass:"name"},[e._v("\n            skin\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-skin\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-home"}),a("div",{staticClass:"name"},[e._v("\n            home\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-home\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bank"}),a("div",{staticClass:"name"},[e._v("\n            bank\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bank\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-filter"}),a("div",{staticClass:"name"},[e._v("\n            filter\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-filter\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-funnelplot"}),a("div",{staticClass:"name"},[e._v("\n            funnel plot\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-funnelplot\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-like"}),a("div",{staticClass:"name"},[e._v("\n            like\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-like\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-unlike"}),a("div",{staticClass:"name"},[e._v("\n            unlike\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-unlike\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-unlock"}),a("div",{staticClass:"name"},[e._v("\n            unlock\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-unlock\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-lock"}),a("div",{staticClass:"name"},[e._v("\n            lock\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-lock\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-customerservice"}),a("div",{staticClass:"name"},[e._v("\n            customerservice\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-customerservice\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-flag"}),a("div",{staticClass:"name"},[e._v("\n            flag\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-flag\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-moneycollect"}),a("div",{staticClass:"name"},[e._v("\n            money collect\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-moneycollect\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-medicinebox"}),a("div",{staticClass:"name"},[e._v("\n            medicinebox\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-medicinebox\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-shop"}),a("div",{staticClass:"name"},[e._v("\n            shop\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-shop\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rocket"}),a("div",{staticClass:"name"},[e._v("\n            rocket\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rocket\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-shopping"}),a("div",{staticClass:"name"},[e._v("\n            shopping\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-shopping\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-folder"}),a("div",{staticClass:"name"},[e._v("\n            folder\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-folder\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-folder-open"}),a("div",{staticClass:"name"},[e._v("\n            folder-open\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-folder-open\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-folder-add"}),a("div",{staticClass:"name"},[e._v("\n            folder-add\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-folder-add\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-deploymentunit"}),a("div",{staticClass:"name"},[e._v("\n            deployment unit\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-deploymentunit\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-accountbook"}),a("div",{staticClass:"name"},[e._v("\n            account book\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-accountbook\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-contacts"}),a("div",{staticClass:"name"},[e._v("\n            contacts\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-contacts\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-carryout"}),a("div",{staticClass:"name"},[e._v("\n            carry out\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-carryout\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-calendar-check"}),a("div",{staticClass:"name"},[e._v("\n            calendar-check\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-calendar-check\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-calendar"}),a("div",{staticClass:"name"},[e._v("\n            calendar\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-calendar\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-scan"}),a("div",{staticClass:"name"},[e._v("\n            scan\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-scan\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-select"}),a("div",{staticClass:"name"},[e._v("\n            select\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-select\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-boxplot"}),a("div",{staticClass:"name"},[e._v("\n            box plot\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-boxplot\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-build"}),a("div",{staticClass:"name"},[e._v("\n            build\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-build\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sliders"}),a("div",{staticClass:"name"},[e._v("\n            sliders\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sliders\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-laptop"}),a("div",{staticClass:"name"},[e._v("\n            laptop\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-laptop\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-barcode"}),a("div",{staticClass:"name"},[e._v("\n            barcode\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-barcode\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-camera"}),a("div",{staticClass:"name"},[e._v("\n            camera\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-camera\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cluster"}),a("div",{staticClass:"name"},[e._v("\n            cluster\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cluster\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-gateway"}),a("div",{staticClass:"name"},[e._v("\n            gateway\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-gateway\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-car"}),a("div",{staticClass:"name"},[e._v("\n            car\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-car\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-printer"}),a("div",{staticClass:"name"},[e._v("\n            printer\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-printer\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-read"}),a("div",{staticClass:"name"},[e._v("\n            read\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-read\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cloud-server"}),a("div",{staticClass:"name"},[e._v("\n            cloud-server\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cloud-server\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cloud-upload"}),a("div",{staticClass:"name"},[e._v("\n            cloud-upload\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cloud-upload\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cloud"}),a("div",{staticClass:"name"},[e._v("\n            cloud\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cloud\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cloud-download"}),a("div",{staticClass:"name"},[e._v("\n            cloud-download\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cloud-download\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cloud-sync"}),a("div",{staticClass:"name"},[e._v("\n            cloud-sync\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cloud-sync\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-video"}),a("div",{staticClass:"name"},[e._v("\n            video\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-video\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-notification"}),a("div",{staticClass:"name"},[e._v("\n            notification\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-notification\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sound"}),a("div",{staticClass:"name"},[e._v("\n            sound\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sound\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-radarchart"}),a("div",{staticClass:"name"},[e._v("\n            radar chart\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-radarchart\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-qrcode"}),a("div",{staticClass:"name"},[e._v("\n            qrcode\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-qrcode\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fund"}),a("div",{staticClass:"name"},[e._v("\n            fund\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fund\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-image"}),a("div",{staticClass:"name"},[e._v("\n            image\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-image\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-mail"}),a("div",{staticClass:"name"},[e._v("\n            mail\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-mail\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-table"}),a("div",{staticClass:"name"},[e._v("\n            table\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-table\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-idcard"}),a("div",{staticClass:"name"},[e._v("\n            id card\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-idcard\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-creditcard"}),a("div",{staticClass:"name"},[e._v("\n            credit card\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-creditcard\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-heart"}),a("div",{staticClass:"name"},[e._v("\n            heart\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-heart\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-block"}),a("div",{staticClass:"name"},[e._v("\n            block\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-block\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-error"}),a("div",{staticClass:"name"},[e._v("\n            error\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-error\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-star"}),a("div",{staticClass:"name"},[e._v("\n            star\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-star\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-gold"}),a("div",{staticClass:"name"},[e._v("\n            gold\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-gold\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-heatmap"}),a("div",{staticClass:"name"},[e._v("\n            heat map\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-heatmap\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-wifi"}),a("div",{staticClass:"name"},[e._v("\n            wifi\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-wifi\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-attachment"}),a("div",{staticClass:"name"},[e._v("\n            attachment\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-attachment\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-edit"}),a("div",{staticClass:"name"},[e._v("\n            edit\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-edit\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-key"}),a("div",{staticClass:"name"},[e._v("\n            key\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-key\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-api"}),a("div",{staticClass:"name"},[e._v("\n            api\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-api\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-disconnect"}),a("div",{staticClass:"name"},[e._v("\n            disconnect\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-disconnect\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-highlight"}),a("div",{staticClass:"name"},[e._v("\n            highlight\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-highlight\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-monitor"}),a("div",{staticClass:"name"},[e._v("\n            monitor\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-monitor\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-link"}),a("div",{staticClass:"name"},[e._v("\n            link\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-link\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-man"}),a("div",{staticClass:"name"},[e._v("\n            man\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-man\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-percentage"}),a("div",{staticClass:"name"},[e._v("\n            percentage\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-percentage\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-search"}),a("div",{staticClass:"name"},[e._v("\n            search\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-search\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pushpin"}),a("div",{staticClass:"name"},[e._v("\n            pushpin\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pushpin\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-phone"}),a("div",{staticClass:"name"},[e._v("\n            phone\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-phone\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-shake"}),a("div",{staticClass:"name"},[e._v("\n            shake\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-shake\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tag"}),a("div",{staticClass:"name"},[e._v("\n            tag\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tag\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-wrench"}),a("div",{staticClass:"name"},[e._v("\n            wrench\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-wrench\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-woman"}),a("div",{staticClass:"name"},[e._v("\n            woman\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-woman\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tags"}),a("div",{staticClass:"name"},[e._v("\n            tags\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tags\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-scissor"}),a("div",{staticClass:"name"},[e._v("\n            scissor\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-scissor\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-mr"}),a("div",{staticClass:"name"},[e._v("\n            mr\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-mr\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-share"}),a("div",{staticClass:"name"},[e._v("\n            share\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-share\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-branches"}),a("div",{staticClass:"name"},[e._v("\n            branches\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-branches\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fork"}),a("div",{staticClass:"name"},[e._v("\n            fork\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fork\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-shrink"}),a("div",{staticClass:"name"},[e._v("\n            shrink\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-shrink\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-arrawsalt"}),a("div",{staticClass:"name"},[e._v("\n            arrawsalt\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-arrawsalt\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-verticalright"}),a("div",{staticClass:"name"},[e._v("\n            vertical right\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-verticalright\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-verticalleft"}),a("div",{staticClass:"name"},[e._v("\n            vertical left\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-verticalleft\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-right"}),a("div",{staticClass:"name"},[e._v("\n            right\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-right\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-left"}),a("div",{staticClass:"name"},[e._v("\n            left\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-left\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-up"}),a("div",{staticClass:"name"},[e._v("\n            up\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-up\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-down"}),a("div",{staticClass:"name"},[e._v("\n            down\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-down\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fullscreen"}),a("div",{staticClass:"name"},[e._v("\n            fullscreen\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fullscreen\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fullscreen-exit"}),a("div",{staticClass:"name"},[e._v("\n            fullscreen-exit\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fullscreen-exit\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-doubleleft"}),a("div",{staticClass:"name"},[e._v("\n            doubleleft\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-doubleleft\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-doubleright"}),a("div",{staticClass:"name"},[e._v("\n            double right\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-doubleright\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-arrowright"}),a("div",{staticClass:"name"},[e._v("\n            arrowright\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-arrowright\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-arrowup"}),a("div",{staticClass:"name"},[e._v("\n            arrowup\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-arrowup\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-arrowleft"}),a("div",{staticClass:"name"},[e._v("\n            arrowleft\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-arrowleft\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-arrowdown"}),a("div",{staticClass:"name"},[e._v("\n            arrowdown\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-arrowdown\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-upload"}),a("div",{staticClass:"name"},[e._v("\n            upload\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-upload\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-colum-height"}),a("div",{staticClass:"name"},[e._v("\n            colum-height\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-colum-height\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-vertical-align-botto"}),a("div",{staticClass:"name"},[e._v("\n            vertical-align-botto\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-vertical-align-botto\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-vertical-align-middl"}),a("div",{staticClass:"name"},[e._v("\n            vertical-align-middl\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-vertical-align-middl\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-totop"}),a("div",{staticClass:"name"},[e._v("\n            totop\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-totop\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-vertical-align-top"}),a("div",{staticClass:"name"},[e._v("\n            vertical-align-top\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-vertical-align-top\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-download"}),a("div",{staticClass:"name"},[e._v("\n            download\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-download\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sort-descending"}),a("div",{staticClass:"name"},[e._v("\n            sort-descending\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sort-descending\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sort-ascending"}),a("div",{staticClass:"name"},[e._v("\n            sort-ascending\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sort-ascending\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fall"}),a("div",{staticClass:"name"},[e._v("\n            fall\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fall\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-swap"}),a("div",{staticClass:"name"},[e._v("\n            swap\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-swap\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-stock"}),a("div",{staticClass:"name"},[e._v("\n            stock\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-stock\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rise"}),a("div",{staticClass:"name"},[e._v("\n            rise\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rise\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-indent"}),a("div",{staticClass:"name"},[e._v("\n            indent\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-indent\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-outdent"}),a("div",{staticClass:"name"},[e._v("\n            outdent\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-outdent\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-menu"}),a("div",{staticClass:"name"},[e._v("\n            menu\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-menu\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-unorderedlist"}),a("div",{staticClass:"name"},[e._v("\n            unordered list\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-unorderedlist\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-orderedlist"}),a("div",{staticClass:"name"},[e._v("\n            ordered list\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-orderedlist\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-align-right"}),a("div",{staticClass:"name"},[e._v("\n            align-right\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-align-right\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-align-center"}),a("div",{staticClass:"name"},[e._v("\n            align-center\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-align-center\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-align-left"}),a("div",{staticClass:"name"},[e._v("\n            align-left\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-align-left\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pic-center"}),a("div",{staticClass:"name"},[e._v("\n            pic-center\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pic-center\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pic-right"}),a("div",{staticClass:"name"},[e._v("\n            pic-right\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pic-right\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pic-left"}),a("div",{staticClass:"name"},[e._v("\n            pic-left\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pic-left\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bold"}),a("div",{staticClass:"name"},[e._v("\n            bold\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bold\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-font-colors"}),a("div",{staticClass:"name"},[e._v("\n            font-colors\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-font-colors\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-exclaimination"}),a("div",{staticClass:"name"},[e._v("\n            exclaimination\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-exclaimination\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-font-size"}),a("div",{staticClass:"name"},[e._v("\n            font-size\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-font-size\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-infomation"}),a("div",{staticClass:"name"},[e._v("\n            infomation\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-infomation\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-line-height"}),a("div",{staticClass:"name"},[e._v("\n            line-height\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-line-height\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-strikethrough"}),a("div",{staticClass:"name"},[e._v("\n            strikethrough\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-strikethrough\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-underline"}),a("div",{staticClass:"name"},[e._v("\n            underline\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-underline\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-number"}),a("div",{staticClass:"name"},[e._v("\n            number\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-number\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-italic"}),a("div",{staticClass:"name"},[e._v("\n            italic\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-italic\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-code"}),a("div",{staticClass:"name"},[e._v("\n            code\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-code\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-column-width"}),a("div",{staticClass:"name"},[e._v("\n            column-width\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-column-width\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-check"}),a("div",{staticClass:"name"},[e._v("\n            check\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-check\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-ellipsis"}),a("div",{staticClass:"name"},[e._v("\n            ellipsis\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-ellipsis\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dash"}),a("div",{staticClass:"name"},[e._v("\n            dash\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dash\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-close"}),a("div",{staticClass:"name"},[e._v("\n            close\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-close\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-enter"}),a("div",{staticClass:"name"},[e._v("\n            enter\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-enter\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-line"}),a("div",{staticClass:"name"},[e._v("\n            line\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-line\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-minus"}),a("div",{staticClass:"name"},[e._v("\n            minus\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-minus\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-question"}),a("div",{staticClass:"name"},[e._v("\n            question\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-question\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-plus"}),a("div",{staticClass:"name"},[e._v("\n            plus\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-plus\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rollback"}),a("div",{staticClass:"name"},[e._v("\n            rollback\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rollback\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-small-dash"}),a("div",{staticClass:"name"},[e._v("\n            small-dash\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-small-dash\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pause"}),a("div",{staticClass:"name"},[e._v("\n            pause\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pause\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bg-colors"}),a("div",{staticClass:"name"},[e._v("\n            bg-colors\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bg-colors\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-crown"}),a("div",{staticClass:"name"},[e._v("\n            crown\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-crown\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-drag"}),a("div",{staticClass:"name"},[e._v("\n            drag\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-drag\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-desktop"}),a("div",{staticClass:"name"},[e._v("\n            desktop\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-desktop\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-gift"}),a("div",{staticClass:"name"},[e._v("\n            gift\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-gift\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-stop"}),a("div",{staticClass:"name"},[e._v("\n            stop\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-stop\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fire"}),a("div",{staticClass:"name"},[e._v("\n            fire\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fire\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-thunderbolt"}),a("div",{staticClass:"name"},[e._v("\n            thunderbolt\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-thunderbolt\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-check-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            check-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-check-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-left-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            left-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-left-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-down-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            down-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-down-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-minus-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            minus-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-minus-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-close-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            close-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-close-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-info-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            info-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-info-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-up-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            up-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-up-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-right-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            right-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-right-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-plus-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            plus-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-plus-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-question-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            question-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-question-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-EURO-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            EURO-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-EURO-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-frown-fill"}),a("div",{staticClass:"name"},[e._v("\n            frown-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-frown-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-copyright-circle-fil"}),a("div",{staticClass:"name"},[e._v("\n            copyright-circle-fil\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-copyright-circle-fil\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-CI-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            CI-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-CI-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-compass-fill"}),a("div",{staticClass:"name"},[e._v("\n            compass-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-compass-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Dollar-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            Dollar-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Dollar-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-poweroff-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            poweroff-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-poweroff-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-meh-fill"}),a("div",{staticClass:"name"},[e._v("\n            meh-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-meh-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-play-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            play-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-play-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Pound-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            Pound-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Pound-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-smile-fill"}),a("div",{staticClass:"name"},[e._v("\n            smile-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-smile-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-stop-fill"}),a("div",{staticClass:"name"},[e._v("\n            stop-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-stop-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-warning-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            warning-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-warning-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-time-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            time-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-time-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-trademark-circle-fil"}),a("div",{staticClass:"name"},[e._v("\n            trademark-circle-fil\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-trademark-circle-fil\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-YUAN-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            YUAN-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-YUAN-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-heart-fill"}),a("div",{staticClass:"name"},[e._v("\n            heart-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-heart-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-piechart-circle-fil"}),a("div",{staticClass:"name"},[e._v("\n            pie chart-circle-fil\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-piechart-circle-fil\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dashboard-fill"}),a("div",{staticClass:"name"},[e._v("\n            dashboard-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dashboard-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-message-fill"}),a("div",{staticClass:"name"},[e._v("\n            message-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-message-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-check-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            check-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-check-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-down-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            down-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-down-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-minus-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            minus-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-minus-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-close-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            close-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-close-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-codelibrary-fill"}),a("div",{staticClass:"name"},[e._v("\n            code library-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-codelibrary-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-left-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            left-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-left-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-play-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            play-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-play-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-up-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            up-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-up-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-right-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            right-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-right-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-plus-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            plus-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-plus-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-accountbook-fill"}),a("div",{staticClass:"name"},[e._v("\n            account book-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-accountbook-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-carryout-fill"}),a("div",{staticClass:"name"},[e._v("\n            carry out-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-carryout-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-calendar-fill"}),a("div",{staticClass:"name"},[e._v("\n            calendar-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-calendar-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-calculator-fill"}),a("div",{staticClass:"name"},[e._v("\n            calculator-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-calculator-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-interation-fill"}),a("div",{staticClass:"name"},[e._v("\n            interation-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-interation-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-project-fill"}),a("div",{staticClass:"name"},[e._v("\n            project-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-project-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-detail-fill"}),a("div",{staticClass:"name"},[e._v("\n            detail-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-detail-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-save-fill"}),a("div",{staticClass:"name"},[e._v("\n            save-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-save-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-wallet-fill"}),a("div",{staticClass:"name"},[e._v("\n            wallet-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-wallet-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-control-fill"}),a("div",{staticClass:"name"},[e._v("\n            control-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-control-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-layout-fill"}),a("div",{staticClass:"name"},[e._v("\n            layout-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-layout-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-appstore-fill"}),a("div",{staticClass:"name"},[e._v("\n            app store-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-appstore-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-mobile-fill"}),a("div",{staticClass:"name"},[e._v("\n            mobile-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-mobile-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tablet-fill"}),a("div",{staticClass:"name"},[e._v("\n            tablet-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tablet-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-book-fill"}),a("div",{staticClass:"name"},[e._v("\n            book-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-book-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-redenvelope-fill"}),a("div",{staticClass:"name"},[e._v("\n            red envelope-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-redenvelope-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-safetycertificate-f"}),a("div",{staticClass:"name"},[e._v("\n            safety certificate-f\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-safetycertificate-f\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-propertysafety-fill"}),a("div",{staticClass:"name"},[e._v("\n            property safety-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-propertysafety-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-insurance-fill"}),a("div",{staticClass:"name"},[e._v("\n            insurance-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-insurance-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-securityscan-fill"}),a("div",{staticClass:"name"},[e._v("\n            security scan-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-securityscan-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-exclamation-fil"}),a("div",{staticClass:"name"},[e._v("\n            file-exclamation-fil\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-exclamation-fil\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-add-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-add-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-add-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-excel-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-excel-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-excel-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-markdown-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-markdown-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-markdown-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-text-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-text-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-text-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-ppt-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-ppt-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-ppt-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-unknown-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-unknown-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-unknown-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-word-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-word-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-word-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-zip-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-zip-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-zip-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-pdf-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-pdf-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-pdf-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-image-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-image-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-image-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-diff-fill"}),a("div",{staticClass:"name"},[e._v("\n            diff-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-diff-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-file-copy-fill"}),a("div",{staticClass:"name"},[e._v("\n            file-copy-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-file-copy-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-snippets-fill"}),a("div",{staticClass:"name"},[e._v("\n            snippets-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-snippets-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-batchfolding-fill"}),a("div",{staticClass:"name"},[e._v("\n            batch folding-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-batchfolding-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reconciliation-fill"}),a("div",{staticClass:"name"},[e._v("\n            reconciliation-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reconciliation-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-folder-add-fill"}),a("div",{staticClass:"name"},[e._v("\n            folder-add-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-folder-add-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-folder-fill"}),a("div",{staticClass:"name"},[e._v("\n            folder-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-folder-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-folder-open-fill"}),a("div",{staticClass:"name"},[e._v("\n            folder-open-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-folder-open-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-database-fill"}),a("div",{staticClass:"name"},[e._v("\n            database-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-database-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-container-fill"}),a("div",{staticClass:"name"},[e._v("\n            container-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-container-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sever-fill"}),a("div",{staticClass:"name"},[e._v("\n            sever-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sever-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-calendar-check-fill"}),a("div",{staticClass:"name"},[e._v("\n            calendar-check-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-calendar-check-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-image-fill"}),a("div",{staticClass:"name"},[e._v("\n            image-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-image-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-idcard-fill"}),a("div",{staticClass:"name"},[e._v("\n            id card-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-idcard-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-creditcard-fill"}),a("div",{staticClass:"name"},[e._v("\n            credit card-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-creditcard-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fund-fill"}),a("div",{staticClass:"name"},[e._v("\n            fund-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fund-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-read-fill"}),a("div",{staticClass:"name"},[e._v("\n            read-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-read-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-contacts-fill"}),a("div",{staticClass:"name"},[e._v("\n            contacts-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-contacts-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-delete-fill"}),a("div",{staticClass:"name"},[e._v("\n            delete-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-delete-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-notification-fill"}),a("div",{staticClass:"name"},[e._v("\n            notification-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-notification-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-flag-fill"}),a("div",{staticClass:"name"},[e._v("\n            flag-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-flag-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-moneycollect-fill"}),a("div",{staticClass:"name"},[e._v("\n            money collect-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-moneycollect-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-medicinebox-fill"}),a("div",{staticClass:"name"},[e._v("\n            medicine box-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-medicinebox-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rest-fill"}),a("div",{staticClass:"name"},[e._v("\n            rest-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rest-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-shopping-fill"}),a("div",{staticClass:"name"},[e._v("\n            shopping-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-shopping-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-skin-fill"}),a("div",{staticClass:"name"},[e._v("\n            skin-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-skin-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-video-fill"}),a("div",{staticClass:"name"},[e._v("\n            video-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-video-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sound-fill"}),a("div",{staticClass:"name"},[e._v("\n            sound-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sound-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bulb-fill"}),a("div",{staticClass:"name"},[e._v("\n            bulb-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bulb-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bell-fill"}),a("div",{staticClass:"name"},[e._v("\n            bell-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bell-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-filter-fill"}),a("div",{staticClass:"name"},[e._v("\n            filter-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-filter-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-fire-fill"}),a("div",{staticClass:"name"},[e._v("\n            fire-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-fire-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-funnelplot-fill"}),a("div",{staticClass:"name"},[e._v("\n            funnel plot-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-funnelplot-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-gift-fill"}),a("div",{staticClass:"name"},[e._v("\n            gift-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-gift-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-hourglass-fill"}),a("div",{staticClass:"name"},[e._v("\n            hourglass-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-hourglass-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-home-fill"}),a("div",{staticClass:"name"},[e._v("\n            home-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-home-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-trophy-fill"}),a("div",{staticClass:"name"},[e._v("\n            trophy-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-trophy-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-location-fill"}),a("div",{staticClass:"name"},[e._v("\n            location-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-location-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-cloud-fill"}),a("div",{staticClass:"name"},[e._v("\n            cloud-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-cloud-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-customerservice-fill"}),a("div",{staticClass:"name"},[e._v("\n            customerservice-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-customerservice-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-experiment-fill"}),a("div",{staticClass:"name"},[e._v("\n            experiment-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-experiment-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-eye-fill"}),a("div",{staticClass:"name"},[e._v("\n            eye-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-eye-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-like-fill"}),a("div",{staticClass:"name"},[e._v("\n            like-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-like-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-lock-fill"}),a("div",{staticClass:"name"},[e._v("\n            lock-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-lock-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-unlike-fill"}),a("div",{staticClass:"name"},[e._v("\n            unlike-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-unlike-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-star-fill"}),a("div",{staticClass:"name"},[e._v("\n            star-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-star-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-unlock-fill"}),a("div",{staticClass:"name"},[e._v("\n            unlock-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-unlock-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alert-fill"}),a("div",{staticClass:"name"},[e._v("\n            alert-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alert-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-api-fill"}),a("div",{staticClass:"name"},[e._v("\n            api-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-api-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-highlight-fill"}),a("div",{staticClass:"name"},[e._v("\n            highlight-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-highlight-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-phone-fill"}),a("div",{staticClass:"name"},[e._v("\n            phone-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-phone-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-edit-fill"}),a("div",{staticClass:"name"},[e._v("\n            edit-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-edit-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-pushpin-fill"}),a("div",{staticClass:"name"},[e._v("\n            pushpin-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-pushpin-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-rocket-fill"}),a("div",{staticClass:"name"},[e._v("\n            rocket-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-rocket-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-thunderbolt-fill"}),a("div",{staticClass:"name"},[e._v("\n            thunderbolt-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-thunderbolt-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tag-fill"}),a("div",{staticClass:"name"},[e._v("\n            tag-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tag-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-wrench-fill"}),a("div",{staticClass:"name"},[e._v("\n            wrench-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-wrench-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-tags-fill"}),a("div",{staticClass:"name"},[e._v("\n            tags-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-tags-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-bank-fill"}),a("div",{staticClass:"name"},[e._v("\n            bank-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-bank-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-camera-fill"}),a("div",{staticClass:"name"},[e._v("\n            camera-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-camera-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-error-fill"}),a("div",{staticClass:"name"},[e._v("\n            error-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-error-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-crown-fill"}),a("div",{staticClass:"name"},[e._v("\n            crown-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-crown-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-mail-fill"}),a("div",{staticClass:"name"},[e._v("\n            mail-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-mail-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-car-fill"}),a("div",{staticClass:"name"},[e._v("\n            car-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-car-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-printer-fill"}),a("div",{staticClass:"name"},[e._v("\n            printer-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-printer-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-shop-fill"}),a("div",{staticClass:"name"},[e._v("\n            shop-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-shop-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-setting-fill"}),a("div",{staticClass:"name"},[e._v("\n            setting-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-setting-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-USB-fill"}),a("div",{staticClass:"name"},[e._v("\n            USB-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-USB-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-golden-fill"}),a("div",{staticClass:"name"},[e._v("\n            golden-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-golden-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-build-fill"}),a("div",{staticClass:"name"},[e._v("\n            build-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-build-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-boxplot-fill"}),a("div",{staticClass:"name"},[e._v("\n            box plot-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-boxplot-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sliders-fill"}),a("div",{staticClass:"name"},[e._v("\n            sliders-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sliders-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alibaba"}),a("div",{staticClass:"name"},[e._v("\n            alibaba\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alibaba\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alibabacloud"}),a("div",{staticClass:"name"},[e._v("\n            alibabacloud\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alibabacloud\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-antdesign"}),a("div",{staticClass:"name"},[e._v("\n            ant design\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-antdesign\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-ant-cloud"}),a("div",{staticClass:"name"},[e._v("\n            ant-cloud\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-ant-cloud\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-behance"}),a("div",{staticClass:"name"},[e._v("\n            behance\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-behance\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-googleplus"}),a("div",{staticClass:"name"},[e._v("\n            google plus\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-googleplus\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-medium"}),a("div",{staticClass:"name"},[e._v("\n            medium\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-medium\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-google"}),a("div",{staticClass:"name"},[e._v("\n            google\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-google\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-IE"}),a("div",{staticClass:"name"},[e._v("\n            IE\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-IE\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-amazon"}),a("div",{staticClass:"name"},[e._v("\n            amazon\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-amazon\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-slack"}),a("div",{staticClass:"name"},[e._v("\n            slack\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-slack\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alipay"}),a("div",{staticClass:"name"},[e._v("\n            alipay\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alipay\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-taobao"}),a("div",{staticClass:"name"},[e._v("\n            taobao\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-taobao\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-zhihu"}),a("div",{staticClass:"name"},[e._v("\n            zhihu\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-zhihu\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-HTML"}),a("div",{staticClass:"name"},[e._v("\n            HTML5\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-HTML\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-linkedin"}),a("div",{staticClass:"name"},[e._v("\n            linkedin\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-linkedin\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-yahoo"}),a("div",{staticClass:"name"},[e._v("\n            yahoo\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-yahoo\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-facebook"}),a("div",{staticClass:"name"},[e._v("\n            facebook\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-facebook\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-skype"}),a("div",{staticClass:"name"},[e._v("\n            skype\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-skype\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-CodeSandbox"}),a("div",{staticClass:"name"},[e._v("\n            CodeSandbox\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-CodeSandbox\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-chrome"}),a("div",{staticClass:"name"},[e._v("\n            chrome\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-chrome\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-codepen"}),a("div",{staticClass:"name"},[e._v("\n            codepen\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-codepen\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-aliwangwang"}),a("div",{staticClass:"name"},[e._v("\n            aliwangwang\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-aliwangwang\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-apple"}),a("div",{staticClass:"name"},[e._v("\n            apple\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-apple\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-android"}),a("div",{staticClass:"name"},[e._v("\n            android\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-android\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sketch"}),a("div",{staticClass:"name"},[e._v("\n            sketch\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sketch\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Gitlab"}),a("div",{staticClass:"name"},[e._v("\n            Gitlab\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Gitlab\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dribbble"}),a("div",{staticClass:"name"},[e._v("\n            dribbble\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dribbble\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-instagram"}),a("div",{staticClass:"name"},[e._v("\n            instagram\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-instagram\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reddit"}),a("div",{staticClass:"name"},[e._v("\n            reddit\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reddit\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-windows"}),a("div",{staticClass:"name"},[e._v("\n            windows\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-windows\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-yuque"}),a("div",{staticClass:"name"},[e._v("\n            yuque\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-yuque\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Youtube"}),a("div",{staticClass:"name"},[e._v("\n            Youtube\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Youtube\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Gitlab-fill"}),a("div",{staticClass:"name"},[e._v("\n            Gitlab-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Gitlab-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dropbox"}),a("div",{staticClass:"name"},[e._v("\n            dropbox\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dropbox\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dingtalk"}),a("div",{staticClass:"name"},[e._v("\n            dingtalk\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dingtalk\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-android-fill"}),a("div",{staticClass:"name"},[e._v("\n            android-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-android-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-apple-fill"}),a("div",{staticClass:"name"},[e._v("\n            apple-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-apple-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-HTML-fill"}),a("div",{staticClass:"name"},[e._v("\n            HTML5-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-HTML-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-windows-fill"}),a("div",{staticClass:"name"},[e._v("\n            windows-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-windows-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-QQ"}),a("div",{staticClass:"name"},[e._v("\n            QQ\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-QQ\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-twitter"}),a("div",{staticClass:"name"},[e._v("\n            twitter\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-twitter\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-skype-fill"}),a("div",{staticClass:"name"},[e._v("\n            skype-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-skype-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-weibo"}),a("div",{staticClass:"name"},[e._v("\n            weibo\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-weibo\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-yuque-fill"}),a("div",{staticClass:"name"},[e._v("\n            yuque-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-yuque-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-Youtube-fill"}),a("div",{staticClass:"name"},[e._v("\n            Youtube-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-Youtube-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-yahoo-fill"}),a("div",{staticClass:"name"},[e._v("\n            yahoo-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-yahoo-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-wechat-fill"}),a("div",{staticClass:"name"},[e._v("\n            wechat-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-wechat-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-chrome-fill"}),a("div",{staticClass:"name"},[e._v("\n            chrome-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-chrome-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alipay-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            alipay-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alipay-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-aliwangwang-fill"}),a("div",{staticClass:"name"},[e._v("\n            aliwangwang-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-aliwangwang-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-behance-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            behance-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-behance-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-amazon-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            amazon-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-amazon-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-codepen-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            codepen-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-codepen-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-CodeSandbox-circle-f"}),a("div",{staticClass:"name"},[e._v("\n            CodeSandbox-circle-f\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-CodeSandbox-circle-f\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dropbox-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            dropbox-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dropbox-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-github-fill"}),a("div",{staticClass:"name"},[e._v("\n            github-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-github-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dribbble-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            dribbble-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dribbble-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-googleplus-circle-f"}),a("div",{staticClass:"name"},[e._v("\n            google plus-circle-f\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-googleplus-circle-f\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-medium-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            medium-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-medium-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-QQ-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            QQ-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-QQ-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-IE-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            IE-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-IE-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-google-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            google-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-google-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dingtalk-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            dingtalk-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dingtalk-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sketch-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            sketch-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sketch-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-slack-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            slack-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-slack-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-twitter-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            twitter-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-twitter-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-taobao-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            taobao-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-taobao-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-weibo-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            weibo-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-weibo-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-zhihu-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            zhihu-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-zhihu-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reddit-circle-fill"}),a("div",{staticClass:"name"},[e._v("\n            reddit-circle-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reddit-circle-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-alipay-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            alipay-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-alipay-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dingtalk-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            dingtalk-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dingtalk-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-CodeSandbox-square-f"}),a("div",{staticClass:"name"},[e._v("\n            CodeSandbox-square-f\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-CodeSandbox-square-f\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-behance-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            behance-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-behance-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-amazon-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            amazon-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-amazon-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-codepen-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            codepen-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-codepen-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dribbble-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            dribbble-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dribbble-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-dropbox-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            dropbox-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-dropbox-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-facebook-fill"}),a("div",{staticClass:"name"},[e._v("\n            facebook-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-facebook-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-googleplus-square-f"}),a("div",{staticClass:"name"},[e._v("\n            google plus-square-f\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-googleplus-square-f\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-google-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            google-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-google-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-instagram-fill"}),a("div",{staticClass:"name"},[e._v("\n            instagram-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-instagram-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-IE-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            IE-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-IE-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-medium-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            medium-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-medium-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-linkedin-fill"}),a("div",{staticClass:"name"},[e._v("\n            linkedin-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-linkedin-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-QQ-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            QQ-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-QQ-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-reddit-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            reddit-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-reddit-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-twitter-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            twitter-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-twitter-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-sketch-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            sketch-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-sketch-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-slack-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            slack-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-slack-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-taobao-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            taobao-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-taobao-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-weibo-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            weibo-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-weibo-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-zhihu-square-fill"}),a("div",{staticClass:"name"},[e._v("\n            zhihu-square-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-zhihu-square-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-zoomout"}),a("div",{staticClass:"name"},[e._v("\n            zoom out\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-zoomout\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-apartment"}),a("div",{staticClass:"name"},[e._v("\n            apartment\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-apartment\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-audio"}),a("div",{staticClass:"name"},[e._v("\n            audio\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-audio\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-audio-fill"}),a("div",{staticClass:"name"},[e._v("\n            audio-fill\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-audio-fill\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-robot"}),a("div",{staticClass:"name"},[e._v("\n            robot\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-robot\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-zoomin"}),a("div",{staticClass:"name"},[e._v("\n            zoom in\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-zoomin\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-celve2"}),a("div",{staticClass:"name"},[e._v("\n            策略\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-celve2\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"dib"},[a("span",{staticClass:"icon iconfont el-icon-cc-hangzhengguanli"}),a("div",{staticClass:"name"},[e._v("\n            行政管理平台\n          ")]),a("div",{staticClass:"code-name"},[e._v(".el-icon-cc-hangzhengguanli\n          ")])])}],yh=(a("7615"),{data:function(){return{}},methods:{getIconClassName:function(e){var t=e.target.getAttribute("class").split(" ")[2];this.$emit("getIcon",t)},goBack:function(){this.$emit("show",!0),document.querySelector(".v-modal").style.display="block"}}}),Ch=yh,wh=(a("fc50"),Object(U["a"])(Ch,gh,bh,!1,null,"1bc70623",null)),_h=wh.exports,Sh={name:"menuSettingAA",data:function(){return{isShowMenuList:!0,iconName:null}},components:{MenuList:vh,Icon:_h},methods:{getIcon:function(e){this.iconName=e,this.isShowMenuList=!0,document.querySelector(".v-modal").style.display="block"},showPage:function(e){this.isShowMenuList=e}}},kh=Sh,Ih=Object(U["a"])(kh,ch,dh,!1,null,null,null),xh=Ih.exports,Th=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm,"shiro:hasPermission":"sysAdministrative:user:query"},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"操作用户",prop:"loginName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入操作用户"},model:{value:e.queryForm.loginName,callback:function(t){e.$set(e.queryForm,"loginName",t)},expression:"queryForm.loginName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.submitForm}},[a("i",{staticClass:"el-icon-search"}),a("span",[e._v("查询")])]),a("el-button",{attrs:{type:"primary",size:"small","shiro:hasPermission":"sysAdministrative:user:batchDel"},on:{click:e.handleReset}},[a("i",{staticClass:"el-icon-delete"}),a("span",[e._v("重置")])])],1)],1),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"操作"}},[a("span",[e._v(e._s(t.row.operation))])]),a("br"),a("el-form-item",{attrs:{label:"操作前"}},[a("span",[e._v(e._s(t.row.operateBefore))])]),a("br"),a("el-form-item",{attrs:{label:"操作后"}},[a("span",[e._v(e._s(t.row.operateAfter))])]),a("br"),a("el-form-item",{attrs:{label:"操作Ip"}},[a("span",[e._v(e._s(t.row.operateIp))])]),a("br"),a("el-form-item",{attrs:{label:"操作时间"}},[a("span",[e._v(e._s(t.row.operateTime))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100"}}),a("el-table-column",{attrs:{prop:"loginName",label:"账号",width:"200"}}),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300"}}),a("el-table-column",{attrs:{prop:"operateBefore",label:"操作前","show-overflow-tooltip":!0,width:"300"}}),a("el-table-column",{attrs:{prop:"operateAfter",label:"操作后","show-overflow-tooltip":!0,width:"300"}}),a("el-table-column",{attrs:{prop:"operateIp",label:"操作IP",width:"200"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}}),a("el-table-column",{attrs:{prop:"operateTime",fixed:"right",label:"操作时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.operateTime))])]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1)},Dh=[],$h={name:"operateLogAA",data:function(){return{tableData:[],queryForm:{loginName:""},pageSize:10,currentPage:1,start:1,totalCount:6,criteria:{}}},methods:{loadData:function(){var e=this;this.criteria["pageNum"]=this.currentPage,this.criteria["pageSize"]=this.pageSize,this.$service.get_operateLogs_json(this.criteria).then((function(t){e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total}))},submitForm:function(){var e=this;this.$refs.queryForm.validate((function(t){if(!t)return!1;e.criteria=e.queryForm,e.loadData()}))},pageRefresh:function(){var e=this;this.tableData[0].loginName?this.$refs.queryForm.validate((function(t){if(!t)return!1;e.criteria=e.queryForm,e.loadData()})):this.$message("未查询！")},handleReset:function(){this.$refs.queryForm.resetFields()},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()}},created:function(){this.loadData()}},Lh=$h,Nh=Object(U["a"])(Lh,Th,Dh,!1,null,null,null),Oh=Nh.exports,Ph=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:office:add",expression:"'sysAdministrative:office:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\n    ")])],1),a("br"),a("br"),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"机构名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"0px"}}):e._e(),2===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"10px"}}):e._e(),3===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"20px"}}):e._e(),4===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"30px"}}):e._e(),5===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"40px"}}):e._e(),6===t.row.depth?a("a",{class:t.row.fullIcon,staticStyle:{"margin-left":"50px"}}):e._e(),e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"master",label:"负责人",width:"80"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"150"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{value:e.row.sort}})]}}])}),a("el-table-column",{attrs:{prop:"useable",label:"可见",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.useable?a("el-tag",{attrs:{type:"success","close-transition":"false"}},[a("a",{staticClass:"fa fa-unlock"}),e._v(" 可用\n        ")]):e._e(),0===t.row.useable?a("el-tag",{attrs:{type:"danger","close-transition":"false"}},[a("a",{staticClass:"fa fa-lock"}),e._v(" 不可用\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:office:changeStatus",expression:"'sysAdministrative:office:changeStatus'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleChangetStatus(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 修改状态\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:office:edit",expression:"'sysAdministrative:office:edit'"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 编辑\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:office:del",expression:"'sysAdministrative:office:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 删除\n          ")])],1)]}}])})],1),a("br"),e.addFormVisible?a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"officeForm",attrs:{model:e.officeForm,rules:e.officeFormRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"父级机构",prop:"parentId"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.officeForm.parentId,callback:function(t){e.$set(e.officeForm,"parentId",t)},expression:"officeForm.parentId"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择父级机构"},model:{value:e.officeForm.parentName,callback:function(t){e.$set(e.officeForm,"parentName",t)},expression:"officeForm.parentName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.selectOffice}},[e._v("选择")])],1),a("el-form-item",{attrs:{label:"机构名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写机构名称"},model:{value:e.officeForm.name,callback:function(t){e.$set(e.officeForm,"name",t)},expression:"officeForm.name"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写排序数"},model:{value:e.officeForm.sort,callback:function(t){e.$set(e.officeForm,"sort",t)},expression:"officeForm.sort"}})],1),a("el-form-item",{attrs:{label:"机构负责人",prop:"master"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写机构负责人"},model:{value:e.officeForm.master,callback:function(t){e.$set(e.officeForm,"master",t)},expression:"officeForm.master"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写联系邮箱"},model:{value:e.officeForm.email,callback:function(t){e.$set(e.officeForm,"email",t)},expression:"officeForm.email"}})],1),a("el-form-item",{attrs:{label:"可用"}},[a("el-radio-group",{model:{value:e.officeForm.useable,callback:function(t){e.$set(e.officeForm,"useable",t)},expression:"officeForm.useable"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("可用")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("不可用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):e._e(),e.editFormVisible?a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"officeForm",attrs:{model:e.officeForm,rules:e.officeFormRules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"父级机构",prop:"parentId"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.officeForm.parentId,callback:function(t){e.$set(e.officeForm,"parentId",t)},expression:"officeForm.parentId"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择父级菜单"},model:{value:e.officeForm.parentName,callback:function(t){e.$set(e.officeForm,"parentName",t)},expression:"officeForm.parentName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.selectOffice}},[e._v("选择")])],1),a("el-form-item",{attrs:{label:"机构名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写机构名称"},model:{value:e.officeForm.name,callback:function(t){e.$set(e.officeForm,"name",t)},expression:"officeForm.name"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写排序数"},model:{value:e.officeForm.sort,callback:function(t){e.$set(e.officeForm,"sort",t)},expression:"officeForm.sort"}})],1),a("el-form-item",{attrs:{label:"机构负责人",prop:"master"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写机构负责人"},model:{value:e.officeForm.master,callback:function(t){e.$set(e.officeForm,"master",t)},expression:"officeForm.master"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请填写联系邮箱"},model:{value:e.officeForm.email,callback:function(t){e.$set(e.officeForm,"email",t)},expression:"officeForm.email"}})],1),a("el-form-item",{attrs:{label:"可用"}},[a("el-radio-group",{model:{value:e.officeForm.useable,callback:function(t){e.$set(e.officeForm,"useable",t)},expression:"officeForm.useable"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("可用")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("不可用")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelEdit}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("保存")])],1)],1):e._e(),a("el-dialog",{staticClass:"organSelect",attrs:{title:"选择机构",visible:e.organVisible,width:"30%"},on:{"update:visible":function(t){e.organVisible=t}}},[a("el-tree",{attrs:{data:e.organs,props:e.organProps,accordion:""},on:{"node-click":e.handleNodeClick}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.companySelectCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.companySelectOk}},[e._v("确 定")])],1)],1)],1)},Eh=[],Ah={name:"organManageAA",data:function(){return{tableData:[],organs:[],organProps:{chilidren:"children",label:"name"},organVisible:!1,addFormVisible:!1,officeForm:{id:"",parentId:0,parentName:"",name:"",master:"",email:"",sort:"",useable:0},officeFormRules:{name:[{required:!0,message:"请填写机构名称",trigger:"blur"}],master:[{required:!0,message:"请填写负责人",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"}]},editFormVisible:!1}},methods:{callback:function(){this.loadData()},loadData:function(){var e=this;this.$service.get_offices_json().then((function(t){e.tableData=t.officeTreeTable}))},handleChangetStatus:function(e,t){var a=this,i=t.id,n=1==t.useable?0:1;this.$confirm("确定修改该条记录的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$service.changeOrganStatus({id:i,useable:n},"状态修改成功").then((function(){a.callback()}))})).catch((function(){}))},selectOffice:function(){var e=this;this.organVisible=!0,this.$service.get_office_tree_json().then((function(t){e.organs=t.officeTree}))},handleNodeClick:function(e){this.$appState.$set("company_data",JSON.stringify(e))},companySelectCancel:function(){this.$appState.$set("company_data",""),this.organVisible=!1},companySelectOk:function(){this.organVisible=!1;var e=JSON.parse(this.$appState.$get("company_data"));this.officeForm.parentId=e.id,this.officeForm.parentName=e.name},handleAdd:function(){this.addFormVisible=!0,this.officeForm.id="",this.officeForm.parentId="",this.officeForm.parentName="",this.officeForm.name="",this.officeForm.master="",this.officeForm.email="",this.officeForm.sort="",this.officeForm.useable=0},addSubmit:function(){var e=this,t=this;this.$refs.officeForm.validate((function(a){if(!a)return!1;e.$service.addOrgan(t.officeForm,"添加成功").then((function(){e.callback(),e.addFormVisible=!1}))}))},handleEdit:function(e,t){this.editFormVisible=!0,this.officeForm.id=t.id,this.officeForm.parentId=t.parentId,null==t.parentName?this.officeForm.parentName="顶级机构":this.officeForm.parentName=t.parentName,this.officeForm.name=t.name,this.officeForm.master=t.master,this.officeForm.email=t.email,this.officeForm.sort=t.sort,this.officeForm.useable=t.useable},editSubmit:function(){var e=this,t=this;this.$refs.officeForm.validate((function(a){if(!a)return!1;e.$service.updateOrgan(t.officeForm,"编辑成功").then((function(){e.callback(),e.editFormVisible=!1}))}))},cancelAdd:function(){this.addFormVisible=!1,this.$message({showClose:!0,message:"已取消新增"})},cancelEdit:function(){this.editFormVisible=!1,this.$message({showClose:!0,message:"已取消编辑"})},handleDelete:function(e,t){var a=this,i=t.id;this.$confirm("确定要删除该条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){a.$service.delOrgan({id:i},"删除成功").then((function(){a.callback()}))})).catch((function(){a.$message({showClose:!0,message:"已取消删除操作"})}))}},created:function(){this.loadData()}},Fh=Ah,Vh=(a("8359"),Object(U["a"])(Fh,Ph,Eh,!1,null,"01e1e774",null)),Rh=Vh.exports,jh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modifyPassword"},[a("el-form",{ref:"passwordModify",attrs:{"label-position":e.labelPosition,"label-width":"200px",model:e.passwordModify,rules:e.rulesPwd}},[a("el-form-item",{attrs:{label:"原密码",prop:"pwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.passwordModify.pwd,callback:function(t){e.$set(e.passwordModify,"pwd",t)},expression:"passwordModify.pwd"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.passwordModify.newPwd,callback:function(t){e.$set(e.passwordModify,"newPwd",t)},expression:"passwordModify.newPwd"}})],1),a("el-form-item",{attrs:{label:"确认新密码",prop:"reNewPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:e.passwordModify.reNewPwd,callback:function(t){e.$set(e.passwordModify,"reNewPwd",t)},expression:"passwordModify.reNewPwd"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.savePassword}},[e._v("保存")])],1)],1)],1)},Bh=[],Mh={name:"passwordAA",data:function(){var e=this,t=function(t,a,i){""===a?i(new Error("请再次输入密码")):a!=e.passwordModify.newPwd?i(new Error("两次输入密码不一致！")):i()};return{labelPosition:"right",passwordModify:{pwd:"",newPwd:"",reNewPwd:""},rulesPwd:{pwd:[{required:!0,message:"请输入原始密码",trigger:"blur"}],newPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],reNewPwd:[{required:!0,validator:t,trigger:"blur"}]}}},methods:{savePassword:function(){var e=this,t=this.passwordModify.pwd,a=this.passwordModify.newPwd,i=this.passwordModify.reNewPwd;this.$refs.passwordModify.validate((function(n){n&&e.$service.modifyPwd({pwd:t,newPwd:a,reNewPwd:i},"密码保存成功，请重新登录").then((function(t){e.$logout().then((function(){e.$router.push({name:"login"})}))}))}))}}},zh=Mh,qh=(a("6145"),Object(U["a"])(zh,jh,Bh,!1,null,"59b0cd73",null)),Jh=qh.exports,Gh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"personalInformation"},[a("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"200px",model:e.personalInformation}},[a("el-form-item",{attrs:{label:"账号",prop:"loginName"}},[e._v("\n            "+e._s(e.personalInformation.loginName)+"\n        ")]),a("el-form-item",{attrs:{label:"归属机构",prop:"officeName"}},[e._v("\n            "+e._s(e.personalInformation.officeName)+"\n        ")]),a("el-form-item",{attrs:{label:"真实姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"如若修改请填写"},model:{value:e.personalInformation.name,callback:function(t){e.$set(e.personalInformation,"name",t)},expression:"personalInformation.name"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"如若修改请填写"},model:{value:e.personalInformation.mobile,callback:function(t){e.$set(e.personalInformation,"mobile",t)},expression:"personalInformation.mobile"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"如若修改请填写"},model:{value:e.personalInformation.email,callback:function(t){e.$set(e.personalInformation,"email",t)},expression:"personalInformation.email"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveInformation}},[e._v("保存")])],1)],1)],1)},Uh=[],Hh={name:"personalInformationAA",data:function(){return{labelPosition:"right",personalInformation:{loginName:"",officeName:"",name:"",mobile:"",email:"",id:""}}},methods:{saveInformation:function(){var e=this.personalInformation.loginName,t=this.personalInformation.officeName,a=this.personalInformation.name,i=this.personalInformation.mobile,n=this.personalInformation.email,r=this.personalInformation.id;this.$service.updateUserInformation({id:r,loginName:e,officeName:t,name:a,mobile:i,email:n},"修改成功")}},created:function(){var e=this;this.$service.get_user_json().then((function(t){e.personalInformation=t.user,e.personalInformation.id=t.user.id}))}},Kh=Hh,Qh=(a("9c6a"),Object(U["a"])(Kh,Gh,Uh,!1,null,"fc5dc9fe",null)),Wh=Qh.exports,Yh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"TopNav"},[a("div",{staticClass:"left"},[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:user:add",expression:"'sysAdministrative:user:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\n    ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:user:batchDel",expression:"'sysAdministrative:user:batchDel'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleBatchDel}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 批量删除\n    ")])],1)],1),a("div",{staticClass:"right"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchForm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"",prop:"userMsg"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入账号/真实姓名/邮箱"},model:{value:e.searchForm.userMsg,callback:function(t){e.$set(e.searchForm,"userMsg",t)},expression:"searchForm.userMsg"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.submitForm}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleReset}},[a("a",{staticClass:"fa fa-refresh",staticStyle:{color:"white"}}),e._v(" 重置\n      ")])],1)],1)],1)]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),a("el-table-column",{attrs:{prop:"officeName",label:"归属机构",width:"100"}}),a("el-table-column",{attrs:{prop:"loginName",label:"账号",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"真实姓名",width:"80"}}),a("el-table-column",{attrs:{prop:"roleNameStr",label:"所拥有角色",width:"150"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"message"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.email))])]}}])}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDate))])]}}])}),a("el-table-column",{attrs:{prop:"loginFlag",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.loginFlag?a("el-tag",{attrs:{type:"success","close-transition":"false"}},[a("a",{staticClass:"fa fa-unlock"}),e._v(" 正常\n        ")]):e._e(),0===t.row.loginFlag?a("el-tag",{attrs:{type:"danger","close-transition":"false"}},[a("a",{staticClass:"fa fa-lock"}),e._v(" 锁定\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:user:changeStatus",expression:"'sysAdministrative:user:changeStatus'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleChangetStatus(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 修改状态\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:user:edit",expression:"'sysAdministrative:user:edit'"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 编辑\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:user:del",expression:"'sysAdministrative:user:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 删除\n          ")])],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),e.addFormVisible?a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addFormVisible=t}},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"真实姓名",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入真实姓名"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),a("el-form-item",{attrs:{label:"登录账号",prop:"loginName"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入登录账号"},model:{value:e.userForm.loginName,callback:function(t){e.$set(e.userForm,"loginName",t)},expression:"userForm.loginName"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入邮箱"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",size:"small",placeholder:"请输入密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[a("div",{staticStyle:{height:"100px",overflow:"auto"}},[a("el-checkbox-group",{model:{value:e.userForm.roleIds,callback:function(t){e.$set(e.userForm,"roleIds",t)},expression:"userForm.roleIds"}},e._l(e.userForm.roleList,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id,name:"roleIds"}},[e._v(e._s(t.name))])})),1)],1)]),a("el-form-item",{attrs:{label:"所属机构",prop:"officeId"}},[a("el-input",{staticStyle:{display:"none"},attrs:{placeholder:"请选择所属机构"},model:{value:e.userForm.officeId,callback:function(t){e.$set(e.userForm,"officeId",t)},expression:"userForm.officeId"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择所属机构"},model:{value:e.userForm.officeName,callback:function(t){e.$set(e.userForm,"officeName",t)},expression:"userForm.officeName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.selectOffice}},[e._v("选择")])],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入备注"},model:{value:e.userForm.remarks,callback:function(t){e.$set(e.userForm,"remarks",t)},expression:"userForm.remarks"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.userForm.loginFlag,callback:function(t){e.$set(e.userForm,"loginFlag",t)},expression:"userForm.loginFlag"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("正常")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("锁定")])],1),e._v("  \n        "),a("el-checkbox",{attrs:{label:"发邮件通知请勾选"},model:{value:e.userForm.mailNotice,callback:function(t){e.$set(e.userForm,"mailNotice",t)},expression:"userForm.mailNotice"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):e._e(),a("el-dialog",{staticClass:"organSelect",attrs:{title:"选择机构",visible:e.companyVisible,width:"30%"},on:{"update:visible":function(t){e.companyVisible=t}}},[a("el-tree",{attrs:{data:e.companys,props:e.companyProps,accordion:""},on:{"node-click":e.handleNodeClick}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.companySelectCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.companySelectOk}},[e._v("确 定")])],1)],1),e.editFormVisible?a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.userFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"真实姓名",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入真实姓名"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}}),a("el-input",{staticStyle:{display:"none"},model:{value:e.userForm.id,callback:function(t){e.$set(e.userForm,"id",t)},expression:"userForm.id"}})],1),a("el-form-item",{attrs:{label:"登录账号",prop:"loginName"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入登录账号"},model:{value:e.userForm.loginName,callback:function(t){e.$set(e.userForm,"loginName",t)},expression:"userForm.loginName"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入邮箱"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",size:"small",placeholder:"请输入密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"roleIds"}},[a("div",{staticStyle:{height:"100px",overflow:"auto"}},[a("el-checkbox-group",{model:{value:e.userForm.roleIds,callback:function(t){e.$set(e.userForm,"roleIds",t)},expression:"userForm.roleIds"}},e._l(e.userForm.roleList,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id,name:"roleIds"}},[e._v(e._s(t.name))])})),1)],1)]),a("el-form-item",{attrs:{label:"所属机构",prop:"officeId"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.userForm.officeId,callback:function(t){e.$set(e.userForm,"officeId",t)},expression:"userForm.officeId"}}),a("el-input",{attrs:{size:"small",readonly:"",placeholder:"请选择所属机构"},model:{value:e.userForm.officeName,callback:function(t){e.$set(e.userForm,"officeName",t)},expression:"userForm.officeName"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:e.selectOffice}},[e._v("选择")])],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入备注"},model:{value:e.userForm.remarks,callback:function(t){e.$set(e.userForm,"remarks",t)},expression:"userForm.remarks"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.userForm.loginFlag,callback:function(t){e.$set(e.userForm,"loginFlag",t)},expression:"userForm.loginFlag"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("正常")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("锁定")])],1),e._v("  \n        ")],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelEdit}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("更新")])],1)],1):e._e()],1)},Zh=[],Xh={name:"personManageAA",data:function(){return{tableData:[],multipleSelection:[],criteria:{},searchForm:{userMsg:""},addFormVisible:!1,userForm:{id:"",name:"",loginName:"",email:"",password:"",officeId:"",remarks:"",loginFlag:0,mailNotice:!1,roleIds:[],officeName:"",roleList:null},userFormRules:{name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],loginName:[{required:!0,message:"请输入登录账号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],roleIds:[{type:"array",required:!0,message:"请至少选择一个角色",trigger:"change"}],officeName:[{required:!0,message:"请选择所属部门",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注信息",trigger:"blur"}]},editFormVisible:!1,pageSize:10,currentPage:1,start:1,totalCount:1,companys:[],companyProps:{chilidren:"children",label:"name"},companyVisible:!1}},methods:{callback:function(){this.loadData()},loadData:function(){var e=this;this.criteria["pageNum"]=this.currentPage,this.criteria["pageSize"]=this.pageSize,this.$service.get_users_json(this.criteria).then((function(t){e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total,e.userForm.roleList=t.roleList}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},submitForm:function(){var e=this;this.$refs.searchForm.validate((function(t){if(!t)return!1;e.criteria=e.searchForm,e.loadData()}))},handleReset:function(){this.$refs.searchForm.resetFields()},handleChangetStatus:function(e,t){var a=this,i=t.id,n=1==t.loginFlag?0:1;this.$confirm("确定修改该条记录的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$service.changeloginFlag({id:i,loginFlag:n},"状态修改成功").then((function(){a.callback()}))})).catch((function(){}))},selectOffice:function(){var e=this;this.companyVisible=!0,this.$service.get_office_tree_json().then((function(t){e.companys=t.officeTree}))},handleNodeClick:function(e){this.$appState.$set("company_data",JSON.stringify(e))},companySelectCancel:function(){this.$appState.$set("company_data",""),this.companyVisible=!1},companySelectOk:function(){this.companyVisible=!1;var e=JSON.parse(this.$appState.$get("company_data"));this.userForm.officeId=e.id,this.userForm.officeName=e.name},handleAdd:function(){this.addFormVisible=!0,this.userForm.id="",this.userForm.name="",this.userForm.loginName="",this.userForm.email="",this.userForm.password="",this.userForm.officeId="",this.userForm.remarks="",this.userForm.loginFlag=0,this.userForm.officeName="",this.userForm.roleIds=[],this.userForm.mailNotice=!1},addSubmit:function(){var e=this,t=this;this.$refs.userForm.validate((function(a){if(!a)return!1;var i=JSON.stringify(t.userForm);i=JSON.parse(i),i.roleIds=i.roleIds.join(","),delete i.officeName,delete i.roleList,e.$service.addUser(i,"添加成功").then((function(){e.callback(),e.addFormVisible=!1}))}))},handleEdit:function(e,t){this.editFormVisible=!0,this.userForm.id=t.id,this.userForm.name=t.name,this.userForm.loginName=t.loginName,this.userForm.email=t.email,this.userForm.password="",this.userForm.officeId=t.officeId,this.userForm.remarks=t.remarks,this.userForm.loginFlag=t.loginFlag,this.userForm.officeName=t.officeName,this.userForm.roleIds=t.roleIds,this.userForm.mailNotice=!1},editSubmit:function(){var e=this,t=this;this.$refs.userForm.validate((function(a){if(!a)return!1;var i=JSON.stringify(t.userForm);i=JSON.parse(i),i.roleIds=i.roleIds.join(","),delete i.officeName,delete i.roleList,e.$service.updateUser(i,"更新成功").then((function(){e.callback(),e.editFormVisible=!1}))}))},cancelAdd:function(){this.addFormVisible=!1},cancelEdit:function(){this.editFormVisible=!1,this.$message({showClose:!0,message:"已取消编辑"})},handleDelete:function(e,t){var a=this,i=t.id;this.$confirm("确定要删除该条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){a.$service.delUser({id:i},"删除成功").then((function(){a.callback()}))})).catch((function(){}))},handleSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);this.multipleSelection=t},handleBatchDel:function(){var e=this,t=this.multipleSelection;t.length>0?this.$confirm("确定要删除这批记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){e.$service.batchDelUsers({ids:t.join(",")},"删除成功").then((function(){e.callback()}))})).catch((function(){})):this.$alert("请至少勾选一条记录","提示",{confirmButtonText:"确定",type:"warning"})}},created:function(){this.loadData()}},ep=Xh,tp=(a("531a"),Object(U["a"])(ep,Yh,Zh,!1,null,"5142ccaa",null)),ap=tp.exports,ip=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"TopNav"},[a("div",{staticClass:"left"},[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:role:add",expression:"'sysAdministrative:role:add'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\n        ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:role:batchDel",expression:"'sysAdministrative:role:batchDel'"}],attrs:{type:"primary",size:"small"},on:{click:e.handleBatchDel}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 批量删除\n        ")])],1)],1),a("div",{staticClass:"right"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchForm},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:"",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入角色"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:e.submitForm}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleReset}},[a("a",{staticClass:"fa fa-refresh",staticStyle:{color:"white"}}),e._v(" 重置\n          ")])],1)],1)],1)]),a("el-table",{ref:"myTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{type:"index",width:"80"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),a("el-table-column",{attrs:{prop:"name",label:"角色名称",width:"200"}}),a("el-table-column",{attrs:{prop:"enname",label:"角色英文名称",width:"120"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"200"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDate))])]}}])}),a("el-table-column",{attrs:{prop:"useable",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.useable?a("el-tag",{attrs:{type:"success","close-transition":"false"}},[a("a",{staticClass:"fa fa-unlock"}),e._v(" 正常\n        ")]):e._e(),0===t.row.useable?a("el-tag",{attrs:{type:"danger","close-transition":"false"}},[a("a",{staticClass:"fa fa-lock"}),e._v(" 锁定\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:role:changeStatus",expression:"'sysAdministrative:role:changeStatus'"}],attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleChangetStatus(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 修改状态\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:role:edit",expression:"'sysAdministrative:role:edit'"}],attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-edit",staticStyle:{color:"white"}}),e._v(" 编辑\n          ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysAdministrative:role:del",expression:"'sysAdministrative:role:del'"}],attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[a("a",{staticClass:"fa fa-trash",staticStyle:{color:"white"}}),e._v(" 删除\n          ")])],1)]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),e.addFormVisible?a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible,"close-on-click-modal":!1,size:"large"},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"roleForm",attrs:{model:e.roleForm,rules:e.roleFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入角色名称"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入备注"},model:{value:e.roleForm.remarks,callback:function(t){e.$set(e.roleForm,"remarks",t)},expression:"roleForm.remarks"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.roleForm.useable,callback:function(t){e.$set(e.roleForm,"useable",t)},expression:"roleForm.useable"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("正常")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("锁定")])],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form",[a("el-form-item",{attrs:{label:"选择权限",inline:!0}},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤",size:"small"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1),a("el-tree",{ref:"tree",attrs:{data:e.data2,"show-checkbox":"","node-key":"id","filter-node-method":e.filterNode,"highlight-current":"",props:e.defaultProps}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")])],1)],1):e._e(),e.editFormVisible?a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible,"close-on-click-modal":!1,size:"large"},on:{"update:visible":function(t){e.editFormVisible=t}},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"roleForm",attrs:{model:e.roleForm,rules:e.roleFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入角色名称"},model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{size:"small",type:"textarea",placeholder:"请输入备注"},model:{value:e.roleForm.remarks,callback:function(t){e.$set(e.roleForm,"remarks",t)},expression:"roleForm.remarks"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.roleForm.useable,callback:function(t){e.$set(e.roleForm,"useable",t)},expression:"roleForm.useable"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("正常")]),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("锁定")])],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form",[a("el-form-item",{attrs:{label:"选择权限"}},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤",size:"small"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)],1),a("el-tree",{ref:"editTree",attrs:{data:e.data2,"show-checkbox":"","node-key":"id","filter-node-method":e.filterNode,"highlight-current":"","default-checked-keys":e.roleForm.menuIds,props:e.defaultProps}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelEdit}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("更新")])],1)],1):e._e()],1)},np=[],rp={name:"roleManageAA",data:function(){return{tableData:[],multipleSelection:[],criteria:{},initTree:{},searchForm:{name:""},addFormVisible:!1,roleForm:{id:"",name:"",remarks:"",useable:0,menuIds:[],menuAllIds:[]},roleFormRules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},filterText:"",data2:null,defaultProps:{children:"children",label:"label"},editFormVisible:!1,pageSize:10,currentPage:1,start:1,totalCount:1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.loadData()},methods:{callback:function(){this.loadData()},loadData:function(){var e=this;this.criteria["pageNum"]=this.currentPage,this.criteria["pageSize"]=this.pageSize,this.$service.get_roles_json(this.criteria).then((function(t){e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total,e.initTree=e.searchInit(t.menuTree),e.data2=t.menuTree}))},handleSizeChange:function(e){this.pageSize=e,this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},getKeys:function(e,t){for(var a=[],i=0;i<t.length;i++)a=this.searchTree(e,t[i]).concat(a);if(0==e.length||0==t.length)return[];var n=rt.a.uniq(a.concat(t).sort());return n},searchTree:function(e,t){for(var a=e.concat([]),i=a.length,n=[],r=0;r<i;r++)a[r].id==t&&(n=null==a[r].parentNode||0==a[r].parentNode.length?[]:a[r].parentNode);return n},searchInit:function(e){for(var t=e.concat([]),a=t.length,i=0;i<a;i++){var n=t[i];if(n.children&&0!=n.children.length){for(var r=n.children,s=0;s<r.length;s++)n.parentNode?r[s].parentNode=n.parentNode.concat([n.id]):r[s].parentNode=[n.id],t[a+s]=r[s];a=t.length}}return t},submitForm:function(){var e=this;this.$refs.searchForm.validate((function(t){if(!t)return!1;e.criteria=e.searchForm,e.loadData()}))},handleReset:function(){this.$refs.searchForm.resetFields()},handleChangetStatus:function(e,t){var a=this,i=t.id,n=1==t.useable?0:1;this.$confirm("确定修改该条记录的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$service.changeRoleStatus({id:i,useable:n},"状态修改成功").then((function(){a.callback()}))})).catch((function(){}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleAdd:function(){this.addFormVisible=!0,this.roleForm.id="",this.roleForm.name="",this.roleForm.remarks="",this.roleForm.useable=0,this.roleForm.menuIds=[],this.roleForm.menuAllIds=[]},addSubmit:function(){var e=this;this.roleForm.menuIds=this.$refs.tree.getCheckedKeys(),this.$refs.roleForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.roleForm);a=JSON.parse(a),a.menuAllIds=e.getKeys(e.initTree,a.menuIds),a.menuIds=a.menuIds.join(","),a.menuAllIds=a.menuAllIds.join(","),e.$service.addRole(a,"添加成功").then((function(){e.callback(),e.addFormVisible=!1}))}))},resetAdd:function(){this.$refs["roleForm"].resetFields(),this.$refs.tree.setCheckedKeys([])},handleEdit:function(e,t){this.editFormVisible=!0,this.roleForm.id=t.id,this.roleForm.name=t.name,this.roleForm.remarks=t.remarks,this.roleForm.useable=t.useable,this.roleForm.menuIds=t.menuIds;var a=this;this.$nextTick((function(){a.$refs.editTree.setCheckedKeys(a.roleForm.menuIds)}))},editSubmit:function(){var e=this;this.roleForm.menuIds=this.$refs.editTree.getCheckedKeys(),this.$refs.roleForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.roleForm);a=JSON.parse(a),a.menuAllIds=e.getKeys(e.initTree,a.menuIds),a.menuIds=a.menuIds.join(","),a.menuAllIds=a.menuAllIds.join(","),e.$service.updateRole(a,"编辑成功").then((function(){e.callback(),e.editFormVisible=!1}))}))},cancelAdd:function(){this.addFormVisible=!1,this.$message({showClose:!0,message:"已取消新增"}),this.$refs.tree.setCheckedKeys([]),this.$refs["roleForm"].resetFields()},cancelEdit:function(){this.editFormVisible=!1,this.$message({showClose:!0,message:"已取消编辑"})},handleDelete:function(e,t){var a=this,i=t.id;this.$confirm("确定要删除该条记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){a.$service.delRole({id:i},"删除成功").then((function(){a.callback()}))})).catch((function(){}))},handleSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);this.multipleSelection=t},handleBatchDel:function(){var e=this,t=this.multipleSelection;t.length>0?this.$confirm("确定要删除这批记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){e.$service.batchRoles({ids:t.join(",")},"删除成功").then((function(){e.callback()}))})).catch((function(){e.$message({showClose:!0,message:"已取消删除操作"})})):this.$alert("请至少勾选一条记录","提示",{confirmButtonText:"确定",type:"warning"})}}},sp=rp,op=Object(U["a"])(sp,ip,np,!1,null,null,null),lp=op.exports,cp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showList?a("PeoplePositionList",{on:{"open-add-page":e.openAddPage}}):a("PeoplePositionAdd",{attrs:{editId:e.editId,mode:e.mode},on:{"open-list-page":e.openListPage}})],1)},dp=[],up=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"people-position-list"},[a("c-content-wrapper",{attrs:{filter:e.filter,filterSchema:e.filterSchema,pagination:e.pagination},on:{"filter-change":e.handleFilterChange,"filter-reset":e.handleFilterReset}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data,selected:e.table.selected,"selection-type":e.table.selectionType},on:{"row-selection-add":e.handleRowSelectionAdd,"row-selection-remove":e.handleRowSelectionRemove,"all-row-selection-change":e.handleAllRowSelectionChange}})],1)],1)},hp=[],pp={name:"peoplePositionList",data:function(){var e=this;return{filter:{},filterSchema:ke.a.map({id:ke.a.o.number.other("form",{label:" ",placeholder:"请输入ID",cols:{item:14,wrapper:18}})}).other("form",{layout:"inline",footer:{cols:{label:0,wrapper:24},showSubmit:!0,submitText:"查询",showReset:!0,resetText:"重置"}}),pagination:{},selected:[],table:{props:{},header:[{label:"id",prop:"id",width:"50"},{label:"投放id",prop:"launchCrowdId",width:"70"},{label:"名称",prop:"name",render:function(t,a){return t("el-button",{props:{type:"text"},on:{click:function(){e.handleRead(a)}}},a.row.name)}},{label:"协议",prop:"protocol"},{label:"访问地址",prop:"url"},{label:"存放地址",prop:"saveAddr"},{label:"参数",prop:"param"},{label:"备注",prop:"remark"},{label:"状态",prop:"status",width:"60",render:function(e,t){var a=t.row;return 1===a.status?"可用":"不可用"}},{label:"操作",fixed:"right",width:"100",render:this.$c_utils.component.createOperationRender(this,{handleEdit:"编辑",handleDelete:"删除"})}],data:[],selected:[],selectionType:"multiple"}}},methods:{handleRead:function(e){var t=e.row;this.$emit("open-add-page",t.id,"read")},handleAdd:function(){this.$emit("open-add-page")},handleEdit:function(e){var t=e.row;this.$emit("open-add-page",t.id,"edit")},handleDelete:function(e){var t=this,a=e.row;this.$confirm("确定删除此活动吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.peoplePositonDel({id:a.id},"删除成功").then((function(){t.handleAllRowSelectionRemove(),t.fetchData()}))}))},handleFilterChange:function(e,t){t&&(this.filter=t),"query"===e&&this.pagination&&(this.pagination.currentPage=1),this.fetchData()},handleFilterReset:function(){this.filter={id:void 0},this.fetchData()},handleRowSelectionAdd:function(e){this.selected.push(e.id),this.updateTableSelected()},handleRowSelectionRemove:function(e){this.selected=this.selected.filter((function(t){return t!==e.id})),this.updateTableSelected()},handleAllRowSelectionChange:function(e){e?this.table.data.forEach(this.handleRowSelectionAdd):(this.selected=[],this.table.selected=[])},handleAllRowSelectionRemove:function(){this.selected=[],this.table.selected=[]},updateTableSelected:function(){var e=this.table,t=this.selected.map((function(e){return e}));e.selected=e.data.reduce((function(e,a,i){return t.indexOf(a.id)>-1&&e.push(i),e}),[])},parseFilter:function(){var e=this.filter,t=this.pagination;return t&&(e.pageNum=t.currentPage,e.pageSize=t.pageSize),e},fetchData:function(){var e=this,t=this.parseFilter();this.$service.peoplePositonList(t).then((function(t){e.table.data=t.pageInfo.list,e.pagination.total=t.pageInfo.total}))}},created:function(){this.fetchData()}},mp=pp,fp=(a("c7d6"),Object(U["a"])(mp,up,hp,!1,null,"3698b3b4",null)),vp=fp.exports,gp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPeoplePosition"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"人群投放Id",prop:"launchCrowdId"}},[a("el-select",{attrs:{disabled:e.disableValue},model:{value:e.form.launchCrowdId,callback:function(t){e.$set(e.form,"launchCrowdId",t)},expression:"form.launchCrowdId"}},e._l(e.crowdIds,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value+"_"+e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"人群名称",prop:"name"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"存放协议",prop:"protocol"}},[a("el-select",{attrs:{disabled:e.disableValue},model:{value:e.form.protocol,callback:function(t){e.$set(e.form,"protocol",t)},expression:"form.protocol"}},e._l(e.protocols,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),"redis"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"redis访问地址示例"}},[a("span",[e._v('{"ip":"172.16.33.12","port":"5459","password":"abc.123","timeout":"3000","database":"0","cid":"693","version":"20190422"}\n            ')])]):e._e(),"kafka"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"kafka访问地址示例"}},[a("div",[e._v('{"ip":"172.16.33.12","port":"5459"}')])]):e._e(),"http"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"http访问地址示例"}},[a("div",[e._v('{"uri":"http://www.xxx.com/launch/crowd/getCrowdDataByHttp","method":"GET"}')])]):e._e(),a("el-form-item",{attrs:{label:"访问地址",prop:"url"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),"redis"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"redis存放地址示例"}},[a("span",[e._v('{"ip":"172.16.33.12","port":"5459","password":"abc.123","timeout":"3000","database":"0","cid":"693","version":"20190422"}\n            ')])]):e._e(),"kafka"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"kafka存放地址示例"}},[a("div",[e._v('{"ip":"172.16.33.12","port":"5459"}')])]):e._e(),"http"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"http存放地址示例"}},[a("div",[e._v('{"ip":"172.16.33.12","port":"5459","password":"abc.123","timeout":"3000","database":"0","cid":"693","version":"20190422"}')])]):e._e(),a("el-form-item",{attrs:{label:"存放地址",prop:"saveAddr"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.saveAddr,callback:function(t){e.$set(e.form,"saveAddr",t)},expression:"form.saveAddr"}})],1),"redis"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"redis参数示例"}},[a("div",[e._v('{"mac_key":"crowd_534_mac_20190402","all_key":"crowd_534_20190402","sid_key":"crowd_534_sid_20190402","1_key":"crowd_543_1_20190402","2_key":"crowd_543_2_20190402","3_key":"crowd_543_3_20190402"} ')])]):e._e(),"kafka"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"kafka参数示例"}},[a("div",[e._v('{"mac_topic":"topic1xx","all_topic":"topic2xx","sid_topic":"topic3xx","1_topic":"topic3x11x","2_topic":"topic4xx","3_topic":"topic4xx"}')])]):e._e(),"http"===e.form.protocol?a("el-form-item",{staticClass:"example",attrs:{label:"http参数示例"}},[a("div",[e._v('{"pageNum":"1","pageSize":"10","biId":"8","type":"3","launchCrowdId":"12"}')])]):e._e(),a("el-form-item",{attrs:{label:"参数",prop:"param"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.param,callback:function(t){e.$set(e.form,"param",t)},expression:"form.param"}})],1),a("el-form-item",{attrs:{label:"标注",prop:"remark"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",["read"!=this.mode?a("el-button",{on:{click:e.save}},[e._v("保存")]):e._e(),a("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},bp=[],yp={name:"peoplePositionAdd",props:{editId:"",mode:""},data:function(){return{form:{launchCrowdId:"",name:"",protocol:"",url:"",saveAddr:"",param:"",remark:"",id:""},crowdIds:[],protocols:[],title:"",disableValue:!1,rules:{launchCrowdId:[{required:!0,message:"请输入人群投放ID",trigger:"blur"}],name:[{required:!0,message:"请输入人群名称",trigger:"blur"}],protocol:[{required:!0,message:"请选择存放协议",trigger:"blur"}],url:[{required:!0,message:"请输入位置存放地址",trigger:"blur"}],saveAddr:[{required:!0,message:"请输入存放地址",trigger:"blur"}]}}},methods:{getCrowdIdList:function(){var e=this;this.$service.crowdIdList().then((function(t){e.crowdIds=e._arrayingOption(t,"launchName","launchCrowdId")}))},getProtocolList:function(){var e=this;this.$service.protocolList().then((function(t){e.protocols=t}))},getDetail:function(){var e=this;this.$service.getPositonDetail({id:this.editId}).then((function(t){e.form=t}))},_arrayingOption:function(e,t,a){return e.reduce((function(e,i){return e.concat({label:i[t],value:i[a]})}),[])},goBack:function(){this.$emit("open-list-page")},save:function(){var e=this;this.$refs.form.validate((function(t){if(t)if(void 0===e.editId)e.$service.peoplePositonAdd(e.form,"保存成功").then((function(){e.$emit("open-list-page")}));else{var a={id:e.editId,launchCrowdId:e.form.launchCrowdId,name:e.form.name,protocol:e.form.protocol,url:e.form.url,param:e.form.param,remark:e.form.remark,saveAddr:e.form.saveAddr};e.$service.peoplePositonEdit(a,"修改成功").then((function(){e.$emit("open-list-page")}))}}))}},created:function(){this.getCrowdIdList(),this.getProtocolList(),void 0===this.editId?(this.title="新增",this.form.protocol="http"):"edit"===this.mode?(this.title="编辑",this.getDetail()):(this.title="查看详情",this.getDetail(),this.disableValue=!0)}},Cp=yp,wp=(a("064b"),Object(U["a"])(Cp,gp,bp,!1,null,"08fe209c",null)),_p=wp.exports,Sp={name:"dataManageAA",components:{PeoplePositionAdd:_p,PeoplePositionList:vp},data:function(){return{showList:!0,editId:"",mode:""}},methods:{openAddPage:function(e,t){this.showList=!1,this.editId=e,this.mode=t},openListPage:function(){this.showList=!0}},created:function(){}},kp=Sp,Ip=Object(U["a"])(kp,cp,dp,!1,null,"734fd2f3",null),xp=Ip.exports,Tp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-dict-database-list"},[a("c-content-wrapper",{attrs:{filter:e.filter,filterSchema:e.filterSchema,pagination:e.pagination},on:{"filter-change":e.handleFilterChange,"filter-reset":e.handleFilterReset}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.exportData}},[e._v("导出")])],1),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data,selected:e.table.selected,"selection-type":e.table.selectionType},on:{"row-selection-add":e.handleRowSelectionAdd,"row-selection-remove":e.handleRowSelectionRemove,"all-row-selection-change":e.handleAllRowSelectionChange}})],1)],1)},Dp=[],$p={name:"tagDictDatabaseAA",data:function(){return{filter:{},filterSchema:ke.a.map({tagName:ke.a.o.string.other("form",{label:"请输入标签名称",placeholder:"请输入标签名称",cols:{item:8,wrapper:10}}),tagCode:ke.a.o.string.other("form",{label:"请输入标签code",placeholder:"请输入标签code",cols:{item:8,wrapper:10}})}).other("form",{layout:"inline",footer:{cols:{label:0,wrapper:24},showSubmit:!0,submitText:"查询",showReset:!0,resetText:"重置"}}),pagination:{},selected:[],table:{props:{},header:[{label:"标签名称",prop:"tagName"},{label:"标签code",prop:"tagCode"},{label:"标签值列值",prop:"tagValues"},{label:"标签定义",prop:"description"}],data:[],selected:[],selectionType:"multiple"}}},methods:{exportData:function(){this.$message("此功能待开发")},handleFilterChange:function(e,t){t&&(this.filter=t),"query"===e&&this.pagination&&(this.pagination.currentPage=1),this.fetchData()},handleFilterReset:function(){this.filter={tagName:void 0,tagCode:void 0},this.fetchData()},handleRowSelectionAdd:function(e){this.selected.push(e.id),this.updateTableSelected()},handleRowSelectionRemove:function(e){this.selected=this.selected.filter((function(t){return t!==e.id})),this.updateTableSelected()},handleAllRowSelectionChange:function(e){e?this.table.data.forEach(this.handleRowSelectionAdd):(this.selected=[],this.table.selected=[])},handleAllRowSelectionRemove:function(){this.selected=[],this.table.selected=[]},updateTableSelected:function(){var e=this.table,t=this.selected.map((function(e){return e}));e.selected=e.data.reduce((function(e,a,i){return t.indexOf(a.id)>-1&&e.push(i),e}),[])},parseFilter:function(){var e=this.filter,t=this.pagination;return t&&(e.pageNum=t.currentPage,e.pageSize=t.pageSize),e},fetchData:function(){var e=this,t=this.parseFilter();this.$service.getTagDictDatabaseList(t).then((function(t){e.table.data=t.pageInfo.list,e.pagination.total=t.pageInfo.total,e.pagination.pageSize=t.pageInfo.pageSize}))}},created:function(){this.fetchData()}},Lp=$p,Np=Object(U["a"])(Lp,Tp,Dp,!1,null,"5007c656",null),Op=Np.exports,Pp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-statistics"},[a("div",{staticClass:"statistics-header"},[a("div",{staticClass:"date-picker"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.time0,callback:function(t){e.time0=t},expression:"time0"}})],1),a("div",[a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleDownload}},[e._v("导出数据")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleOneTouchDrop}},[e._v("创建人群")]),a("el-button",{attrs:{type:"warning"},on:{click:e.handleOpenLaunchList}},[e._v("投放列表")])],1)]),a("div",[a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("人群使用情况")]),a("div",{staticClass:"unit-content"},[a("div",{staticClass:"crowd-all-item-container"},e._l(e.crowdAllData,(function(t,i){return a("div",{key:i,staticClass:"crowd-all-item"},[a("div",{staticClass:"crowd-all-item--number"},[e._v(e._s(t.value))]),a("div",[e._v(e._s(t.name))])])})),0)])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("人群应用场景分布")]),a("div",{staticClass:"unit-content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("ve-wordcloud",{attrs:{data:e.chartData,settings:e.chartSettings,extend:e.setWordCloudExtend(),height:"300px"}})],1),a("el-col",{attrs:{span:12}},[a("div",{ref:"useScene",staticClass:"main"})])],1)],1)])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("主页推荐位分人群情况")]),a("div",{staticClass:"unit-content"},[a("div",{staticClass:"home-page-recommend"},e._l(e.homePageRecommendation,(function(t,i){return a("div",{key:i,staticClass:"home-page-recommend-item"},[a("div",{staticClass:"home-page-recommend-item--number"},[e._v(e._s(e.cc_format_number(t.value)))]),a("div",[e._v(e._s(t.name))])])})),0)])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("DMP支撑-主页推荐位路径下单产品包成功交易趋势图")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"homepageRecommendTrade",staticClass:"main"})])])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("标签覆盖情况")]),a("div",{staticClass:"unit-content"},[a("div",{staticClass:"tag-all-item-container"},e._l(e.tagAllData,(function(t,i){return a("div",{key:i,staticClass:"tag-all-item"},[a("div",{staticClass:"tag-all-item--number"},[e._v(e._s(e.cc_format_number(t.count)))]),a("div",[e._v(e._s(t.name))])])})),0)])]),a("div",{staticClass:"unit-box margin-top20"},[a("div",{staticClass:"unit-header clearfix"},[e._v("标签使用情况")]),a("div",{staticClass:"unit-content"},[a("div",{staticClass:"tag-all-item-container"},e._l(e.tagUseData,(function(t,i){return a("div",{key:i,staticClass:"tag-all-item"},["标签使用率"===t.name?a("div",{staticClass:"tag-all-item--number"},[e._v(e._s(t.value))]):a("div",{staticClass:"tag-all-item--number"},[e._v(e._s(e.cc_format_number(t.value)))]),a("div",[e._v(e._s(t.name))])])})),0)])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("标签场景覆盖情况")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"tagRadar",staticStyle:{height:"407px"}})])])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("业务投放情况")]),a("div",{staticClass:"unit-content"},[a("div",{staticClass:"launch-all-item-container"},e._l(e.launchData,(function(t,i){return a("div",{key:i,staticClass:"launch-all-item"},[a("div",{staticClass:"launch-all-item--number"},[e._v(e._s(e.cc_format_number(t.count)))]),a("div",[e._v(e._s(t.name))])])})),0)])]),a("el-row",{staticClass:"unit-row margin-top20",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("业务人群使用情况")]),a("div",{staticClass:"unit-content"},[a("div",{staticClass:"business-use-text"},[a("div",{staticClass:"number"},[e._v(e._s(e.cc_format_number(e.businessUseCrowdData.count)))]),a("div",{staticClass:"name"},[e._v(e._s(e.businessUseCrowdData.name))])])])])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("人群对应业务分布情况")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"businessUseCrowd",staticStyle:{height:"250px"}})])])])],1)],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("业务使用全流程趋势图（总调用、下发、曝光、点击）")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"businessUseTendency",staticStyle:{height:"436px"}})])])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("曝光用户分布及行为特征")]),a("div",{staticClass:"unit-content"},[a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{ref:"circleSex",staticStyle:{height:"250px"}})]),a("el-col",{attrs:{span:8}},[a("div",{ref:"circleAge",staticStyle:{height:"250px"}})]),a("el-col",{attrs:{span:8}},[a("div",{ref:"circleDevice",staticStyle:{height:"250px"}})])],1)],1)])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("省份分布")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"main",staticClass:"map-echarts"}),a("div",{staticClass:"city-active-proportion cf"},[a("div",{staticClass:"city-active-proportion--title"},[e._v(e._s(e.cityData.name))]),e._l(e.cityData.data,(function(t,i){return a("div",{key:i,staticClass:"city-active-proportion--name"},[e._v("\n                                "+e._s(t.name)+":"+e._s(t.percent)+"\n                            ")])}))],2)])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("活跃时段分布")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"activeTimeDistrict",staticStyle:{height:"405px"}})])])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("用户分布情况\n                        "),a("div",{staticClass:"member-select"},[a("el-select",{model:{value:e.memberListType,callback:function(t){e.memberListType=t},expression:"memberListType"}},[e._l(e.memberList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.name,value:e.value}})]}))],2)],1)]),a("div",{staticClass:"unit-content"},[a("div",{ref:"userDistribution",staticClass:"main",staticStyle:{height:"320px"}})])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("末次付费的会员产品包情况\n                        "),a("div",{staticClass:"member-select"},[a("el-select",{model:{value:e.memberListByPay,callback:function(t){e.memberListByPay=t},expression:"memberListByPay"}},[e._l(e.memberList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.name,value:e.value}})]}))],2)],1)]),a("div",{staticClass:"unit-content"},[a("div",{ref:"lastPayProduct",staticClass:"main",staticStyle:{height:"320px"}})])])])],1),a("el-row",{staticClass:"unit-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("设备活跃情况")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"deviceActive",staticStyle:{height:"400px"}})])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("起播活跃率\n                        "),a("div",{staticClass:"member-select"},[a("el-select",{model:{value:e.dateData,callback:function(t){e.dateData=t},expression:"dateData"}},[e._l(e.dateList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.name,value:e.value}})]}))],2)],1)]),a("div",{staticClass:"unit-content"},[a("div",{ref:"activeRate",staticStyle:{height:"400px"}})])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v("用户观影偏好分布")]),a("div",{staticClass:"unit-content"},[a("div",{ref:"userWatchPreference",staticStyle:{height:"400px"}})])])])],1)],1),a("el-dialog",{attrs:{title:e.businessTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[!0===e.dialogVisibleType?a("div",[a("el-select",{model:{value:e.businessType,callback:function(t){e.businessType=t},expression:"businessType"}},[a("el-option",{attrs:{value:"1",label:"人群曝光总量"}}),a("el-option",{attrs:{value:"2",label:"人群点击总量"}})],1)],1):e._e(),!0===e.dialogVisible?a("div",{ref:"business",staticClass:"main"}):e._e()])],1)},Ep=[],Ap=a("53af"),Fp=a.n(Ap),Vp={name:"statisticsHomePageAA",components:{veWordcloud:Fp.a},data:function(){return{crowdAllData:[],startDate:"",endDate:"",time0:[],businessType:"1",cityData:"",dialogVisible:!1,dialogVisibleType:!1,businessTitle:"",filter:{},pagination:{},table:{props:{},header:[{label:"排名",width:"50",prop:"seq"},{label:"省份",prop:"name"},{label:"活跃数量",prop:"value"},{label:"占比",prop:"percent"}],data:[]},tagAllData:[],tagUseData:[],launchData:[],businessUseCrowdData:{},memberListType:"",memberListByPay:"",memberList:[],dateList:[],dateData:"",chartData:{columns:["word","count"],rows:[]},chartSettings:{shape:"diamond",sizeMax:30},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},downloadUrl:void 0,homePageRecommendation:[],allCharts:{}}},watch:{time0:function(e,t){0!==t.length&&(this.setDataInMonth(e[0],e[1])?(this.getCrowdSextotal(this.time0[0],this.time0[1]),this.getCrowdAgetotal(this.time0[0],this.time0[1]),this.getCrowdDevicetotal(this.time0[0],this.time0[1]),this.getCrowdProvincetotal(this.time0[0],this.time0[1]),this.getAllCrowdTotal(this.time0[0],this.time0[1]),this.setUseSceneCircle(this.time0[0],this.time0[1]),this.getAllTagTotal(this.time0[0],this.time0[1]),this.getTagUseTotal(this.time0[0],this.time0[1]),this.getAllTagRadar(this.time0[0],this.time0[1]),this.getLaunchTotal(this.time0[0],this.time0[1]),this.getBusinessUseCrowdTotal(this.time0[0],this.time0[1]),this.getBusinessToCrowdTotal(this.time0[0],this.time0[1]),this.getBusinessUseTendency(this.time0[0],this.time0[1]),this.getActiveTimeDistriction(this.time0[0],this.time0[1]),this.getBroadcastRate(this.time0[0],this.time0[1]),this.getUserWatchPreference(this.time0[0],this.time0[1]),this.getUserDistribution(this.time0[0],this.time0[1]),this.getLastPayProduct(this.time0[0],this.time0[1]),this.getServiceActive(this.time0[0],this.time0[1]),this.handleGetHomePageRecommend(this.time0[0],this.time0[1])):(this.$message("日期间隔最多只能是30天！请重新选择日期"),this.time0=t))},memberListType:function(){this.getUserDistribution(this.time0[0],this.time0[1])},memberListByPay:function(){this.getLastPayProduct(this.time0[0],this.time0[1])},dateData:function(){this.getBroadcastRate(this.time0[0],this.time0[1])}},methods:{setWordCloudExtend:function(){var e=this;return{tooltip:{trigger:"item",formatter:function(t){return t.name+":"+e.cc_format_number(t.value)}}}},setLineEchart:function(e,t,i,n){var r=this,s=a("313e"),o=s.init(this.$refs[e]);o.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return r.cc_format_number(e.data)}},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:[{data:n,type:"line"}]}),this.allCharts[e]=o},setCircleEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)+"("+e.percent+")%"}},legend:{orient:"vertical",x:"all"===r?"bottom":"right",data:i,type:"scroll"},series:[{name:"",type:"pie",radius:"all"===r?"70%":["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:"all"===r,position:"all"===r?"":"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!0}},data:n}]}),this.allCharts[e]=l},setCircleDoubleEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)+"("+e.percent+")%"}},legend:{orient:"vertical",x:"right",data:i,type:"scroll"},series:[{type:"pie",selectedMode:"single",radius:[0,"30%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"inner"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:n},{type:"pie",radius:["40%","55%"],label:{normal:{show:!1,formatter:"  {b|{b}：}{c}  {per|{d}%}  ",backgroundColor:"#eee",borderColor:"#aaa",borderWidth:1,borderRadius:4,rich:{b:{fontSize:16,lineHeight:33},per:{color:"#eee",backgroundColor:"#334455",padding:[2,4],borderRadius:2}}}},data:r}]}),this.allCharts[e]=l},setRadarEcharts:function(e,t,i,n,r){var s=a("313e"),o=s.init(this.$refs[e]);o.setOption({title:{text:t},tooltip:{trigger:"item"},legend:{orient:"vertical",x:"left",data:i},radar:{shape:"circle",name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:r},series:[{name:"",type:"radar",data:n}]}),this.allCharts[e]=o},setLinesEchart:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return s.cc_format_number(e.data)}},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:n}),this.allCharts[e]=l},setBarEchart:function(e,t,i,n){var r=this,s=a("313e"),o=s.init(this.$refs[e]);o.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return r.cc_format_number(e.data)}},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:[{data:n,type:"bar",barWidth:30}]}),this.allCharts[e]=o},getCrowdSextotal:function(e,t){var a=this;this.$service.get_crowd_sex_total({startDate:e,endDate:t}).then((function(e){var t=e.data.map((function(t,a){return{value:t.count,name:e.names[a]}}));a.setCircleEcharts("circleSex","性别分析",e.names,t)}))},getCrowdAgetotal:function(e,t){var a=this;this.$service.get_crowd_age_total({startDate:e,endDate:t}).then((function(e){var t=e.data.map((function(t,a){return{value:t.count,name:e.names[a]}}));a.setCircleEcharts("circleAge","年龄分布",e.names,t)}))},getCrowdDevicetotal:function(e,t){var a=this;this.$service.get_device_level_total({startDate:e,endDate:t}).then((function(e){var t=e.data.map((function(t,a){return{value:t.count,name:e.names[a]}}));a.setCircleEcharts("circleDevice","产品等级分类",e.names,t)}))},getCrowdProvincetotal:function(e,t){var a=this;this.$service.get_crowd_province_total({startDate:e,endDate:t}).then((function(e){var t=e.topCity.date.map((function(e,t){return{value:e.count,name:e.name,seq:t+1,percent:e.percent}})),i=e.province.date.map((function(e){return{value:e.count,name:e.name}}));a.setMapEcharts("main","",i),a.cityData=e.cityPercent,a.table.data=t,a.pagination.total=e.topCity.date.length}))},setMapEcharts:function(e,t,i){var n=this,r=a("313e"),s=r.init(this.$refs[e]);s.setOption({title:{text:t,left:"center"},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+n.cc_format_number(e.data.value)}},visualMap:{min:0,max:1e6,left:"left",top:"bottom",text:["高","低"],calculable:!0},series:[{name:"省份分布",type:"map",mapType:"china",roam:!1,label:{normal:{show:!1},emphasis:{show:!0}},data:i}]})},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},setDataInMonth:function(e,t){var a=new Date(e).getTime(),i=new Date(t).getTime(),n=2592e6;return!(i-a>n)},getAllCrowdTotal:function(e,t){var a=this;this.$service.getCrowdUseEcharts({beginTime:e,endTime:t}).then((function(e){a.crowdAllData=e}))},setUseSceneCircle:function(e,t){var a=this;this.$service.getCrowdUseSceneEcharts({beginTime:e,endTime:t}).then((function(e){var t=e.data.map((function(t,a){return{value:t.count,name:e.names[a]}}));a.setCircleEcharts("useScene","",e.names,t,"all");var i=[];e.data.forEach((function(t,a){i.push({word:e.names[a],count:t.count})})),a.chartData.rows=i}))},getAllTagTotal:function(e,t){var a=this;this.$service.getTagAllEcharts({beginTime:e,endTime:t}).then((function(e){a.tagAllData=e}))},getAllTagRadar:function(e,t){var a=this;this.$service.getTagUseRadarEcharts({beginTime:e,endTime:t}).then((function(e){var t=[];e.data.forEach((function(e){t.push(e.name)})),a.setRadarEcharts("tagRadar","",t,e.data,e.indicator)}))},getTagUseTotal:function(e,t){var a=this;this.$service.getTagUseEcharts({beginTime:e,endTime:t}).then((function(e){a.tagUseData=e}))},getLaunchTotal:function(e,t){var a=this;this.$service.getLaunchEcharts({beginTime:e,endTime:t}).then((function(e){a.launchData=e}))},getBusinessUseCrowdTotal:function(e,t){var a=this;this.$service.getCrowdBusinessUseEcharts({beginTime:e,endTime:t}).then((function(e){a.businessUseCrowdData=e}))},getBusinessToCrowdTotal:function(e,t){var a=this;this.$service.getCrowdBusinessEcharts({beginTime:e,endTime:t}).then((function(e){var t=e.data.map((function(t,a){return{value:t.count,name:e.names[a]}}));a.setCircleEcharts("businessUseCrowd","",e.names,t,"all")}))},getBusinessUseTendency:function(e,t){var a=this;this.$service.getBusinessUseTendencyEcharts({beginTime:e,endTime:t}).then((function(e){var t=e.series.map((function(e){return e.name})),i=e.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));a.setLinesEchart("businessUseTendency","",e.xaxis,i,t)}))},getActiveTimeDistriction:function(e,t){var a=this;this.$service.getActiveTimeEcharts({beginTime:e,endTime:t}).then((function(e){a.setBarEchart("activeTimeDistrict","",e.xaxis,e.series)}))},getUserDistribution:function(e,t){var a=this;this.$service.getUseDistributionEcharts({beginTime:e,endTime:t,category:this.memberListType}).then((function(e){var t=[],i=[];e.series[0].forEach((function(e){i.push({value:e.count,name:e.name})})),e.series[1].forEach((function(e){t.push({value:e.count,name:e.name})})),a.setCircleDoubleEcharts("userDistribution","",e.legend,t,i)}))},getLastPayProduct:function(e,t){var a=this;this.$service.getLastPaidProductEcharts({beginTime:e,endTime:t,category:this.memberListByPay}).then((function(e){var t=[];e.data.forEach((function(e){t.push({name:e.name,value:e.count})})),a.setCircleEcharts("lastPayProduct","",e.names,t)}))},objectToArray:function(e){var t=[];for(var a in e)t.push({value:a,label:e[a]});return t},getMemberBenefits:function(){var e=this;this.$service.getUserVipRightsList().then((function(t){var a=t;e.memberList=a,e.memberListType=a[0].value,e.memberListByPay=a[0].value}))},getServiceActive:function(e,t){var a=this;this.$service.getActiveDeviceEcharts({beginTime:e,endTime:t}).then((function(e){a.setBarEchart("deviceActive","",e.xaxis,e.series)}))},getBroadcastRate:function(e,t){var a=this;this.$service.getBroadcastRateEcharts({beginTime:e,endTime:t,category:this.dateData}).then((function(e){var t=[];e.data.forEach((function(e){t.push({name:e.name,value:e.count})})),a.setCircleEcharts("activeRate","",e.names,t)}))},getUserWatchPreference:function(e,t){var a=this;this.$service.getUserWatchPreferenceDistributionEcharts({beginTime:e,endTime:t}).then((function(e){var t=[];e.data.forEach((function(e){t.push({name:e.name,value:e.count})})),a.setCircleEcharts("userWatchPreference","",e.names,t)}))},getInitDate:function(){var e=this;this.$service.getinitDateEcharts().then((function(t){e.dateList=t,e.dateData=t[0].value}))},handleOneTouchDrop:function(){this.$router.push({path:"oneTouchDrop"})},handleOpenLaunchList:function(){this.$router.push({path:"launch/launchTabList"})},handleDownload:function(){var e=this;this.downloadUrl="/api/chart/exportExcel?beginTime="+this.time0[0]+"&endTime="+this.time0[1],this.$nextTick((function(){e.$refs.download_Url.click()}))},handleGetHomePageRecommend:function(e,t){var a=this;this.$service.getHomePageRecommend({beginTime:e,endTime:t}).then((function(e){a.homePageRecommendation=e})),this.$service.getHomePageRecommendLine({beginTime:e,endTime:t}).then((function(e){a.setLineEchart("homepageRecommendTrade","",e.xaxis,e.series[0].value)}))}},mounted:function(){var e=this;this.getCrowdSextotal(this.startDate,this.endDate),this.getCrowdAgetotal(this.startDate,this.endDate),this.getCrowdDevicetotal(this.startDate,this.endDate),this.getCrowdProvincetotal(this.startDate,this.endDate),this.getAllCrowdTotal(this.startDate,this.endDate),this.setUseSceneCircle(this.startDate,this.endDate),this.getAllTagTotal(this.startDate,this.endDate),this.getTagUseTotal(this.startDate,this.endDate),this.getAllTagRadar(this.startDate,this.endDate),this.getLaunchTotal(this.startDate,this.endDate),this.getBusinessUseCrowdTotal(this.startDate,this.endDate),this.getBusinessToCrowdTotal(this.startDate,this.endDate),this.getBusinessUseTendency(this.startDate,this.endDate),this.getActiveTimeDistriction(this.startDate,this.endDate),this.getBroadcastRate(this.startDate,this.endDate),this.getUserWatchPreference(this.startDate,this.endDate),this.getServiceActive(this.time0[0],this.time0[1]),this.handleGetHomePageRecommend(this.startDate,this.endDate),window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},created:function(){var e=new Date,t=new Date;this.startDate=this.formatDate(e.setTime(e.getTime()-5184e5)),this.endDate=this.formatDate(t.setTime(t.getTime())),this.time0=[this.startDate,this.endDate],this.getMemberBenefits(),this.getInitDate()}},Rp=Vp,jp=(a("a956"),a("f5b0"),Object(U["a"])(Rp,Pp,Ep,!1,null,"356bae02",null)),Bp=jp.exports,Mp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-statistics"},[a("div",{attrs:{id:"ul111"}},[a("div",{staticClass:"icon-open-close",on:{click:e.changeView}},[e.showNav?a("i",{staticClass:"el-icon-d-arrow-right"}):a("i",{staticClass:"el-icon-d-arrow-left"})]),a("div",{staticClass:"list-wrap",class:{aaa:!e.showNav}},e._l(e.chartList,(function(t){return a("div",{key:t.hookId},[a("a",{attrs:{href:"javascript:void(0)",to:t.hookId,title:t.title},on:{click:function(a){return e.goAnchor("#"+t.hookId)}}},[e._v(e._s(t.title))])])})),0)]),a("KeyIndicatorTrendsTotal",{attrs:{totalOverview:e.totalOverview}}),a("div",{staticClass:"statistics-header"},[a("div",{staticClass:"date-picker"},[e._v("\n        最近："),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.rangeType,callback:function(t){e.rangeType=t},expression:"rangeType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("div",e._l(e.chartList,(function(t){return a("el-row",{key:t.hookId,staticClass:"unit-row",attrs:{gutter:20,id:t.hookId}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v(e._s(t.title))]),a("div",{staticClass:"unit-content"},[a("div",{ref:t.chartRef,refInFor:!0,staticClass:"chart-div",attrs:{id:t.chartRef}})])])])],1)})),1)],1)},zp=[],qp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"overview-table"},[a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("\r\n        总请求量\r\n      ")]),a("div",{staticClass:"text-two"},[e._v("\r\n        "+e._s(e.cc_format_number(e.totalOverview.totalReq))+"\r\n      ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("总命中量")]),a("span",[e._v("\r\n            "+e._s(e.cc_format_number(e.totalOverview.totalHit))+"\r\n          ")])])])]),a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("总策略数\r\n      ")]),a("div",{staticClass:"text-two"},[e._v("\r\n        "+e._s(e.cc_format_number(e.totalOverview.totaStrategys))+"\r\n      ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("活跃策略数")]),a("span",[e._v("\r\n            "+e._s(e.cc_format_number(e.totalOverview.useStrategys))+"\r\n          ")])])])]),a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("总人群数\r\n      ")]),a("div",{staticClass:"text-two"},[e._v("\r\n        "+e._s(e.cc_format_number(e.totalOverview.totalCrowd))+"\r\n      ")]),a("div",{staticClass:"small-box"},[a("div",{staticClass:"small"},[a("span",[e._v("活跃人群数")]),a("span",[e._v(e._s(e.cc_format_number(e.totalOverview.usedCrowd)))])])])]),a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("估算人群数量\r\n      ")]),a("div",{staticClass:"text-two",staticStyle:{height:"70px"}},[e._v("\r\n        "+e._s(e.cc_format_number(e.totalOverview.estimateCrowd))+"\r\n      ")])]),a("div",{staticClass:"ibox"},[a("div",{staticClass:"title-one"},[e._v("AB人群数量\r\n      ")]),a("div",{staticClass:"text-two",staticStyle:{height:"70px"}},[e._v("\r\n        "+e._s(e.cc_format_number(e.totalOverview.abCrowd))+"\r\n      ")])])]),a("div",{staticClass:"chart-box box"},e._l(e.rowObj,(function(t,i){return a("el-row",{key:i},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[[e.show&&t.title?a("div",[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()]],2)})),1)})),1)])},Jp=[];function Gp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Up(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gp(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Hp={components:{},props:{totalOverview:{type:Object,default:function(){}}},data:function(){return{rowObj:[{launchPie:{type:"pie",title:"历史总投放",span:8},tagsTypePie:{type:"pie",title:"各类标签使用占比",span:8},crowdLifePie:{type:"pie",title:"人群寿命",span:8}}],show:!0,allCharts:{},allChartData:{launchPie:{data:[],title:"历史总投放"},tagsTypePie:{data:[],title:"各类标签使用占比"},crowdLifePie:{data:[],title:"人群寿命"}},colorList:["#5470C6","#91CC75","#FAC858","#EE6666","#7ED3F4","#40B27D","#FC8452","#A969C6"]}},watch:{},methods:{changeView:function(){this.showNav=!this.showNav},fetchData:function(){var e=this;this.$service.statisticPieChart().then((function(t){for(var a in t)e.allChartData[a].data=t[a];e.drawChart(),console.log("this.allChartData===",e.allChartData)}))},drawChart:function(){var e=this,t=this.rowObj;t.forEach((function(t){for(var a in t)"bar"===t[a].type||"pie"===t[a].type&&e.showPie(e.allChartData[a],a)}))},showPie:function(e,t){if(console.log("showBar======111>>>",e),e&&e.data){var a=e.data.map((function(e,t){return Up(Up({},e),{},{value:e.count||e.value})}));this.setPie(t,a,e.title)}},setPie:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.getElementById(e);if(n){var r=this,s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:i,left:"center"},legend:{x:"right",y:"center",backgroundColor:"transparent",itemHeight:10,itemWidth:20,orient:"vertical",type:"scroll",pageIconSize:8,pageIconColor:"#2C86FF",pageIconInactiveColor:"rgba(44,132,251,0.40)",pageTextStyle:{color:"#999"},align:"left",textStyle:{color:"#464c54",rich:{name:{fontSize:14,height:30,color:"#011"},num:{fontSize:12,fontWeight:100,color:"#000"}}}},color:r.colorList,series:[{type:"pie",radius:"40%",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:t}]},o=a("313e"),l=o.init(n);l.setOption(s),this.allCharts[e]=l}}},created:function(){this.fetchData()}},Kp=Hp,Qp=(a("fcd5"),Object(U["a"])(Kp,qp,Jp,!1,null,"7fc6bca6",null)),Wp=Qp.exports,Yp=function(){function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type1";Object(ue["a"])(this,e),this.anchors=t.querySelectorAll("a"),this.ScrollContrainer=a,this.strategy=i,this.init()}return Object(he["a"])(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.strategy;this.throttleFn&&this.remove(),this.throttleFn=Zp(this[e].bind(this),100),this.throttleFn(),this.ScrollContrainer.addEventListener("scroll",this.throttleFn,{passive:!0})}},{key:"remove",value:function(){this.ScrollContrainer.removeEventListener("scroll",this.throttleFn,{passive:!0})}},{key:"highLightAnchor",value:function(e){this.anchors.forEach((function(t){t.classList.remove("highLight"),t.getAttribute("to")===e&&t.classList.add("highLight")}))}},{key:"type1",value:function(e){var t,a=this.ScrollContrainer.offsetHeight;this.anchors.forEach((function(e){var i=e.getAttribute("to"),n=document.getElementById(i);if(n){var r=n.getBoundingClientRect(),s=r.top;s<a&&(t=i)}})),t&&this.highLightAnchor(t)}},{key:"type2",value:function(e){var t,a=0,i=this.ScrollContrainer.offsetHeight;this.anchors.forEach((function(e){var n=e.getAttribute("to"),r=document.getElementById(n);if(r){var s=0,o=r.getBoundingClientRect(),l=o.top,c=o.height,d=o.bottom;l>=0&&d<=i&&(s=c/i),l>=0&&l<i&&d>i&&(s=(i-l)/i),l<0&&d>i&&(s=1),l<0&&d>0&&d<i&&(s=d/i),s>=a&&(a=s,t=n)}})),t&&this.highLightAnchor(t)}},{key:"type3",value:function(e){var t,a=0,i=this.ScrollContrainer.offsetHeight;this.anchors.forEach((function(e){var n=e.getAttribute("to"),r=document.getElementById(n);if(r){var s=0,o=r.getBoundingClientRect(),l=o.top,c=o.height,d=o.bottom;l>=0&&d<=i&&(s=1),l>=0&&l<i&&d>i&&(s=(i-l)/c),l<0&&d>i&&(s=i/c),l<0&&d>0&&d<i&&(s=d/c),s>=a&&(a=s,t=n)}})),t&&this.highLightAnchor(t)}},{key:"type4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Array.prototype.reduce.call(this.anchors,(function(e,a){var i=a.getAttribute("to"),n=document.getElementById(i);if(n){var r=n.getBoundingClientRect(),s=r.top;return s<=t&&s>e.top?{id:i,top:s}:e}return e}),{id:null,top:-1/0}).id;a&&this.highLightAnchor(a)}}]),e}();function Zp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=null;return function(){for(var i=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];a||(a=setTimeout((function(){a=null,e.call.apply(e,[i].concat(r))}),t))}}var Xp=Yp,em={name:"keyIndicatorTrendsAA",components:{KeyIndicatorTrendsTotal:Wp},data:function(){return{chartList:[{title:"业务处理量",chartRef:"chart1",hookId:"a1"},{title:"人群增长趋势",chartRef:"chart2",hookId:"a2"},{title:"策略使用",chartRef:"chart3",hookId:"a3"},{title:"投放统计",chartRef:"chart14",hookId:"a4"},{title:"标签使用",chartRef:"chart4",hookId:"a5"},{title:"人群寿命",chartRef:"chart5",hookId:"a6"},{title:"行为人群寿命",chartRef:"chart6",hookId:"a7"},{title:"策略寿命",chartRef:"chart7",hookId:"a8"},{title:"大数据标签热度",chartRef:"chart8",hookId:"a9"},{title:"账号标签热度",chartRef:"chart9",hookId:"a10"},{title:"临时标签热度",chartRef:"chart10",hookId:"a11"},{title:"使用占比",chartRef:"chart11",hookId:"a12"},{title:"存储监控",chartRef:"chart12",hookId:"a13"},{title:"性能监控",chartRef:"chart13",hookId:"a14"}],showNav:!0,allCharts:{},rangeType:"OM",options:[{value:"OM",label:"1个月"},{value:"OQ",label:"1个季度"},{value:"OY",label:"1年"},{value:"TN",label:"上线至今"}],totalOverview:{totalHit:0,totalReq:0,totaStrategys:0,useStrategys:0,totalCrowd:0,usedCrowd:0,estimateCrowd:0,abCrowd:0}}},watch:{rangeType:{handler:function(e){this.initChart()},immediate:!0}},methods:{goAnchor:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})},high:function(){new Xp(document.querySelector("#ul111"),document.querySelector(".el-main"),"type3")},changeView:function(){this.showNav=!this.showNav},initChart:function(){this.getBusinessUseTendency(this.rangeType),this.getStatisticCrowdGrowth(this.rangeType),this.getStatisticStrategyUse(this.rangeType),this.getStatisticCrowdLaunch(this.rangeType),this.getStatisticTagsGrowth(this.rangeType),this.getCountGetCrowdRatio(this.rangeType),this.getCountGetStore(this.rangeType),this.getStatisticCrowdCalcDuration(this.rangeType)},getBusinessUseTendency:function(e){var t=this;this.$service.getStatisticStrategyReqAndHit({rangeType:e}).then((function(a){var i=a.series||[],n=i.map((function(e){return e.name})),r=i.map((function(e){return{name:e.name,data:e.value,type:"line"}}));if("OM"===e&&(t.totalOverview.totalHit=0,t.totalOverview.totalReq=0,i.length>0)){var s=i.find((function(e){return-1!==e.name.indexOf("命中")}))||{};t.totalOverview.totalHit=s.value[s.value.length-1];var o=i.find((function(e){return-1!==e.name.indexOf("请求")}))||{};t.totalOverview.totalReq=o.value[o.value.length-1]}t.$nextTick((function(){t.setLinesEchart("chart1","",a.xaxis,r,n,a.xunit,a.yunit)}))}))},getStatisticCrowdGrowth:function(e){var t=this;this.$service.getStatisticCrowdGrowth({rangeType:e}).then((function(a){var i=a.series||[],n=i.map((function(e){return e.name})),r=i.map((function(e){return{name:e.name,data:e.value,type:"line"}}));if("OM"===e&&(t.totalOverview.totalCrowd=0,t.totalOverview.usedCrowd=0,t.totalOverview.estimateCrowd=0,t.totalOverview.abCrowd=0,i.length>0)){var s=i.find((function(e){return-1!==e.name.indexOf("人群总数")}))||{};t.totalOverview.totalCrowd=s.value[s.value.length-1];var o=i.find((function(e){return-1!==e.name.indexOf("使用中")}))||{};t.totalOverview.usedCrowd=o.value[o.value.length-1];var l=i.find((function(e){return-1!==e.name.indexOf("估算")}))||{};t.totalOverview.estimateCrowd=l.value[l.value.length-1];var c=i.find((function(e){return-1!==e.name.indexOf("ab")}))||{};t.totalOverview.abCrowd=c.value[c.value.length-1]}t.$nextTick((function(){t.setLinesEchart("chart2","",a.xaxis,r,n,a.xunit,a.yunit)}))}))},getStatisticStrategyUse:function(e){var t=this;this.$service.getStatisticStrategyUse({rangeType:e}).then((function(a){var i=a.series||[],n=i.map((function(e){return e.name})),r=i.map((function(e){return{name:e.name,data:e.value,type:"line"}}));if("OM"===e&&(t.totalOverview.totaStrategys=0,t.totalOverview.useStrategys=0,i.length>0)){var s=i.find((function(e){return-1!==e.name.indexOf("总")}))||{};t.totalOverview.totaStrategys=s.value[s.value.length-1];var o=i.find((function(e){return-1!==e.name.indexOf("使用")}))||{};t.totalOverview.useStrategys=o.value[o.value.length-1]}t.$nextTick((function(){t.setLinesEchart("chart3","",a.xaxis,r,n,a.xunit,a.yunit)}))}))},getStatisticTagsGrowth:function(e){var t=this;this.$service.getStatisticTagsGrowth({rangeType:e}).then((function(e){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(e){return{name:e.name,data:e.value,type:"line"}}));t.$nextTick((function(){t.setLinesEchart("chart4","",e.xaxis,n,i,e.xunit,e.yunit)}))}))},getStatisticCrowdLife:function(e){var t=this;this.$service.getStatisticCrowdLife({rangeType:e}).then((function(e){t.$nextTick((function(){t.setBarEchart("chart5","",e.xaxis,e.series,e.xunit,e.yunit)}))}))},getStatisticBehaviorCrowdLife:function(e){var t=this;this.$service.getStatisticBehaviorCrowdLife({rangeType:e}).then((function(e){t.$nextTick((function(){t.setBarEchart("chart6","",e.xaxis,e.series,e.xunit,e.yunit)}))}))},getStatisticStrategyLife:function(e){var t=this;this.$service.getStatisticStrategyLife({rangeType:e}).then((function(e){t.$nextTick((function(){t.setBarEchart("chart7","",e.xaxis,e.series,e.xunit,e.yunit)}))}))},getCountGetTag:function(e,t){var a=this;this.$service.getCountGetTag({type:e}).then((function(e){a.$nextTick((function(){a.setBarEchart(t,"",e.xaxis,e.series,e.xunit,e.yunit)}))}))},getCountGetCrowdRatio:function(e){var t=this;this.$service.getCountGetCrowdRatio({rangeType:e}).then((function(e){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(e){var t=e.value.map((function(e){return Math.round(100*e)}));return{name:e.name,data:t,type:"line"}}));t.$nextTick((function(){t.setLinesEchart("chart11","",e.xaxis,n,i,e.xunit,e.yunit)}))}))},getCountGetStore:function(e){var t=this;this.$service.getCountGetStore({rangeType:e}).then((function(e){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(e){return{name:e.name,data:e.value,type:"line"}}));t.$nextTick((function(){t.setLinesEchart("chart12","",e.xaxis,n,i,e.xunit,e.yunit)}))}))},getStatisticCrowdCalcDuration:function(e){var t=this;this.$service.getStatisticCrowdCalcDuration({rangeType:e}).then((function(e){var a=e.series||[],i=a.map((function(e){return e.name}))||[],n=a.map((function(e){return{name:e.name,data:e.value,type:"line"}}))||[];t.$nextTick((function(){t.setLinesEchart("chart13","",e.xaxis,n,i,e.xunit,e.yunit)}))}))},getStatisticCrowdLaunch:function(e){var t=this;this.$service.getStatisticCrowdLaunch({rangeType:e}).then((function(e){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(e){return{name:e.name,data:e.value,type:"line"}}));t.$nextTick((function(){t.setLinesEchart("chart14","",e.xaxis,n,i,e.xunit,e.yunit)}))}))},setBarEchart:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=document.getElementById(e);if(o){var l={title:{text:t},tooltip:{trigger:"axis"},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:-45,formatter:function(e){return e+r}}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e8?e=e/1e8+"亿"+s:e>=1e7?e=e/1e7+"千万"+s:e>=1e4&&e<1e7?e=e/1e4+"万"+s:e+=s,e}}},series:[{data:n,type:"bar",barWidth:10}]},c=a("313e"),d=c.init(o);d.setOption(l),this.allCharts[e]=d}},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=document.getElementById(e);if(l){var c={title:{text:t},tooltip:{trigger:"axis"},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:-45,formatter:function(e){return e+s}}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:30,formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},series:n},d=a("313e"),u=d.init(l);u.setOption(c),this.allCharts[e]=u}}},mounted:function(){var e=this;this.high(),this.getStatisticCrowdLife(),this.getStatisticBehaviorCrowdLife(),this.getStatisticStrategyLife(),this.getCountGetTag(0,"chart8"),this.getCountGetTag(1,"chart9"),this.getCountGetTag(2,"chart10"),window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},created:function(){}},tm=em,am=(a("bf1b"),Object(U["a"])(tm,Mp,zp,!1,null,"7474a4ca",null)),im=am.exports,nm=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},rm=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("a",{attrs:{href:"http://192.168.2.226/#/explore",target:"_blank"}},[e._v("点击跳转到数据分析报告")])])}],sm={name:"DeliveryDataAnalyseAA",data:function(){return{}}},om=sm,lm=(a("81cd"),Object(U["a"])(om,nm,rm,!1,null,"053a0e1b",null)),cm=lm.exports,dm=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},um=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("a",{attrs:{href:"http://192.168.2.165:8080/index",target:"_blank"}},[e._v("点击跳转到监控投放页面")])])}],hm={name:"DeliveryMonitorAA",data:function(){return{}}},pm=hm,mm=(a("b510"),Object(U["a"])(pm,dm,um,!1,null,"d296fa52",null)),fm=mm.exports,vm=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},gm=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("a",{attrs:{href:"http://192.168.2.226/#/explore",target:"_blank"}},[e._v("点击跳转到投后人群画像页面")])])}],bm={name:"DeliveryAfterPeopleDrawAA",data:function(){return{}}},ym=bm,Cm=(a("b784"),Object(U["a"])(ym,vm,gm,!1,null,"00a43bb4",null)),wm=Cm.exports,_m=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Sm=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("a",{attrs:{href:"http://bi.skysrt.com",target:"_blank"}},[e._v("点击跳转到整体指标统计页面")])])}],km={name:"OverallDeliveryStatisticsAA",data:function(){return{}}},Im=km,xm=(a("4bfa"),Object(U["a"])(Im,_m,Sm,!1,null,"7f7f6965",null)),Tm=xm.exports,Dm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("iframe",{staticClass:"iframe",attrs:{src:e.pageSrc,referrerpolicy:"no-referrer"}})])},$m=[],Lm={name:"CurrentPopulationClassificationAA",data:function(){return{pageSrc:"http://192.168.2.165:8080/xmind/service/subgroup20190606html"}}},Nm=Lm,Om=(a("9182"),Object(U["a"])(Nm,Dm,$m,!1,null,"7412fc02",null)),Pm=Om.exports,Em=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("iframe",{staticClass:"iframe",attrs:{src:e.pageSrc,referrerpolicy:"no-referrer"}})])},Am=[],Fm={name:"OTTBigscreenIndex",data:function(){return{pageSrc:"http://192.168.2.165:8080/xmind/service/OTTzhishu20190606html"}}},Vm=Fm,Rm=(a("d2f2"),Object(U["a"])(Vm,Em,Am,!1,null,"eea1c7dc",null)),jm=Rm.exports,Bm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("iframe",{staticClass:"iframe",attrs:{src:e.pageSrc,referrerpolicy:"no-referrer"}})])},Mm=[],zm={name:"tabStructureAA",data:function(){return{pageSrc:"http://192.168.2.165:8080/xmind/service/profile20190606html"}}},qm=zm,Jm=(a("f233"),Object(U["a"])(qm,Bm,Mm,!1,null,"4ef824f5",null)),Gm=Jm.exports,Um=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("iframe",{staticClass:"iframe",attrs:{src:e.pageSrc,referrerpolicy:"no-referrer"}})])},Hm=[],Km={name:"indexBIAA",data:function(){return{pageSrc:"http://192.168.2.165:8080/xmind/service/BI20190606html"}}},Qm=Km,Wm=(a("c5aa"),Object(U["a"])(Qm,Um,Hm,!1,null,"2a5dce6c",null)),Ym=Wm.exports,Zm=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Xm=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("a",{attrs:{href:"http://192.168.2.226/#/explore",target:"_blank"}},[e._v("点击跳转到投前人群画像页面")])])}],ef={name:"crowdPortrayalAA",data:function(){return{}}},tf=ef,af=(a("9e7f"),Object(U["a"])(tf,Zm,Xm,!1,null,"47997a19",null)),nf=af.exports,rf=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},sf=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("a",{attrs:{href:"https://www.getui.com/cn/",target:"_blank"}},[e._v("点击跳转到第三方页面")])])}],of={name:"thirdPartyDMPAA",data:function(){return{}}},lf=of,cf=(a("e073e"),Object(U["a"])(lf,rf,sf,!1,null,"10426da1",null)),df=cf.exports,uf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ifame-outer"},[a("iframe",{staticClass:"iframe",attrs:{src:e.pageSrc,referrerpolicy:"no-referrer"}})])},hf=[],pf={name:"OverallCrowdStatisticsAA",data:function(){return{pageSrc:"http://datav.aliyuncs.com/share/a8611c7d492ad70e37afe8b72a92de62"}}},mf=pf,ff=(a("22b8"),Object(U["a"])(mf,uf,hf,!1,null,"578a3f6a",null)),vf=ff.exports,gf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showList?a("thirdInterfaceList",{on:{"open-add-page":e.openAddPage}}):a("thirdInterfaceAdd",{attrs:{editId:e.editId,mode:e.mode},on:{"open-list-page":e.openListPage}})],1)},bf=[],yf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"third-interface-list"},[a("c-content-wrapper",{attrs:{filter:e.filter,pagination:e.pagination},on:{"filter-change":e.handleFilterChange,"filter-reset":e.handleFilterReset}},[a("div",{staticClass:"add-button"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data,selected:e.table.selected,"selection-type":e.table.selectionType},on:{"row-selection-add":e.handleRowSelectionAdd,"row-selection-remove":e.handleRowSelectionRemove,"all-row-selection-change":e.handleAllRowSelectionChange}})],1)],1)},Cf=[],wf={name:"thirdInterfaceList",data:function(){var e=this;return{filter:{},pagination:{},selected:[],table:{props:{},header:[{label:"id",prop:"id",width:"50"},{label:"接口名称",prop:"name",render:function(t,a){return t("el-button",{props:{type:"text"},on:{click:function(){e.handleRead(a)}}},a.row.name)}},{label:"代码",prop:"code"},{label:"接口地址",prop:"reqUri"},{label:"请求方法",prop:"reqMethod"},{label:"接口参数",prop:"reqParam"},{label:"接口固定参数",prop:"reqDefaultParamValue"},{label:"操作",fixed:"right",width:"100",render:this.$c_utils.component.createOperationRender(this,{handleEdit:"编辑",handleDelete:"删除"})}],data:[],selected:[],selectionType:"multiple"}}},methods:{handleRead:function(e){var t=e.row;this.$emit("open-add-page",t.id,"read")},handleAdd:function(){this.$emit("open-add-page")},handleEdit:function(e){var t=e.row;this.$emit("open-add-page",t.id,"edit")},handleDelete:function(e){var t=this,a=e.row;this.$confirm("确定删除此活动吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.thirdInterfaceDel({id:a.id},"删除成功").then((function(){t.handleAllRowSelectionRemove(),t.fetchData()}))}))},handleFilterChange:function(e,t){t&&(this.filter=t),"query"===e&&this.pagination&&(this.pagination.currentPage=1),this.fetchData()},handleFilterReset:function(){this.filter={id:void 0},this.fetchData()},handleRowSelectionAdd:function(e){this.selected.push(e.id),this.updateTableSelected()},handleRowSelectionRemove:function(e){this.selected=this.selected.filter((function(t){return t!==e.id})),this.updateTableSelected()},handleAllRowSelectionChange:function(e){e?this.table.data.forEach(this.handleRowSelectionAdd):(this.selected=[],this.table.selected=[])},handleAllRowSelectionRemove:function(){this.selected=[],this.table.selected=[]},updateTableSelected:function(){var e=this.table,t=this.selected.map((function(e){return e}));e.selected=e.data.reduce((function(e,a,i){return t.indexOf(a.id)>-1&&e.push(i),e}),[])},parseFilter:function(){var e=this.filter,t=this.pagination;return t&&(e.pageNum=t.currentPage,e.pageSize=t.pageSize),e},fetchData:function(){var e=this,t=this.parseFilter();this.$service.getthirdInterfaceList(t).then((function(t){e.table.data=t.pageInfo.list,e.pagination.total=t.pageInfo.total}))}},created:function(){this.fetchData()}},_f=wf,Sf=(a("7d12"),Object(U["a"])(_f,yf,Cf,!1,null,"7d5ad093",null)),kf=Sf.exports,If=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPeoplePosition"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"代码",prop:"code"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"接口地址",prop:"reqUri"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reqUri,callback:function(t){e.$set(e.form,"reqUri",t)},expression:"form.reqUri"}})],1),a("el-form-item",{attrs:{label:"请求方法",prop:"reqMethod"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reqMethod,callback:function(t){e.$set(e.form,"reqMethod",t)},expression:"form.reqMethod"}})],1),a("el-form-item",{attrs:{label:"接口参数",prop:"reqParam"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reqParam,callback:function(t){e.$set(e.form,"reqParam",t)},expression:"form.reqParam"}})],1),a("el-form-item",{attrs:{label:"接口固定参数",prop:"reqDefaultParamValue"}},[a("el-input",{attrs:{type:"textarea",disabled:e.disableValue},model:{value:e.form.reqDefaultParamValue,callback:function(t){e.$set(e.form,"reqDefaultParamValue",t)},expression:"form.reqDefaultParamValue"}})],1),a("el-form-item",{attrs:{label:"请求之前处理",prop:"reqBefore"}},[a("el-input",{attrs:{type:"textarea",disabled:e.disableValue},model:{value:e.form.reqBefore,callback:function(t){e.$set(e.form,"reqBefore",t)},expression:"form.reqBefore"}})],1),a("el-form-item",{attrs:{label:"请求之后处理",prop:"resExplain"}},[a("el-input",{attrs:{type:"textarea",disabled:e.disableValue},model:{value:e.form.resExplain,callback:function(t){e.$set(e.form,"resExplain",t)},expression:"form.resExplain"}})],1),a("el-form-item",{attrs:{label:"是否保持长连接",prop:"reqKeepalive"}},[a("el-radio",{attrs:{label:"true",disabled:e.disableValue},model:{value:e.form.reqKeepalive,callback:function(t){e.$set(e.form,"reqKeepalive",t)},expression:"form.reqKeepalive"}},[e._v("是")]),a("el-radio",{attrs:{label:"false",disabled:e.disableValue},model:{value:e.form.reqKeepalive,callback:function(t){e.$set(e.form,"reqKeepalive",t)},expression:"form.reqKeepalive"}},[e._v("否")])],1),a("el-form-item",{attrs:{label:"超时",prop:"reqKeepaliveTimeout"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reqKeepaliveTimeout,callback:function(t){e.$set(e.form,"reqKeepaliveTimeout",t)},expression:"form.reqKeepaliveTimeout"}})],1),a("el-form-item",{attrs:{label:"连接池",prop:"reqKeepalivePool"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reqKeepalivePool,callback:function(t){e.$set(e.form,"reqKeepalivePool",t)},expression:"form.reqKeepalivePool"}})],1),a("el-form-item",{attrs:{label:"请求头",prop:"reqHeaders"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reqHeaders,callback:function(t){e.$set(e.form,"reqHeaders",t)},expression:"form.reqHeaders"}})],1),a("el-form-item",["read"!=this.mode?a("el-button",{on:{click:e.save}},[e._v("保存")]):e._e(),a("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},xf=[],Tf=(a("4b60"),{name:"thirdInterfaceAdd",props:{editId:"",mode:""},data:function(){return{form:{name:"",code:"",reqUri:"",reqMethod:"",reqParam:"",reqDefaultParamValue:"",reqBefore:"",resExplain:"",reqKeepalive:"",reqKeepaliveTimeout:"",reqKeepalivePool:"",reqHeaders:""},crowdIds:[],title:"",disableValue:!1,rules:{name:[{required:!0,message:"请输入接口名称",trigger:"blur"},{message:"长度小于100个字符",trigger:"blur"}],code:[{required:!0,message:"请输入接口代码",trigger:"blur"},{pattern:/^[a-zA-Z][a-zA-Z_0-9_]{0,99}$/,message:"100位以内以字母开头的数字和字母下划线组合",trigger:"blur"}],reqUri:[{required:!0,message:"请输入接口地址",trigger:"blur"},{min:1,max:200,message:"长度小于200个字符",trigger:"blur"}],reqMethod:[{required:!0,message:"请输入请求方法",trigger:"blur"},{min:1,max:20,message:"长度小于20个字符",trigger:"blur"}],reqParam:[{required:!0,message:"请输入接口参数",trigger:"blur"},{min:1,max:100,message:"长度小于100个字符",trigger:"blur"}],reqDefaultParamValue:[{required:!1,message:"请输入接口固定参数",trigger:"blur"},{min:0,max:1e3,message:"长度小于1000个字符",trigger:"blur"}],reqBefore:[{required:!1,message:"请输入请求之前处理",trigger:"blur"}],resExplain:[{required:!0,message:"请输入请求之后处理",trigger:"blur"}],reqKeepaliveTimeout:[{pattern:/^\d+$/,message:"必须输入不小于0的整数",trigger:"blur"}],reqKeepalivePool:[{pattern:/^\d+$/,message:"必须输入不小于0的整数",trigger:"blur"}],reqHeaders:[{required:!1,type:"string",message:"请输入字符串",trigger:"blur"}]}}},methods:{getDetail:function(){var e=this;this.$service.getThirdInterfaceDetail({id:this.editId}).then((function(t){e.form=t}))},goBack:function(){this.$emit("open-list-page")},save:function(){var e=this;this.$refs.form.validate((function(t){if(t)if(void 0===e.editId)e.$service.getthirdInterfaceAdd(e.form,"保存成功").then((function(){e.$emit("open-list-page")}));else{var a={id:e.editId,code:e.form.code,name:e.form.name,reqUri:e.form.reqUri,reqMethod:e.form.reqMethod,reqParam:e.form.reqParam,reqDefaultParamValue:e.form.reqDefaultParamValue,reqBefore:e.form.reqBefore,resExplain:e.form.resExplain,reqKeepalive:e.form.reqKeepalive,reqKeepaliveTimeout:e.form.reqKeepaliveTimeout,reqKeepalivePool:e.form.reqKeepalivePool,reqHeaders:e.form.reqHeaders};e.$service.getthirdInterfaceEdit(a,"修改成功").then((function(){e.$emit("open-list-page")}))}}))}},created:function(){void 0===this.editId?(this.title="新增",this.form.protocol="http"):"edit"===this.mode?(this.title="编辑",this.getDetail()):(this.title="查看详情",this.getDetail(),this.disableValue=!0)}}),Df=Tf,$f=(a("6617"),Object(U["a"])(Df,If,xf,!1,null,"3b0d31a8",null)),Lf=$f.exports,Nf={name:"thirdInterfaceAA",components:{thirdInterfaceAdd:Lf,thirdInterfaceList:kf},data:function(){return{showList:!0,editId:"",mode:""}},methods:{openAddPage:function(e,t){this.showList=!1,this.editId=e,this.mode=t},openListPage:function(){this.showList=!0}},created:function(){}},Of=Nf,Pf=Object(U["a"])(Of,gf,bf,!1,null,"747ae31d",null),Ef=Pf.exports,Af=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clear-cache"},[a("div",[e._v("清除指定MAC")]),a("div",{staticClass:"clear-form"},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"设备信息："}},[a("el-input",{staticClass:"clear-input",attrs:{placeholder:"请输入设备MAC",clearable:""},model:{value:e.deviceMsg,callback:function(t){e.deviceMsg=t},expression:"deviceMsg"}}),a("el-button",{staticClass:"clearBtn",on:{click:e.clearCache}},[e._v("清除缓存")])],1)],1)],1)])},Ff=[],Vf={name:"clearCacheAA",data:function(){return{deviceMsg:""}},methods:{clearCache:function(){this.$service.setClearCache({keyword:this.deviceMsg},"清除缓存成功").then((function(){})).catch((function(){}))},handleAllCacheClean:function(){this.$service.setClearAllCache({},"操作成功").then((function(){})).catch((function(){}))}}},Rf=Vf,jf=(a("4cdf"),Object(U["a"])(Rf,Af,Ff,!1,null,"3d235f74",null)),Bf=jf.exports,Mf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showList?a("ip-manage-list",{on:{"open-add-page":e.openAddPage}}):a("ip-manage-add",{attrs:{editId:e.editId,mode:e.mode},on:{"open-list-page":e.openListPage}})],1)},zf=[],qf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ip-manage-list"},[a("c-content-wrapper",{attrs:{filter:e.filter,filterSchema:e.filterSchema,pagination:e.pagination},on:{"filter-change":e.handleFilterChange,"filter-reset":e.handleFilterReset}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data,selected:e.table.selected,"selection-type":e.table.selectionType},on:{"row-selection-add":e.handleRowSelectionAdd,"row-selection-remove":e.handleRowSelectionRemove,"all-row-selection-change":e.handleAllRowSelectionChange}})],1)],1)},Jf=[],Gf={name:"list",data:function(){var e=this;return{filter:{},filterSchema:ke.a.map({host:ke.a.o.string.other("form",{label:" ",placeholder:"请输入ip地址",cols:{item:14,wrapper:18}})}).other("form",{layout:"inline",footer:{cols:{label:0,wrapper:24},showSubmit:!0,submitText:"查询",showReset:!0,resetText:"重置"}}),pagination:{},selected:[],table:{props:{},header:[{label:"id",prop:"id",width:"50"},{label:"业务分组",prop:"group"},{label:"用户名",prop:"sshUsername",render:function(t,a){return t("el-button",{props:{type:"text"},on:{click:function(){e.handleRead(a)}}},a.row.sshUsername)}},{label:"密码",prop:"sshPassword"},{label:"接口项目地址",prop:"projectDir"},{label:"刷新地址",prop:"reloadApi",width:"300"},{label:"lua脚本地址",prop:"luaPath"},{label:"服务端口",prop:"sshPort"},{label:"ip地址",prop:"host"},{label:"备注",prop:"remark"},{label:"启用/禁用",prop:"status",render:function(e,t){var a=t.row;return 1===a.status?"启用":"禁用"}},{label:"创建时间",prop:"createTime"},{label:"更新时间",prop:"updateTime"},{label:"操作",fixed:"right",width:"100",render:this.$c_utils.component.createOperationRender(this,{handleEdit:"编辑",handleDelete:"删除"})}],data:[],selected:[],selectionType:"multiple"}}},methods:{handleRead:function(e){var t=e.row;this.$emit("open-add-page",t.id,"read")},handleAdd:function(){this.$emit("open-add-page")},handleEdit:function(e){var t=e.row;this.$emit("open-add-page",t.id,"edit")},handleDelete:function(e){var t=this,a=e.row;this.$confirm("确定删除此条记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delIpManage(a.id,"删除成功").then((function(){t.handleAllRowSelectionRemove(),t.fetchData()}))}))},handleFilterChange:function(e,t){t&&(this.filter=t),"query"===e&&this.pagination&&(this.pagination.currentPage=1),this.fetchData()},handleFilterReset:function(){this.filter={id:void 0},this.fetchData()},handleRowSelectionAdd:function(e){this.selected.push(e.id),this.updateTableSelected()},handleRowSelectionRemove:function(e){this.selected=this.selected.filter((function(t){return t!==e.id})),this.updateTableSelected()},handleAllRowSelectionChange:function(e){e?this.table.data.forEach(this.handleRowSelectionAdd):(this.selected=[],this.table.selected=[])},handleAllRowSelectionRemove:function(){this.selected=[],this.table.selected=[]},updateTableSelected:function(){var e=this.table,t=this.selected.map((function(e){return e}));e.selected=e.data.reduce((function(e,a,i){return t.indexOf(a.id)>-1&&e.push(i),e}),[])},parseFilter:function(){var e=this.filter,t=this.pagination;return t&&(e.pageNum=t.currentPage,e.pageSize=t.pageSize),e},fetchData:function(){var e=this,t=this.parseFilter();this.$service.getIpManageList(t).then((function(t){e.table.data=t.list,e.pagination.total=t.total}))}},created:function(){this.fetchData()}},Uf=Gf,Hf=(a("4574"),Object(U["a"])(Uf,qf,Jf,!1,null,"2f31b92d",null)),Kf=Hf.exports,Qf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ipManageAdd"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"业务分组",prop:"groups",required:!0}},[a("el-select",{attrs:{disabled:e.disableValue,multiple:""},model:{value:e.form.groups,callback:function(t){e.$set(e.form,"groups",t)},expression:"form.groups"}},e._l(e.groupList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.biName,value:e.biId}})})),1)],1),a("el-form-item",{attrs:{label:"用户名",prop:"sshUsername",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.sshUsername,callback:function(t){e.$set(e.form,"sshUsername","string"===typeof t?t.trim():t)},expression:"form.sshUsername"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"sshPassword",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.sshPassword,callback:function(t){e.$set(e.form,"sshPassword","string"===typeof t?t.trim():t)},expression:"form.sshPassword"}})],1),a("el-form-item",{attrs:{label:"接口项目地址",prop:"projectDir",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.projectDir,callback:function(t){e.$set(e.form,"projectDir","string"===typeof t?t.trim():t)},expression:"form.projectDir"}})],1),a("el-form-item",{attrs:{label:"刷新地址",prop:"reloadApi",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.reloadApi,callback:function(t){e.$set(e.form,"reloadApi","string"===typeof t?t.trim():t)},expression:"form.reloadApi"}})],1),a("el-form-item",{attrs:{label:"lua脚本地址",prop:"luaPath",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.luaPath,callback:function(t){e.$set(e.form,"luaPath","string"===typeof t?t.trim():t)},expression:"form.luaPath"}})],1),a("el-form-item",{attrs:{label:"ip地址",prop:"host",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.host,callback:function(t){e.$set(e.form,"host","string"===typeof t?t.trim():t)},expression:"form.host"}})],1),a("el-form-item",{attrs:{label:"端口号",prop:"sshPort",required:!0}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.sshPort,callback:function(t){e.$set(e.form,"sshPort","string"===typeof t?t.trim():t)},expression:"form.sshPort"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{disabled:e.disableValue},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"启动/禁用",required:!0},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio-group",{attrs:{disabled:e.disableValue},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:1}},[e._v("启用")]),a("el-radio",{attrs:{label:2}},[e._v("禁用")])],1)],1),a("el-form-item",["read"!=this.mode?a("el-button",{on:{click:e.save}},[e._v("保存")]):e._e(),a("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},Wf=[],Yf={name:"peoplePositionAdd",props:{editId:"",mode:""},data:function(){var e=function(e,t,a){t?t.trim()?a():a(new Error("该字段不能全部为空格")):a(new Error("该字段不能为空"))};return{form:{groups:[],sshUsername:"",sshPassword:"",projectDir:"",reloadApi:"",luaPath:"",host:"",sshPort:"",remark:"",status:1},groupList:[],title:"",disableValue:!1,rules:{group:[{required:!0,message:"请选择业务分组",trigger:"blur"}],sshUsername:[{validator:e,trigger:"blur"}],sshPassword:[{validator:e,trigger:"blur"}],projectDir:[{validator:e,trigger:"blur"}],reloadApi:[{validator:e,trigger:"blur"}],luaPath:[{validator:e,trigger:"blur"}],host:[{validator:e,trigger:"blur"}],sshPort:[{validator:e,trigger:"blur"}]}}},methods:{getGroupList:function(){var e=this;this.$service.getBiList().then((function(t){e.groupList=t,e.editId&&e.getDetail()}))},getDetail:function(){var e=this;this.$service.getIpManageDetail(this.editId).then((function(t){e.form=t}))},_arrayingOption:function(e,t,a){return e.reduce((function(e,i){return e.concat({label:i[t],value:i[a]})}),[])},goBack:function(){this.$emit("open-list-page")},save:function(){var e=this;this.$refs.form.validate((function(t){t&&(void 0===e.editId?e.$service.addIpManage(e.form,"保存成功").then((function(){e.$emit("open-list-page")})):e.$service.updateIpManage({data:e.form,id:e.editId},"修改成功").then((function(){e.$emit("open-list-page")})))}))}},created:function(){this.getGroupList(),void 0===this.editId?this.title="新增IP管理":"edit"===this.mode?this.title="编辑IP管理":(this.title="查看IP管理详情",this.disableValue=!0)}},Zf=Yf,Xf=(a("644c"),Object(U["a"])(Zf,Qf,Wf,!1,null,"22dc4bd0",null)),ev=Xf.exports,tv={name:"ipManageAA",components:{ipManageList:Kf,ipManageAdd:ev},data:function(){return{showList:!0,editId:void 0,mode:""}},methods:{openAddPage:function(e,t){this.showList=!1,this.editId=e,this.mode=t},openListPage:function(){this.showList=!0}}},av=tv,iv=Object(U["a"])(av,Mf,zf,!1,null,"a6e46a32",null),nv=iv.exports,rv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-setting"},[a("div",{staticClass:"launch-setting-list"},[a("div",{staticClass:"button-group"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-table",{attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"业务分类",prop:"biName"}}),a("el-table-column",{attrs:{label:"业务id",prop:"biId"}}),a("el-table-column",{attrs:{label:"人群分割投放",prop:"position"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.position.length>1?a("div",e._l(t.row.position.split(","),(function(t){return a("div",{key:t},[1==t?a("el-checkbox",{attrs:{checked:"",disabled:""}}):e._e()],1)})),0):a("div",[a("el-checkbox",{attrs:{checked:1==t.row.position}})],1)]}}])}),a("el-table-column",{attrs:{label:"人群圈定",prop:"position"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.position.length>1?a("div",e._l(t.row.position.split(","),(function(t){return a("div",{key:t},[2==t?a("el-checkbox",{attrs:{checked:"",disabled:""}}):e._e()],1)})),0):a("div",[a("el-checkbox",{attrs:{checked:2==t.row.position}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.fetchData,"current-change":e.fetchData}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.showAddDialog},on:{"update:visible":function(t){e.showAddDialog=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"业务名称",prop:"biName"}},[a("el-input",{staticClass:"el-input-rewrite",model:{value:e.ruleForm.biName,callback:function(t){e.$set(e.ruleForm,"biName",t)},expression:"ruleForm.biName"}})],1),e.currentId?a("el-form-item",{attrs:{label:"业务id",prop:"biId"}},[a("el-input",{staticClass:"el-input-rewrite",attrs:{disabled:""},model:{value:e.ruleForm.biId,callback:function(t){e.$set(e.ruleForm,"biId",t)},expression:"ruleForm.biId"}})],1):e._e(),a("el-form-item",{attrs:{label:"业务投放方式",prop:"positions"}},[a("el-checkbox-group",{model:{value:e.ruleForm.positions,callback:function(t){e.$set(e.ruleForm,"positions",t)},expression:"ruleForm.positions"}},[a("el-checkbox",{key:1,attrs:{label:"1"}},[e._v("人群分割投放")]),a("el-checkbox",{key:2,attrs:{label:"2"}},[e._v("人群圈定")])],1)],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.goBack()}}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1)],1)},sv=[];function ov(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function lv(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ov(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ov(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var cv={name:"launchSettingsAA",data:function(){return{tableData:[],checked:!0,pagination:{pageSize:10,pageNum:1},total:void 0,showAddDialog:!1,title:"",currentId:void 0,ruleForm:{biId:void 0,biName:"",positions:[]},rules:{biId:[{required:!0,message:"请输入业务ID",trigger:blur}],biName:[{required:!0,message:"请输入业务名称",trigger:blur}],positions:[{type:"array",required:!0,message:"请至少勾选一个投放方式",trigger:blur}]}}},methods:{getFilter:function(){return lv({},this.pagination)},fetchData:function(){var e=this,t=this.getFilter();this.$service.getLaunchList(t).then((function(t){e.tableData=t.list,e.total=t.total}))},handleAdd:function(){this.resetForm(),this.showAddDialog=!0,this.title="新增业务",this.currentId=""},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.currentId,i=JSON.parse(JSON.stringify(t.ruleForm));i.positions=i.positions.map((function(e){return e})).join(","),a?(i.biId=a,t.$service.updateLaunchMenu(i,"保存成功").then((function(){t.saveSuccessReload()}))):t.$service.addLaunchMenu(i,"保存成功").then((function(){t.saveSuccessReload()}))}))},resetForm:function(){this.ruleForm={biId:void 0,biName:"",positions:[]}},goBack:function(){this.resetForm(),this.showAddDialog=!1},handleEdit:function(e){this.showAddDialog=!0,this.title="编辑业务",this.currentId=e.biId,this.ruleForm={biId:e.biId,biName:e.biName,positions:e.position.split(",")}},saveSuccessReload:function(){this.showAddDialog=!1,this.fetchData()}},created:function(){this.fetchData()}},dv=cv,uv=(a("960d"),Object(U["a"])(dv,rv,sv,!1,null,"097198d5",null)),hv=uv.exports,pv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showList?a("notice-list",{on:{"open-add-page":e.openAddPage}}):a("notice-add",{attrs:{editId:e.editId,mode:e.mode},on:{"open-list-page":e.openListPage}})],1)},mv=[],fv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message-notice"},[a("c-content-wrapper",{attrs:{filter:e.filter,pagination:e.pagination},on:{"filter-change":e.handleFilterChange,"filter-reset":e.handleFilterReset}},[a("div",{staticClass:"add-button"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"sysSetup:notice:add",expression:"'sysSetup:notice:add'"}],attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),a("el-button",{on:{click:function(t){return e.fetchData(0)}}},[e._v("全部")]),a("el-button",{on:{click:function(t){return e.fetchData(1)}}},[e._v("升级通知")]),a("el-button",{on:{click:function(t){return e.fetchData(2)}}},[e._v("系统通知")]),a("el-button",{on:{click:function(t){return e.fetchData(3)}}},[e._v("标签通知")])],1),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data,selected:e.table.selected,"selection-type":e.table.selectionType},on:{"row-selection-add":e.handleRowSelectionAdd,"row-selection-remove":e.handleRowSelectionRemove,"all-row-selection-change":e.handleAllRowSelectionChange}})],1)],1)},vv=[],gv={name:"messageNotice",data:function(){var e=this;return{noticeTypeEnum:{1:"升级通知",2:"系统通知",3:"标签更新"},readStatusEnum:{0:"未读",1:"已读"},filter:{},pagination:{},selected:[],table:{props:{},header:[{label:"序号",type:"index",width:"50"},{label:"消息标题",prop:"noticeTitle",width:"300",render:function(t,a){return t("el-button",{class:0==a.row.noticeStatus?"red-dot-title":"normal-title",props:{type:"text"},on:{click:function(){e.handleRead(a)}}},a.row.noticeTitle)}},{label:"消息类型",prop:"noticeType",render:function(t,a){var i=a.row;return e.noticeTypeEnum[i.noticeType]}},{label:"推送时间",prop:"pushTime"},{label:"状态",prop:"noticeStatus",render:function(t,a){var i=a.row;return e.readStatusEnum[i.noticeStatus]}},{label:"操作",fixed:"right",width:"200",render:function(t,a){var i=function(i,n,r){return t("el-button",{directives:[{name:"permission",value:r}],props:{type:"text"},on:{click:function(){e[n](a)}}},i)};return t("div",null,[i("详情","handleRead","sysSetup:notice:detail"),i("编辑","handleEdit","sysSetup:notice:edit"),i("删除","handleDelete","sysSetup:notice:del")])}}],data:[],selected:[],selectionType:"multiple"}}},methods:{handleRead:function(e){var t=e.row;this.$emit("open-add-page",t.noticeId,"read")},handleAdd:function(){this.$emit("open-add-page")},handleEdit:function(e){var t=e.row;this.$emit("open-add-page",t.noticeId,"edit")},handleDelete:function(e){var t=this,a=e.row;this.$confirm("确定删除此条消息通知吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.noticeDel({noticeId:a.noticeId},"删除成功").then((function(){t.handleAllRowSelectionRemove(),t.fetchData()}))}))},handleFilterChange:function(e,t){t&&(this.filter=t),"query"===e&&this.pagination&&(this.pagination.currentPage=1),this.fetchData()},handleFilterReset:function(){this.filter={noticeId:void 0},this.fetchData()},handleRowSelectionAdd:function(e){this.selected.push(e.noticeId),this.updateTableSelected()},handleRowSelectionRemove:function(e){this.selected=this.selected.filter((function(t){return t!==e.noticeId})),this.updateTableSelected()},handleAllRowSelectionChange:function(e){e?this.table.data.forEach(this.handleRowSelectionAdd):(this.selected=[],this.table.selected=[])},handleAllRowSelectionRemove:function(){this.selected=[],this.table.selected=[]},updateTableSelected:function(){var e=this.table,t=this.selected.map((function(e){return e}));e.selected=e.data.reduce((function(e,a,i){return t.indexOf(a.noticeId)>-1&&e.push(i),e}),[])},parseFilter:function(){var e=this.filter,t=this.pagination;return t&&(e.pageNum=t.currentPage,e.pageSize=t.pageSize),e},fetchData:function(e){var t=this,a=this.parseFilter();a.showType=e,this.$service.noticeList(a).then((function(e){var a=e.pageInfo.list,i=e.noticeUserStatus;a.forEach((function(e,t){e.noticeStatus=i[t]})),t.table.data=a,t.pagination.total=e.pageInfo.total}))}},created:function(){this.fetchData()}},bv=gv,yv=(a("e70f"),Object(U["a"])(bv,fv,vv,!1,null,"73932303",null)),Cv=yv.exports,wv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["read"===e.mode?[a("div",{staticClass:"header-title"},[e._v("消息详情")]),a("div",{staticClass:"read-content"},[a("div",{staticClass:"notice-title"},[e._v("\n                "+e._s(e.readForm.noticeTitle)+"\n            ")]),a("div",{staticClass:"notice-time"},[e._v("时间："+e._s(e.readForm.pushTime))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.readForm.content,expression:"readForm.content"}],staticClass:"notice-content",staticStyle:{width:"100%",border:"none",height:"300px",outline:"none"},attrs:{readonly:""},domProps:{value:e.readForm.content},on:{input:function(t){t.target.composing||e.$set(e.readForm,"content",t.target.value)}}}),a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)]:[a("div",{staticClass:"header-title"},[e._v(e._s(e.addFormTitle))]),a("el-form",{ref:"ruleForm",staticClass:"add-form",attrs:{model:e.addForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标题",prop:"noticeTitle"}},[a("el-input",{model:{value:e.addForm.noticeTitle,callback:function(t){e.$set(e.addForm,"noticeTitle",t)},expression:"addForm.noticeTitle"}})],1),a("el-form-item",{attrs:{label:"消息类型",prop:"noticeType"}},[a("el-select",{model:{value:e.addForm.noticeType,callback:function(t){e.$set(e.addForm,"noticeType",t)},expression:"addForm.noticeType"}},[a("el-option",{attrs:{value:1,label:"升级消息"}}),a("el-option",{attrs:{value:2,label:"系统通知"}}),a("el-option",{attrs:{value:3,label:"标签更新"}})],1),a("span",{staticStyle:{margin:"0 20px"}},[e._v("是否发送邮件：")]),e.editId?e._e():a("el-radio-group",{model:{value:e.addForm.sendEmail,callback:function(t){e.$set(e.addForm,"sendEmail",t)},expression:"addForm.sendEmail"}},[a("el-radio",{attrs:{label:!1}},[e._v("不发送")]),a("el-radio",{attrs:{label:!0}},[e._v("发送")])],1),e.addForm.sendEmail?a("span",[e._v("收件人：\n                    "),a("el-select",{model:{value:e.receive,callback:function(t){e.receive=t},expression:"receive"}},[a("el-option",{attrs:{value:"all",label:"全部DMP用户"}})],1)],1):e._e()],1),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:6},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("ruleForm")}}},[e._v("确定")]),a("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)]],2)},_v=[],Sv={props:{editId:"",mode:""},data:function(){return{title:"",readForm:{noticeTitle:"",pushTime:"",content:""},markEnum:{edit:1,read:2},addFormTitle:"",addForm:{noticeTitle:"",noticeType:1,content:"",noticeId:void 0,sendEmail:!1},rules:{noticeTitle:[{required:!0,message:"请输入标题",trigger:"blur"}],noticeType:[{required:!0,message:"请选择消息类型",trigger:"blur"}],content:[{required:!0,message:"请输入消息内容",trigger:"blur"}]},receive:"all"}},watch:{editId:function(){this.fetchData()}},methods:{fetchData:function(){var e=this,t=this.editId,a=this.markEnum[this.mode],i=this.mode;t?(this.addFormTitle="编辑",this.$service.noticeDetail({noticeId:t,mark:a}).then((function(t){"read"===i&&(e.readForm=t,e.$root.$emit("refresh-notifications")),"edit"===i&&(e.addForm=t)}))):this.addFormTitle="新增"},goBack:function(){this.$emit("open-list-page")},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.editId?(t.addForm.noticeId=t.editId,t.$service.noticeEdit(t.addForm,"修改成功").then((function(){t.$emit("open-list-page"),t.$root.$emit("refresh-notifications")}))):t.$service.noticeAdd(t.addForm,"保存成功").then((function(){t.$emit("open-list-page"),t.$root.$emit("refresh-notifications")}))}))}},created:function(){this.fetchData()}},kv=Sv,Iv=(a("7947"),Object(U["a"])(kv,wv,_v,!1,null,"473e9458",null)),xv=Iv.exports,Tv={name:"noticeAA",components:{noticeList:Cv,noticeAdd:xv},data:function(){return{showList:!0,editId:"",mode:""}},watch:{"$route.query":function(e){0!==Object.keys(e).length&&this.openAddPage(e.noticeId,e.mode)}},methods:{openAddPage:function(e,t){this.showList=!1,this.editId=e,this.mode=t},openListPage:function(){this.showList=!0}},created:function(){var e=this.$route.query;0!==Object.keys(e).length&&this.openAddPage(e.noticeId,e.mode)}},Dv=Tv,$v=Object(U["a"])(Dv,pv,mv,!1,null,"570decbd",null),Lv=$v.exports,Nv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.reloadFlag?a("div",[a("div",{},[e.isDynamicPeople?a("el-steps",{attrs:{active:e.activeStep,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:"第一步：选择策略维度",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第二步：圈出人群",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第三步：动态人群配置",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第四步：设置流转条件",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第五步：投放到业务平台",icon:"el-icon-edit"}})],1):a("el-steps",{attrs:{active:e.activeStep,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:"第一步：选择策略维度",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第二步：创建人群",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第三步：投放到业务平台",icon:"el-icon-edit"}})],1)],1),a("div",[e.isDynamicPeople?a("div",[0===e.activeStep&&"add"===e.dynamicMode?a("new-create-policy",{attrs:{recordId:e.recordId,policyId:e.policyId,crowdId:e.crowdId,initTagList:e.initTagList},on:{resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,policyNextStep:e.handlePolicyNextStep,dynamicPolicyNextStep:e.handleDynamicPolicyNextStep},scopedSlots:e._u([{key:"isChoosePeople",fn:function(){return[a("el-checkbox",{staticStyle:{"margin-left":"20px"},model:{value:e.isDynamicPeople,callback:function(t){e.isDynamicPeople=t},expression:"isDynamicPeople"}},[e._v("\n                  动态人群\n              ")])]},proxy:!0}],null,!1,417389743)}):e._e(),e.policyId&&1===e.activeStep?a("create-crowd",{attrs:{policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList,dynamicCrowdNextStep:e.handleDynamicCrowdNextStep,dynamicCrowdPrevStep:e.handleDynamicCrowdPrevStep}}):e._e(),2===e.activeStep?a("dynamic-people-setting",{attrs:{policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e(),3===e.activeStep?a("dynamic-people-conditions",{attrs:{policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e(),4===e.activeStep?a("launch-to-business",{attrs:{recordId:e.recordId,tempPolicyAndCrowd:e.tempPolicyAndCrowd,routeSource:e.routeSource,policyId:e.policyId,crowdId:e.crowdId,isDynamicPeople:e.isDynamicPeople},on:{nextStep:e.handleNextStep,launchPrevStep:e.handleLaunchPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e()],1):a("div",[0===e.activeStep?a("new-create-policy",{attrs:{recordId:e.recordId,initTagList:e.initTagList},on:{policyNextStep:e.handlePolicyNextStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList},scopedSlots:e._u([{key:"isChoosePeople",fn:function(){},proxy:!0}],null,!1,1791336941)}):e._e(),e.recordId&&1===e.activeStep?a("create-crowd",{attrs:{recordId:e.recordId,isDynamicPeople:e.isDynamicPeople},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e(),2===e.activeStep?a("launch-to-business",{attrs:{recordId:e.recordId,tempPolicyAndCrowd:e.tempPolicyAndCrowd,routeSource:e.routeSource},on:{nextStep:e.handleNextStep,launchPrevStep:e.handleLaunchPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e()],1)])]):e._e()},Ov=[],Pv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one-step-select-tag"},[a("div",{staticClass:"search-all-input"},[a("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"支持按标签名、Code、描述全局搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchAllVal,callback:function(t){e.searchAllVal=t},expression:"searchAllVal"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{plain:""},on:{click:e.handleReset}},[e._v("\n      重置\n    ")])],1),e.filter.tagName?a("div",{staticClass:"other-form"},[a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,loading:e.loading,"check-list-parent":e.checkList,"show-selection":e.showSelection,"current-selected-tags":e.tagList},on:{"change-checkList":e.handleCheckListChange,"table-selected":e.handleGetTableSelectedData}}),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):a("el-tabs",{staticStyle:{"padding-top":"15px"},on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"我常用的",name:"myTop"}},[a("MyTopMax30",{attrs:{tagName:e.myCollectTagName,checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"大数据标签",name:"bigDataTag"}},[a("BigDataTag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"第三方标签",name:"third"}},[a("third-party-tag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"自定义标签",name:"customTag"}},[a("custom-tag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1)],1),a("el-form",{ref:"addForm",staticClass:"fix-bottom-form",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"已选标签"}},e._l(e.tagList,(function(t,i){return a("el-tag",{key:t.tagId+"_"+i,attrs:{type:e.dataSourceColorEnum[t.dataSource],closable:""},on:{close:function(a){return e.removeTag(t)}}},[e._v("\n        "+e._s(t.tagName)+"\n      ")])})),1),a("div",{staticClass:"tags-tips"},[e._v("\n      注："),a("span",{staticClass:"checkbox--red"},[e._v("红色")]),e._v("为大数据标签,\n      "),a("span",{staticClass:"checkbox--green"},[e._v("绿色")]),e._v("为自定义/本地标签,\n      "),a("span",{staticClass:"checkbox--blue"},[e._v("蓝色")]),e._v("为账号标签,\n      "),a("span",{staticClass:"checkbox--yellow"},[e._v("黄色")]),e._v("为实时标签,\n      "),a("span",{staticClass:"checkbox--orange"},[e._v("紫色")]),e._v("为动态指标,\n      "),a("span",{staticClass:"checkbox--orange2"},[e._v("棕色")]),e._v("为组合标签,\n      "),a("span",{staticClass:"checkbox--cyan"},[e._v("青色")]),e._v("为行为标签,\n      "),a("span",{staticClass:"checkbox--gray"},[e._v("灰色")]),e._v("为人群标签,\n      "),a("span",{staticClass:"checkbox--pink"},[e._v("粉色")]),e._v("为实时标签[大数据]\n    ")]),a("el-form-item",{attrs:{label:"策略名称",prop:"policyName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{size:"small"},model:{value:e.addForm.policyName,callback:function(t){e.$set(e.addForm,"policyName",t)},expression:"addForm.policyName"}}),e._t("isChoosePeople")],2),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:e.handelBack}},[e._v("返回")]),a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.saveAndNext(0)}}},[e._v("跳过下一步保存")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveAndNext(1)}}},[e._v("下一步")])],1)],1)],1)},Ev=[],Av=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-content"},[a("el-tabs",{staticClass:"label-content-wrap",on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"行为标签",name:"behaviorLabel"}},[a("BehaviorTag",{attrs:{tagName:e.myCollectTagName,checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"设备标签",name:"labelZone"}},[a("label-zone",{attrs:{tagName:e.labelZoneTagName,checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"fetch-checkList":e.fetchCheckListData,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"模型标签",name:"modelLabel"}},[e.showSelection?a("ModelLabelIndexSelect",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}}):a("ModelLabelIndex",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),e.showSelection?e._e():a("el-tab-pane",{attrs:{label:"动态流转标签",name:"circularTag"}},[a("CirculationTag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"实时标签[大数据]",name:"realTimeTagBigData"}},[a("RealTimeTag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag},on:{"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1)],1)],1)},Fv=[],Vv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-zone"},[e._m(0),void 0===e.filter.tagName||""===e.filter.tagName?a("div",e._l(e.treeData,(function(t,i){return a("div",{key:t.parentId,staticClass:"tab-content",attrs:{id:"tab-content-"+i}},[a("div",{staticClass:"title"},[e._v(e._s(t.parentName)),t.newOrUpdateCount?a("span",{staticClass:"small-red"},[e._v("·")]):e._e()]),a("el-tabs",{on:{"tab-click":function(t){return e.handleTabClick(i)}},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(t.children,(function(t){return a("el-tab-pane",{key:t.groupId,attrs:{name:t.groupId}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.groupName)),t.newOrUpdateCount?a("span",{staticClass:"small-red"},[e._v("·")]):e._e()]),"自定义标签"===t.groupName?a("div",{staticClass:"button-add"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddTagCategory}},[e._v("新增")])],1):e._e(),e.activeTab===t.groupId?[e.toggleShow?a("tag-list",{attrs:{tabIndex:i,"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,loading:e.loading,"check-list-parent":e.checkList,"show-selection":e.showSelection,"current-selected-tags":e.currentSelectTag},on:{"fetch-data":e.fetchTagList,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected}}):e._e()]:e._e()],2)})),1)],1)})),0):a("div",{staticClass:"other-form"},[a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,loading:e.loading,"check-list-parent":e.checkList,"show-selection":e.showSelection,"current-selected-tags":e.currentSelectTag},on:{"fetch-data":e.fetchTagAllList,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected}})],1),a("TagCategoryUpsert",{ref:"tagCategoryUpsert",attrs:{"current-tag-category":e.tagCategory,"type-enum":e.typeEnum,"data-source-enum":e.dataSourceEnum,definedTagId:e.definedTagId},on:{"upsert-end":e.fetchTagList}})],1)},Rv=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div")])}],jv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-list"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.tagId,expression:"!tagId"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"changeTable",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",border:"",data:e.dataList},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"tagId",label:"ID"}}),a("el-table-column",{attrs:{prop:"tagName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.tagName)+"\n        "),t.row.newOrUpdate?a("span",{staticClass:"red-new"},[e._v(e._s(t.row.newOrUpdate))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"dataSource",label:"数据来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.dataSourceEnum[t.row.dataSource])+"\n      ")]}}])}),e.checkList.indexOf("defineRemark")>-1?a("el-table-column",{attrs:{prop:"defineRemark",label:"标签定义"}}):e._e(),e.checkList.indexOf("tagValues")>-1?a("el-table-column",{attrs:{prop:"tagValues",label:"示例值"}}):e._e(),e.checkList.indexOf("tagKey")>-1?a("el-table-column",{attrs:{prop:"tagKey",label:"标签code"}}):e._e(),e.checkList.indexOf("tagType")>-1?a("el-table-column",{attrs:{prop:"tagType",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.typeEnum[t.row.tagType])+"\n      ")]}}],null,!1,4147293850)}):e._e(),e.checkList.indexOf("remark")>-1?a("el-table-column",{attrs:{prop:"remark",label:"备注"}}):e._e(),e.showSelection?e._e():a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleSeeTagCategoryDetail(t.row)}}},[e._v("\n            查看\n          ")]),e.showEditBtn?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n            编辑\n          ")]):e._e(),e.showDeleteBtn?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("\n            删除\n          ")]):e._e()],1)]}}],null,!1,921942524)},[a("template",{slot:"header"},[e._v("\n        操作\n        "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"tagKey"}},[e._v("标签code")]),a("el-checkbox",{attrs:{label:"tagValues"}},[e._v("示例值")]),a("el-checkbox",{attrs:{label:"defineRemark"}},[e._v("标签定义")]),a("el-checkbox",{attrs:{label:"tagType"}},[e._v("类型")]),a("el-checkbox",{attrs:{label:"remark"}},[e._v("备注")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)],2)],1),e.tagId?a("tag-detail-list",{attrs:{"tag-id":e.tagId},on:{"read-cancel":e.handleReadTagCancel}}):e._t("default")],2)},Bv=[],Mv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"read-tag-category"},[e.tagCategory&&!e.showEdit?[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.tagCategory.tagName))]),a("el-button",{staticStyle:{float:"right","margin-top":"-7px"},attrs:{type:"primary"},on:{click:function(t){return e.$emit("read-cancel")}}},[e._v("返回")])],1),a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"ID"}},[e._v("\n          "+e._s(e.tagCategory.tagId)+"\n        ")]),a("el-form-item",{attrs:{label:"数据来源"}},[e._v("\n          "+e._s(e.dataSourceEnum[e.tagCategory.dataSource])+"\n        ")]),a("el-form-item",{attrs:{label:"类型"}},[e._v("\n          "+e._s(e.typeEnum[e.tagCategory.tagType])+"\n        ")]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"number"===e.tagCategory.tagType,expression:"tagCategory.tagType === 'number'"}],attrs:{label:"单位"}},[e._v("\n          "+e._s(e.tagCategory.tagUnit)+"\n        ")]),a("el-form-item",{attrs:{label:"备注"}},[e._v("\n          "+e._s(e.tagCategory.remark)+"\n        ")])],1)],1),0===e.tagCategory.composeType?a("tag-region-tree",{attrs:{tagId:e.tagId},on:{edit:e.handleEdit}}):1===e.tagCategory.composeType?a("device-tag-list",{attrs:{tagId:e.tagId,tagCategory:e.tagCategory,dataSourceEnum:e.dataSourceEnum,typeEnum:e.typeEnum},on:{edit:e.handleEdit,add:e.handleAdd}}):a("tag-list",{attrs:{"tag-category":e.tagCategory}})]:e._e()],2)},zv=[],qv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("标签列表")]),a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"标签名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.filter.search,callback:function(t){e.$set(e.filter,"search",t)},expression:"filter.search"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),2!==e.tagCategory.dataSource?a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddTag}},[e._v("\n                    新建标签\n                ")]):e._e()],1)],1)],1),a("el-table",{attrs:{border:"",data:e.itemList}},[a("el-table-column",{attrs:{prop:"specialTagId",label:"ID",width:"140"}}),a("el-table-column",{attrs:{prop:"specialTagName",label:"名称"}}),a("el-table-column",{attrs:{label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){return e.handleEditTag(t.row)}}},[e._v("\n                    编辑\n                ")]),a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return e.handleDeleteTag(t.row)}}},[e._v("\n                    删除\n                ")])]}}])}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?a("div",[e._v("\n                    "+e._s(e.statusList[t.row.status])+"\n                ")]):a("div",[e._v("暂无状态信息")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.fetchData,"current-change":e.fetchData}}),a("TagUpsert",{ref:"tagUpsert",attrs:{"current-tag":e.tag},on:{"upsert-end":e.fetchData}}),a("BatchUpload",{ref:"BatchUpload",attrs:{"current-tag":e.tag},on:{"upsert-end":e.fetchData}})],1)},Jv=[];function Gv(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Uv(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gv(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gv(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Hv={components:{TagUpsert:Pt,BatchUpload:jt},data:function(){return{itemList:[],tag:{},pagination:{pageNum:1,pageSize:10},filter:{search:""},statusList:{1:"启用",2:"禁用"},total:0}},props:["tagId","tagCategory","typeEnum","dataSourceEnum"],watch:{$route:{handler:function(){console.log("this.$route.query===",this.$route.query),this.$route.query.refresh&&this.fetchData()},deep:!0}},methods:{getFilter:function(){return Uv(Uv({tagId:this.tagId},this.filter),this.pagination)},fetchData:function(){var e=this,t=this.getFilter();this.$service.specialTagDetailList(t).then((function(t){t?(e.itemList=t.list||[],e.total=t.total||0):(e.itemList=[],e.total=0)}))},handleAddTag:function(){this.$emit("add")},handleAddBatchTag:function(){this.tag={tagId:this.tagCategory.tagId},this.tag.tagType=this.tagCategory.tagType,this.$refs.BatchUpload.showBatchDialog=!0},handleEditTag:function(e){this.$emit("edit",e.specialTagId)},handleDeleteTag:function(e){var t=this;this.$confirm("确定删除？").then((function(){t.$service.deleteSpecialTagAttr(e.specialTagId,"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))}},created:function(){this.fetchData()}},Kv=Hv,Qv=(a("3df1"),Object(U["a"])(Kv,qv,Jv,!1,null,"ba402150",null)),Wv=Qv.exports,Yv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("标签列表")])]),a("el-tree",{ref:"tree",attrs:{lazy:"",load:e.loadNode,props:e.defaultProps,"node-key":"id","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"tree-label"},[e._v(e._s(i.label))]),1!==i.level?a("span",{staticClass:"tree-edit",on:{click:function(t){return e.edit(i)}}},[e._v("编辑")]):e._e()])}}])})],1)},Zv=[],Xv={props:{tagId:{type:Number}},data:function(){return{defaultProps:{children:"children",label:"label",isLeaf:function(e,t){return e.isLeaf}},filter:{name:void 0}}},methods:{edit:function(e){2===e.level&&e.parent.data.id,this.$emit("edit",e.data.id)},fetchRegionData:function(){var e={tagId:this.tagId};this.$service.specialTagDetailList(e).then((function(e){}))},loadNode:function(e,t){var a=e.data;if(0===e.level){var i={tagId:this.tagId,pageSize:100};return this.$service.specialTagDetailList(i).then((function(e){var a=e.list.slice().map((function(e){return{id:e.specialTagId,label:e.specialTagName,children:[]}}));return t(a)}))}var n={id:a.id};return this.$service.specialTagChild(n).then((function(a){var i=a.slice().map((function(e){return{id:e.specialTagId,label:e.specialTagName,isLeaf:!0}}));return e.data.children=i,t(e.data.children)}))}},created:function(){}},eg=Xv,tg=(a("24f2"),Object(U["a"])(eg,Yv,Zv,!1,null,"66799cd8",null)),ag=tg.exports,ig={components:{TagList:Gt,TagRegionTree:ag,DeviceTagList:Wv},props:{tagId:{type:Number}},data:function(){return{tagCategory:null,dataSourceEnum:{},typeEnum:{},showEdit:!1,paramsData:{}}},methods:{getFilter:function(){return{id:this.tagId}},fetchData:function(){var e=this,t=this.getFilter();this.$service.readTagCategory(t).then((function(t){e.dataSourceEnum=t.dataSourceEnum,e.typeEnum=t.typeEnum,e.tagCategory=t.tagCategory}))},handleAdd:function(){this.$router.push({name:"specialTag",query:{belongTagId:this.tagId}})},handleEdit:function(e){e&&this.$router.push({name:"specialTag",query:{specialTagId:e}})}},created:function(){this.fetchData()}},ng=ig,rg=(a("fba0"),Object(U["a"])(ng,Mv,zv,!1,null,"2c3c1afc",null)),sg=rg.exports,og={name:"TagList",props:{dataList:{type:Array},checkListParent:{type:Array},loading:{type:Boolean},showSelection:{type:Boolean},currentSelectedTags:{type:Array},showDeleteBtn:{type:Boolean,default:!1},showEditBtn:{type:Boolean,default:!1},tabIndex:{type:[String,Number],default:""}},components:{tagDetailList:sg},data:function(){return{multipleSelection:[],tagId:void 0,checkList:[],showDetailDialog:!1,dataSourceEnum:{},typeEnum:{}}},watch:{checkListParent:function(e){this.checkList=e},dataList:"updateTableSelected",currentSelectedTags:"updateTableSelected"},methods:{getDataSourceList:function(){var e=this;this.$service.getDatasource().then((function(t){e.dataSourceEnum=t||{}}))},getTagType:function(){var e=this;this.$service.getTagType().then((function(t){e.typeEnum=t||{}}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleSeeTagCategoryDetail:function(e){this.tagId=e.tagId;var t="tab-content-".concat(this.tabIndex),a=document.getElementById(t),i=document.querySelector(".el-main");i.scrollTop=a.offsetTop},handleDelete:function(e){this.$emit("delete",e.tagId)},handleEdit:function(e){this.$emit("edit",e)},handleReadTagCancel:function(){this.tagId=void 0},handleCollect:function(e){var t=this,a=e.myCollect,i=e.tagId;a?this.$service.cancelCollectTags({tagId:i},"已取消收藏！").then((function(){t.$emit("fetch-data")})):this.$service.collectTags({tagId:i},"已成功收藏！").then((function(){t.$emit("fetch-data")}))},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectedTags;this.dataList.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.dataList[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.changeTable.clearSelection(),t.forEach((function(t){e.$refs.changeTable.toggleRowSelection(t,!0)}))})):this.$refs.changeTable.clearSelection()},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.dataList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")}},created:function(){this.getDataSourceList(),this.getTagType(),this.checkList=this.checkListParent}},lg=og,cg=(a("d67e"),Object(U["a"])(lg,jv,Bv,!1,null,"3768532e",null)),dg=cg.exports,ug={name:"LabelZone",components:{tagList:dg,TagCategoryUpsert:ht},props:{tagName:{type:String},checkList:{type:Array},showSelection:{type:Boolean},currentSelectTag:{type:Array}},data:function(){return{treeData:[],activeTab:void 0,dataList:[],filter:{pageNum:1,pageSize:300,groupId:void 0,tagName:void 0},dataSourceEnum:{},typeEnum:{},toggleShow:!1,loading:!0,tagCategory:{},definedTagId:void 0,searchVal:""}},methods:{handleClearSearch:function(){this.searchVal=void 0},handleSearch:function(){var e=this.searchVal;void 0!==e&&""!==e?(this.filter.tagName=e,this.fetchTagAllList()):(this.filter.tagName=e,this.fetchTagList())},fetchData:function(){var e=this;this.$service.getNewTreeList().then((function(t){var a=[];t.forEach((function(t){t.children.forEach((function(t){var i=t.children.map((function(t){return"自定义标签"===t.groupName&&(e.definedTagId=t.groupId),{groupId:t.groupId.toString(),groupName:t.groupName,newOrUpdateCount:t.newOrUpdateCount}}));a.push({parentName:t.groupName,newOrUpdateCount:t.newOrUpdateCount,parentId:t.groupId,children:i})}))})),e.treeData=a,e.fetchTagList()}))},fetchTagList:function(){var e=this,t=this.filter;this.filter.groupId&&this.$service.getTagGroupTreeList(t).then((function(t){e.dataList=t.pageInfo.list,e.dataSourceEnum=t.lableDataSourceEnum,e.typeEnum=t.tagsTypeEnum,e.loading=!1}))},fetchTagAllList:function(){var e=this,t=JSON.parse(JSON.stringify(this.filter));t.groupId=0,this.$service.getTagGroupTreeList(t).then((function(t){e.dataList=t.pageInfo.list,e.dataSourceEnum=t.lableDataSourceEnum,e.typeEnum=t.tagsTypeEnum,e.loading=!1}))},handleTabClick:function(e){this.filter.groupId!==this.activeTab?(this.toggleShow=!0,this.filter.groupId=this.activeTab,this.loading=!0,this.filter.tagName=void 0,this.handleClearSearch(),this.$emit("clear-search"),this.$emit("fetch-checkList"),this.fetchTagList(),this.scrollToView(e)):this.toggleShow=!this.toggleShow},scrollToView:function(e){var t="tab-content-".concat(e),a=document.getElementById(t),i=document.querySelector(".label-content-wrap").getElementsByClassName("el-tabs__content")[0];i.scrollTop=a.offsetTop},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleAddTagCategory:function(){this.tagCategory={groupId:this.definedTagId},this.$refs.tagCategoryUpsert.showCreateDialog=!0},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)}},created:function(){this.$root.$on("big-data-list-refresh",this.fetchData),this.fetchData()}},hg=ug,pg=(a("a1ca"),Object(U["a"])(hg,Vv,Rv,!1,null,"175b0e60",null)),mg=pg.exports,fg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[e.showSelection?e._e():a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n        新建\n      ")])],1)]),a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"名称",prop:"tagName"}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",prop:"tagEnName"}},[a("el-input",{model:{value:e.form.tagEnName,callback:function(t){e.$set(e.form,"tagEnName",t)},expression:"form.tagEnName"}})],1),a("el-form-item",{attrs:{label:"是否每日更新",prop:"autoVersion"}},[a("el-radio-group",{model:{value:e.form.autoVersion,callback:function(t){e.$set(e.form,"autoVersion",t)},expression:"form.autoVersion"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("保 存")])],1)],1)],1)},vg=[],gg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-list"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.tagId,expression:"!tagId"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"changeTable",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",border:"",data:e.dataList},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"tagName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.tagName)+"\n        "),t.row.newOrUpdate?a("span",{staticClass:"red-new"},[e._v(e._s(t.row.newOrUpdate))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"tagEnName",label:"英文名"}}),e.checkList.indexOf("remark")>-1?a("el-table-column",{attrs:{prop:"remark",label:"备注"}}):e._e(),e.showSelection?e._e():a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleSeeTagCategoryDetail(t.row)}}},[e._v("\n            查看\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n            编辑\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleRefresh(t.row)}}},[e._v("\n            更新模型\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("\n            删除\n          ")])],1)]}}],null,!1,2033759173)},[a("template",{slot:"header"},[e._v("\n        操作\n        "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"remark"}},[e._v("备注")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)],2)],1),e.tagId?a("tag-detail",{attrs:{"tag-id":e.tagId,row:e.currentRow},on:{"read-cancel":e.handleReadTagCancel}}):e._t("default")],2)},bg=[],yg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"read-tag-category"},[e.row&&!e.showEdit?[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.row.tagName))]),a("el-button",{staticStyle:{float:"right","margin-top":"-7px"},attrs:{type:"primary"},on:{click:function(t){return e.$emit("read-cancel")}}},[e._v("返回")])],1),a("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"ID"}},[e._v("\n          "+e._s(e.row.id)+"\n        ")]),a("el-form-item",{attrs:{label:"英文名"}},[e._v("\n          "+e._s(e.row.tagEnName)+"\n        ")]),a("el-form-item",{attrs:{label:"是否每日更新"}},[e._v("\n          "+e._s(1===e.row.autoVersion?"是":"否")+"\n        ")]),a("el-form-item",{attrs:{label:"备注"}},[e._v("\n          "+e._s(e.row.remark)+"\n        ")])],1)],1),a("AttrList",{attrs:{row:e.row}})]:e._e()],2)},Cg=[],wg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"never"}},[e.showSelection?e._e():a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("标签列表")]),a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"支持人群名、ID搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.filter.launchName,callback:function(t){e.$set(e.filter,"launchName",t)},expression:"filter.launchName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:add",expression:"'hoder:label:attr:add'"}],attrs:{type:"primary"},on:{click:e.openAddDialog}},[e._v("\n          新建属性\n        ")])],1)],1)],1),a("div",[a("el-table",{ref:"changeTable",attrs:{data:e.itemList,border:""},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"标签ID"}}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"人群ID",width:"120"}}),a("el-table-column",{attrs:{prop:"launchName",label:"名称",width:"230"}}),a("el-table-column",{attrs:{prop:"count",label:"使用次数"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.status?a("div",[3===e.launchStatusEnum[t.row.history.status].code?a("div",[e._v("\n              计算完成\n            ")]):2===e.launchStatusEnum[t.row.history.status].code&&23===e.launchStatusEnum[t.row.history.status].childrenCode?a("div",[e._v("\n              "+e._s(e.launchStatusEnum[t.row.history.status].childrenName)+"\n            ")]):1===e.launchStatusEnum[t.row.history.status].code||4===e.launchStatusEnum[t.row.history.status].code||7===e.launchStatusEnum[t.row.history.status].code?a("div",[4===e.crowdType?a("span",[e._v("计算")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.calculate(t.row)}}},[e._v("计算")])],1):5===e.launchStatusEnum[t.row.history.status].code?a("div",{staticStyle:{color:"red"}},[e._v("\n              计算失败\n            ")]):a("div",[e._v("\n              "+e._s(e.launchStatusEnum[t.row.history.status].name)+"\n            ")])]):e._e()]}}])}),a("el-table-column",{attrs:{label:"创建人",prop:"creatorName"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"history.createTime"}}),a("el-table-column",{attrs:{label:"业务部门",prop:"department"}}),a("el-table-column",{attrs:{label:"设备数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"总体耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.spentTotalTime)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.history.version)+"\n        ")]}}])}),e.showSelection?e._e():a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:modify",expression:"'hoder:label:attr:modify'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.openEditDialog(t.row)}}},[e._v("\n              编辑\n            ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:del",expression:"'hoder:label:attr:del'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleDeleteTag(t.row)}}},[e._v("\n              删除\n            ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleMonitor(t.row)}}},[e._v("\n              数据监控\n            ")])],1)]}}],null,!1,3437327170)})],1)],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.fetchData,"current-change":e.fetchData}}),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"attrFormRef",attrs:{model:e.attrForm,rules:e.attrFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"属性名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",maxlength:50},model:{value:e.attrForm.launchName,callback:function(t){e.$set(e.attrForm,"launchName",t)},expression:"attrForm.launchName"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"crowdSql"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入生成样本数据的sql语句"},model:{value:e.attrForm.crowdSql,callback:function(t){e.$set(e.attrForm,"crowdSql",t)},expression:"attrForm.crowdSql"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:"数据监控",visible:e.monitorDialog},on:{"update:visible":function(t){e.monitorDialog=t}}},[a("el-date-picker",{staticClass:"monitor-time",attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd"},on:{change:e.getDataMonitor},model:{value:e.monitorRangeTime,callback:function(t){e.monitorRangeTime=t},expression:"monitorRangeTime"}}),a("c-table",{attrs:{props:e.monitorTable.props,header:e.monitorTable.header,data:e.monitorTable.data}}),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.monitorOutForm.pageNum,pagesize:e.monitorOutForm.pageSize,totalcount:e.monitorTotal},on:{"handle-size-change":e.handleMonitorSizeChange,"handle-current-change":e.handleMonitorCurrentChange}})],1)],1)],1)},_g=[];function Sg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function kg(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sg(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ig={components:{},data:function(){return{crowdType:5,itemList:[],tag:{},pagination:{pageNum:1,pageSize:10,total:0},filter:{launchName:void 0},attrForm:{},dialogVisible:!1,dialogTitle:"新增样本属性",attrFormRules:{launchName:[{required:!0,message:"请输入属性名称",trigger:"blur"}],crowdSql:[{required:!0,message:"请输入SQL语句",trigger:"blur"}]},launchStatusEnum:{},monitorDialog:!1,monitorRangeTime:void 0,monitorOutForm:{pageSize:10,pageNum:1},monitorTotal:0,monitorTable:{props:{},header:[{label:"人群名称",prop:"launch_name"},{label:"dmp人群ID",prop:"dmp_crowd_id"},{label:"临时人群版本号",prop:"version"},{label:"当前版本",prop:"cur_version"},{label:"接收设备数量",prop:"receive_total_user"},{label:"设备数量",prop:"total_user"},{label:"临时人群es index",prop:"es_index"},{label:"状态",prop:"status_name"},{label:"临时人群同步日期",prop:"update_time"},{label:"版本是否删除",render:function(e,t){return e("div",{},[e("span",{},1===t.row.del_flag?"否":"是")])}}],data:[]}}},props:{row:{type:Object},showSelection:{type:Boolean}},watch:{row:{handler:function(e){this.fetchData()},deep:!0}},methods:{initParams:function(){this.attrForm={launchName:"",crowdSql:"",modelTagId:this.row.id,tempCrowd:!0,calType:"0"}},handleMonitorSizeChange:function(e){this.monitorOutForm.pageSize=e,this.monitorOutForm.pageNum=1,this.handleGetMonitorTableList()},handleMonitorCurrentChange:function(e){this.monitorOutForm.pageNum=e,this.handleGetMonitorTableList()},handleMonitor:function(e){this.monitorDialog=!0,this.selectedRow=e,this.getDataMonitor()},getDataMonitor:function(){this.handleGetMonitorTableList()},handleGetMonitorTableList:function(){var e=this,t=this.monitorRangeTime||[],a=t[0]||"",i=t[1]||"",n=kg({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i},this.monitorOutForm);this.$service.launchVersionList(n).then((function(t){t?(e.monitorTotal=t.pageInfo.total,e.monitorTable.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.itemList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")},getFilter:function(){return kg(kg(kg({modelTagId:this.row.id},this.filter),this.pagination),{},{crowdType:this.crowdType})},fetchData:function(){var e=this,t=this.getFilter();this.$service.getTempCrowdList(t).then((function(t){e.itemList=t.pageInfo.list,e.pagination.total=t.pageInfo.total,e.launchStatusEnum=t.launchStatusEnum}))},openAddDialog:function(){this.dialogTitle="新增样本属性",this.initParams(),this.launchCrowdId=null,this.dialogVisible=!0,this.$refs.attrFormRef&&this.$refs.attrFormRef.resetFields()},handleAddOrEdit:function(){var e=this;this.$refs.attrFormRef.validate((function(t){if(t)if(e.launchCrowdId){var a=kg({launchCrowdId:e.launchCrowdId},e.attrForm);e.$service.updateTempCrowd(a,"修改成功").then((function(){e.fetchData(),e.dialogVisible=!1}))}else e.$service.addTempCrowd(e.attrForm,"新增成功").then((function(){e.fetchData(),e.dialogVisible=!1}))}))},openEditDialog:function(e){var t=this;this.launchCrowdId=e.launchCrowdId,this.$service.getTempCrowd({launchCrowdId:e.launchCrowdId}).then((function(e){t.dialogTitle="编辑样本属性",t.selectStrategy=e.crowdSql,t.attrForm.launchName=e.launchName,t.attrForm.crowdSql=e.crowdSql,t.dialogVisible=!0,t.$nextTick((function(){t.$refs.attrFormRef.clearValidate()}))}))},handleDeleteTag:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delTempCrowd({launchCrowdId:e.launchCrowdId},"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))},calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.fetchData()}))}},created:function(){this.initParams(),this.fetchData()}},xg=Ig,Tg=(a("b310"),Object(U["a"])(xg,wg,_g,!1,null,"732c95c4",null)),Dg=Tg.exports,$g={components:{AttrList:Dg},props:{tagId:{type:Number},row:{type:Object,default:function(){}}},data:function(){return{tagCategory:null,dataSourceEnum:{},typeEnum:{},showEdit:!1,paramsData:{}}},methods:{getFilter:function(){return{id:this.tagId}},fetchData:function(){var e=this,t=this.getFilter();this.$service.readTagCategory(t).then((function(t){e.dataSourceEnum=t.dataSourceEnum,e.typeEnum=t.typeEnum,e.tagCategory=t.tagCategory}))},handleAdd:function(){this.$router.push({name:"specialTag",query:{belongTagId:this.tagId}})},handleEdit:function(e){e&&this.$router.push({name:"specialTag",query:{specialTagId:e}})}},created:function(){this.fetchData()}},Lg=$g,Ng=(a("1b0e"),Object(U["a"])(Lg,yg,Cg,!1,null,"c32e10ee",null)),Og=Ng.exports,Pg={name:"TagList",props:{dataList:{type:Array},dataSourceEnum:{type:Object},typeEnum:{type:Object},checkListParent:{type:Array},loading:{type:Boolean},showSelection:{type:Boolean},currentSelectedTags:{type:Array},showDeleteBtn:{type:Boolean,default:!1},showEditBtn:{type:Boolean,default:!1}},components:{tagDetail:Og},data:function(){return{multipleSelection:[],tagId:void 0,checkList:[],currentRow:{}}},watch:{checkListParent:function(e){this.checkList=e},dataList:"updateTableSelected",currentSelectedTags:"updateTableSelected"},methods:{handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleSeeTagCategoryDetail:function(e){this.tagId=e.id,this.currentRow=e},handleRefresh:function(e){var t=this;this.$confirm("是否确认更新模型标签: ".concat(e.tagName,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.updateModelTag({modelTagId:e.id},"更新成功")})).catch((function(){t.$message({type:"info",message:"已取消更新"})}))},handleDelete:function(e){this.$emit("delete",e.id)},handleEdit:function(e){this.$emit("edit",e)},handleReadTagCancel:function(){this.tagId=void 0},handleCollect:function(e){var t=this,a=e.myCollect,i=e.id;a?this.$service.cancelCollectTags({tagId:i},"已取消收藏！").then((function(){t.$emit("fetch-data")})):this.$service.collectTags({tagId:i},"已成功收藏！").then((function(){t.$emit("fetch-data")}))},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectedTags;this.dataList.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.dataList[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.changeTable.clearSelection(),t.forEach((function(t){e.$refs.changeTable.toggleRowSelection(t,!0)}))})):this.$refs.changeTable.clearSelection()},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.dataList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")}},created:function(){this.checkList=this.checkListParent}},Eg=Pg,Ag=(a("1a48"),Object(U["a"])(Eg,gg,bg,!1,null,"626796cf",null)),Fg=Ag.exports;function Vg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Rg(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vg(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jg={name:"MyCollect",components:{tagList:Fg},props:{checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:10,condition:""},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagEnName:"",autoVersion:0,remark:""},dialogTitle:"",totalCount:0,tagCategory:{},definedTagId:"",rules:{tagName:[{required:!0,message:"请输入名称",trigger:"blur"}],tagEnName:[{required:!0,message:"请输入英文名",trigger:"blur"}]}}},methods:{handleDelete:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.deleteModelTag(e,"删除成功").then((function(){t.fetchData()}))}))},handleEdit:function(e){var t=e.id,a=e.tagName,i=e.tagEnName,n=e.autoVersion,r=e.remark;this.form.id=t,this.form.tagName=a,this.form.tagEnName=i,this.form.autoVersion=n,this.form.remark=r||"",this.dialogTitle="编辑模型标签",this.dialogVisible=!0},handleAddOrEdit:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}if(!e.form.id){t.next=6;break}return t.next=4,e.$service.editModelTag(e.form);case 4:t.next=8;break;case 6:return t.next=8,e.$service.addModelTag(e.form);case 8:e.fetchData(),e.dialogVisible=!1,e.$message.success("保存成功");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleAdd:function(){this.form={tagName:"",tagEnName:"",autoVersion:0,remark:""},this.dialogTitle="新增模型标签",this.dialogVisible=!0},fetchData:function(){var e=this,t=this.filter;this.$service.searchModelTag(t).then((function(t){var a=t;e.dataList=a.list.map((function(e){return Rg(Rg({},e),{},{tagId:e.id})}))||[],e.totalCount=a.total}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("big-data-list-refresh",this.fetchData),this.fetchData()}},Bg=jg,Mg=(a("0d8c"),Object(U["a"])(Bg,fg,vg,!1,null,"64e5e7dc",null)),zg=Mg.exports,qg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-zone tab-content"},[a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.dataList,(function(t){return a("el-tab-pane",{key:t.id,attrs:{name:"_"+t.id,label:t.tagName}},[e.activeTab==="_"+t.id?[a("AttrListSelect",{attrs:{row:e.row,"data-list":e.tagList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,loading:e.loading,showSelection:!0,currentSelectTag:e.currentSelectTag},on:{"table-selected":e.handleTableSelected}})]:e._e()],2)})),1)],1)},Jg=[],Gg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-list"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.tagId,expression:"!tagId"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"changeTable",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",border:"",data:e.dataList},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"tagId",label:"ID"}}),a("el-table-column",{attrs:{prop:"tagName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.tagName)+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"dataSource",label:"数据来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.dataSourceEnum[t.row.dataSource])+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"tagKey",label:"标签code"}}),a("el-table-column",{attrs:{prop:"tagType",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.typeEnum[t.row.tagType])+"\n      ")]}}])})],1)],1)},Ug=[],Hg={name:"TagList",props:{dataList:{type:Array},dataSourceEnum:{type:Object},typeEnum:{type:Object},checkListParent:{type:Array},loading:{type:Boolean},showSelection:{type:Boolean},currentSelectTag:{type:Array}},data:function(){return{multipleSelection:[],tagId:void 0,checkList:[]}},watch:{checkListParent:function(e){this.checkList=e},dataList:"updateTableSelected",currentSelectTag:"updateTableSelected"},methods:{handleCheckListChange:function(e){this.$emit("change-checkList",e)},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectTag;this.dataList.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.dataList[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.changeTable.clearSelection(),t.forEach((function(t){e.$refs.changeTable.toggleRowSelection(t,!0)}))})):this.$refs.changeTable.clearSelection()},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.dataList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")}},created:function(){this.checkList=this.checkListParent}},Kg=Hg,Qg=(a("e688"),Object(U["a"])(Kg,Gg,Ug,!1,null,"51796350",null)),Wg=Qg.exports;function Yg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Zg(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yg(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xg={name:"LabelZone",components:{AttrListSelect:Wg},props:{currentSelectTag:{type:Array}},watch:{},data:function(){return{treeData:[],activeTab:void 0,toggleShow:!1,loading:!0,dataList:[],filter:{pageNum:1,pageSize:1e3,condition:""},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagEnName:"",autoVersion:0,remark:""},dialogTitle:"",totalCount:0,tagCategory:{},definedTagId:"",tagList:[],row:{}}},methods:{handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},fetchData:function(){var e=this,t=this.filter;this.$service.searchModelTag(t).then((function(t){var a=t;e.dataList=a.list.map((function(e){return Zg(Zg({},e),{},{tagId:e.id})}))||[],e.totalCount=a.total,e.dataList.length>0&&(e.activeTab="_".concat(e.dataList[0].id),e.fetchTagList())}))},fetchTagList:function(){var e=this,t=this.dataList.find((function(t){var a="_".concat(t.id);return a===e.activeTab}));t&&this.$service.getModelTag({modelTagIds:t.id}).then((function(t){e.tagList=t.list||[],e.dataSourceEnum=t.DataSourceMap,e.typeEnum=t.tagKey,e.loading=!1}))},handleTabClick:function(){this.fetchTagList()},handleCheckListChange:function(e){this.$emit("change-checkList",e)}},created:function(){this.$root.$on("big-data-list-refresh",this.fetchData),this.fetchData()}},eb=Xg,tb=(a("1091"),Object(U["a"])(eb,qg,Jg,!1,null,"d881ea92",null)),ab=tb.exports,ib=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[e.showSelection?a("div"):a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n        新建\n      ")])],1)]),a("tag-list",{attrs:{"data-list":e.dataList,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection,"show-delete-btn":!0,"show-edit-btn":!0},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",required:""}},[a("el-input",{model:{value:e.form.tagKey,callback:function(t){e.$set(e.form,"tagKey",t)},expression:"form.tagKey"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("提 交")])],1)],1)],1)},nb=[];function rb(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function sb(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rb(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ob={name:"MyCollect",components:{tagList:dg},props:{tagName:{type:String},checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{tagName:function(e){void 0!==e&&(this.filter.tagName=e,this.fetchData())}},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:50,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},launchName:"",dialogTitle:"",totalCount:0}},methods:{handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.form={tagName:"",tagKey:"",remark:""},this.dialogTitle="新增标签",this.dialogVisible=!0},fetchData:function(){var e=this,t=sb(sb({},this.filter),{},{keyword:this.launchName});this.$service.getTagBehavior(t).then((function(t){var a=t;e.dataList=a.row,e.totalCount=a.total,e.typeEnum=a.tagKey,console.log("this.dataList---\x3e",e.dataList)}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("big-data-list-refresh",this.fetchData),this.fetchData()}},lb=ob,cb=(a("8b74"),Object(U["a"])(lb,ib,nb,!1,null,"85f7958c",null)),db=cb.exports,ub=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"tag-list"},[a("el-table",{ref:"changeTable",attrs:{border:"",data:e.dataList},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"tagId",label:"ID"}}),a("el-table-column",{attrs:{prop:"tagName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.tagName)+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"tagKey",label:"tagKey"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}})],1)],1)])},hb=[],pb={name:"MyCollect",components:{},props:{checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{dataList:"updateTableSelected",currentSelectTag:"updateTableSelected"},data:function(){return{dataList:[],multipleSelection:[]}},methods:{updateTableSelected:function(){var e=this;console.log("this.currentSelectTag---》",this.currentSelectTag);var t=[],a=this.currentSelectTag;this.dataList.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.dataList[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.changeTable.clearSelection(),t.forEach((function(t){e.$refs.changeTable.toggleRowSelection(t,!0)}))})):this.$refs.changeTable.clearSelection()},fetchData:function(){var e=this;this.$service.getRuleIndicators().then((function(t){e.dataList=t})),this.$service.getSourceSign().then((function(t){e.soureceSignList=t}))},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("get-table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("get-table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.dataList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("get-table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("get-table-selected",t[i],"add")}},created:function(){this.$root.$on("big-data-list-refresh",this.fetchData),this.fetchData()}},mb=pb,fb=(a("1467"),Object(U["a"])(mb,ub,hb,!1,null,"474d2bea",null)),vb=fb.exports,gb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[(e.showSelection,a("div"))]),a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection,"show-delete-btn":!0,"show-edit-btn":!0},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",required:""}},[a("el-input",{model:{value:e.form.tagKey,callback:function(t){e.$set(e.form,"tagKey",t)},expression:"form.tagKey"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("提 交")])],1)],1)],1)},bb=[];function yb(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Cb(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yb(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wb={name:"MyCollect",components:{tagList:dg},props:{tagName:{type:String},checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{tagName:function(e){void 0!==e&&(this.filter.tagName=e,this.fetchData())}},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:10,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},launchName:"",dialogTitle:"",totalCount:0}},methods:{handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.form={tagName:"",tagKey:"",remark:""},this.dialogTitle="新增标签",this.dialogVisible=!0},fetchData:function(){var e=this,t=Cb(Cb({},this.filter),{},{keywords:this.launchName});this.$service.getbigDataRealTimeList(t).then((function(t){var a=t;e.dataList=a.rows,e.totalCount=a.total,e.typeEnum=a.tagKey,console.log("this.dataList---\x3e",e.dataList)}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("big-data-list-refresh",this.fetchData),this.fetchData()},beforeDestroy:function(){this.$root.$off("big-data-list-refresh")}},_b=wb,Sb=(a("8644"),Object(U["a"])(_b,gb,bb,!1,null,"be0e81b0",null)),kb=Sb.exports,Ib={name:"bigDataTag",components:{labelZone:mg,ModelLabelIndex:zg,ModelLabelIndexSelect:ab,BehaviorTag:db,CirculationTag:vb,RealTimeTag:kb},props:{showSelection:{type:Boolean},currentSelectTag:{type:Array,default:function(){return[]}}},data:function(){return{activeName:"behaviorLabel",searchVal:"",labelZoneTagName:void 0,myCollectTagName:void 0,checkList:[],tagList:[],tempCheckList:[]}},methods:{handleSearch:function(){"labelZone"===this.activeName?this.labelZoneTagName=this.searchVal:this.myCollectTagName=this.searchVal},handleClearSearch:function(){this.searchVal=void 0,this.labelZoneTagName=void 0,this.myCollectTagName=void 0},fetchCheckListData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow?e.checkList=t.behaviorShow.split(","):e.checkList=["defineRemark"]}))},handleTabChange:function(){},handleGetTableSelectedData:function(e,t){this.$emit("get-table-selected",e,t)},fetchTempCheckListData:function(){var e=this;this.$service.getListDimension({type:5}).then((function(t){t&&t.behaviorShow?e.tempCheckList=t.behaviorShow.split(","):e.tempCheckList=["defineRemark"]}))},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})},handleTempCheckListChange:function(e){this.$service.saveListDimension({type:5,behaviorShow:e.join(",")})}},created:function(){this.fetchCheckListData(),this.fetchTempCheckListData()}},xb=Ib,Tb=(a("2f34"),Object(U["a"])(xb,Av,Fv,!1,null,"7e00dfca",null)),Db=Tb.exports,$b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("el-tabs",{staticClass:"label-content-wrap",on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.typeTabsList,(function(t){return a("el-tab-pane",{key:t.groupName,attrs:{label:t.groupName,name:t.groupName}},[a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)])],1)})),a("el-tab-pane",{attrs:{label:"实时标签",name:"realTime"}},[a("RealTimeTag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag},on:{"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleTableSelected}})],1)],2),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",required:""}},[a("el-input",{model:{value:e.form.tagKey,callback:function(t){e.$set(e.form,"tagKey",t)},expression:"form.tagKey"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("提 交")])],1)],1)],1)},Lb=[],Nb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[(e.showSelection,a("div"))]),a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection,"show-delete-btn":!0,"show-edit-btn":!0},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",required:""}},[a("el-input",{model:{value:e.form.tagKey,callback:function(t){e.$set(e.form,"tagKey",t)},expression:"form.tagKey"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("提 交")])],1)],1)],1)},Ob=[];function Pb(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Eb(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pb(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ab={name:"MyCollect",components:{tagList:dg},props:{tagName:{type:String},checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{tagName:function(e){void 0!==e&&(this.filter.tagName=e,this.fetchData())}},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:50,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},launchName:"",dialogTitle:"",totalCount:0}},methods:{handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.form={tagName:"",tagKey:"",remark:""},this.dialogTitle="新增标签",this.dialogVisible=!0},fetchData:function(){var e=this,t=Eb(Eb({},this.filter),{},{keyword:this.launchName});this.$service.getTagRealTime(t).then((function(t){var a=t;e.dataList=a.row,e.totalCount=a.total,e.typeEnum=a.tagKey,console.log("this.dataList---\x3e",e.dataList)}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("third-list-refresh",this.fetchData),this.fetchData()},beforeDestroy:function(){this.$root.$off("third-list-refresh")}},Fb=Ab,Vb=(a("84d0"),Object(U["a"])(Fb,Nb,Ob,!1,null,"a5a05cec",null)),Rb=Vb.exports,jb={name:"MyCollect",components:{tagList:dg,RealTimeTag:Rb},props:{checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{},data:function(){return{dataList:[],filter:{searchType:1,tagType:2,pageNum:1,pageSize:10,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},dialogTitle:"",totalCount:0,typeTabsList:[],activeName:""}},methods:{handleTabChange:function(){this.filter.tagName=this.activeName,this.fetchData()},handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.form={tagName:"",tagKey:"",remark:""},this.dialogTitle="新增标签",this.dialogVisible=!0},fetchData:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!this.filter.tagName&&this.typeTabsList.length>0&&(this.filter.tagName=this.typeTabsList[0].groupName,this.activeName=this.typeTabsList[0].groupName),console.log("this.typeTabsList1111====>",this.typeTabsList),t=this.filter,this.$service.searchByGroup(t).then((function(e){var t=e;a.dataList=t.pageInfo.list,a.totalCount=t.pageInfo.total,a.dataSourceEnum=t.DataSourceMap,a.typeEnum=t.tagKey}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()},fetchTypeData:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={searchType:2,tagType:2,pageNum:1,pageSize:10},e.next=3,this.$service.searchByGroup(t);case 3:this.typeTabsList=e.sent,console.log("this.typeTabsList====>",this.typeTabsList),this.filter.tagName=this.typeTabsList[0].groupName,this.activeName=this.typeTabsList[0].groupName;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.$on("third-list-refresh",this.fetchData),e.next=3,this.fetchTypeData();case 3:this.fetchData();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.$root.$off("third-list-refresh")}},Bb=jb,Mb=(a("3c46"),Object(U["a"])(Bb,$b,Lb,!1,null,"2052e1c4",null)),zb=Mb.exports,qb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{staticClass:"label-content-wrap",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"本地标签",name:"localLabel"}},[a("local-label-index",{attrs:{"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag,checkList:e.tempCheckList},on:{"get-table-selected":e.handleGetTableSelectedData,"change-checkList":e.handleTempCheckListChange}})],1),a("el-tab-pane",{attrs:{label:"自定义标签",name:"customTag"}},[a("custom-tag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"临时标签",name:"tempLabel"}},[a("temp-label-index",{attrs:{"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag,checkList:e.tempCheckList,crowdType:2},on:{"get-table-selected":e.handleGetTableSelectedData,"change-checkList":e.handleTempCheckListChange}})],1),a("el-tab-pane",{attrs:{label:"组合标签",name:"specialTag"}},[a("special-tag",{attrs:{tagName:e.myCollectTagName,checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1)],1)],1)},Jb=[],Gb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temp-label"},[a("temp-label-list",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],attrs:{refreshFlag:e.refreshFlag,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag,"check-list-parent":e.checkList,crowdType:e.crowdType},on:{"show-add":e.handleShowAdd,"table-selected":e.handleTableSelected,"change-checkList":e.handleCheckListChange}}),e.showList?e._e():a("temp-label-add",{attrs:{editLaunchCrowdId:e.editLaunchCrowdId,editStatus:e.editStatus,crowdType:e.crowdType},on:{"cancel-add":function(t){e.showList=!0},changeStatus:e.handleRefreshList}}),a("el-dialog",{staticClass:"organSelect",attrs:{title:"请选择创建类型",visible:e.showSelectTypeDialog,width:"30%"},on:{"update:visible":function(t){e.showSelectTypeDialog=t}}},[a("el-row",{staticClass:"type-item",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-button",{on:{click:function(t){return e.addOrEditBySql()}}},[e._v("通过SQL创建")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{on:{click:function(t){return e.addByLocalFile()}}},[e._v("通过导入本地文件创建")])],1)],1)],1)],1)},Ub=[],Hb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temp-label-list"},[a("div",{staticClass:"header"},[e.showSelection?a("div"):a("div",[2===e.crowdType?a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n         新建\n       ")]):e._e(),3===e.crowdType?a("el-radio-group",{on:{change:e.fetchData},model:{value:e.myself,callback:function(t){e.myself=t},expression:"myself"}},[a("el-radio",{attrs:{label:0}},[e._v("全部")]),a("el-radio",{attrs:{label:1}},[e._v("我的")])],1):e._e()],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"creatorName"}},[e._v("创建人")]),a("el-checkbox",{attrs:{label:"createTime"}},[e._v("创建时间")]),a("el-checkbox",{attrs:{label:"department"}},[e._v("业务部门")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)]),a("div",[a("el-table",{ref:"tempChangeTable",attrs:{data:e.tableData,border:""},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"投放ID"}}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"dmp人群投放ID",width:"120"}}),a("el-table-column",{attrs:{prop:"launchName",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"使用次数"}}),a("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.status?a("div",[t.row.history.status>=20&&t.row.history.status<30?a("div",[e._v("\n               "+e._s(t.row.history.process)+"\n             ")]):3===e.launchStatusEnum[t.row.history.status].code?a("div",[e._v("\n               计算完成\n             ")]):41===t.row.history.status?a("div",[e._v("\n               结果为0\n             ")]):2===e.launchStatusEnum[t.row.history.status].code&&23===e.launchStatusEnum[t.row.history.status].childrenCode?a("div",[e._v("\n               "+e._s(e.launchStatusEnum[t.row.history.status].childrenName)+"\n             ")]):1===e.launchStatusEnum[t.row.history.status].code||4===e.launchStatusEnum[t.row.history.status].code||7===e.launchStatusEnum[t.row.history.status].code?a("div",[4===e.crowdType?a("span",[e._v("计算")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.calculate(t.row)}}},[e._v("计算")])],1):5===e.launchStatusEnum[t.row.history.status].code?a("div",{staticStyle:{color:"red"}},[e._v("\n               计算失败\n               ")]):a("div",[e._v("\n               "+e._s(e.launchStatusEnum[t.row.history.status].name)+"\n             ")])]):e._e()]}}])}),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{label:"创建人",prop:"creatorName"}}):e._e(),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{label:"创建时间",prop:"history.createTime"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{label:"业务部门",prop:"department"}}):e._e(),a("el-table-column",{attrs:{label:"设备数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"微信数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(e.cc_format_number(t.row.history.totalWxOpenid))+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"总体耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(t.row.spentTotalTime)+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"dmp人群ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(t.row.dmpCrowdId)+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"版本",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(t.row.history.version)+"\n         ")]}}])}),e.showSelection?e._e():a("el-table-column",{attrs:{label:"操作",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[4!==e.crowdType?a("el-button",{attrs:{disabled:t.row.launchName.indexOf("命中导出_")>-1,type:"text"},on:{click:function(a){return e.condition(t.row)}}},[e._v("\n               标签条件\n             ")]):e._e(),a("el-dropdown",{attrs:{disabled:t.row.launchName.indexOf("命中导出_")>-1},on:{command:e.handleCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                 操作\n               ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[4!==e.crowdType?a("el-dropdown-item",{attrs:{command:["edit",t.row]}},[e._v("\n                   "+e._s(2!==e.crowdType?"查看":"编辑")+"\n                 ")]):e._e(),t.row.history.status&&2!==e.launchStatusEnum[t.row.history.status].code&&3!==e.crowdType?a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:delete",expression:"'hoder:launch:crowd:ver:delete'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                 ")]):e._e(),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["monitor",t.row]}},[e._v("\n                   数据监控\n                 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["shenCeAnalysis",t.row]}},[e._v("\n                   神策分析\n                 ")])],1)],1)],1)]}}],null,!1,1896470951)})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:e.launchTitle,visible:e.isShowCondition},on:{"update:visible":function(t){e.isShowCondition=t}}},[a("div",[e._v(e._s(e.selectStrategy))])]),a("el-dialog",{attrs:{title:"数据监控",visible:e.monitorDialog},on:{"update:visible":function(t){e.monitorDialog=t}}},[a("el-date-picker",{staticClass:"monitor-time",attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd"},on:{change:e.getDataMonitor},model:{value:e.monitorRangeTime,callback:function(t){e.monitorRangeTime=t},expression:"monitorRangeTime"}}),a("c-table",{staticClass:"table-overflow",attrs:{props:e.monitorTable.props,header:e.monitorTable.header,data:e.monitorTable.data}}),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.monitorOutForm.pageNum,pagesize:e.monitorOutForm.pageSize,totalcount:e.monitorTotal},on:{"handle-size-change":e.handleMonitorSizeChange,"handle-current-change":e.handleMonitorCurrentChange}})],1)],1)],1)},Kb=[];function Qb(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Wb(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qb(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qb(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yb={name:"TempLabel",props:{refreshFlag:{type:Boolean},showSelection:{type:Boolean},currentSelectTag:{type:Array},checkListParent:{type:Array},crowdType:{type:Number}},data:function(){return{myself:1,tableData:[],filter:{},launchName:void 0,launchStatusEnum:{},pageSize:10,currentPage:1,totalCount:1,isShowCondition:!1,launchTitle:"",selectStrategy:null,checkList:[],monitorDialog:!1,monitorRangeTime:void 0,monitorOutForm:{pageSize:10,pageNum:1},monitorTotal:0,monitorTable:{props:{},header:[{label:"人群名称",prop:"launch_name"},{label:"dmp人群ID",prop:"dmp_crowd_id"},{label:"临时人群版本号",prop:"version"},{label:"当前版本",prop:"cur_version"},{label:"接收设备数量",prop:"receive_total_user"},{label:"设备数量",prop:"total_user"},{label:"临时人群es index",prop:"es_index"},{label:"状态",prop:"status_name"},{label:"临时人群同步日期",prop:"update_time"},{label:"版本是否删除",render:function(e,t){return e("div",{},[e("span",{},1===t.row.del_flag?"否":"是")])}}],data:[]}}},created:function(){this.$root.$on("custom-tag-list-refresh",this.fetchData),this.fetchData()},beforeDestroy:function(){this.$root.$off("custom-tag-list-refresh")},watch:{refreshFlag:function(e){e&&this.fetchData()},currentSelectTag:"updateTableSelected",checkListParent:function(e){this.checkList=e}},methods:{handleMonitor:function(e){this.monitorDialog=!0,this.selectedRow=e,this.getDataMonitor()},getDataMonitor:function(){this.handleGetMonitorTableList()},handleGetMonitorTableList:function(){var e=this,t=this.monitorRangeTime||[],a=t[0]||"",i=t[1]||"",n=Wb({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i},this.monitorOutForm);this.$service.launchVersionList(n).then((function(t){t?(e.monitorTotal=t.pageInfo.total,e.monitorTable.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleMonitorSizeChange:function(e){this.monitorOutForm.pageSize=e,this.monitorOutForm.pageNum=1,this.handleGetMonitorTableList()},handleMonitorCurrentChange:function(e){this.monitorOutForm.pageNum=e,this.handleGetMonitorTableList()},fetchData:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize,launchName:this.launchName};3===this.crowdType&&(t.myself=this.myself),t.crowdType=this.crowdType,this.$service.getTempCrowdList(t).then((function(t){e.launchStatusEnum=t.launchStatusEnum,e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total,e.showSelection&&e.updateTableSelected(),e.tableData.forEach((function(e){e.dataSource=1}))}))},handleCommandOpreate:function(e){var t=e[0],a=e[1];switch(t){case"edit":this.handleEdit(a);break;case"del":this.del(a);break;case"monitor":this.handleMonitor(a);break;case"shenCeAnalysis":this.handleShenCeAnalysis(a);break}},handleShenCeAnalysis:function(e){var t=this,a=e.launchCrowdId;console.log("launchCrowdId",a),this.$service.sensorCrowdAnalysis({launchCrowdId:a}).then((function(e){console.log("res",e),e.result.indexOf("成功")>0||e.result.indexOf("已经发送")>0?t.$message.success(e.result):t.$message.info(e.result)}))},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},condition:function(e){var t=this;this.isShowCondition=!0,this.$service.getTempCrowd({launchCrowdId:e.launchCrowdId}).then((function(e){t.launchTitle="人群条件",t.selectStrategy=e.crowdSql}))},del:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delTempCrowd({launchCrowdId:a},"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))},handleEdit:function(e){this.$emit("show-add",e.launchCrowdId,this.launchStatusEnum[e.history.status].code)},calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.fetchData()}))},handleAdd:function(){this.$emit("show-add")},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.tempChangeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.tempChangeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.tableData;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectTag;this.tableData.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.tableData[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.tempChangeTable.clearSelection(),t.forEach((function(t){e.$refs.tempChangeTable.toggleRowSelection(t,!0)}))})):this.$refs.tempChangeTable.clearSelection()},handleCheckListChange:function(e){this.$emit("change-checkList",e)}}},Zb=Yb,Xb=(a("c4b2"),Object(U["a"])(Zb,Hb,Kb,!1,null,"3fb221fc",null)),ey=Xb.exports,ty=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"title"},[e._v(e._s(e.title))])])],1),a("div",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"crowdDefineForm",attrs:{model:e.crowdDefineForm,rules:e.crowdDefineFormRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",disabled:void 0!==e.status&&(2===e.status||3===e.status),maxlength:50},model:{value:e.crowdDefineForm.launchName,callback:function(t){e.$set(e.crowdDefineForm,"launchName",t)},expression:"crowdDefineForm.launchName"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"crowdSql"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入生成临时人群的sql语句",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.crowdSql,callback:function(t){e.$set(e.crowdDefineForm,"crowdSql",t)},expression:"crowdDefineForm.crowdSql"}})],1),a("div",{staticClass:"horizontal-line"},[a("el-form-item",{attrs:{label:"每天是否更新",prop:"autoVersion"}},[a("el-radio-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.autoVersion,callback:function(t){e.$set(e.crowdDefineForm,"autoVersion",t)},expression:"crowdDefineForm.autoVersion"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),1===e.crowdDefineForm.autoVersion?a("el-form-item",{attrs:{label:"每天更新时间点",prop:"autoLaunchTime"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss",disabled:void 0!==e.status&&(2===e.status||3===e.status),"picker-options":{selectableRange:"9:00:00 - 23:59:59"}},model:{value:e.crowdDefineForm.autoLaunchTime,callback:function(t){e.$set(e.crowdDefineForm,"autoLaunchTime",t)},expression:"crowdDefineForm.autoLaunchTime"}}),a("el-checkbox",{staticStyle:{"margin-left":"20px"},attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.checkRecvPercentage,callback:function(t){e.$set(e.crowdDefineForm,"checkRecvPercentage",t)},expression:"crowdDefineForm.checkRecvPercentage"}},[e._v("开启人群波动阈值控制")])],1):e._e()],1),1===e.crowdDefineForm.autoVersion&&e.crowdDefineForm.checkRecvPercentage&&2===e.crowdType?a("div",{staticClass:"basic-line"},[a("el-form-item",{staticClass:"one-line",attrs:{label:"Mac数量基准"}},[a("el-form-item",{staticClass:"inline-block base-line",attrs:{label:"",prop:"macInitialValue"}},[a("cc-input-thousands-int",{ref:"inputThousandsInt",on:{change:e.handleRule},model:{value:e.crowdDefineForm.macInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"macInitialValue",t)},expression:"crowdDefineForm.macInitialValue"}})],1),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比低于","label-width":"100px",prop:"macBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.macBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"macBelowPer",t)},expression:"crowdDefineForm.macBelowPer"}})],1),e._v("  %，则告警\n                "),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比高于","label-width":"100px",prop:"macAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.macAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"macAbovePer",t)},expression:"crowdDefineForm.macAbovePer"}})],1),e._v("  %，则告警\n                "),a("span",[e._v("请至少填写一组基准和环比阀值")])],1),a("el-form-item",{staticClass:"one-line",attrs:{label:"微信数量基准"}},[a("el-form-item",{staticClass:"inline-block base-line",attrs:{label:"",prop:"wxInitialValue"}},[a("cc-input-thousands-int",{model:{value:e.crowdDefineForm.wxInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"wxInitialValue",t)},expression:"crowdDefineForm.wxInitialValue"}})],1),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比低于","label-width":"100px",prop:"wxBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.wxBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"wxBelowPer",t)},expression:"crowdDefineForm.wxBelowPer"}})],1),e._v("  %，则告警\n                "),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比高于","label-width":"100px",prop:"wxAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.wxAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"wxAbovePer",t)},expression:"crowdDefineForm.wxAbovePer"}})],1),e._v("  %，则告警\n                "),a("span",[e._v("请至少填写一组基准和环比阀值")])],1),a("div",{staticClass:"basic-line-error"},[e._v(e._s(e.basicLineErrorText))])],1):e._e(),a("el-form-item",{attrs:{label:"该标签所属的视频源"}},[a("el-radio-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.videoSource,callback:function(t){e.$set(e.crowdDefineForm,"videoSource",t)},expression:"crowdDefineForm.videoSource"}},[a("el-radio",{attrs:{label:"0"}},[e._v("不区分")]),a("el-radio",{attrs:{label:"1"}},[e._v("区分")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.crowdDefineForm.videoSource,expression:"crowdDefineForm.videoSource === '1'"}],attrs:{label:""}},[a("el-checkbox-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.videoSourceIds,callback:function(t){e.$set(e.crowdDefineForm,"videoSourceIds",t)},expression:"crowdDefineForm.videoSourceIds"}},e._l(e.videoSourceList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.tagValueId}},[e._v(e._s(t.tagValue))])})),1)],1),a("el-form-item",{attrs:{label:"数据类型",prop:"calType"}},[a("el-checkbox-group",{attrs:{"aria-required":"true",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.calType,callback:function(t){e.$set(e.crowdDefineForm,"calType",t)},expression:"crowdDefineForm.calType"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i}},[e._v(e._s(t))])})),1)],1)],1)],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("返回")]),2===e.crowdType?a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")]):e._e()],1)],1)],1)},ay=[];function iy(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=ny(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function ny(e,t){if(e){if("string"===typeof e)return ry(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ry(e,t):void 0}}function ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var sy={components:{CcInputThousandsInt:Zd},data:function(){return{strategyPlatform:[],launchPlatform:[],getStrategyCrowds:[],title:"",basicLineErrorText:"",crowdDefineForm:{launchCrowdId:void 0,launchName:"",crowdSql:"",autoVersion:0,calType:["0"],autoLaunchTime:void 0,basicLine:void 0,macInitialValue:void 0,macAbovePer:void 0,macBelowPer:5,wxInitialValue:void 0,wxAbovePer:void 0,wxBelowPer:void 0,checkRecvPercentage:!1,videoSource:"0",videoSourceIds:[]},status:void 0,crowdDefineFormRules:{launchName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],crowdSql:[{required:!0,message:"请输入SQL语句",trigger:"blur"}],autoVersion:[{required:!0,message:"请选择每天是否更新",trigger:"blur"}],autoLaunchTime:[{required:!0,message:"请选择每天更新时间点",trigger:"blur"}],calType:[{required:!0,message:"请至少勾选一项数据类型",trigger:"blur"}]},filterText:"",crowdData:[],effectTimeList:[],estimateItems:[],tagsList:[],formatTimeSet:void 0,firstTimeLoad:!1,alphaData:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],percent:[],copiesItem:[],videoSourceList:[]}},props:["editLaunchCrowdId","model","editStatus","crowdType"],watch:{"crowdDefineForm.videoSource":function(e){"0"===e&&(this.crowdDefineForm.videoSourceIds=[])}},created:function(){var e=this;this.getAddList(),this.handleGetVideoList(),null!=this.editLaunchCrowdId&&void 0!=this.editLaunchCrowdId?(this.title="编辑临时标签",3!==this.crowdType&&4!==this.crowdType||(this.title="查看"),this.$service.getTempCrowd({launchCrowdId:this.editLaunchCrowdId}).then((function(t){var a=t,i=a.macInitialValue,n=a.macAbovePer,r=a.macBelowPer,s=a.wxInitialValue,o=a.wxAbovePer,l=a.wxBelowPer;e.crowdDefineForm={launchCrowdId:a.launchCrowdId,launchName:a.launchName,crowdSql:a.crowdSql,autoVersion:a.autoVersion,calType:a.calType.split(","),autoLaunchTime:a.autoLaunchTime,macInitialValue:null===i?void 0:i,macAbovePer:null===n?void 0:n,macBelowPer:null===r?void 0:r,wxInitialValue:null===s?void 0:s,wxAbovePer:null===o?void 0:o,wxBelowPer:null===l?void 0:l,videoSource:"0"===a.videoSource?"0":"1",videoSourceIds:"0"===a.videoSource?[]:a.videoSource.split(","),checkRecvPercentage:Boolean(a.checkRecvPercentage)},e.status=e.editStatus,3!==e.crowdType&&4!==e.crowdType||(e.status=2)}))):this.title="新增临时标签"},methods:{callback:function(){this.$emit("changeStatus",!0)},removeTag:function(e){this.crowdForm.policyCrowdIds=this.crowdForm.policyCrowdIds.filter((function(t){if(t.split("_")[0]!=e)return t}))},handleRule:function(){var e=JSON.parse(JSON.stringify(this.crowdDefineForm)),t=e.macInitialValue,a=e.macBelowPer,i=e.wxInitialValue,n=e.wxBelowPer;t=t&&t.toString().replace(/,/g,""),i=i&&i.toString().replace(/,/g,""),this.validateBasicLine(t,a,i,n)},validateBasicLine:function(e,t,a,i){var n=(void 0===e||""===e)&&(void 0===t||""===t),r=(void 0===a||""===a)&&(void 0===i||""===i);return n&&r?(this.basicLineErrorText="请至少填写一组基准和环比阀值",!1):void 0===e||""===e||void 0!==t&&""!==t?void 0===t||""===t||void 0!==e&&""!==e?void 0===a||""===a||void 0!==i&&""!==i?void 0===i||""===i||void 0!==a&&""!==a?(this.basicLineErrorText="",!0):(this.basicLineErrorText="请把微信数量基准这个选项填写完整",!1):(this.basicLineErrorText="请把微信数量环比低于这个选项填写完整",!1):(this.basicLineErrorText="请把Mac数量基准这个选项填写完整",!1):(this.basicLineErrorText="请把Mac数量环比低于这个选项填写完整",!1)},addSubmit:function(){var e=this;this.$refs.crowdDefineForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.crowdDefineForm);if(a=JSON.parse(a),a.checkRecvPercentage=Number(e.crowdDefineForm.checkRecvPercentage),a.calType=a.calType.join(","),a.crowdSql=a.crowdSql.trim(),"1"===a.videoSource){if(0===a.videoSourceIds.length)return void e.$message.error("请必须勾选至少一种内容源！");a.videoSource=a.videoSourceIds.join(",")}var i=a,n=i.macInitialValue,r=i.macBelowPer,s=i.wxInitialValue,o=i.wxBelowPer;n=n&&n.toString().replace(/,/g,""),s=s&&s.toString().replace(/,/g,""),a.macInitialValue=n,a.wxInitialValue=s,(1!==a.autoVersion||1!==a.checkRecvPercentage||e.validateBasicLine(n,r,s,o))&&(2===e.crowdType&&(a.tempCrowd=!0),null!=e.editLaunchCrowdId&&void 0!=e.editLaunchCrowdId?e.$service.updateTempCrowd(a,"编辑成功").then((function(){e.callback()})):e.$service.addTempCrowd(a,"新增成功").then((function(){e.callback()})))}))},cancelAdd:function(){this.$emit("cancel-add")},getAddList:function(){var e=this;this.$service.addMultiVersionCrowd(1).then((function(t){e.launchPlatform=t.biLists,e.effectTimeList=t.efTime.map((function(e){return{label:e+"天",value:e}}))})),this.$service.getEstimateType().then((function(t){e.estimateItems=t})),this.$service.searchTags().then((function(t){e.tagsList=t}))},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=iy(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},handleGetVideoList:function(){var e=this;this.$service.getVideoSourceList().then((function(t){e.videoSourceList=t}))}}},oy=sy,ly=(a("0652"),Object(U["a"])(oy,ty,ay,!1,null,"69dd9bb4",null)),cy=ly.exports,dy={name:"TempLabel",components:{tempLabelList:ey,tempLabelAdd:cy},props:{showSelection:{type:Boolean},currentSelectTag:{type:Array},checkList:{type:Array},crowdType:{type:Number}},data:function(){return{showList:!0,editLaunchCrowdId:void 0,editStatus:void 0,refreshFlag:!1,showSelectTypeDialog:!1,showAdd2:!1}},created:function(){},methods:{handleShowAdd:function(e,t){this.showList=!1,this.refreshFlag=!1,this.editLaunchCrowdId=e,this.editStatus=t},addOrEditBySql:function(e,t){this.showSelectTypeDialog=!1,this.showList=!1,this.refreshFlag=!1,this.editLaunchCrowdId=e,this.editStatus=t},addByLocalFile:function(){this.showSelectTypeDialog=!1,this.showAdd2=!0},handleRefreshList:function(){this.showList=!0,this.refreshFlag=!0},handleCloseAddForm:function(){this.showAdd2=!1},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleCheckListChange:function(e){this.$emit("change-checkList",e)}}},uy=dy,hy=(a("4601"),Object(U["a"])(uy,Gb,Ub,!1,null,"26c80ade",null)),py=hy.exports,my=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temp-label"},[a("list",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],attrs:{refreshFlag:e.refreshFlag,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag,"check-list-parent":e.checkList},on:{"show-add":e.handleShowAdd,"table-selected":e.handleTableSelected,"change-checkList":e.handleCheckListChange}}),e.showAdd2?a("group-image-add",{attrs:{title:e.title,isUpload:!1,localCrowdId:e.localCrowdId,crowdName:e.crowdName,uploadTipMessage:e.uploadTipMessage},on:{"close-add":e.handleCloseAddForm,"upsert-end":e.handleRefreshList,"save-form":e.handleSave,currentFileType:e.handleChangeType},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{label:"标签名称"}},[a("el-input",{attrs:{maxlength:50},model:{value:t.slotData.name,callback:function(a){e.$set(t.slotData,"name",a)},expression:"slotData.slotData.name"}})],1)]}},{key:"temlDownload",fn:function(){return[a("a",{staticClass:"temlDownload",attrs:{download:e.templTagName,href:""+e.publicPath+e.templTagName}},[e._v("模板下载")])]},proxy:!0}],null,!1,1694299016)}):e._e()],1)},fy=[],vy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temp-label-list"},[a("div",{staticClass:"header"},[e.showSelection?a("div"):a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n        新建\n      ")])],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"creatorName"}},[e._v("创建人")]),a("el-checkbox",{attrs:{label:"createTime"}},[e._v("创建时间")]),a("el-checkbox",{attrs:{label:"department"}},[e._v("业务部门")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)]),a("div",[a("el-table",{ref:"tempChangeTable",attrs:{data:e.tableData,border:""},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"ID"}}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"投放ID"}}),a("el-table-column",{attrs:{prop:"launchName",label:"名称"}}),a("el-table-column",{attrs:{prop:"count",label:"使用次数"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.onOffCrowd?a("el-tag",[e._v("生效中")]):a("el-tag",{attrs:{type:"info"}},[e._v("已下架")])]}}])}),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{label:"创建人",prop:"creatorName"}}):e._e(),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{label:"创建时间",prop:"history.createTime"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{label:"业务部门",prop:"department"}}):e._e(),a("el-table-column",{attrs:{label:"设备数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"微信数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.cc_format_number(t.row.history.totalWxOpenid))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.history.version)+"\n        ")]}}])}),e.showSelection?e._e():a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n              编辑\n            ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.onOrOffLocalCrowd(t.row)}}},[e._v("\n              "+e._s(t.row.onOffCrowd?"下架":"上架")+"\n            ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.del(t.row)}}},[e._v("\n              删除\n            ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.launchShence(t.row)}}},[e._v("\n              神策分析\n            ")])],1)]}}],null,!1,1202591242)})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:e.launchTitle,visible:e.isShowCondition},on:{"update:visible":function(t){e.isShowCondition=t}}},[a("div",[e._v(e._s(e.selectStrategy))])])],1)},gy=[],by={name:"TempLabel",props:{refreshFlag:{type:Boolean},showSelection:{type:Boolean},currentSelectTag:{type:Array},checkListParent:{type:Array}},data:function(){return{tableData:[],filter:{},launchName:void 0,launchStatusEnum:{},pageSize:10,currentPage:1,totalCount:1,isShowCondition:!1,launchTitle:"",selectStrategy:null,checkList:[]}},created:function(){this.$root.$on("custom-tag-list-refresh",this.fetchData),this.fetchData()},watch:{refreshFlag:function(e){e&&this.fetchData()},currentSelectTag:"updateTableSelected",checkListParent:function(e){this.checkList=e}},methods:{launchShence:function(e){var t=this,a=e.launchCrowdId;console.log("launchCrowdId",a),this.$service.sensorAnalysis({launchCrowdId:a}).then((function(e){console.log("res",e),e.data.indexOf("成功")>0||e.data.indexOf("已经发送")>0?t.$message.success(e.data):t.$message.info(e.data)}))},fetchData:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize,search:this.launchName};this.$service.getLocalCrowdList(t).then((function(t){e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total,e.showSelection&&e.updateTableSelected(),e.tableData.forEach((function(e){e.dataSource=1}))}))},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},condition:function(e){var t=this;this.isShowCondition=!0,this.$service.getTempCrowd({launchCrowdId:e.launchCrowdId}).then((function(e){t.launchTitle="人群条件",t.selectStrategy=e.crowdSql}))},del:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delTempCrowd({launchCrowdId:a},"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))},onOrOffLocalCrowd:function(e){var t=this,a=e.launchCrowdId,i={onOffCrowd:!e.onOffCrowd,localCrowdId:a},n=i.onOffCrowd?"上架成功":"下架成功";this.$service.OnOrOffLocalCrowd(i,n).then((function(){t.fetchData()}))},handleEdit:function(e){var t=e.launchName,a=e.launchCrowdId;this.$emit("show-add",a,t)},calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.fetchData()}))},handleAdd:function(){this.$emit("show-add")},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.tempChangeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.tempChangeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.tableData;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectTag;this.tableData.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.tableData[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.tempChangeTable.clearSelection(),t.forEach((function(t){e.$refs.tempChangeTable.toggleRowSelection(t,!0)}))})):this.$refs.tempChangeTable.clearSelection()},handleCheckListChange:function(e){this.$emit("change-checkList",e)}}},yy=by,Cy=(a("075f"),Object(U["a"])(yy,vy,gy,!1,null,"687118d4",null)),wy=Cy.exports,_y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showAddForm,title:e.title},on:{"update:visible":function(t){e.showAddForm=t},close:function(t){return e.$emit("close-add")}}},[a("el-form",{ref:"addForm",attrs:{model:e.form,rules:e.addFormRule,"label-position":"left","label-width":"80px"}},[e._t("default",null,{slotData:e.slotData}),a("el-form-item",{attrs:{label:"文件类型",prop:"type"}},[a("el-radio",{attrs:{label:0},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("上传excel文件")]),a("el-radio",{attrs:{label:1},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("上传txt文件")])],1),a("el-form-item",{attrs:{label:""}},[a("input",{ref:"upload",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.handleSelectFile}}),a("el-button",{on:{click:e.handleUploadFile}},[e._v("上传")]),a("span",[e._v("【请上传只包含mac地址的单列文件】")]),e._t("temlDownload"),""!==e.selectedFile?a("div",[e._v(e._s(e.selectedFile.name)+" 上传成功")]):e._e(),a("div",{staticClass:"error-tips"},[e._v(e._s(e.message))]),a("div",{staticClass:"error-tips"},[e._v(e._s(e.uploadTipMessage))])],2),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("保存")])],1)],2)],1)},Sy=[],ky={name:"Add",data:function(){return{slotData:{name:""},form:{type:0,fileName:void 0,originFileName:void 0},message:"",showAddForm:!0,addFormRule:{type:[{required:!0,message:"请选择文件类型"}]},selectedFile:""}},props:{title:{type:String,default:"请上传MAC包"},isUpload:{type:Boolean,default:!0},localCrowdId:{type:Number,default:void 0},crowdName:{type:String,default:void 0},uploadTipMessage:{type:String,default:void 0}},watch:{"form.type":function(e){this.message="",this.resetFormFile(),this.$refs.upload.value="",this.$emit("currentFileType",e)}},methods:{handleSelectFile:function(e){var t=this;if(this.message="",""===e.currentTarget.files[0])return this.message="文件不能为空",void this.resetFormFile();var a=e.currentTarget.files[0].name,i="xls"===a.split(".")[1],n="xlsx"===a.split(".")[1],r="txt"===a.split(".")[1];if(0===this.form.type){if(!i&&!n)return this.message="上传模板只能是 xls、xlsx格式!",void this.resetFormFile()}else if(1===this.form.type&&!r)return this.message="上传模板只能是txt格式!",void this.resetFormFile();var s=e.currentTarget.files[0];this.selectedFile=s;var o=new FormData;o.append("fileName",s),this.isUpload&&this.$service.devicePortraitFileUpload(o,"文件上传成功").then((function(e){t.form.fileName=e.fileName,t.form.originFileName=e.originalFilename})).catch((function(e){t.resetFormFile()}))},resetFormFile:function(){this.form.fileName=void 0,this.form.originFileName=void 0},handleUploadFile:function(){void 0!==this.form.type?this.$refs.upload.click():this.message="请先选择文件类型！"},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.form,i=JSON.parse(JSON.stringify(a));t.isUpload&&void 0!=a.fileName&&void 0!=a.originFileName?t.$emit("save-form",i,t.slotData.name):t.isUpload||""===t.selectedFile?t.message="请检查文件格式是否不对或者为空":t.$emit("save-form",t.selectedFile,t.slotData.name)}))}},created:function(){null!=this.localCrowdId&&void 0!=this.crowdName&&(this.slotData.name=this.crowdName)}},Iy=ky,xy=(a("966d"),Object(U["a"])(Iy,_y,Sy,!1,null,"301ab44f",null)),Ty=xy.exports,Dy={name:"TempLabel",components:{list:wy,groupImageAdd:Ty},props:{showSelection:{type:Boolean},currentSelectTag:{type:Array},checkList:{type:Array}},data:function(){return{showList:!0,editLaunchCrowdId:void 0,editStatus:void 0,refreshFlag:!1,showSelectTypeDialog:!1,showAdd2:!1,title:"新建本地标签",localCrowdId:"",crowdName:"",addOrEditStatus:"",publicPath:"/",templTagName:"static/localtag.xlsx",uploadTipMessage:""}},created:function(){},methods:{handleSave:function(e,t){var a=this,i=new FormData;i.append("file",e),i.append("launchName",t),"add"===this.addOrEditStatus?this.$service.addLocalCrowd(i,"保存成功").then((function(){a.$root.$emit("local-label-list-refresh"),a.handleCloseAddForm()})).catch((function(e){a.uploadTipMessage=e.message})):this.$service.updateLocalCrowd({formData:i,id:this.localCrowdId},"编辑成功").then((function(){a.$root.$emit("local-label-list-refresh"),a.handleCloseAddForm()}))},handleShowAdd:function(e,t){this.showAdd2=!0,this.refreshFlag=!1,this.localCrowdId=e,this.crowdName=t,this.addOrEditStatus=null!=this.localCrowdId&&void 0!=this.crowdName?"edit":"add","edit"===this.addOrEditStatus?this.title="编辑本地标签":this.title="新建本地标签"},handleRefreshList:function(){this.showList=!0,this.refreshFlag=!0},handleCloseAddForm:function(){this.showAdd2=!1,this.uploadTipMessage="",this.templTagName="static/localtag.xlsx"},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleChangeType:function(e){this.templTagName=1===e?"static/localtag.txt":"static/localtag.xlsx"}}},$y=Dy,Ly=(a("8535"),Object(U["a"])($y,my,fy,!1,null,"44ff6c3d",null)),Ny=Ly.exports,Oy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[e.showSelection?a("div"):a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n                新建\n              ")])],1),a("div",{staticClass:"search-input"},[a("el-input",{staticClass:"header-input",attrs:{placeholder:"支持按标签名、ID搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.launchName,callback:function(t){e.launchName=t},expression:"launchName"}}),a("i",{staticClass:"el-icon-cc-search icon-fixed",on:{click:e.fetchData}})],1)]),a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection,"show-delete-btn":!0,"show-edit-btn":!0},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",required:""}},[a("el-input",{model:{value:e.form.tagKey,callback:function(t){e.$set(e.form,"tagKey",t)},expression:"form.tagKey"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("提 交")])],1)],1)],1)},Py=[];function Ey(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ay(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ey(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fy={name:"MyCollect",components:{tagList:dg},props:{tagName:{type:String},checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{tagName:function(e){void 0!==e&&(this.filter.tagName=e,this.fetchData())}},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:10,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},launchName:"",dialogTitle:"",totalCount:0}},methods:{handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.form={tagName:"",tagKey:"",remark:""},this.dialogTitle="新增标签",this.dialogVisible=!0},fetchData:function(){var e=this,t=Ay(Ay({},this.filter),{},{launchName:this.launchName});this.$service.specialTagList(t).then((function(t){var a=t;e.dataList=a.pageInfo.list,e.totalCount=a.pageInfo.total,e.dataSourceEnum=a.DataSourceMap,e.typeEnum=a.tagKey}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("custom-tag-list-refresh",this.fetchData),this.fetchData()}},Vy=Fy,Ry=(a("1072"),Object(U["a"])(Vy,Oy,Py,!1,null,"413607e3",null)),jy=Ry.exports,By=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[e.showSelection?a("div"):a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n        新建\n      ")])],1)]),a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),e.definedTagId?a("TagCategoryUpsert",{ref:"tagCategoryUpsert",attrs:{"current-tag-category":e.tagCategory,"type-enum":e.typeEnum,"data-source-enum":e.dataSourceEnum,definedTagId:e.definedTagId},on:{"upsert-end":e.fetchData}}):e._e()],1)},My=[],zy={name:"MyCollect",components:{tagList:dg,TagCategoryUpsert:ht},props:{checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},data:function(){return{dataList:[],filter:{searchType:1,tagType:1,pageNum:1,pageSize:10,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},dialogTitle:"",totalCount:0,tagCategory:{},definedTagId:""}},methods:{handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.tagCategory={},this.$refs.tagCategoryUpsert.showCreateDialog=!0},fetchData:function(){var e=this,t=this.filter;this.$service.searchByGroup(t).then((function(t){var a=t;e.dataList=a.pageInfo.list,e.totalCount=a.pageInfo.total,e.dataSourceEnum=a.DataSourceMap,e.typeEnum=a.tagKey,e.definedTagId=a.groupId}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("custom-tag-list-refresh",this.fetchData),this.fetchData()}},qy=zy,Jy=(a("389a"),Object(U["a"])(qy,By,My,!1,null,"a7cb8ee4",null)),Gy=Jy.exports,Uy={name:"labelSquareAA",components:{tempLabelIndex:py,specialTag:jy,LocalLabelIndex:Ny,CustomTag:Gy},props:{showSelection:{type:Boolean},currentSelectTag:{type:Array,default:function(){return[]}}},data:function(){return{activeName:"localLabel",searchVal:"",labelZoneTagName:void 0,myCollectTagName:void 0,checkList:[],tagList:[],tempCheckList:[]}},methods:{handleClearSearch:function(){this.searchVal=void 0,this.labelZoneTagName=void 0,this.myCollectTagName=void 0},fetchCheckListData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow?e.checkList=t.behaviorShow.split(","):e.checkList=["defineRemark"]}))},handleTabChange:function(){},handleGetTableSelectedData:function(e,t){this.$emit("get-table-selected",e,t)},removeTag:function(e){this.$emit("removeTag",e)},fetchTempCheckListData:function(){var e=this;this.$service.getListDimension({type:5}).then((function(t){t&&t.behaviorShow?e.tempCheckList=t.behaviorShow.split(","):e.tempCheckList=["defineRemark"]}))},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})},handleTempCheckListChange:function(e){this.$service.saveListDimension({type:5,behaviorShow:e.join(",")})}},created:function(){this.fetchCheckListData(),this.fetchTempCheckListData()}},Hy=Uy,Ky=(a("b00d"),Object(U["a"])(Hy,qb,Jb,!1,null,"34d44a6f",null)),Qy=Ky.exports,Wy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection,"show-delete-btn":!0,"show-edit-btn":!0},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}}),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",required:""}},[a("el-input",{model:{value:e.form.tagKey,callback:function(t){e.$set(e.form,"tagKey",t)},expression:"form.tagKey"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("提 交")])],1)],1)],1)},Yy=[],Zy={name:"MyCollect",components:{tagList:dg},props:{tagName:{type:String},checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{tagName:function(e){void 0!==e&&(this.filter.tagName=e,this.fetchData())}},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:10,tagName:void 0},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagKey:"",remark:""},launchName:"",dialogTitle:"",totalCount:0}},methods:{handleDelete:function(e){var t=this;this.$service.deleteSpecialTagType(e).then((function(){t.fetchData(),t.$message("删除成功")}))},handleEdit:function(e){var t=e.tagId,a=e.tagName,i=e.tagKey,n=e.remark;this.form.tagId=t,this.form.tagName=a,this.form.tagKey=i,this.form.remark=n||"",this.dialogTitle="编辑种类",this.dialogVisible=!0},handleAddOrEdit:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.form.tagId){e.next=5;break}return e.next=3,this.$service.editSpecialTagType(this.form);case 3:e.next=7;break;case 5:return e.next=7,this.$service.addSpecialTagType(this.form);case 7:this.fetchData(),this.dialogVisible=!1,this.$message.success("保存成功");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.form={tagName:"",tagKey:"",remark:""},this.dialogTitle="新增标签",this.dialogVisible=!0},fetchData:function(){var e=this;this.$service.getMytopMax30().then((function(t){e.dataList=t||[]}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("my-top-list-refresh",this.fetchData),this.fetchData()},beforeDestroy:function(){this.$root.$off("my-top-list-refresh")}},Xy=Zy,eC=(a("e53c"),Object(U["a"])(Xy,Wy,Yy,!1,null,"720808fc",null)),tC=eC.exports;function aC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function iC(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aC(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var nC={name:"crowdCompute",components:{BigDataTag:Db,ThirdPartyTag:zb,CustomTag:Qy,MyTopMax30:tC,tagList:dg},props:["recordId","initTagList","policyId"],computed:iC(iC({},Object(Vr["b"])(["policyName"])),{},{dataSourceColorEnum:function(){return ya}}),data:function(){return{dataList:[],filter:{groupId:void 0,tagName:void 0},pagination:{pageNum:1,pageSize:10,total:0},dataSourceEnum:{},typeEnum:{},loading:!0,searchAllVal:"",searchVal:"",activeName:"myTop",labelZoneTagName:void 0,myCollectTagName:void 0,checkList:[],tagList:[],showSelection:!0,addForm:this.genDefaultForm(),addFormRules:{policyName:[{required:!0,message:"请填写策略名称",trigger:"blur"}]},tempCheckList:[],bottomHeight:"169px"}},watch:{tagList:{handler:function(e){var t=this;this.addForm.crowdTagCrowdIds=[],this.addForm.conditionTagIds=[],e.forEach((function(e){12===e.dataSource?t.addForm.crowdTagCrowdIds.push(e.tagId):t.addForm.conditionTagIds.push(e.tagId)}))}}},methods:{handleReset:function(){this.searchAllVal="",this.handleSearch()},handleSizeChange:function(e){this.pagination.pageSize=e,this.handleSearch()},handleCurrentChange:function(e){this.pagination.pageNum=e,this.handleSearch()},handleSearch:function(){var e=this,t=this.searchAllVal;this.filter.tagName=t;var a=iC(iC(iC({},this.filter),this.pagination),{},{groupId:0});this.$service.getTagGroupTreeList(a).then((function(t){e.dataList=t.pageInfo.list,e.dataSourceEnum=t.lableDataSourceEnum,e.typeEnum=t.tagsTypeEnum,e.loading=!1,e.pagination.total=t.pageInfo.total}))},saveAndNext:function(e){var t=this;this.$refs.addForm.validate((function(a){if(!a)return!1;var i=JSON.parse(JSON.stringify(t.addForm));i.conditionTagIds.length;var n=t.$parent.isDynamicPeople;if(i.conditionTagIds=i.conditionTagIds.join(","),i.crowdTagCrowdIds=i.crowdTagCrowdIds.join(","),n){var r={policyName:i.policyName,conditionTagIds:i.conditionTagIds,crowdTagCrowdIds:i.crowdTagCrowdIds,smart:n};t.policyId?(r.policyId=t.policyId,t.$service.policyUpate(r).then((function(a){var i=t.policyId,n=r.policyName;1===e?t.$emit("dynamicPolicyNextStep",t.tagList,i,n):(t.$message({type:"success",message:"即将自动跳转至策略列表页"}),t.$emit("handleDirectStrategyList"))}))):t.$service.policyAddSave(r).then((function(a){var i=a.policyId,n=a.policyName;1===e?t.$emit("dynamicPolicyNextStep",t.tagList,i,n):(t.$message({type:"success",message:"即将自动跳转至策略列表页"}),t.$emit("handleDirectStrategyList"))}))}else if(1===e)t.addForm.recordId?t.$service.oneDropPolicyAddSave(i).then((function(e){e.policyId?t.$confirm("保存失败，该策略维度已存在！请在策略"+e.policyId+"中新建人群即可","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"即将自动跳转至策略列表页"}),t.$emit("handleDirectStrategyList")})).catch((function(){})):t.$emit("policyNextStep",t.addForm.recordId,t.tagList)})):t.$service.oneDropPolicyAddSave(i).then((function(e){t.addForm.recordId=e.recordId,t.$emit("policyNextStep",t.addForm.recordId,t.tagList)}));else{var s={policyName:i.policyName,conditionTagIds:i.conditionTagIds,crowdTagCrowdIds:i.crowdTagCrowdIds};t.$service.policyAddSave(s).then((function(e){t.$emit("handleDirectStrategyList"),t.$emit("resetFormData")}))}}))},handelBack:function(){this.$router.push({name:"strategyList"})},genDefaultForm:function(){return{recordId:void 0,policyName:"",conditionTagIds:[],crowdTagCrowdIds:[]}},fetchCheckListData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow?e.checkList=t.behaviorShow.split(","):e.checkList=["defineRemark"]}))},fetchTempCheckListData:function(){var e=this;this.$service.getListDimension({type:5}).then((function(t){t&&t.behaviorShow?e.tempCheckList=t.behaviorShow.split(","):e.tempCheckList=["defineRemark"]}))},handleTabChange:function(){switch(this.activeName){case"myTop":this.$root.$emit("my-top-list-refresh");break;case"bigDataTag":this.$root.$emit("big-data-list-refresh");break;case"third":this.$root.$emit("third-list-refresh");break;case"customTag":this.$root.$emit("custom-tag-list-refresh");break}},handleClearSearch:function(){this.searchVal=void 0,this.labelZoneTagName=void 0,this.myCollectTagName=void 0},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})},removeTag:function(e){this.tagList.splice(this.tagList.indexOf(e),1)},handleGetTableSelectedData:function(e,t){var a=this.tagList;if("add"===t){for(var i=-1,n=0;n<a.length;n++)if(a[n].tagId===e.tagId)return void(i=n);-1===i&&this.tagList.push(e)}else for(var r=-1,s=0;s<a.length;s++)if(a[s].tagId===e.tagId)return r=s,void this.tagList.splice(r,1)},getPolicyDetail:function(){var e=this;this.$service.oneDropGetPolicyDetail(this.recordId).then((function(t){var a=t;a.conditionTagIds=""===a.conditionTagIds?[]:a.conditionTagIds.split(",").map((function(e){return parseInt(e)})),a.crowdTagCrowdIds=a.crowdTagCrowdIds?a.crowdTagCrowdIds.split(",").map((function(e){return parseInt(e)})):[],e.addForm={recordId:e.recordId,policyName:a.policyName,conditionTagIds:a.conditionTagIds,crowdTagCrowdIds:a.crowdTagCrowdIds}}))}},created:function(){this.fetchCheckListData(),this.fetchTempCheckListData(),this.recordId&&(this.getPolicyDetail(),this.tagList=this.initTagList),this.policyId&&(this.tagList=this.initTagList,this.addForm.policyName=this.policyName,this.addForm.conditionTagIds=[],this.addForm.crowdTagCrowdIds=[],this.initTagList.forEach((function(e){12===e.dataSource?this.addForm.crowdTagCrowdIds.push(parseInt(e.tagId)):this.addForm.conditionTagIds.push(parseInt(e.tagId))})),this.addForm.policyId=this.policyName)}},rC=nC,sC=(a("0775"),Object(U["a"])(rC,Pv,Ev,!1,null,"16e669c9",null)),oC=sC.exports;function lC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function cC(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lC(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dC={name:"OneTouchDrop",components:{createCrowd:ys,LaunchToBusiness:Ts,newCreatePolicy:oC,DynamicPeopleSetting:qr},props:{initPolicyId:{type:[String,Number],default:""},initPolicyName:{type:[String],default:""},dynamicMode:{type:[String],default:"add"}},computed:cC({},Object(Vr["b"])(["policyName"])),data:function(){return{activeStep:0,recordId:void 0,tempPolicyAndCrowd:{},initTagList:[],routeSource:void 0,peoplePageCheck:!1,isDynamicPeople:!1,programmeId:void 0,reloadFlag:!0,policyId:void 0,crowdId:void 0}},watch:{$route:{handler:function(){var e=this;console.log("this.$route.params.refresh==>",this.$route.params.refresh),this.$route.params.refresh&&(this.initTagList=[],this.reloadFlag=!1,this.resetFormData(),this.$nextTick((function(){e.reloadFlag=!0})))},deep:!0},"$route.params.source":function(e,t){e!=t&&(this.routeSource=e||void 0)}},beforeRouteEnter:function(e,t,a){a((function(e){"strategyList"===t.name&&(e.activeStep=0,a()),a()}))},methods:{handleNextStep:function(e,t){this.activeStep=e+1,this.recordId=t},handleCrowdNextStep:function(e,t,a){this.activeStep=e+1,this.recordId=t,this.tempPolicyAndCrowd=a},handleDynamicCrowdNextStep:function(e,t,a,i){this.activeStep=e+1,this.policyId=t,this.$store.commit("setPolicyName",a),this.crowdId=i},handleDynamicCrowdPrevStep:function(e,t,a,i){this.activeStep=e-1,this.policyId=t,this.$store.commit("setPolicyName",a),this.crowdId=i},handleCrowdPrevStep:function(e,t){this.activeStep=e-1,this.recordId=t},handleLaunchPrevStep:function(e){this.activeStep=e-1},handlePolicyNextStep:function(e,t){this.activeStep=1,this.recordId=e,this.initTagList=t},handleDynamicPolicyNextStep:function(e,t,a){this.activeStep=1,this.policyId=t,this.$store.commit("setPolicyId",t),this.$store.commit("setPolicyName",a),this.initTagList=e,console.log("tagList===",e)},resetFormData:function(){this.activeStep=0,this.recordId=void 0,this.isDynamicPeople=!1,this.crowdId=void 0,this.policyId=void 0,this.$store.commit("setPolicyId",void 0),this.$store.commit("setPolicyName",void 0)},handleDirectStrategyList:function(){this.$root.$emit("stratege-list-refresh"),this.routeSource?this.$router.push({path:"launch/myPolicy"}):this.$router.push({path:"launch/strategyList"})}},created:function(){this.$route.params.source&&(this.routeSource=this.$route.params.source),this.$store.commit("setEditSchemeConfig",!1),"edit"===this.dynamicMode&&(this.activeStep=1,this.isDynamicPeople=!0,this.policyId=this.initPolicyId,this.$store.commit("setPolicyName",this.initPolicyName))}},uC=dC,hC=(a("40a2"),Object(U["a"])(uC,Nv,Ov,!1,null,"07a5421c",null)),pC=hC.exports,mC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"anomaly"},[a("div",{staticClass:"anomaly-header"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("div",{staticClass:"anomaly-content"},[a("div",{staticClass:"anomaly-content--item"},[a("div",{staticClass:"day-select"},[a("el-select",{model:{value:e.day,callback:function(t){e.day=t},expression:"day"}},[a("el-option",{attrs:{label:"近7天",value:"last7Day"}},[e._v("近7天")]),a("el-option",{attrs:{label:"近15天",value:"last15Day"}},[e._v("近15天")]),a("el-option",{attrs:{label:"近30天",value:"last30Day"}},[e._v("近30天")]),a("el-option",{attrs:{label:"30天以上",value:"over30Day"}},[e._v("30天以上")])],1)],1),a("div",{ref:"longTimeNoUse",staticClass:"anomaly-item"}),a("div",{ref:"tempCrowd",staticClass:"anomaly-item"})]),a("div",{staticClass:"anomaly-content--item"},[a("div",{ref:"abTest",staticClass:"anomaly-item"}),a("div",{ref:"tempCrowdAnomaly",staticClass:"anomaly-item"})]),a("div",{staticClass:"anomaly-content--item"},[a("div",{ref:"dmpApiDistribute",staticClass:"anomaly-item"}),a("div",{ref:"dmpApiSuccess",staticClass:"anomaly-item"})]),a("div",{staticClass:"anomaly-content--item"},[a("div",{ref:"dmpApiFail",staticClass:"anomaly-item"}),a("div",{ref:"dmpApiFailReason",staticClass:"anomaly-item"})]),a("div",{staticClass:"anomaly-content--item"},[a("div",{ref:"taskStability",staticClass:"anomaly-item"}),a("div",{ref:"taskStabilityErrorReason",staticClass:"anomaly-item"})]),a("div",{staticClass:"anomaly-content--item"},[a("div",{ref:"QPS",staticClass:"anomaly-item"}),a("div",{ref:"searchCrowdTime",staticClass:"anomaly-item"})]),a("div",{staticClass:"anomaly-content--item"},[a("div",{ref:"hitOverFifty",staticClass:"anomaly-item"}),a("div",{ref:"hitToZero",staticClass:"anomaly-item"})])])])},fC=[],vC={name:"anomalyEchartsAA",data:function(){return{time:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4}},day:"last7Day"}},watch:{time:function(e,t){0!==t.length&&e!==t&&this.fetchData()},day:function(e,t){void 0!==t&&e!==t&&this.getLongTimeNoUse()}},methods:{setLineEchart:function(e,t,i,n){var r=a("313e"),s=r.init(this.$refs[e]);s.setOption({title:{text:t},tooltip:{trigger:"axis"},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2}},series:[{data:n,type:"line"}]})},setLinesEchart:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return s.cc_format_number(e.data)}},legend:{data:r,padding:30},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2}},series:n})},setCircleEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)+"("+e.percent+")%"}},legend:{orient:"vertical",x:"all"===r?"bottom":"right",data:i,type:"scroll"},series:[{name:"",type:"pie",radius:"all"===r?"70%":["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:"all"===r,position:"all"===r?"":"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!0}},data:n}]})},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},validateEmptyData:function(e,t){return 0!==Object.keys(e).length||(this.$refs[t].innerHTML="暂无数据",!1)},getLongTimeNoUse:function(){var e=this;this.$service.longTimeNoUseEcharts({beginDate:this.time[0],endDate:this.time[1],day:this.day}).then((function(t){e.validateEmptyData(t,"longTimeNoUse")&&e.setLineEchart("longTimeNoUse","长期未使用人群情况",t.xaxis,t.series[0].value)}))},getTempCrowd:function(){var e=this;this.$service.tempCrowdEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"tempCrowd")){var a=t.series.map((function(e){return e.name})),i=t.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));e.setLinesEchart("tempCrowd","临时人群异常情况",t.xaxis,i,a)}}))},getAbTest:function(){var e=this;this.$service.abTestEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){e.validateEmptyData(t,"abTest")&&e.setLineEchart("abTest","已过期AB实验人群",t.xaxis,t.series[0].value)}))},getTempTagAnomaly:function(){var e=this;this.$service.tempCrowdEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"tempCrowdAnomaly")){var a=t.series.map((function(e){return e.name})),i=t.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));e.setLinesEchart("tempCrowdAnomaly","临时标签异常情况",t.xaxis,i,a)}}))},getDmpApiUseDistribute:function(){var e=this;this.$service.getDmpApiRequestEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"dmpApiDistribute")){var a=t.series.map((function(e){return e.name})),i=t.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));e.setLinesEchart("dmpApiDistribute","DMP接口调用分布情况",t.xaxis,i,a)}}))},getDmpApiUseSuccess:function(){var e=this;this.$service.getDmpApiRequestAccuracyEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){e.validateEmptyData(t,"dmpApiSuccess")&&e.setLineEchart("dmpApiSuccess","DMP接口调用正确率",t.xaxis,t.series[0].value)}))},getDmpApiUseFail:function(){var e=this;this.$service.getDmpApiRequestErrorEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){e.validateEmptyData(t,"dmpApiFail")&&e.setLineEchart("dmpApiFail","DMP接口调用错误率",t.xaxis,t.series[0].value)}))},getDmpApiUseFailReason:function(){var e=this;this.$service.getDmpApiRequestErrorReasonEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"dmpApiFailReason")){var a=t.data.map((function(e,a){return{value:e.count,name:t.names[a]}}));e.setCircleEcharts("dmpApiFailReason","DMP接口调用错误原因分布",t.names,a)}}))},getTaskStability:function(){var e=this;this.$service.getDmpTaskEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"taskStability")){var a=t.series.map((function(e){return e.name})),i=t.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));e.setLinesEchart("taskStability","任务调度系统稳定性",t.xaxis,i,a)}}))},getTaskFailReason:function(){var e=this;this.$service.getDmpTaskFailReasonEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"taskStabilityErrorReason")){var a=t.data.map((function(e,a){return{value:e.count,name:t.names[a]}}));e.setCircleEcharts("taskStabilityErrorReason","任务调度系统失败原因",t.names,a)}}))},getQPS:function(){var e=this;this.$service.getDmpQpsApiRequestEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){e.validateEmptyData(t,"QPS")&&e.setLineEchart("QPS","QPS(每日单次请求峰值)",t.xaxis,t.series[0].value)}))},getSearchCrowdTime:function(){var e=this;this.$service.getSelectCrowdTimeEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){e.validateEmptyData(t,"searchCrowdTime")&&e.setLineEchart("searchCrowdTime","单人群查询最长耗时（每日）",t.xaxis,t.series[0].value)}))},getHitDeclineFifty:function(){var e=this;this.$service.getCrowdHitCountDeclineEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"hitOverFifty")){var a=t.series.map((function(e){return e.name})),i=t.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));e.setLinesEchart("hitOverFifty","命中、曝光、点击今日突降50%以上人群数（投放中）",t.xaxis,i,a)}}))},getHitDeclineToZero:function(){var e=this;this.$service.getCrowdHitCountDeclineToZeroEcharts({beginDate:this.time[0],endDate:this.time[1]}).then((function(t){if(e.validateEmptyData(t,"hitToZero")){var a=t.series.map((function(e){return e.name})),i=t.series.map((function(e){return{name:e.name,data:e.value,type:"line"}}));e.setLinesEchart("hitToZero","命中、曝光、点击今日突降为0人群数（投放中）",t.xaxis,i,a)}}))},fetchData:function(){this.getLongTimeNoUse(),this.getTempCrowd(),this.getAbTest(),this.getTempTagAnomaly(),this.getDmpApiUseDistribute(),this.getDmpApiUseSuccess(),this.getDmpApiUseFail(),this.getDmpApiUseFailReason(),this.getTaskStability(),this.getTaskFailReason(),this.getQPS(),this.getSearchCrowdTime(),this.getHitDeclineFifty(),this.getHitDeclineToZero()}},created:function(){var e=new Date,t=new Date,a=this.formatDate(e.setTime(e.getTime()-5184e5)),i=this.formatDate(t.setTime(t.getTime()));this.time=[a,i],this.fetchData()}},gC=vC,bC=(a("7a06"),Object(U["a"])(gC,mC,fC,!1,null,"753d17a6",null)),yC=bC.exports,CC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("查询指定Mac的流转轨迹")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,inline:!0}},[a("el-form-item",{attrs:{label:"主人群ID：",prop:"crowdId"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.crowdId,callback:function(t){e.$set(e.form,"crowdId",t)},expression:"form.crowdId"}})],1),a("el-form-item",{attrs:{label:"MAC地址",prop:"mac"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.mac,callback:function(t){e.$set(e.form,"mac",t)},expression:"form.mac"}})],1),a("el-form-item",{attrs:{label:"日期：",prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期",clearable:"","picker-options":e.pickerOptions},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1),a("div",[0===e.list.length?a("el-empty",{attrs:{description:"暂无数据"}}):e._e(),a("div",{staticClass:"graph-container",staticStyle:{position:"relative"},attrs:{id:e.pageId}})],1)],1)},wC=[],_C={name:"crowdCirculationTrackAA",data:function(){return{form:{policyId:"",mac:"",sourceSign:"",beginTime:"",endTime:""},dateRange:[],dateList:[],rules:{crowdId:{required:!0,message:"请输入策略id",trigger:"blur"},mac:{required:!0,message:"请输入mac",trigger:"blur"}},pickerOptions:{disabledDate:function(e){var t=Date.now();return e.getTime()>t}},list:[],noneText:"暂无数据",pageId:"graph-container",graph:null,dialogVisible:!1,allCrowdRule:[],len:10,soureceSignList:[]}},components:{Flow:$l},created:function(){var e=this;this.$service.getSourceSign().then((function(t){e.soureceSignList=t}));var t={afterDraw:function(e,t){var a=parseInt(e.size);t.addShape("text",{attrs:{x:0,y:a/2+20,text:"".concat(e.date),fill:"#87adfb",fontWeight:400,textAlign:"center",fontSize:12}})}};_o.a.registerNode("circle-node",t,"circle")},mounted:function(){},methods:{init:function(){var e=this,t=document.getElementById("graph-container").scrollWidth,a=this.list.length<20?400:this.list.length/15*250;this.graph=new _o.a.Graph({container:"graph-container",width:t,height:a,layout:{type:"grid",begin:[20,20],width:t-20,height:a-20,sortBy:"cluster"},defaultNode:{shape:"circle-node",size:70,style:{fill:"#DEE9FF",stroke:"#5B8FF9"},nodeStateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:5}},labelCfg:{position:"top",offset:10,style:{}}},defaultEdge:{style:{radius:20,offset:30,endArrow:!0,stroke:"#F6BD16"}},modes:{default:["drag-node"]},nodeStateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:5}}}),this.readOrClearData(),this.graph.on("node:mouseenter",(function(t){var a=t.item;e.graph.setItemState(a,"hover",!0)})),this.graph.on("node:mouseleave",(function(t){var a=t.item;e.graph.setItemState(a,"hover",!1)}))},reconstructData:function(e){console.log("aaaaaa=======",e);var t=[],a=[],i=e.length;return e.map((function(e,a){t.push({id:a+1,crowdId:e.crowdId,label:e.crowdName,cluster:i--,date:e.hitDate})})),console.log("节点============",t),t.reduce((function(e,t){return a.push({source:e.id.toString(),target:t.id.toString()}),t}),t[0]),a.shift(),console.log("箭头============",a),{nodes:t,edges:a}},readOrClearData:function(){if(0===this.list.length)return this.graph&&this.graph.clear(),void this.graph.read({});var e=this.reconstructData(this.list);e&&e.nodes.length>0&&this.graph.read(e)},getFilter:function(){var e={crowdId:this.form.crowdId,mac:this.form.mac,sourceSign:this.form.sourceSign,beginTime:this.dateRange[0],endTime:this.dateRange[1]};return e},handleSearch:function(){var e=this;this.list=[],console.log("this.graph====",this.graph),this.graph&&this.graph._cfg&&this.graph.destroy(),this.$refs.form.validate((function(t){if(t){var a=e.getFilter();e.$service.dynamicCrowdHitLink(a).then((function(t){console.log("data=====>",t),e.list=t||[],e.init()}))}}))}}},SC=_C,kC=(a("8e2a"),Object(U["a"])(SC,CC,wC,!1,null,"6b51868c",null)),IC=kC.exports,xC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("c-content-wrapper",{attrs:{filter:e.filter,pagination:e.pagination},on:{"filter-change":e.handleFilterChange}},[a("div",{staticClass:"header-title"},[e._v("\n            人群"),a("span",[e._v(e._s(e.$route.params.id)+":"+e._s(e.crowdName))]),e._v("主页投放相关的DMP记录\n        ")]),a("div",{staticClass:"search-content"},[a("div",{staticClass:"search-left"},[a("div",[e._v("漏斗数据状态：")]),a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dataEnumValue,callback:function(t){e.dataEnumValue=t},expression:"dataEnumValue"}},e._l(e.dataTypeEnum,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",[a("el-input",{attrs:{clearable:"",placeholder:"请输入版块名称（选填）"},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}})],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("搜索")])],1)]),a("div",[a("el-button",{attrs:{type:"success"},on:{click:e.handleBackToCrowdList}},[e._v("返回人群列表")])],1)]),a("c-table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data}})],1),a("el-dialog",{attrs:{visible:e.showFunnel,title:"该推荐位人群投后全链路的漏斗数据"},on:{"update:visible":function(t){e.showFunnel=t},close:e.handleClose}},[a("div",{staticClass:"export-button"},[a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出数据")])],1),e._l(e.funnelData,(function(t,i){return a("div",{key:i,staticClass:"funnel-item"},[a("div",{staticClass:"item-title"},[e._v(e._s(t.name))]),a("div",{staticClass:"item-buf"},[e.loadColor?a("div",{style:{width:(i<6?100-15*i:40)+"%",background:"#"+e.generateMixed(),margin:"auto"}},[e._v("\n                    "+e._s(t.value)+"\n                ")]):e._e()])])}))],2)],1)},TC=[],DC={name:"HomepageReleaseRecord",data:function(){return{filter:{},pagination:{},table:{props:{},header:[{label:"ID",prop:"id"},{label:"开始时间",prop:"startTime"},{label:"结束时间",prop:"endTime"},{label:"拉取版块数据时间",prop:"createTime"},{label:"版块Id",prop:"sectionId"},{label:"版块名称",prop:"sectionName"},{label:"推荐位位置",prop:"recommendedPosition"},{label:"推荐位名称",prop:"recommendedName"},{label:"操作",render:this.$c_utils.component.createOperationRender(this,{handleSeeFunnel:"查看数据漏斗"})}],data:[]},showFunnel:!1,funnelTransform:{totalPopulation:"圈定人群总量",homepageActivity:"主页活跃量",homepageExposure:"主页曝光",homepageClick:"主页点击",homepageCtr:"主页ctr",orderNumber:"成交单量",orderTotal:"成交总金额"},funnelUnit:{totalPopulation:"人",homepageActivity:"人",homepageExposure:"次",homepageClick:"次",homepageCtr:"%",orderNumber:"单",orderTotal:"元"},funnelData:[],chars:["0","1","2","3","4","5","6","7","8","9","10","A","B","C","D","E","F"],loadColor:!0,currentId:void 0,downloadUrl:void 0,crowdName:void 0,dataTypeEnum:[],dataEnumValue:1,searchStr:void 0}},methods:{setFunnelEcharts:function(e,t,i,n){var r=a("313e"),s=r.init(this.$refs[e]);s.setOption({title:{text:t},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{data:i},calculable:!0,series:[{name:"漏斗图",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:n}]})},parseFilter:function(){var e=this.filter,t=this.pagination;return e.bid=2,e.crowdId=this.$route.params.homepageReleaseRecordId,e.searchStr=this.searchStr,e.status=this.dataEnumValue,t&&(e.pageNum=t.currentPage||1,e.pageSize=t.pageSize||10),e},fetchData:function(){var e=this,t=this.parseFilter();this.$service.getHomepageReleaseRecordList(t).then((function(t){e.table.data=t.list,e.pagination.total=t.total}))},handleFilterChange:function(){this.fetchData()},handleEdit:function(e){var t=e.row;this.$emit("open-add-page",t.id,"edit")},handleSeeFunnel:function(e){var t=this,a=e.row,i=a.id;this.currentId=a.id,this.showFunnel=!0,this.loadColor=!0,this.$service.getHomepageReleaseRecordFunnel({bdiId:i}).then((function(e){if(null==e)t.$refs["funnel"].innerHTML="暂无数据";else{var a=[],i=Object.keys(t.funnelTransform);i.forEach((function(i){a.push({name:t.funnelTransform[i],value:e[i]+t.funnelUnit[i]})})),t.funnelData=a}}))},handleExport:function(){var e=this,t=this.currentId;this.downloadUrl="/api/businessDelivery/exportExcel?bdiId="+t,this.$nextTick((function(){e.$refs.download_Url.click()}))},generateMixed:function(){for(var e="",t=0;t<6;t++){var a=Math.ceil(16*Math.random());e+=this.chars[a]}return"FFF"!=e&&"FFFFFF"!=e||(e="000000"),e.slice(0,6)},handleClose:function(){this.loadColor=!1},getDataTypeEnum:function(){var e=this;this.$service.getHomepageReleaseRecordTypeEnum().then((function(t){var a=[];Object.keys(t).forEach((function(e){a.push({label:t[e],value:parseInt(e)})})),e.dataTypeEnum=a}))},handleBackToCrowdList:function(){var e=this.$appState.$get("GlobalStrategySource");e?this.$router.push({name:"myPolicy"}):this.$router.push({name:"strategyList"})}},watch:{"$route.params.homepageReleaseRecordId":function(e){void 0!==e&&this.fetchData()},"$route.params.crowdName":function(e){void 0!==e&&(this.crowdName=e)}},created:function(){this.getDataTypeEnum(),this.fetchData(),this.crowdName=this.$appState.$get("homepageReleaseCrowdName")}},$C=DC,LC=(a("0972"),Object(U["a"])($C,xC,TC,!1,null,"7ac31292",null)),NC=LC.exports,OC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.componentTag,{tag:"component"})},PC=[],EC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"ul111"}},[a("div",{staticClass:"icon-open-close",on:{click:e.changeView}},[e.showNav?a("i",{staticClass:"el-icon-d-arrow-right"}):a("i",{staticClass:"el-icon-d-arrow-left"})]),a("div",{staticClass:"list-wrap",class:{aaa:!e.showNav}},[a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a1",title:"实验分组概览"},on:{click:function(t){return e.goAnchor("#a1")}}},[e._v("实验分组概览")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a2",title:"实验效果汇总"},on:{click:function(t){return e.goAnchor("#a2")}}},[e._v("实验效果汇总")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a3",title:"每日收益趋势"},on:{click:function(t){return e.goAnchor("#a3")}}},[e._v("每日收益趋势")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a4",title:"每日收益明细"},on:{click:function(t){return e.goAnchor("#a4")}}},[e._v("每日收益明细")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a5",title:"累计收益明细"},on:{click:function(t){return e.goAnchor("#a5")}}},[e._v("累计收益明细")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a6",title:"分组内各子人群收益明细"},on:{click:function(t){return e.goAnchor("#a6")}}},[e._v("分组内各子人群收益明细")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a7",title:"分组内各流转链路收益"},on:{click:function(t){return e.goAnchor("#a7")}}},[e._v("分组内各流转链路收益")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a8",title:"各权益收益情况"},on:{click:function(t){return e.goAnchor("#a8")}}},[e._v("各权益收益情况")])])])]),a("div",[a("div",{staticClass:"title"},[e._v(" "+e._s(e.crowdName)+" - 动态实验报告")]),a("div",{staticClass:"export-button"},[a("el-radio-group",{staticStyle:{"margin-right":"80px","margin-top":"10px"},on:{change:e.handleRadioChange},model:{value:e.pageRadio,callback:function(t){e.pageRadio=t},expression:"pageRadio"}},[a("el-radio",{attrs:{label:0}},[e._v("产品包")]),a("el-radio",{attrs:{label:1}},[e._v("\n          内容运营\n          "),a("el-popover",{attrs:{placement:"top",width:"400",trigger:"hover"}},[e._v("\n            投后报告解释："),a("br"),a("br"),e._v("\n            内容运营：根据动态人群或故事运营配置的条件（动态流转标签，非行为标签和大数据标签）中的板块id或资源位id进行统计。"),a("br"),a("br"),e._v("\n            产品包：根据动态人群或故事运营配置的条件（动态流转标签，非行为标签和大数据标签）中的产品包权益进行统计或根据人群在影视订单平台中绑定的产品包权益进行统计。"),a("br"),a("span",{staticClass:"priority-tip",attrs:{slot:"reference"},slot:"reference"},[e._v("?")])])],1)],1),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"info"},on:{click:e.handleBackToCrowdList}},[e._v("返回人群列表")]),a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleDownload}},[e._v("导出数据")])],1),a("div",{staticClass:"table-wrap",attrs:{id:"a1"}},[e._m(0),a("c-table",{attrs:{props:e.allTableData.reportPlans.props,header:e.allTableData.reportPlans.header,data:e.allTableData.reportPlans.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a2"}},[e._m(1),a("c-table",{attrs:{props:e.allTableData.reportTotal.props,header:e.allTableData.reportTotal.header,data:e.allTableData.reportTotal.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a3"}},[e._m(2),e._l(e.rowObj,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n                "+e._s(e.allChartData[i].title)+"\n              ")]):a("span",[e._v("\n                "+e._s(t.title)+"\n              ")])]),t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)}))],2),a("div",{staticClass:"table-wrap",attrs:{id:"a4"}},[e._m(3),a("dynamic-table",{attrs:{"table-data":e.allTableData.reportDayDetail.data,"table-header":e.allTableData.reportDayDetail.tableConfig}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a5"}},[e._m(4),a("dynamic-table",{attrs:{"table-data":e.allTableData.reportSum.data,"table-header":e.allTableData.reportSum.tableConfig}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a6"}},[e._m(5),a("dynamic-table",{attrs:{"table-data":e.allTableData.reportGroupSum.data,"table-header":e.allTableData.reportGroupSum.tableConfig}})],1),e._l(e.rowObj2,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n              "+e._s(e.allChartData[i].title)+"\n            ")]):a("span",[e._v("\n              "+e._s(t.title)+"\n            ")])]),t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)})),e._l(e.rowObj3,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n              "+e._s(e.allChartData[i].title)+"\n            ")]):a("span",[e._v("\n              "+e._s(t.title)+"\n            ")])]),t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)})),a("div",{staticClass:"table-wrap",attrs:{id:"a7"}},[e._m(6),a("c-table",{attrs:{header:e.allTableData.reportGroupPath.header,data:e.allTableData.reportGroupPath.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a8"}},[e._m(7),a("dynamic-table",{attrs:{"table-data":e.allTableData.reportRights.data,"table-header":e.allTableData.reportRights.tableConfig}})],1)],2)])},AC=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          实验分组概览 （reportPlans）\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          实验效果汇总（reportTotal）\n          "),a("span",[e._v("目的：①了解各组动态人群整体汇总情况")]),a("span",[e._v("②通过总营收、付费率、客单价等目标指标差异对比，概括性分析本次实验效果情况")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          每日收益趋势\n          "),a("span",[a("span",[e._v("目的：①针对每日的数据情况，如发现数据差异性较大，可后续分析下钻查看是否某日营销策略变更或其他因素导致指标差异原因")]),a("br"),a("span",[e._v("②动态人群方案实施期，跟踪每日数据情况，及时调整流转指标、变更方案策略等 ")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          每日收益明细（reportDayDetail）\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          累计收益明细（reportSum）\n          "),a("span",[e._v("目的：针对累计数据情况，查看各组动态人群转化效果 ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          分组内各子人群收益明细（reportGroupSum）\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          分组内各流转链路收益（reportGroupPath）\n          "),a("span",[a("span",[e._v("目的：①以各动态人群链路情况分析，了解各组动态人群链路方案情况，拆分下钻各组动态人群效果差异原因。")]),a("br"),a("span",[e._v("②确定各组动态人群链路信息，寻找该人群下最优链路，以应用在该人群后续的动态流转链路中。")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          各权益收益情况（reportRights）\n        ")])])}],FC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{attrs:{data:e.tableData}},[e._l(e.tableHeader,(function(e){return[e.children&&e.children.length?a("table-column",{key:e.id,attrs:{"coloumn-header":e}}):a("el-table-column",{key:e.id,attrs:{label:e.label,prop:e.prop}})]}))],2)],1)},VC=[],RC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table-column",{attrs:{label:e.coloumnHeader.label,prop:e.coloumnHeader.label,align:"center"}},[e._l(e.coloumnHeader.children,(function(t){return[t.children&&t.children.length?a("tableColumn",{key:t.id,attrs:{"coloumn-header":t}}):a("el-table-column",{key:t.name,attrs:{label:t.label,prop:t.prop},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row[t.column.property])+"\n\n        ")]}}],null,!0)},[e._v("\n      //悬浮展示详情\n      ")])]}))],2)},jC=[],BC={name:"tableColumn",props:{coloumnHeader:{type:Object,required:!0}}},MC=BC,zC=Object(U["a"])(MC,RC,jC,!1,null,null,null),qC=zC.exports,JC={props:{tableData:{type:Array,required:!0},tableHeader:{type:Array,required:!0}},components:{TableColumn:qC}},GC=JC,UC=(a("3006"),Object(U["a"])(GC,FC,VC,!1,null,"8f1ddbf0",null)),HC=UC.exports;function KC(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=QC(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function QC(e,t){if(e){if("string"===typeof e)return WC(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?WC(e,t):void 0}}function WC(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function YC(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=new L["default"],s=["#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],o={title:{text:e},tooltip:{trigger:"axis",formatter:function(e){var t,a=e[0].name+"<br/>",i=KC(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;a=a+s.marker+r.cc_format_number(s.value)+n+"<br/>"}}catch(o){i.e(o)}finally{i.f()}return a}},color:s,dataZoom:[{disabled:a.length<=10,type:"inside"},{show:a.length>10,type:"slider"}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{interval:"auto",rotate:a.length>10?-45:0,formatter:function(e){return e+i}}},yAxis:{type:"value",width:"50px",triggerEvent:!0,scale:!0,axisLabel:{interval:"auto",formatter:function(e){return e>=1e8?e=e/1e8+"亿"+n:e>=1e7?e=e/1e7+"千万"+n:e>=1e4&&e<1e7?e=e/1e4+"万"+n:e+=n,e}}},series:[{data:a,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},barWidth:a.length>10?"30%":20}]};return o}function ZC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function XC(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ZC(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZC(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ew(e,t,a){e.title1,e.title2;var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=new L["default"],r=["#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],s=a.map((function(e){return XC(XC({},e),{},{label:{show:!0,position:1===e.xAxisIndex?"bottom":"top",formatter:function(t){return console.log("value-----\x3e",e),1===e.xAxisIndex?"".concat(n.cc_format_number(Number(100*t.value).toFixed(2)),"%"):"".concat(n.cc_format_number(t.value))},color:"#000"}})})),o=a.map((function(e){return e.name})),l={width:"50px",triggerEvent:!0,scale:!0,axisLabel:{interval:"auto",formatter:function(e){return e>=1e8?e=e/1e8+"亿"+i:e>=1e7?e=e/1e7+"千万"+i:e>=1e4&&e<1e7?e=e/1e4+"万"+i:e+=i,e}}},c={color:r,tooltip:{show:!1,trigger:"axis",axisPointer:{type:"cross"}},legend:{data:o},axisPointer:{link:{xAxisIndex:"all"}},grid:[{left:50,right:50,height:"35%"},{left:50,right:50,top:"55%",height:"35%"}],xAxis:[{type:"category",axisTick:{show:!1},data:t},{gridIndex:1,type:"category",data:t,position:"top",axisLabel:{show:!1},axisTick:{show:!1}}],yAxis:[XC({type:"value",axisTick:{show:!1}},l),XC({gridIndex:1,type:"value",axisTick:{show:!1},inverse:!0},l)],series:s};return c}function tw(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=aw(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function aw(e,t){if(e){if("string"===typeof e)return iw(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?iw(e,t):void 0}}function iw(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function nw(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function rw(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nw(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var sw={components:{DynamicTable:HC},created:function(){console.log("val ---\x3e created",this.$route.query.crowdId)},watch:{$route:{handler:function(){this.crowdId=this.$route.query.crowdId||"",this.crowdName=this.$route.query.crowdName||"",this.pageType=this.$route.query.type||"",""!==this.crowdId&&(this.initData(),this.$nextTick((function(){console.log("val---\x3e",document.querySelector(".el-main")),document.querySelector(".el-main").scrollTop=0})))},immediate:!0}},mounted:function(){var e=this;this.high(),window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{handleRadioChange:function(e){console.log("1=================>",e);var t=this.pageType;if(0===e){var a=this.crowdId,i=this.crowdName;this.$router.push({path:"/dynamicReport",query:{crowdId:a,crowdName:i,type:t}})}else if(1===e){var n="storyReport",r=this.crowdId,s=this.crowdName;this.$router.push({path:"/dynamicReport",query:{id:r,sceneName:s,componentName:n,type:t}})}},handleBackToCrowdList:function(){var e=this.$appState.$get("GlobalStrategySource");e?this.$router.push({name:"myPolicy"}):this.$router.push({name:"strategyList"})},handleDownload:function(){var e=this;"story"===this.pageType?this.downloadUrl="/api/chart/dynamicCrowdReportDownload?sceneId="+this.crowdId:this.downloadUrl="/api/chart/dynamicCrowdReportDownload?crowdId="+this.crowdId,this.$nextTick((function(){e.$refs.download_Url.click()}))},changeView:function(){this.showNav=!this.showNav},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%",t},goAnchor:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})},high:function(){new Xp(document.querySelector("#ul111"),document.querySelector(".el-main"),"type3")},initData:function(){var e=this,t={};t="story"===this.pageType?{sceneId:this.crowdId}:{crowdId:this.crowdId},this.$service.getDynamicCrowdReportA(t).then((function(t){var a=e.formatData(t);e.setTableData(a),e.setChartData(t)}));var a={};a="story"===this.pageType?{sceneId:this.crowdId}:{crowdId:this.crowdId},this.$service.getDynamicCrowdReportB(a).then((function(t){e.setTableData(t)}))},setChartData:function(e){var t=this,a=this.getChartData(e.reportDayDetail.data,"payRate"),i=this.getChartData(e.reportDayDetail.data,"arup"),n=this.getChartData2(e.reportGroupSum.data,"arup"),r=this.getChartData2(e.reportGroupSum.data,"priceTotal"),s=this.getChartData2(e.reportGroupSum.data,"payRate"),o=this.getChartData3(e.reportGroupSum.data);this.allChartData={vipPlay:a,vipPlayTrend:i,reportGroupSumArup:n,reportGroupSumPriceTotal:r,reportGroupSumPayRate:s,reportGroupSumTwoWay:o},this.$nextTick((function(){t.drawChart(t.rowObj),t.drawChart(t.rowObj2),t.drawChart(t.rowObj3)}))},formatData:function(e){var t=this,a=JSON.parse(JSON.stringify(e)),i=e.reportDayDetail.data,n=e.reportSum.data,r=e.reportGroupSum.data,s=e.reportRights.data,o=i.map((function(e){var a={date:e.date};return a.data=e.data.map((function(e){return rw(rw({},e),{},{arup:t.cc_format_number(e.arup),priceTotalHitRate:t.cc_format_number(e.priceTotalHitRate),payRate:t.toPercent(e.payRate),priceTotal:t.cc_format_number(e.priceTotal),showMac:t.cc_format_number(e.showMac)})})),a})),l=n.map((function(e){var a={day:e.day};return a.data=e.data.map((function(e){return rw(rw({},e),{},{arup:t.cc_format_number(e.arup),priceTotalHitRate:t.cc_format_number(e.priceTotalHitRate),payRate:t.toPercent(e.payRate),priceTotal:t.cc_format_number(e.priceTotal),showMac:t.cc_format_number(e.showMac)})})),a})),c=r.map((function(e){return rw(rw({},e),{},{arup:t.cc_format_number(e.arup),putongbaoyuePayPrice:t.cc_format_number(e.putongbaoyuePayPrice),baonianPayMacRate:t.toPercent(e.baonianPayMacRate),liaoxubaoyuePayMacRate:t.toPercent(e.liaoxubaoyuePayMacRate),payRate:t.toPercent(e.payRate),liaoxubaojiPayMacRate:t.toPercent(e.liaoxubaojiPayMacRate),liaoxubaoyuePayPrice:t.cc_format_number(e.liaoxubaoyuePayPrice),showMac:t.cc_format_number(e.showMac),payMac:t.cc_format_number(e.payMac),putongbaoyuePayMacRate:t.toPercent(e.putongbaoyuePayMacRate),hitAmount:t.cc_format_number(e.hitAmount),baojiPayMacRate:t.toPercent(e.baojiPayMacRate),priceTotal:t.cc_format_number(e.priceTotal),bannianPayPrice:t.cc_format_number(e.bannianPayPrice),baojiPayPrice:t.cc_format_number(e.baojiPayPrice),baonianPayPrice:t.cc_format_number(e.baonianPayPrice),liaoxubaojiPayPrice:t.cc_format_number(e.liaoxubaojiPayPrice),bannianPayMacRate:t.toPercent(e.bannianPayMacRate)})})),d=s.map((function(e){return rw(rw({},e),{},{yingshiMacRate:t.toPercent(e.yingshiMacRate),yingshiMac:t.cc_format_number(e.yingshiMac),aiqiyiMacRate:t.toPercent(e.aiqiyiMacRate),qinziMacRate:t.toPercent(e.qinziMacRate),qinziMac:t.cc_format_number(e.qinziMac),chuileiMacRate:t.toPercent(e.chuileiMacRate),otherMacRate:t.toPercent(e.otherMacRate),otherMac:t.cc_format_number(e.otherMac),aiqiyiMac:t.cc_format_number(e.aiqiyiMac),chuileiMac:t.cc_format_number(e.chuileiMac)})}));return a.reportDayDetail={name:e.reportDayDetail.name,data:o,title:e.reportDayDetail.title},a.reportSum={name:e.reportSum.name,data:l,title:e.reportSum.title},a.reportGroupSum={name:r.name,data:c},a.reportRights={name:s.name,data:d},a},getChartData:function(e,t){var a={xaxis:[],yunit:"",series:[],title:"",xunit:""};return"payRate"===t&&(a.yunit="%"),a.series=e.reduce((function(e,i,n){a.xaxis.push(i.date);var r=i.data;return r.forEach((function(a){var i=a[t],n=e.find((function(e){return e.name===a.planName}));n?n.value.push(i):e.push({name:a.planName,value:[i]})})),e}),[]),a},getChartData2:function(e,t){var a={xaxis:[],yunit:"",series:[],title:"",xunit:""};return"payRate"===t&&(a.yunit="%"),e.forEach((function(e,i){a.xaxis.push("".concat(e.dynamicName,"-").concat(e.crowdId));var n=e[t];a.series.push(n)})),a},getChartData3:function(e){var t={xaxis:[],yunit:"",series:[],title:"",xunit:""},a=this.allTableData.reportGroupSum.tableConfig.find((function(e){return"payPrice"===e.prop})).children,i=this.allTableData.reportGroupSum.tableConfig.find((function(e){return"userRate"===e.prop})).children,n=[],r=[];return e.forEach((function(e,s){t.xaxis.push("".concat(e.dynamicName,"-").concat(e.crowdId)),a.forEach((function(t){var a=t.prop,i=e[a],r={key:a,name:t.label,data:[i],type:"bar"},s=n.find((function(e){return e.key===a}));s?s.data.push(i):n.push(r)})),i.forEach((function(t){var a=t.prop,i=e[a],n={key:a,name:t.label,data:[i],xAxisIndex:1,yAxisIndex:1,type:"bar",yunit:"%"},s=r.find((function(e){return e.key===a}));s?s.data.push(i):r.push(n)}))})),t.series=[].concat(n,r),t},drawChart:function(e){var t=this;e.forEach((function(e){for(var a in e)"line"===e[a].type?t.showLine(t.allChartData[a],a):"bar"===e[a].type?t.showBar(t.allChartData[a],a):"twoBar"===e[a].type&&t.showTwoBar(t.allChartData[a],a)}))},showTwoBar:function(e,t){if(e&&e.xaxis&&e.xaxis.length>0){var i=t,n=document.getElementById(i);if(!n)return;var r=ew({title1:"购买金额",title2:"购买用户占比"},e.xaxis,e.series,e.xunit,e.yunit),s=a("313e"),o=s.init(n);o.setOption(r,!0),this.allCharts[i]=o}},showBar:function(e,t){if(e&&e.xaxis&&e.xaxis.length>0){"%"===e.yunit&&(e.series=e.series.map((function(e){return Number(100*e).toFixed(2)})));var i=t,n=document.getElementById(i);if(!n)return;var r=YC("",e.xaxis,e.series,e.xunit,e.yunit,e.dataaxis),s=a("313e"),o=s.init(n);o.setOption(r,!0),this.allCharts[i]=o}},showLine:function(e,t){var a=!1;if(e&&e.xaxis&&e.xaxis.length>0){var i=e.series||[],n=i.map((function(e){return e.name})),r=i.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return Number(100*e).toFixed(2)}));return{name:t.name,data:a,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));this.setLinesEchart(t,"",e.xaxis,r,n,e.xunit,e.yunit,a)}},setTableData:function(e){var t=e;for(var a in t){var i=e[a],n=t[a].data;if("reportDayDetail"===a||"reportSum"===a){var r=void 0;r="reportSum"===a?"day":"date";var s=this.restoreData(a,n,r,i);this.allTableData[a].data=s.tableData,this.allTableData[a].tableConfig=s.tableConfig}else this.allTableData[a].data=n}},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=a("313e"),h=this,p={type:"value",name:c,axisTick:{inside:!0},axisLabel:{formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},m={title:{text:t},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter:function(e){var t,a=e[0].name+"<br/>",i=tw(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;a=a+n.marker+n.seriesName+": "+h.cc_format_number(n.value)+o+"<br/>"}}catch(r){i.e(r)}finally{i.f()}return a}},color:h.colorList,legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:n.length>10?-45:0,formatter:function(e){return e+s}}},yAxis:[p],series:n};l&&m.yAxis.push(rw(rw({},p),{},{name:d}));var f=u.init(document.getElementById(e));f.setOption(m,!0),this.allCharts[e]=f},restoreData:function(e,t,a,i){var n=this,r=[],s=[];return r=t.map((function(t,i){var r=Object(it["a"])({},a,t[a]),o=t.data,l=function(){var t=o[c];if("object"===Object($t["a"])(t)){var a=function(a){r["".concat(t.planName).concat(a)]=t[a],s=n.allTableData[e].tableConfig.map((function(e){if(e.prop===a){var i="".concat(t.planName).concat(a),n=e.children.filter((function(e){return e.prop===i}))||[];n&&0===n.length&&e.children.push({label:t.planName,prop:i})}return e}))};for(var i in t)a(i)}};for(var c in o)l();return r})),{tableData:r,tableConfig:s}}},data:function(){var e=this;return{pageType:"",pageRadio:0,downloadUrl:void 0,options:[{value:6,label:"故事线"},{value:0,label:"顺序"},{value:1,label:"循环"},{value:2,label:"随机"},{value:3,label:"自定义"},{value:4,label:"不流转"},{value:5,label:"智能"}],allTableData:{reportPlans:{header:[{label:"流转ID",prop:"id"},{label:"流转分组名",prop:"name"},{label:"流转方式",prop:"mainArithmetic",render:function(t,a){var i=a.row,n=e.options.find((function(e){return e.value==i.mainArithmetic}));return n.label}},{label:"命中流量占比",prop:"flowNum",render:function(e,t){var a=t.row;return a.flowNum+"%"}},{label:"包含人群-ID",prop:"cname"}],data:[]},reportTotal:{header:[{label:"流转ID",prop:"dynamicRuleId"},{label:"流转分组名",prop:"dynamicName"},{label:"流转方式",prop:"dynamicType"},{label:"命中流量占比",render:function(t,a){var i=a.row;return e.toPercent(i.dynamicHitRate)}},{label:"命中设备量",prop:"hitAmount",render:function(t,a){var i=a.row;return e.cc_format_number(i.hitAmount)}},{label:"产品包页面曝光设备量",prop:"showMac",render:function(t,a){var i=a.row;return e.cc_format_number(i.showMac)}},{label:"付费设备量",prop:"payMac",render:function(t,a){var i=a.row;return e.cc_format_number(i.payMac)}},{label:"总营收(元)",prop:"priceTotal",render:function(t,a){var i=a.row;return e.cc_format_number(i.priceTotal)}},{renderHeader:function(e,t){return e("span",{},["总营收（按比例转化后）",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:400,content:"总营收（按比例转化后）= 总营收 / 命中流量占比"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"priceTotalHitRate",render:function(t,a){var i=a.row;return e.cc_format_number(i.priceTotalHitRate)}},{renderHeader:function(e,t){return e("span",{},["差异对比",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:400,content:"该处的差异对比公式为：动态人群_A的总营收差异对比=（动态人群_A-avg(动态人群_B+动态人群_C))/avg(动态人群_B+动态人群_C)"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"priceDifference",render:function(t,a){var i=a.row;return e.toPercent(i.priceDifference)}},{label:"付费率",prop:"payRate",render:function(t,a){var i=a.row;return e.toPercent(i.payRate)}},{width:100,renderHeader:function(e,t){return e("span",{},["差异对比",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:400,content:"该处的差异对比公式为：动态人群_A的付费率差异对比=（动态人群_A-avg(动态人群_B+动态人群_C))/avg(动态人群_B+动态人群_C)"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"payRateDifference",render:function(t,a){var i=a.row;return e.toPercent(i.payRateDifference)}},{label:"客单价(元)",prop:"arup",render:function(t,a){var i=a.row;return e.cc_format_number(i.arup)}},{renderHeader:function(e,t){return e("span",{},["差异对比",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:400,content:"该处的差异对比公式为：动态人群_A的客单价差异对比=（动态人群_A-avg(动态人群_B+动态人群_C))/avg(动态人群_B+动态人群_C)"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"arupDifference",render:function(t,a){var i=a.row;return e.toPercent(i.arupDifference)}},{label:"上架天数",prop:"onlineDay"}],data:[]},reportDayDetail:{tableConfig:[{id:1,label:"日期",prop:"date"},{id:2,label:"产品包曝光量",prop:"showMac",children:[]},{id:3,label:"支付率",prop:"payRate",children:[]},{id:4,label:"客单价",prop:"arup",children:[]},{id:5,label:"总营收(元)",prop:"priceTotal",children:[]},{id:6,label:"总营收(元)【按命中流量比例换算】",prop:"priceTotalHitRate",children:[]}],data:[]},reportSum:{tableConfig:[{id:1,label:"上线天数",prop:"day"},{id:2,label:"产品包曝光量",prop:"showMac",children:[]},{id:3,label:"支付率",prop:"payRate",children:[]},{id:4,label:"客单价",prop:"arup",children:[]},{id:5,label:"总营收(元)",prop:"priceTotal",children:[]},{id:6,label:"总营收(元)【按命中流量比例换算】",prop:"priceTotalHitRate",children:[]}],data:[]},reportGroupSum:{tableConfig:[{id:1,label:"流转分组名",prop:"dynamicName"},{id:2,label:"流转方式",prop:"dynamicType"},{id:3,label:"人群ID",prop:"crowdId"},{label:"命中设备量",prop:"hitAmount"},{label:"曝光设备量",prop:"showMac"},{label:"付费设备量",prop:"payMac"},{label:"付费率",prop:"payRate"},{label:"客单价(元)",prop:"arup"},{label:"总营收(元)",prop:"priceTotal"},{label:"产品包购买金额",prop:"payPrice",children:[{label:"连续包月",prop:"liaoxubaoyuePayPrice"},{label:"包月",prop:"putongbaoyuePayPrice"},{label:"连续包季",prop:"liaoxubaojiPayPrice"},{label:"包季",prop:"baojiPayPrice"},{label:"半年",prop:"bannianPayPrice"},{label:"包年",prop:"baonianPayPrice"}]},{label:"产品包购买用户数占比（用户产品包购买偏好）",prop:"userRate",children:[{label:"连续包月",prop:"liaoxubaoyuePayMacRate"},{label:"包月",prop:"putongbaoyuePayMacRate"},{label:"连续包季",prop:"liaoxubaojiPayMacRate"},{label:"包季",prop:"baojiPayMacRate"},{label:"半年",prop:"bannianPayMacRate"},{label:"包年",prop:"baonianPayMacRate"}]}],data:[]},reportRights:{tableConfig:[{id:1,label:"用户类型",prop:"dynamicName"},{id:2,label:"付费用户量",children:[{label:"奇异果VIP",prop:"aiqiyiMac"},{label:"影视VIP",prop:"yingshiMac"},{label:"亲子VIP",prop:"qinziMac"},{label:"垂类VIP",prop:"chuileiMac"},{label:"其他类型（直播+多元）",prop:"otherMac"}]},{id:3,label:"付费用户占比",children:[{label:"奇异果VIP",prop:"aiqiyiMacRate"},{label:"影视VIP",prop:"yingshiMacRate"},{label:"亲子VIP",prop:"qinziMacRate"},{label:"垂类VIP",prop:"chuileiMacRate"},{label:"其他类型（直播+多元）",prop:"otherMacRate"}]}],data:[]},reportGroupPath:{header:[{label:"动态流转分组",prop:"planName"},{renderHeader:function(e,t){return e("span",{},["路径",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:400,content:"流转路径为 0 代表该分组流入设备量的去重汇总"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"path"},{label:"流入设备量（命中设备量）",prop:"hitUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.hitUv)}},{label:"曝光用户量",prop:"showUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.showUv)}},{label:"下单用户量",prop:"xiadanUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.xiadanUv)}},{label:"付费用户量",prop:"payUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.payUv)}},{label:"付费总金额",prop:"price",render:function(t,a){var i=a.row;return e.cc_format_number(i.price)}},{label:"付费率",prop:"payRate",render:function(t,a){var i=a.row;return e.toPercent(i.payRate)}},{label:"客单价",prop:"arup",render:function(t,a){var i=a.row;return e.cc_format_number(i.arup)}}],data:[]},11:{props:{},header:[{label:"路径",prop:"id"},{label:"流入设备量（命中设备量）",prop:"name"},{label:"曝光用户量",prop:"way"},{label:"下单用户量",prop:"id"},{label:"付费用户量",prop:"id"},{label:"付费总金额",prop:"id"},{label:"付费率",prop:"id"},{label:"客单价",prop:"id"}],data:[{id:1,name:"实验组1",way:"顺序"},{id:1,name:"实验组1",way:"顺序"}]}},getAllData:[],allChartData:{},rowObj:[{vipPlay:{type:"line",title:"每组动态人群每日曝光支付率数据",span:12},vipPlayTrend:{type:"line",title:"每组动态人群每日曝光客单价数据",span:12}}],rowObj2:[{reportGroupSumArup:{type:"bar",title:"分组内各子人群（接待员）客单价",span:8},reportGroupSumPriceTotal:{type:"bar",title:"分组内各子人群（接待员）总营收",span:8},reportGroupSumPayRate:{type:"bar",title:"分组内各子人群（接待员）付费率",span:8}}],rowObj3:[{reportGroupSumTwoWay:{type:"twoBar",title:"分组内各子人群（接待员）购买金额、购买用户占比",span:24}}],allCharts:{},colorList:["#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],showNav:!0,crowdName:"",crowdId:""}}},ow=sw,lw=(a("0349"),Object(U["a"])(ow,EC,AC,!1,null,"23192876",null)),cw=lw.exports,dw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"ul111"}},[a("div",{staticClass:"icon-open-close",on:{click:e.changeView}},[e.showNav?a("i",{staticClass:"el-icon-d-arrow-right"}):a("i",{staticClass:"el-icon-d-arrow-left"})]),a("div",{staticClass:"list-wrap",class:{aaa:!e.showNav}},[a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a1",title:"各业务命中设备量"},on:{click:function(t){return e.goAnchor("#a1")}}},[e._v("各业务命中设备量")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a2",title:"流转指标中间表"},on:{click:function(t){return e.goAnchor("#a2")}}},[e._v("流转指标中间表")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a3",title:"各分组命中设备数及占比"},on:{click:function(t){return e.goAnchor("#a3")}}},[e._v("各分组命中设备数及占比")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a4",title:"各流转链路设备数"},on:{click:function(t){return e.goAnchor("#a4")}}},[e._v("各流转链路设备数")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a5",title:"分组、基础人群对"},on:{click:function(t){return e.goAnchor("#a5")}}},[e._v("分组、基础人群对")])]),a("div",[a("a",{attrs:{href:"javascript:void(0)",to:"a6",title:"子人群产品包对齐"},on:{click:function(t){return e.goAnchor("#a6")}}},[e._v("子人群产品包对齐")])])])]),a("div",[a("div",{staticClass:"title"},[e._v(" "+e._s(e.crowdName)+" - 流转异常监控")]),a("div",{staticClass:"export-button"},[a("div",{staticClass:"date-picker"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.time0,callback:function(t){e.time0=t},expression:"time0"}})],1),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"info"},on:{click:e.handleBackToCrowdList}},[e._v("返回人群列表")])],1),a("div",{staticClass:"table-wrap",attrs:{id:"a1"}},[e._m(0),a("c-table",{attrs:{props:e.allTableData.t2.props,header:e.allTableData.t2.header,data:e.allTableData.t2.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a2"}},[e._m(1),e._l(e.rowObj,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n                "+e._s(e.allChartData[i].title)+"\n              ")]):a("span",[e._v("\n                "+e._s(t.title)+"\n              ")])]),t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)})),a("c-table",{attrs:{props:e.allTableData.t5.props,header:e.allTableData.t5.header,data:e.allTableData.t5.data}})],2),a("div",{staticClass:"table-wrap",attrs:{id:"a3"}},[e._m(2),a("div",{staticStyle:{display:"grid","grid-template-columns":"70% minmax(0, 1fr)","grid-gap":"20px"}},[a("c-table",{attrs:{props:e.allTableData.t4.props,header:e.allTableData.t4.header,data:e.allTableData.t4.data},on:{"row-click":function(t,a,i){return e.handleRowClicked(t,e.allTableData.t4.data)}}}),e.allTableData.t4.data&&e.allTableData.t4.data.length>0?e._l(e.rowObj2,(function(t,i){return a("div",{key:i,staticClass:"unit-row"},e._l(t,(function(t,i){return a("div",{key:i,staticClass:"unit-box"},[e.pieText?a("div",{staticClass:"unit-header clearfix"},[a("span",[e._v("\n                  "+e._s(e.pieText)+" (命中饼图)\n                ")])]):e._e(),t.title?a("div",[e.allChartData2[i]&&(e.allChartData2[i].series&&e.allChartData2[i].series.length>0||e.allChartData2[i].data)?a("div",{ref:i,refInFor:!0,staticStyle:{height:"300px"},attrs:{id:i}}):a("div",[a("el-empty",{attrs:{description:"点击左侧表格列，展示所属分组命中饼图"}})],1)]):e._e()])})),0)})):e._e()],2)]),a("div",{staticClass:"table-wrap",attrs:{id:"a4"}},[e._m(3),a("c-table",{attrs:{props:e.allTableData.t3.props,header:e.allTableData.t3.header,data:e.allTableData.t3.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a5"}},[e._m(4),a("c-table",{attrs:{props:e.allTableData.t1.props,header:e.allTableData.t1.header,data:e.allTableData.t1.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a6"}},[e._m(5),a("c-table",{attrs:{props:e.allTableData.t6.props,header:e.allTableData.t6.header,data:e.allTableData.t6.data}})],1)])])},uw=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          各业务命中设备量 （t2）\n          "),a("span",[e._v("目的：主要看各分组各人群在各业务平台是否命中。查看人群各平台当天是否应该被命中，是否有命中。")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          流转指标中间表（t5）\n          "),a("span",[a("span",[e._v("目的：查看各人群每天产品包页面曝光及优惠券曝光数据，看看是否有某天数据量级异常")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          各分组命中设备数及占比（t4）\n\n          "),a("span",[a("span",[e._v("目的：查看子人群在分组中的占比情况是否正常")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          各流转链路设备数（t3）\n          "),a("span",[a("span",[e._v("目的：监控各种流转路径是否正常")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          分组、基础人群对齐（t1）\n          "),a("span",[a("span",[e._v("目的：验证各分组人群是否交叉")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          子人群产品包对齐（t6）\n          "),a("span",[a("span",[e._v("目的：验证用户购买的方案价格是否为预想的方案价格")])])])])}];function hw(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=pw(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function pw(e,t){if(e){if("string"===typeof e)return mw(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?mw(e,t):void 0}}function mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function fw(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function vw(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fw(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fw(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var gw={components:{},created:function(){console.log("val ---\x3e created",this.$route.query.crowdId)},watch:{$route:{handler:function(){this.crowdId=this.$route.query.crowdId||"",this.crowdName=this.$route.query.crowdName||"",""!==this.crowdId&&(this.initData(),console.log("2222222222222->>",this.allTableData),this.$nextTick((function(){console.log("val---\x3e",document.querySelector(".el-main")),document.querySelector(".el-main").scrollTop=0})))},immediate:!0},time0:function(e){this.initData()}},mounted:function(){var e=this;this.high(),window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{handleRowClicked:function(e,t){var a=this;console.log(e),console.log(t);var i=t.filter((function(t){return t.dt===e.dt&&t.dynamicRuleName===e.dynamicRuleName}));this.pieText="".concat(e.dt,"  ").concat(e.dynamicRuleName);var n=i.map((function(e){return{name:e.crowdName,count:e.dynamicRuleRate}})),r=[].concat(n);this.allChartData2={t4:{data:r}},this.$nextTick((function(){a.drawChart2()})),console.log("arr===>",this.allChartData2)},handleBackToCrowdList:function(){var e=this.$appState.$get("GlobalStrategySource");e?this.$router.push({name:"myPolicy"}):this.$router.push({name:"strategyList"})},handleDownload:function(){var e=this;this.downloadUrl="/api/chart/dynamicCrowdReportDownload?crowdId="+this.crowdId,this.$nextTick((function(){e.$refs.download_Url.click()}))},changeView:function(){this.showNav=!this.showNav},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%",t},goAnchor:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})},high:function(){new Xp(document.querySelector("#ul111"),document.querySelector(".el-main"),"type3")},initData:function(){var e=this,t={crowdId:this.crowdId,startDate:this.time0[0],endDate:this.time0[1]};this.$service.dynamicCrowdMonitoring(t).then((function(t){var a={};for(var i in t)a[i]=t[i]||[];var n=e.formatData(a);e.setTableData(n);var r=e.getChartData(a[5],"pkgShowUv"),s=e.getChartData(a[5],"couponShowUv");if(e.allChartData={vipPlay:r,vipPlayTrend:s},e.$nextTick((function(){e.drawChart()})),e.allTableData.t4.data&&e.allTableData.t4.data.length>0){var o=e.allTableData.t4.data[0];e.handleRowClicked(o,e.allTableData.t4.data)}}))},formatData:function(e){var t=JSON.parse(JSON.stringify(e)),a=e[1],i=e[2],n=e[3],r=e[4],s=e[5],o=e[6],l=a.map((function(e){return vw({},e)})),c=i.map((function(e){return vw({},e)})),d=n.map((function(e){return vw({},e)})),u=r.map((function(e){return vw({},e)})),h=s.map((function(e){return vw({},e)})),p=o.map((function(e){return vw({},e)}));return t.t1={data:l},t.t2={data:c},t.t3={data:d},t.t4={data:u},t.t5={data:h},t.t6={data:p},t},getChartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a={xaxis:[],yunit:"",series:[],title:"",xunit:""},i=[];return e.length>0&&e.forEach((function(e){var t=a.xaxis.find((function(t){return t===e.dt}));t||a.xaxis.push(e.dt);var n=i.find((function(t){return t===e.crowdName}));n||i.push(e.crowdName)})),console.log("crowdName---\x3e",i),i.forEach((function(i){var n=a.xaxis,r=[];n.forEach((function(a,n){var s=e.find((function(e){return e.dt===a&&e.crowdName===i}));r[n]=s[t]})),a.series.push({name:i,value:r})})),console.log("reObj---\x3e",a),a},drawChart:function(){var e=this,t=this.rowObj;t.forEach((function(t){for(var a in t)"line"===t[a].type&&e.showLine(e.allChartData[a],a)}))},drawChart2:function(){var e=this,t=this.rowObj2;t.forEach((function(t){for(var a in t)"pie"===t[a].type&&e.showPie(e.allChartData2[a],a)}))},showPie:function(e,t){if(console.log("showBar======111>>>",e),e&&e.data){var a=e.data.map((function(e,t){return vw(vw({},e),{},{value:e.count||e.value})}));this.setPie(t,a,e.title)}},setPie:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.getElementById(e);if(n){var r=this,s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:i},legend:{bottom:"5%",left:"center"},color:r.colorList,series:[{type:"pie",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},center:["50%","40%"],radius:"50%",data:t}]},o=a("313e"),l=o.init(n);l.setOption(s),this.allCharts[e]=l}},showLine:function(e,t){var a=!1;if(e&&e.xaxis&&e.xaxis.length>0){var i=e.series||[],n=i.map((function(e){return e.name})),r=i.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return Number(100*e).toFixed(2)}));return{name:t.name,data:a,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));this.setLinesEchart(t,"",e.xaxis,r,n,e.xunit,e.yunit,a)}},setTableData:function(e){var t=e;for(var a in t){var i=t[a].data;this.allTableData[a]&&(this.allTableData[a].data=i)}},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=a("313e"),h=this,p={type:"value",name:c,axisTick:{inside:!0},axisLabel:{formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},m={title:{text:t},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter:function(e){var t,a=e[0].name+"<br/>",i=hw(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;a=a+n.marker+n.seriesName+": "+h.cc_format_number(n.value)+"<br/>"}}catch(r){i.e(r)}finally{i.f()}return a}},color:h.colorList,legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:n.length>10?-45:0,formatter:function(e){return e+s}}},yAxis:[p],series:n};l&&m.yAxis.push(vw(vw({},p),{},{name:d}));var f=u.init(document.getElementById(e));f.setOption(m,!0),this.allCharts[e]=f},restoreData:function(e,t,a,i){var n=this,r=[],s=[];return r=t.map((function(t,i){var r=Object(it["a"])({},a,t[a]),o=t.data,l=function(){var t=o[c];if("object"===Object($t["a"])(t)){var a=function(a){r["".concat(t.planName).concat(a)]=t[a],console.log("this.allTableData[key]---\x3e",e),console.log("this.allTableData[key]---\x3e",n.allTableData[e]),s=n.allTableData[e].tableConfig.map((function(e){if(e.prop===a){var i="".concat(t.planName).concat(a),n=e.children.filter((function(e){return e.prop===i}))||[];n&&0===n.length&&e.children.push({label:t.planName,prop:i})}return e}))};for(var i in t)a(i)}};for(var c in o)l();return r})),{tableData:r,tableConfig:s}}},data:function(){var e=this;return{pieText:"",time0:[],downloadUrl:void 0,options:[{value:6,label:"故事线"},{value:0,label:"顺序"},{value:1,label:"循环"},{value:2,label:"随机"},{value:3,label:"自定义"},{value:4,label:"不流转"},{value:5,label:"智能"}],allTableData:{t2:{header:[{label:"日期",prop:"dt"},{label:"子人群",prop:"crowdName"},{label:"分组",prop:"dynamicRuleName"},{label:"业务平台",prop:"bidName"},{label:"命中设备量",prop:"uv",render:function(t,a){var i=a.row;return e.cc_format_number(i.uv)}}],data:[]},t4:{header:[{label:"日期",prop:"dt"},{label:"子人群",prop:"crowdName"},{label:"分组",prop:"dynamicRuleName"},{label:"命中设备量",prop:"uv",render:function(t,a){var i=a.row;return e.cc_format_number(i.uv)}},{label:"分组总命中设备量",prop:"totalUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.totalUv)}},{label:"占比",prop:"dynamicRuleRate",render:function(t,a){var i=a.row;return e.toPercent(i.dynamicRuleRate)}}],data:[]},t5:{header:[{label:"日期",prop:"dt"},{label:"子人群",prop:"crowdName"},{label:"产品包曝光",prop:"pkgShowUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.pkgShowUv)}},{label:"优惠券曝光",prop:"couponShowUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.couponShowUv)}}],data:[]},t3:{header:[{label:"开始日期",prop:"startDate"},{label:"结束日期",prop:"endDate"},{label:"分组",prop:"dynamicRuleName"},{label:"流转路径",prop:"pkgShowPath"},{label:"产品包曝光设备量",prop:"totalUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.pkgShowUv)}}],data:[]},t1:{header:[{label:"开始日期",prop:"startDate"},{label:"结束日期",prop:"endDate"},{label:"分组",prop:"dynamicRuleName"},{label:"命中设备量",prop:"showMac",render:function(t,a){var i=a.row;return e.cc_format_number(i.dynamicRuleHitUv)}},{label:"各组命中设备总量",prop:"totalHitUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.totalHitUv)}},{label:"基础人群命中设备量",prop:"distinctTotalHitUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.distinctTotalHitUv)}},{label:"是否正确",prop:"flag"}],data:[]},t6:{props:{"max-height":"570px"},header:[{label:"开始日期",prop:"dt"},{label:"子人群",prop:"crowdName"},{label:"权益名称",prop:"sourceName"},{label:"价格",prop:"price",render:function(t,a){var i=a.row;return e.cc_format_number(i.price)}},{label:"产品包类型",prop:"productType"},{label:"成交单量",prop:"payNum",render:function(t,a){var i=a.row;return e.cc_format_number(i.payNum)}},{label:"成交设备量",prop:"payUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.payUv)}}],data:[]}},getAllData:[],allChartData:{},rowObj:[{vipPlay:{type:"line",title:"产品包曝光折线图",span:12},vipPlayTrend:{type:"line",title:"优惠券曝光折线图",span:12}}],rowObj2:[{t4:{type:"pie",title:"饼图",span:12}}],allChartData2:{},allCharts:{},colorList:["#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],showNav:!0,crowdName:"",crowdId:""}}},bw=gw,yw=(a("651f"),Object(U["a"])(bw,dw,uw,!1,null,"5cb210f3",null)),Cw=yw.exports,ww=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"title"},[e._v(" "+e._s(e.crowdName)+" - 动态实验报告")]),a("div",{staticClass:"export-button"},[a("el-radio-group",{staticStyle:{"margin-right":"80px","margin-top":"10px"},on:{change:e.handleRadioChange},model:{value:e.pageRadio,callback:function(t){e.pageRadio=t},expression:"pageRadio"}},[a("el-radio",{attrs:{label:0}},[e._v("产品包")]),a("el-radio",{attrs:{label:1}},[e._v("\n          内容运营\n          "),a("el-popover",{attrs:{placement:"top",width:"400",trigger:"hover"}},[e._v("\n            投后报告解释："),a("br"),a("br"),e._v("\n            内容运营：根据动态人群或故事运营配置的条件（动态流转标签，非行为标签和大数据标签）中的板块id或资源位id进行统计。"),a("br"),a("br"),e._v("\n            产品包：根据动态人群或故事运营配置的条件（动态流转标签，非行为标签和大数据标签）中的产品包权益进行统计或根据人群在影视订单平台中绑定的产品包权益进行统计。"),a("br"),a("span",{staticClass:"priority-tip",attrs:{slot:"reference"},slot:"reference"},[e._v("?")])])],1)],1),a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"info"},on:{click:e.handleBackTo}},[e._v("返回故事运营")]),a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleDownload}},[e._v("导出数据")])],1),a("div",{staticClass:"table-wrap",attrs:{id:"a1"}},[e._m(0),a("c-table",{attrs:{props:e.allTableData.reportTotal.props,header:e.allTableData.reportTotal.header,data:e.allTableData.reportTotal.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a2"}},[e._m(1),a("c-table",{attrs:{props:e.allTableData.experimentSummary.props,header:e.allTableData.experimentSummary.header,data:e.allTableData.experimentSummary.data}})],1),e._l(e.rowObj2,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n              "+e._s(e.allChartData[i].title)+"\n            ")]):a("span",[e._v("\n              "+e._s(t.title)+"\n            ")])]),t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)})),a("div",{staticClass:"table-wrap",attrs:{id:"a4"}},[e._m(2),a("dynamic-table",{attrs:{"table-data":e.allTableData.everyDayDetail.data,"table-header":e.allTableData.everyDayDetail.tableConfig}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a5"}},[e._m(3),a("dynamic-table",{attrs:{"table-data":e.allTableData.totalDetail.data,"table-header":e.allTableData.totalDetail.tableConfig}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a6"}},[e._m(4),a("c-table",{attrs:{data:e.allTableData.crowdIncomeDetail.data,header:e.allTableData.crowdIncomeDetail.header}})],1),e._l(e.rowObj,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e.allChartData&&e.allChartData[i]&&e.allChartData[i].title?a("span",[e._v("\n              "+e._s(e.allChartData[i].title)+"\n            ")]):a("span",[e._v("\n              "+e._s(t.title)+"\n            ")])]),t.title?a("div",{staticClass:"unit-content"},[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),1)})),a("div",{staticClass:"table-wrap",attrs:{id:"a7"}},[e._m(5),a("c-table",{attrs:{header:e.allTableData.linkIncomeDetail.header,data:e.allTableData.linkIncomeDetail.data}})],1),a("div",{staticClass:"table-wrap",attrs:{id:"a8"}},[e._m(6),a("c-table",{attrs:{header:e.allTableData.top10FilmAnalyze.header,data:e.allTableData.top10FilmAnalyze.data}})],1)],2)])},_w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          实验分组概览 （reportTotal）\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          实验效果汇总（experimentSummary）\n          "),a("span",[e._v("目的：①了解各组动态人群整体汇总情况")]),a("span",[e._v("②通过CTR、点击起播率、起播付费率等目标指标差异对比，概括性分析本次实验效果情况")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          每日效果明细（everyDayDetail）\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          累计效果明细（totalDetail）\n          "),a("span",[e._v("目的：针对累计数据情况，查看各组动态人群转化效果 ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          分组内各子人群收益明细（crowdIncomeDetail）\n          "),a("span",[a("span",[e._v("目的：以各动态人群子人群情况分析，了解各组动态人群子人群方案情况，拆分下钻各组动态人群效果差异原因。")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          分组内各流转链路收益（linkIncomeDetail）\n\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-layout"},[a("div",{staticClass:"per-index-title"},[e._v("\n          TOP10影片分析（top10FilmAnalyze）\n        ")])])}];function Sw(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=kw(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function kw(e,t){if(e){if("string"===typeof e)return Iw(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Iw(e,t):void 0}}function Iw(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function xw(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Tw(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xw(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xw(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dw={components:{DynamicTable:HC},created:function(){console.log("val ---\x3e created",this.$route.query.crowdId)},watch:{$route:{handler:function(){this.crowdId=this.$route.query.id||"",this.crowdName=this.$route.query.sceneName||"",this.pageType=this.$route.query.type||"",""!==this.crowdId&&(this.initData(),this.$nextTick((function(){console.log("val---\x3e",document.querySelector(".el-main")),document.querySelector(".el-main").scrollTop=0})))},immediate:!0}},mounted:function(){var e=this;window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{handleRadioChange:function(e){console.log("1=================>",e);var t=this.pageType;if(0===e){var a=this.crowdId,i=this.crowdName;this.$router.push({path:"/dynamicReport",query:{crowdId:a,crowdName:i,type:t}})}else if(1===e){var n="storyReport",r=this.crowdId,s=this.crowdName;this.$router.push({path:"/dynamicReport",query:{id:r,sceneName:s,componentName:n,type:t}})}},handleBackTo:function(){this.$router.push({name:"storyLine"})},handleDownload:function(){var e=this;"story"===this.pageType?this.downloadUrl="/api/chart/downloadContentDynamicCrowdReport?sceneId="+this.crowdId:this.downloadUrl="/api/chart/downloadContentDynamicCrowdReport?crowdId="+this.crowdId,this.$nextTick((function(){e.$refs.download_Url.click()}))},changeView:function(){this.showNav=!this.showNav},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%",t},goAnchor:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})},initData:function(){var e=this,t={};t="story"===this.pageType?{sceneId:this.crowdId}:{crowdId:this.crowdId},this.$service.getContentDynamicCrowdReport(t).then((function(t){var a=e.formatData(t);e.setTableData(a),e.setChartData(t)}))},setChartData:function(e){var t=this,a=this.getChartData2(e.crowdIncomeDetail.data,"ctr"),i=this.getChartData2(e.crowdIncomeDetail.data,"clickPlayRate"),n=this.getChartData2(e.crowdIncomeDetail.data,"payRate"),r=this.getChartData(e.everyDayDetail.data,"ctr"),s=this.getChartData(e.everyDayDetail.data,"clickPlayRate");this.allChartData={ctr:a,clickPlayRate:i,payRate:n,everyDayDetailCtr:r,everyDayDetailClickPlayRate:s},this.$nextTick((function(){t.drawChart(t.rowObj),t.drawChart(t.rowObj2)}))},formatData:function(e){var t=this,a=JSON.parse(JSON.stringify(e)),i=e.everyDayDetail.data,n=e.totalDetail.data,r=i.map((function(e){var a={date:e.date};return a.data=e.data.map((function(e){return Tw(Tw({},e),{},{showUv:t.cc_format_number(e.showUv),ctr:t.toPercent(e.ctr),clickPlayRate:t.toPercent(e.clickPlayRate),playRate:t.toPercent(e.playRate),payRate:t.toPercent(e.payRate)})})),a})),s=n.map((function(e){var a={date:e.date};return a.data=e.data.map((function(e){return Tw(Tw({},e),{},{showUv:t.cc_format_number(e.showUv),ctr:t.toPercent(e.ctr),clickPlayRate:t.toPercent(e.clickPlayRate),playRate:t.toPercent(e.playRate),payRate:t.toPercent(e.payRate)})})),a}));return a.everyDayDetail={name:e.everyDayDetail.name,data:r,title:e.everyDayDetail.title},a.totalDetail={name:e.totalDetail.name,data:s,title:e.totalDetail.title},a},getChartData:function(e,t){var a={xaxis:[],yunit:"",series:[],title:"",xunit:""},i="dynamicName";return"payRate"!==t&&"ctr"!==t&&"clickPlayRate"!==t||(a.yunit="%"),a.series=e.reduce((function(e,n,r){a.xaxis.push(n.date);var s=n.data;return s.forEach((function(a){var n=a[t],r=e.find((function(e){return e.name===a[i]}));r?r.value.push(n):e.push({name:a[i],value:[n]})})),e}),[]),a},getChartData2:function(e,t){var a={xaxis:[],yunit:"",series:[],title:"",xunit:""};return"payRate"!==t&&"ctr"!==t||(a.yunit="%"),e.forEach((function(e,i){a.xaxis.push("".concat(e.dynamicName,"-").concat(e.crowdId));var n=e[t];a.series.push(n)})),a},drawChart:function(e){var t=this;e.forEach((function(e){for(var a in e)"line"===e[a].type?t.showLine(t.allChartData[a],a):"bar"===e[a].type&&t.showBar(t.allChartData[a],a)}))},showBar:function(e,t){if(e&&e.xaxis&&e.xaxis.length>0){"%"===e.yunit&&(e.series=e.series.map((function(e){return Number(100*e).toFixed(2)})));var i=t,n=document.getElementById(i);if(!n)return;var r=YC("",e.xaxis,e.series,e.xunit,e.yunit,e.dataaxis),s=a("313e"),o=s.init(n);o.setOption(r,!0),this.allCharts[i]=o}},showLine:function(e,t){var a=!1;if(e&&e.xaxis&&e.xaxis.length>0){var i=e.series||[],n=i.map((function(e){return e.name})),r=i.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return Number(100*e).toFixed(2)}));return{name:t.name,data:a,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));this.setLinesEchart(t,"",e.xaxis,r,n,e.xunit,e.yunit,a)}},setTableData:function(e){var t=e;for(var a in t){var i=e[a],n=t[a].data||[];if("everyDayDetail"===a||"totalDetail"===a){var r="date",s=this.restoreData(a,n,r,i);this.allTableData[a].data=s.tableData,this.allTableData[a].tableConfig=s.tableConfig}else this.allTableData[a]&&(this.allTableData[a].data=n)}console.log("allTableData--\x3e",this.allTableData)},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=a("313e"),h=this,p={type:"value",name:c,axisTick:{inside:!0},axisLabel:{formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},m={title:{text:t},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter:function(e){var t,a=e[0].name+"<br/>",i=Sw(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;a=a+n.marker+n.seriesName+": "+h.cc_format_number(n.value)+o+"<br/>"}}catch(r){i.e(r)}finally{i.f()}return a}},color:h.colorList,legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:n.length>10?-45:0,formatter:function(e){return e+s}}},yAxis:[p],series:n};l&&m.yAxis.push(Tw(Tw({},p),{},{name:d}));var f=u.init(document.getElementById(e));f.setOption(m,!0),this.allCharts[e]=f},restoreData:function(e,t,a,i){var n=this,r=[],s=[];return r=t.map((function(t,i){var r=Object(it["a"])({},a,t[a]),o=t.data,l=function(){var t=o[c];if("object"===Object($t["a"])(t)){var a=function(a){r["".concat(t.planName).concat(a)]=t[a],s=n.allTableData[e].tableConfig.map((function(e){if(e.prop===a){var i="".concat(t.planName).concat(a),n=e.children.filter((function(e){return e.prop===i}))||[];n&&0===n.length&&e.children.push({label:t.planName,prop:i})}return e}))};for(var i in t)a(i)}};for(var c in o)l();return r})),{tableData:r,tableConfig:s}}},data:function(){var e=this;return{pageType:"",pageRadio:1,downloadUrl:void 0,options:[{value:6,label:"故事线"},{value:0,label:"顺序"},{value:1,label:"循环"},{value:2,label:"随机"},{value:3,label:"自定义"},{value:4,label:"不流转"},{value:5,label:"智能"}],allTableData:{reportTotal:{header:[{label:"流转ID",prop:"dynamicRuleId"},{label:"流转分组名",prop:"dynamicName"},{label:"流转方式",prop:"dynamicType"},{label:"命中流量占比",prop:"dynamicHitRate",render:function(e,t){var a=t.row;return a.dynamicHitRate+"%"}},{label:"包含接待员-ID",prop:"cname"}],data:[]},experimentSummary:{header:[{label:"流转ID",prop:"dynamicRuleId"},{label:"流转分组名",prop:"dynamicName"},{label:"流转方式",prop:"dynamicType"},{label:"命中流量占比",render:function(t,a){var i=a.row;return e.toPercent(i.dynamicHitRate)}},{label:"命中设备量",prop:"hitAmount",render:function(t,a){var i=a.row;return e.cc_format_number(i.hitAmount)}},{label:"活跃用户（曝光）",prop:"showUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.showUv)}},{label:"点击用户",prop:"clickUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.clickUv)}},{label:"CTR",prop:"ctr",render:function(t,a){var i=a.row;return e.toPercent(i.ctr)}},{label:"差异对比",prop:"ctrDifference",render:function(t,a){var i=a.row;return e.toPercent(i.ctrDifference)}},{renderHeader:function(e,t){return e("span",{},["起播用户量",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:40,content:"对应版块/版面/资源位的起播"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"playUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.playUv)}},{label:"点击起播率（起播用户数/板块点击用户）",prop:"clickPlayRate",render:function(t,a){var i=a.row;return e.toPercent(i.clickPlayRate)}},{label:"差异对比",prop:"clickPlayRateDifference",render:function(t,a){var i=a.row;return e.toPercent(i.clickPlayRateDifference)}},{renderHeader:function(e,t){return e("span",{},["付费用户量",e("el-popover",{props:{placement:"top",trigger:"hover",class:"popover-button",width:30,content:"对应影片的付费"}},[e("span",{slot:"reference",class:"priority-tip"},"!")])])},prop:"payUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.payUv)}},{label:"起播付费率",prop:"payRate",render:function(t,a){var i=a.row;return e.toPercent(i.payRate)}},{label:"差异对比",prop:"payRateDifference",render:function(t,a){var i=a.row;return e.toPercent(i.payRateDifference)}},{label:"上架天数",prop:"onlineDay"}],data:[]},everyDayDetail:{tableConfig:[{id:1,label:"日期",prop:"date"},{id:2,label:"活跃用户",prop:"showUv",children:[]},{id:3,label:"CTR",prop:"ctr",children:[]},{id:4,label:"点击起播率",prop:"clickPlayRate",children:[]},{id:5,label:"起播率",prop:"playRate",children:[]},{id:6,label:"起播付费率",prop:"payRate",children:[]}],data:[]},totalDetail:{tableConfig:[{id:1,label:"日期",prop:"date"},{id:2,label:"活跃用户",prop:"showUv",children:[]},{id:3,label:"CTR",prop:"ctr",children:[]},{id:4,label:"点击起播率",prop:"clickPlayRate",children:[]},{id:5,label:"起播率",prop:"playRate",children:[]},{id:6,label:"起播付费率",prop:"payRate",children:[]}],data:[]},crowdIncomeDetail:{header:[{id:1,label:"流转分组名",prop:"dynamicName"},{id:2,label:"流转方式",prop:"dynamicType"},{id:3,label:"人群ID",prop:"crowdId"},{label:"命中设备量",prop:"hitAmount"},{label:"板块活跃用户数",prop:"showUv"},{label:"CTR",prop:"ctr",render:function(t,a){var i=a.row;return e.toPercent(i.ctr)}},{label:"起播用户数",prop:"playUv"},{label:"点击起播率",prop:"clickPlayRate",render:function(t,a){var i=a.row;return e.toPercent(i.clickPlayRate)}},{label:"影片付费用户数",prop:"payUv"},{label:"影片总营收(元)",prop:"price"},{label:"起播付费率",prop:"payRate",render:function(t,a){var i=a.row;return e.toPercent(i.payRate)}},{label:"影片吸金订单量",prop:"videoOrderNum"},{label:"影片订单转化率",prop:"videoOrderRatio",render:function(t,a){var i=a.row;return e.toPercent(i.videoOrderRatio)}},{label:"影片订单均价",prop:"videoRerOrder"},{label:"影片播放均价",prop:"videoAvgPlayPrice"}],data:[]},top10FilmAnalyze:{header:[{label:"流转分组名",prop:"dynamicName"},{label:"影片名称",prop:"blockName"},{label:"点击人数",prop:"clickUv"},{label:"CTR",prop:"ctr",render:function(t,a){var i=a.row;return e.toPercent(i.ctr)}},{label:"点击起播率",prop:"clickPlayRate",render:function(t,a){var i=a.row;return e.toPercent(i.clickPlayRate)}},{label:"起播付费率",prop:"payRate",render:function(t,a){var i=a.row;return e.toPercent(i.payRate)}},{label:"点击人数排名",prop:"clickRank"}],data:[]},linkIncomeDetail:{header:[{label:"动态流转分组",prop:"dynamicName"},{label:"路径",prop:"path"},{label:"命中用户数",prop:"hitUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.hitUv)}},{label:"曝光用户数",prop:"showUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.showUv)}},{label:"点击用户数",prop:"clickUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.clickUv)}},{label:"CTR",prop:"ctr",render:function(t,a){var i=a.row;return e.toPercent(i.ctr)}},{label:"起播用户数",prop:"playUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.playUv)}},{label:"点击起播率",prop:"clickPlayRate",render:function(t,a){var i=a.row;return e.toPercent(i.clickPlayRate)}},{label:"影片付费用户数",prop:"payUv",render:function(t,a){var i=a.row;return e.cc_format_number(i.payUv)}},{label:"影片总营收",prop:"price",render:function(t,a){var i=a.row;return e.cc_format_number(i.price)}},{label:"起播付费率",prop:"payRate",render:function(t,a){var i=a.row;return e.toPercent(i.payRate)}}],data:[]}},getAllData:[],allChartData:{},rowObj:[{ctr:{type:"bar",title:"分组内各子人群（接待员）CTR对比",span:8},clickPlayRate:{type:"bar",title:"分组内各子人群（接待员）点击起播率对比",span:8},payRate:{type:"bar",title:"分组内各子人群（接待员）起播付费率对比",span:8}}],rowObj2:[{everyDayDetailCtr:{type:"line",title:"各分组每日CTR趋势",span:12},everyDayDetailClickPlayRate:{type:"line",title:"各分组每日点击起播率",span:12}}],allCharts:{},colorList:["#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],showNav:!0,crowdName:"",crowdId:""}}},$w=Dw,Lw=(a("1036"),Object(U["a"])($w,ww,_w,!1,null,"4ac56611",null)),Nw=Lw.exports,Ow={components:{CrowdReport:cw,ErrorReport:Cw,StoryReport:Nw},created:function(){console.log("val ---\x3e created",this.$route.query.crowdId),console.log("val ---\x3e created",this.$route.query.error)},watch:{$route:{handler:function(){this.$route.query.error?this.componentTag="ErrorReport":this.$route.query.componentName?this.componentTag=this.$route.query.componentName:this.componentTag="CrowdReport"},immediate:!0}},data:function(){return{componentTag:""}},methods:{}},Pw=Ow,Ew=Object(U["a"])(Pw,OC,PC,!1,null,null,null),Aw=Ew.exports,Fw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.tabsValue,callback:function(t){e.tabsValue=t},expression:"tabsValue"}},[a("el-tab-pane",{attrs:{name:"crowd",label:"我的人群"}},[a("policy-list",{attrs:{source:e.source}})],1),a("el-tab-pane",{attrs:{name:"launch",label:"我的投放"}},[a("launch-list",{attrs:{source:e.source}})],1)],1)],1)},Vw=[],Rw={name:"myPolicyAA",components:{policyList:ld,launchList:fu},data:function(){return{tabsValue:"crowd",source:"myCrowd"}},watch:{"$route.params.changeTab":function(e,t){e!=t&&e&&(this.tabsValue="launch")}},created:function(){this.$route.params.changeTab&&(this.tabsValue="launch")}},jw=Rw,Bw=Object(U["a"])(jw,Fw,Vw,!1,null,"7d0ce3e0",null),Mw=Bw.exports,zw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",[e._v("新增重定向人群")])],1),a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{label:"人群id",prop:"crowdId"}}),a("el-table-column",{attrs:{label:"人群名称",prop:"crowdName"}}),a("el-table-column",{attrs:{label:"父人群id",prop:"pcrowdId"}}),a("el-table-column",{attrs:{label:"父人群名称",prop:"pcrowdName"}}),a("el-table-column",{attrs:{label:"是否生效",prop:"apiStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.apiStatus?a("span",[e._v("已生效")]):e._e(),0===t.row.apiStatus?a("span",[a("el-tooltip",{attrs:{placement:"right-start"}},[0===t.row.putway?a("div",{attrs:{slot:"content"},slot:"content"},[e._v("人群未生效，因为该人群条件已下架")]):a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.unActiveTips(t.row.crowdValidStatus)))]),a("span",{staticClass:"uneffective"},[e._v("未生效"),a("span",[e._v("?")])])])],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"是否为有效期内"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.crowdValidEnum[t.row.crowdValidStatus]||"暂无数据")+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",[e._v("编辑")]),a("el-button",[e._v("删除")]),a("el-button",[e._v("投后效果")])]}}])})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1)},qw=[],Jw={name:"List",data:function(){return{tableData:[],crowdValidEnum:{1:"未开始",2:"有效期中",3:"已过期"},pageSize:10,currentPage:1,totalCount:1,filter:{},searchCont:void 0}},watch:{"$route.params.redirectListId":function(e,t){e!=t&&e&&this.fetchData()}},methods:{fetchData:function(){var e=this;this.parseFilter(),this.$service.getRedirectCrowdList(this.filter).then((function(t){e.tableData=t.list,e.totalCount=t.total}))},parseFilter:function(){var e=this.$route.params.redirectListId;this.filter={pageSize:this.pageSize,pageNum:this.currentPage,searchCont:this.searchCont,crowdId:e}},unActiveTips:function(e){return 1==e||3==e?"人群未生效，因为该人群条件"+this.crowdValidEnum[e]:'人群未生效，因为未点击该策略的"同步按钮"'},handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()}},created:function(){this.fetchData()}},Gw=Jw,Uw=(a("6111"),Object(U["a"])(Gw,zw,qw,!1,null,"2ba9440e",null)),Hw=Uw.exports,Kw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v("重定向新增")]),a("div",[e._v(e._s(e.$route.query))]),a("div",[a("el-form",{attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"人群名称",prop:"crowdName"}},[a("el-input",{model:{value:e.form.crowdName,callback:function(t){e.$set(e.form,"crowdName",t)},expression:"form.crowdName"}})],1),a("el-form-item",{attrs:{label:"父人群",prop:"pCrowdName"}},[a("el-select",{model:{value:e.form.pCrowdName,callback:function(t){e.$set(e.form,"pCrowdName",t)},expression:"form.pCrowdName"}},e._l(e.parentCrowd,(function(e){return a("el-option",{key:e.value+"_"+e.label,attrs:{label:e.label+"(id:"+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设置人群条件"}},[e._l(e.rulesJson.rules,(function(t,i){return a("div",{key:i+"rules",staticClass:"label-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:i>0,expression:"index > 0"}],key:i+"or",staticClass:"label-or-space"},[e._v("或者")]),a("div",{key:i+"business",staticClass:"label-ground"},[a("div",{staticClass:"header-name-operate"},[a("div",[e._v("父人群中活跃用户在业务")]),a("div",{staticClass:"poniter"},[a("span",{staticClass:"i",on:{click:function(a){return e.handleAddRuleToBusiness(t,i)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-plus"}),e._v("添加\n                                ")])])]),e._l(t.rules.business,(function(n,r){return a("div",{key:i+"tagId"+r,class:{"label-item":!0,paddingTop:r>0}},[a("span",{staticClass:"txt"},[e._v(e._s(n.categoryName))]),a("span",{staticClass:"sel"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"90px"},attrs:{name:"oxve"},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},[a("el-option",{attrs:{value:"=",label:"等于"}}),a("el-option",{attrs:{value:"!=",label:"不等于"}})],1)],1),a("span",{staticClass:"sel"},[a("el-select",{key:i+"_"+r+"business",staticClass:"time-dot-select-new",model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.business,(function(e,t){return a("el-option",{key:t+"business",attrs:{value:e.value,label:e.label}})})),1)],1),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveBusinessRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])])}))],2),a("div",{key:i+"behavior",staticClass:"label-ground"},[a("div",{staticClass:"header-name-operate"},[a("div",[e._v("父人群用户行为满足")]),a("div",{staticClass:"poniter"},[a("span",{staticClass:"i",on:{click:function(a){return e.handleAddRuleToBehavior(t,i)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-plus"}),e._v("添加\n                                ")])])]),e._l(t.rules.behavior,(function(n,r){return a("div",{key:i+"tagId"+r,class:{"label-item":!0,paddingTop:r>0}},[a("span",{staticClass:"txt"},[e._v(e._s(n.categoryName))]),a("span",{staticClass:"sel"},[a("el-select",{staticClass:"input-inline",staticStyle:{width:"90px"},attrs:{name:"oxve"},model:{value:n.operator,callback:function(t){e.$set(n,"operator",t)},expression:"childItem.operator"}},[a("el-option",{attrs:{value:"=",label:"做过"}}),a("el-option",{attrs:{value:"!=",label:"未做过"}})],1)],1),a("span",{staticClass:"sel"},[a("el-select",{key:i+"_"+r+"behavior",staticClass:"time-dot-select-new",model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"childItem.value"}},e._l(e.behavior,(function(e,t){return a("el-option",{key:t+"behaviorItem",attrs:{value:e.value,label:e.label}})})),1)],1),a("span",{staticClass:"i",on:{click:function(a){return e.handleRemoveBehaviorRule(t,n)}}},[a("i",{staticClass:"icon iconfont el-icon-cc-delete"})])])}))],2)])})),a("div",{staticClass:"label-or"},[e.tagsList.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.rulesJson.rules.length>0?"10px":0}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.rulesJson.rules.length,expression:"rulesJson.rules.length"}],staticClass:"label-and-txt",staticStyle:{display:"inline"}},[e._v("或者 ")]),e._l(e.tagsList,(function(t){return a("el-tag",{key:t.tagId+"_"+t.tagName,staticClass:"oc-item el-tags-list",attrs:{type:2===t.tagType?"danger":1===t.tagType?"success":""},nativeOn:{click:function(a){return e.handleAddRule(t)}}},[e._v(e._s(t.tagName))])}))],2):e._e()])],2),a("el-form-item",{attrs:{label:"人群有效期",prop:"validPeriod"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm","picker-options":e.pickerOptions,"default-time":["00:00:00","23:59:59"]},model:{value:e.form.validPeriod,callback:function(t){e.$set(e.form,"validPeriod",t)},expression:"form.validPeriod"}})],1),a("el-form-item",[a("el-button",[e._v("返回")]),a("el-button",[e._v("创建")])],1)],1)],1)])},Qw=[],Ww={name:"Add",data:function(){return{form:{crowdName:"",pCrowdName:"",conditions:void 0,validPeriod:void 0},business:[],behavior:[],parentCrowd:[],tagsList:[{tagName:"父人群中活跃用户在业务",tagId:1,tagType:1},{tagName:"父人群用户行为满足",tagId:2,tagType:2}],rulesJson:{condition:"OR",rules:[]},pickerOptions:{disabledDate:function(e){var t=(new Date).getTime(),a=5184e6,i=t+a;return e.getTime()<Date.now()-864e5||e.getTime()>i}}}},watch:{"$route.query.policyId":function(e){void 0!=e&&this.fetchData()}},methods:{fetchData:function(){var e=this,t=this.$route.query;this.$service.getRedirectCrowdAdd({policyId:t.policyId,params:{crowdId:t.crowdId?t.crowdId:void 0}}).then((function(t){var a=[],i=[],n=[];t.tags.forEach((function(e){"父人群中活跃用户在业务"===e.tagName?a.push({value:e.attrValue,label:e.attrName}):"父人群用户行为满足"===e.tagName&&i.push({value:e.attrValue,label:e.attrName})})),e.business=a,e.behavior=i,t.crowds.length>0&&t.crowds.forEach((function(e){n.push({value:e.crowdId,label:e.crowdName})})),e.parentCrowd=n,e.form.pCrowdName=n[0].value}))},handleAddRule:function(e){this.rulesJson.rules.length>50?this.$message.warning("已达最大数量"):this.rulesJson.rules.push({rules:{business:[{operator:"=",tagCode:e.tagKey,tagName:e.tagName,value:"movie",tagId:e.tagId,tagType:e.tagType,categoryName:"活跃用户所在业务"}],behavior:[{operator:"=",tagCode:e.tagKey,tagName:e.tagName,value:"activityOrExpose",tagId:e.tagId,tagType:e.tagType,categoryName:"在父人群上线的有效期内"}]}})},handleRemoveBusinessRule:function(e,t){var a=this.rulesJson;e.rules.business.splice(e.rules.business.indexOf(t),1),0===e.rules.business.length&&0===e.rules.behavior.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleRemoveBehaviorRule:function(e,t){var a=this.rulesJson;e.rules.behavior.splice(e.rules.behavior.indexOf(t),1),0===e.rules.behavior.length&&0===e.rules.business.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleAddRuleToBusiness:function(e,t){this.rulesJson.rules[t].rules.business.length>50?this.$message.warning("已达最大数量"):this.rulesJson.rules[t].rules.business.push({operator:"=",tagCode:e.tagKey,tagName:e.tagName,value:"movie",tagId:e.tagId,tagType:e.tagType,categoryName:"活跃用户所在业务"})},handleAddRuleToBehavior:function(e,t){this.rulesJson.rules[t].rules.behavior.length>50?this.$message.warning("已达最大数量"):this.rulesJson.rules[t].rules.behavior.push({operator:"=",tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,value:"activityOrExpose",tagId:e.tagId,tagType:e.tagType,categoryName:"在父人群上线的有效期内"})}},created:function(){this.fetchData()}},Yw=Ww,Zw=(a("b70e"),Object(U["a"])(Yw,Kw,Qw,!1,null,"4d900122",null)),Xw=Zw.exports,e_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("group-image-list",{attrs:{refreshList:e.refreshList},on:{"open-add":e.handleOpenAddForm,"open-echarts":e.handleOpenEcharts}}),e.showAdd?a("group-image-add",{on:{"close-add":e.handleCloseAddForm,"upsert-end":e.handleRefreshData,"save-form":e.handleSave}}):e._e(),e.showEcharts?a("device-echarts",{attrs:{"current-cid":e.currentId},on:{"close-echarts":e.handleCloseEcharts}}):e._e()],1)},t_=[],a_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"device-portrait-content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"button-group"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddDevice}},[e._v("新增设备信息包")])],1),a("div",{staticClass:"search-content"},[a("el-input",{attrs:{placeholder:"请输入设备包名称",clearable:""},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("搜索")])],1)]),a("el-table",{attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{label:"id",prop:"id"}}),a("el-table-column",{attrs:{label:"设备包名称",prop:"name"}}),a("el-table-column",{attrs:{label:"总数量",prop:"totalSize"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.cc_format_number(t.row.totalSize))+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"可识别数量",prop:"realSize"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.cc_format_number(t.row.realSize))+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),a("el-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.statusEnum[t.row.status])+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleSeeEcharts(t.row.id)}}},[e._v("查看画像")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("pagination",{attrs:{currentpage:e.pagination.currentPage,pagesize:e.pagination.pageSize,totalcount:e.pagination.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)},i_=[],n_={name:"List",components:{},props:["refreshList"],data:function(){return{tableData:[],statusEnum:{0:"已提交",1:"已解析",2:"估算中",3:"已估算",4:"估算失败"},pagination:{pageSize:10,currentPage:1,totalCount:0},searchVal:void 0}},watch:{refreshList:function(e){e&&this.fetchData()}},methods:{getFilter:function(){var e={pageNum:this.pagination.currentPage,pageSize:this.pagination.pageSize,fileName:this.searchVal};return e},fetchData:function(){var e=this,t=this.getFilter();this.$service.getDevicePortraitList(t).then((function(t){e.tableData=t.list,e.pagination.totalCount=t.total}))},handleSizeChange:function(e){this.pagination.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.fetchData()},handleSeeEcharts:function(e){this.$emit("open-echarts",e)},handleDelete:function(e){var t=this;this.$confirm("确定删除吗？").then((function(){t.$service.devicePortraintDel({id:e},"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))},handleAddDevice:function(){this.$emit("open-add")}},created:function(){this.fetchData()}},r_=n_,s_=(a("a0b9"),Object(U["a"])(r_,a_,i_,!1,null,"dc83553c",null)),o_=s_.exports,l_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showEstimateEcharts,width:"90%",title:"该人群估算出的用户画像"},on:{"update:visible":function(t){e.showEstimateEcharts=t},close:function(t){return e.$emit("close-echarts")}}},[a("div",{staticClass:"export-button"},[a("a",{ref:"download_Url",attrs:{href:e.downloadUrl,download:""}}),a("el-button",{attrs:{type:"success"},on:{click:e.handleDownload}},[e._v("导出数据")])],1),a("div",[a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("基本信息")]),a("div",{staticClass:"estimate-statistic"},[a("div",{staticClass:"province-city-active-content city-info-echarts"},[a("div",{ref:"provinceMap",staticClass:"province-map"}),e.cityData?a("div",{staticClass:"city-active-proportion"},[a("div",{staticClass:"city-active-proportion--title"},[e._v("城市活跃比")]),e.cityData.length>0?e._l(e.cityData,(function(t,i){return a("div",{key:i,staticClass:"city-active-proportion--name"},[e._v("\n                                "+e._s(t.name)+":"+e._s(t.value)+"\n                            ")])})):a("div",[e._v("暂无数据")])],2):e._e()]),a("div",{staticClass:"city-info-echarts"},[a("div",{staticClass:"table-title"},[e._v("Top50城市活跃排名(近30天活跃)")]),a("c-table",{staticClass:"table-overflow",attrs:{props:e.table.props,header:e.table.header,data:e.table.data}})],1),a("div",{ref:"circleDevice",staticClass:"base-info-circle-echarts",staticStyle:{border:"none",height:"300px"}})])]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("用户类别")]),a("div",{staticClass:"member-select"},[a("div",{staticClass:"member-select--text"},[e._v("按会员权益")]),a("el-select",{model:{value:e.memberListType,callback:function(t){e.memberListType=t},expression:"memberListType"}},[e._l(e.memberList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),a("div",{ref:"member",staticClass:"member-total"}),a("div",{staticClass:"estimate-statistic"},[a("div",{ref:"memberActiveTime",staticClass:"member-total-item"}),a("div",{ref:"memberMainPageActiveTime",staticClass:"member-total-item"}),a("div",{ref:"memberExpirationTime",staticClass:"member-total-item"})])]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("付费分布")]),a("div",{staticClass:"member-select"},[a("div",{staticClass:"member-select--text"},[e._v("按会员权益")]),a("el-select",{model:{value:e.memberListByPay,callback:function(t){e.memberListByPay=t},expression:"memberListByPay"}},[e._l(e.memberList,(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),a("div",{ref:"payDetail",staticClass:"member-total"})]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("观影行为")]),a("div",[a("div",{staticClass:"watch-tv-behavior"},[a("div",{staticClass:"member-select"},[a("div",{staticClass:"member-select--text"},[e._v("近7日/30日起播活跃率（有起播行为等活跃天数7日/或30日）")]),a("el-select",{model:{value:e.expirationDay,callback:function(t){e.expirationDay=t},expression:"expirationDay"}},[e._l(e.objectToArray(e.expirationDayList),(function(e,t){return[a("el-option",{key:t,attrs:{label:e.label,value:e.value}})]}))],2)],1),a("div",{ref:"userBehavior",staticClass:"userBehavior"})]),a("div",{ref:"watchPrefer",staticClass:"watch-tv-behavior userBehavior"})])]),a("div",{staticClass:"estimate-item"},[a("div",{staticClass:"estimate-title"},[e._v("活跃行为")]),a("div",{ref:"activeBehavior",staticClass:"activeBehaviorEcharts"})])])])},c_=[],d_={name:"deviceEcharts",props:["currentCid"],data:function(){return{showEstimateEcharts:!0,downloadUrl:void 0,cityData:null,table:{props:{},header:[{label:"排名",width:"50",type:"index"},{label:"省份",prop:"name"},{label:"活跃数量",prop:"value"},{label:"占比",prop:"PCT"}],data:[]},memberList:[],memberListType:"",memberListByPay:"",expirationDayList:{7:"近7日",30:"近30日"},expirationDay:"7",fillEmptyData:{data:[{name:"总量",value:0}],name:{data:["总量"]}}}},watch:{memberListType:function(e,t){e!==t&&0!==t.length&&this.getUserType()},memberListByPay:function(e,t){e!==t&&0!==t.length&&this.getPayDetail()},expirationDay:function(e,t){e!==t&&0!==t.length&&this.getWatchBehavior()}},methods:{setLinesEchart:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return s.cc_format_number(e.data)}},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:n})},setBarEchart:function(e,t,i,n){var r=this,s=a("313e"),o=s.init(this.$refs[e]);o.setOption({title:{text:t},tooltip:{trigger:"item",formatter:function(e){return r.cc_format_number(e.data)}},xAxis:{type:"category",data:i,axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{margin:2,formatter:function(e){return e>=1e4&&e<1e7?e=e/1e4+"万":e>=1e7&&(e=e/1e7+"千万"),e}}},series:[{data:0===n.length?this.fillEmptyData.data:n,type:"bar",barWidth:30}]})},setCircleEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t,left:"center"},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)+"("+e.percent+")%"}},legend:{orient:"vertical",x:"right",data:i},series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,itemStyle:{normal:{label:{show:r,formatter:"{b} : {c} ({d}%)"},labelLine:{show:r}},emphasis:{label:{show:r,formatter:"{b}\n{c} ({d}%)",position:"center",textStyle:{fontSize:"20",fontWeight:"bold"}}}},data:0===n.length?this.fillEmptyData.data:n}]})},setMapEcharts:function(e,t,i,n,r){var s=this,o=a("313e"),l=o.init(this.$refs[e]);l.setOption({title:{text:t,left:"center"},tooltip:{trigger:"item",formatter:function(e){return e.data.name+":"+s.cc_format_number(e.data.value)}},visualMap:{min:n||0,max:r||2e7,text:["High","Low"],realtime:!1,calculable:!0,inRange:{color:["lightskyblue","yellow","orangered"]}},series:[{name:"省份分布",type:"map",mapType:"china",roam:!1,label:{normal:{show:!1},emphasis:{show:!0}},data:i}]})},setFunnelEcharts:function(e,t,i,n){var r=a("313e"),s=r.init(this.$refs[e]);s.setOption({title:{text:t},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{data:i},calculable:!0,series:[{name:"漏斗图",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:n}]})},handleDownload:function(){var e=this;this.downloadUrl="/api/crowd/exportDevPacketPortrait/"+this.currentCid,this.$nextTick((function(){e.$refs.download_Url.click()}))},getCrowdBaseInfo:function(){var e=this,t=["portrait.family.sex","portrait.family.age.range","portrait.product.grade"];this.$service.seeDevicePortraintCharts({params:{type:t[2]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("circleDevice","产品等级分布",a,i,!0)}))},getCrowdProvinceInfo:function(){var e=this,t=["portrait.province","portrait.cities.rank"];this.$service.seeDevicePortraintCharts({params:{type:t[0]},id:this.currentCid}).then((function(t){var a=[[],[],[],t.dataList.length],i=a[0],n=a[1],r=a[2],s=a[3];t.dataList.forEach((function(e){i.push(e.name),r.push(parseInt(e.value)),n.push({value:parseInt(e.value),name:e.name})}));var o=e.bubbleSort(r),l=o[s-1],c=o[0];e.setMapEcharts("provinceMap","省份分布",n,c,l)})),this.$service.seeDevicePortraintCharts({params:{type:t[1]},id:this.currentCid}).then((function(t){e.cityData=t.dataList}))},getTopActiveRank:function(){var e=this,t=["portrait.top50.active.city"];this.$service.seeDevicePortraintCharts({params:{type:t[0],orderBy:"value",sortOrder:"desc"},id:this.currentCid}).then((function(t){var a=t.dataList,i=0;a.forEach((function(e){i+=parseInt(e.value)})),e.table.data=a.reduce((function(e,t){return e.concat({name:t.name,value:parseInt(t.value),PCT:(parseInt(t.value)/i*100).toFixed(2)+"%"})}),[])}))},getMemberBenefits:function(){var e=this;this.$service.getEstimatedTvEnumData().then((function(t){var a=e.objectToArray(t);e.memberList=a,e.memberListType=a[0].value,e.memberListByPay=a[0].value,e.getUserType(),e.getPayDetail()}))},objectToArray:function(e){var t=[];for(var a in e)t.push({value:a,label:e[a]});return t},getUserType:function(){var e=this,t={jyVIP:"portrait.user.category.education.vip.member",sjyVIP:"portrait.user.category.education.super.vip.member",djPlatform:"portrait.user.category.premier.theater.member",cjyVIP:"portrait.user.category.education.kids.vip.member",aqy:"portrait.user.category.iqiyi.member",multAqy:"portrait.user.category.mixed.source.iqiyi.member",fkGarden:"portrait.user.category.4k.garden.member",phyVIP:"portrait.user.category.sports.vip.member",tencent:"portrait.user.category.tencent.movie.member",kmVIP:"portrait.user.category.cool.meow.vip.member"},a={jyVIP:"portrait.user.category.education.vip.nonmember",sjyVIP:"portrait.user.category.education.super.vip.nonmember",djPlatform:"portrait.user.category.premier.theater.nonmember",cjyVIP:"portrait.user.category.education.kids.vip.nonmember",aqy:"portrait.user.category.iqiyi.nonmember",multAqy:"portrait.user.category.mixed.source.iqiyi.nonmember",fkGarden:"portrait.user.category.4k.garden.nonmember",phyVIP:"portrait.user.category.sports.vip.nonmember",tencent:"portrait.user.category.tencent.movie.nonmember",kmVIP:"portrait.user.category.cool.meow.vip.nonmember"},i={jyVIP:"portrait.user.category.education.vip.validdate.member",sjyVIP:"portrait.user.category.education.super.vip.validdate.member",djPlatform:"portrait.user.category.premier.theater.validdate.member",cjyVIP:"portrait.user.category.education.kids.vip.validdate.member",aqy:"portrait.user.category.iqiyi.validdate.member",multAqy:"portrait.user.category.mixed.source.iqiyi.validdate.member",fkGarden:"portrait.user.category.4k.garden.validdate.member",phyVIP:"portrait.user.category.sports.vip.validdate.member",tencent:"portrait.user.category.tencent.movie.validdate.member",kmVIP:"portrait.user.category.cool.meow.vip.validdate.member"},n={jyVIP:"portrait.user.category.education.vip.expireddate.member",sjyVIP:"portrait.user.category.education.super.vip.expireddate.member",djPlatform:"portrait.user.category.premier.theater.expireddate.member",cjyVIP:"portrait.user.category.education.kids.vip.expireddate.member",aqy:"portrait.user.category.iqiyi.expireddate.member",multAqy:"portrait.user.category.mixed.source.iqiyi.expireddate.member",fkGarden:"portrait.user.category.4k.garden.expireddate.member",phyVIP:"portrait.user.category.sports.vip.expireddate.member",tencent:"portrait.user.category.tencent.movie.expireddate.member",kmVIP:"portrait.user.category.cool.meow.vip.expireddate.member"};this.$service.seeDevicePortraintCharts({params:{type:t[this.memberListType]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("member","会员用户的分布情况",a,i,!0)})),this.$service.seeDevicePortraintCharts({params:{type:a[this.memberListType]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("memberMainPageActiveTime","从未是会员-按主页激活时间",a,i,!1)})),this.$service.seeDevicePortraintCharts({params:{type:i[this.memberListType]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("memberActiveTime","会员-按会员有效期时长",a,i,!1)})),this.$service.seeDevicePortraintCharts({params:{type:n[this.memberListType]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("memberExpirationTime","过期会员-按会员过期时长",a,i,!1)}))},getPayDetail:function(){var e=this,t={jyVIP:"portrait.last.payment.education.vip",sjyVIP:"portrait.last.payment.education.super.vip",djPlatform:"portrait.last.payment.premier.theater",cjyVIP:"portrait.last.payment.education.kids.vip",aqy:"portrait.last.payment.iqiyi",multAqy:"portrait.last.payment.mixed.source.iqiyi",fkGarden:"portrait.last.payment.4k.garden",phyVIP:"portrait.last.payment.sports.vip",tencent:"portrait.last.payment.tencent.movie",kmVIP:"portrait.last.payment.cool.meow.vip"};this.$service.seeDevicePortraintCharts({params:{type:t[this.memberListByPay]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("payDetail","上次付费的会员产品包情况",a,i,!0)}))},getWatchBehavior:function(){var e=this,t=["portrait.user.viewing.preferences","portrait.broadcast.rate.within.seven.days","portrait.broadcast.rate.within.thirty.days"];this.$service.seeDevicePortraintCharts({params:{type:t[0]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("watchPrefer","观影偏好",a,i)})),"7"===this.expirationDay?this.$service.seeDevicePortraintCharts({params:{type:t[1]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("userBehavior","",a,i)})):this.$service.seeDevicePortraintCharts({params:{type:t[2]},id:this.currentCid}).then((function(t){var a=[],i=[];t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setCircleEcharts("userBehavior","",a,i)}))},getActiveBehavior:function(){var e=this,t=["portrait.active.device.amount.yesterday"],a=[],i=[];this.$service.seeDevicePortraintCharts({params:{type:t[0]},id:this.currentCid}).then((function(t){t.dataList.forEach((function(e){a.push(e.name),i.push({value:e.value,name:e.name})})),e.setBarEchart("activeBehavior","圈定人群的设备活跃人数/主页活跃人数/起播活跃人数（前一日的值)",a,i)}))},bubbleSort:function(e){for(var t=e.length,a=0;a<t;a++)for(var i=0;i<t-1-a;i++)if(e[i]>e[i+1]){var n=e[i+1];e[i+1]=e[i],e[i]=n}return e},fetchData:function(){this.getCrowdBaseInfo(),this.getCrowdProvinceInfo(),this.getTopActiveRank(),this.getMemberBenefits(),this.getWatchBehavior(),this.getActiveBehavior()}},created:function(){this.fetchData()}},u_=d_,h_=(a("648b"),Object(U["a"])(u_,l_,c_,!1,null,"5034a8e9",null)),p_=h_.exports,m_={name:"groupImageInsightAA",components:{groupImageList:o_,groupImageAdd:Ty,deviceEcharts:p_},data:function(){return{showAdd:!1,refreshList:!1,currentId:void 0,showEcharts:!1}},methods:{handleSave:function(e){var t=this;this.$service.devicePortraintAddSave(e,"保存成功").then((function(){t.handleRefreshData(),t.handleCloseAddForm()}))},handleOpenAddForm:function(){this.showAdd=!0},handleCloseAddForm:function(){this.showAdd=!1},handleRefreshData:function(){this.refreshList=!0},handleOpenEcharts:function(e){this.currentId=e,this.showEcharts=!0},handleCloseEcharts:function(){this.showEcharts=!1}}},f_=m_,v_=Object(U["a"])(f_,e_,t_,!1,null,"3efa1afa",null),g_=v_.exports,b_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-form",{attrs:{model:e.formData,inline:!0}},[a("el-form-item",[a("el-select",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.objToArray(e.typeEnum),(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),2===e.formData.type?a("el-form-item",{attrs:{label:"选择日期："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",value:"yyyy-MM-dd","picker-options":e.dateRange},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}})],1):e._e(),2===e.formData.type?a("el-form-item",[a("el-input",{staticClass:"small-input",attrs:{placeholder:"请输入用户的MAC地址",clearable:""},model:{value:e.formData.mac,callback:function(t){e.$set(e.formData,"mac",t)},expression:"formData.mac"}})],1):e._e(),3===e.formData.type?a("el-form-item",[a("el-input",{staticClass:"small-input",attrs:{placeholder:"请输入微信/QQ/openId",clearable:""},model:{value:e.formData.thirdUserId,callback:function(t){e.$set(e.formData,"thirdUserId",t)},expression:"formData.thirdUserId"}}),3===e.formData.type?a("div",{staticStyle:{"font-size":"12px",color:"red"}},[e._v(" 微信/QQ/openID/酷开openid至少输入一个 ")]):e._e()],1):e._e(),3===e.formData.type?a("el-form-item",[a("el-input",{staticClass:"small-input",attrs:{placeholder:"请输入酷开openId",clearable:""},model:{value:e.formData.cOpenid,callback:function(t){e.$set(e.formData,"cOpenid",t)},expression:"formData.cOpenid"}})],1):e._e(),1===e.formData.type?a("el-form-item",[a("el-select",{attrs:{filterable:"",placeholder:"请选择标签名称",clearable:""},on:{change:e.handleTagChange},model:{value:e.formData.tagId,callback:function(t){e.$set(e.formData,"tagId",t)},expression:"formData.tagId"}},e._l(e.tagList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),1===e.formData.type?a("el-form-item",[a("el-select",{attrs:{filterable:"",placeholder:"请选择标签属性",clearable:""},model:{value:e.formData.tagAttrId,callback:function(t){e.$set(e.formData,"tagAttrId",t)},expression:"formData.tagAttrId"}},e._l(e.tagAttrList,(function(e,t){return a("el-option",{key:t,attrs:{label:"【"+e.value+"】"+e.label,value:e.value}})})),1)],1):e._e(),1===e.formData.type?a("el-form-item",[a("el-input",{staticClass:"small-input",attrs:{placeholder:"请输入用户的MAC地址",clearable:""},model:{value:e.formData.tempMac,callback:function(t){e.$set(e.formData,"tempMac",t)},expression:"formData.tempMac"}})],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1),e.content?a("div",{staticClass:"content"},[a("pre",[a("code",[e._v(e._s(e.content))])])]):e._e()],1)])},y_=[],C_={name:"userTagsSearchAA",data:function(){return{formData:{type:1,mac:void 0,cOpenid:void 0,thirdUserId:void 0,tagId:void 0,tagAttrId:void 0,tempMac:void 0,date:void 0},typeEnum:{1:"临时标签",2:"大数据标签",3:"第三方标签"},typeEnumArr:[],tagList:[],tagAttrList:[],content:void 0,dateRange:{disabledDate:function(e){return e.getTime()>Date.now()||e.getTime()<(new Date).getTime()-1296e6}}}},methods:{objToArray:function(e){var t=[];return Object.keys(e).forEach((function(a){t.push({label:e[a],value:parseInt(a)})})),t},handleGetTagsList:function(){var e=this;this.$service.getTempTagList().then((function(t){e.tagList=e.objToArray(t)}))},handleGetTagsAttr:function(e){var t=this;this.$service.getTempTagAttrList({tagId:e}).then((function(e){var a=[];e.length>0&&e.forEach((function(e){a.push({label:e.attrName,value:e.attrId})})),t.tagAttrList=a}))},handleTagChange:function(e){this.handleGetTagsAttr(e)},handleSearch:function(){var e=this,t=JSON.parse(JSON.stringify(this.formData)),a=t.type,i={type:a,mac:1===a?t.tempMac:2===a?t.mac:void 0,cOpenid:3===a?t.cOpenid:void 0,thirdUserId:3===a?t.thirdUserId:void 0,tagId:1===a?t.tagId:void 0,tagAttrId:1===a?t.tagAttrId:void 0,date:2===a?t.date:void 0};if(2!==a)this.$service.getUserTagList(i).then((function(t){e.content=t||"暂无数据"}));else{var n={id:t.mac,date:t.date};this.$service.getBigDataUserTagList(n).then((function(t){e.content=t||"暂无数据"}))}}},created:function(){this.handleGetTagsList()}},w_=C_,__=(a("c650"),Object(U["a"])(w_,b_,y_,!1,null,"8ae7c00a",null)),S_=__.exports,k_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("查询指定MAC的命中情况")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,inline:!0}},[a("el-form-item",{attrs:{label:"人群id：",prop:"crowdId"}},[a("el-input",{attrs:{clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.form.crowdId,callback:function(t){e.$set(e.form,"crowdId",t)},expression:"form.crowdId"}})],1),a("el-form-item",{attrs:{label:"MAC地址",prop:"mac"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.mac,callback:function(t){e.$set(e.form,"mac",t)},expression:"form.mac"}})],1),a("el-form-item",{attrs:{label:"日期：",prop:"date"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions,clearable:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:function(t){return e.handelGo("http://192.168.2.127:8888/index")}}},[e._v("数据部应用平台")])],1)],1),a("div",[e.list.length>0?a("div",[a("div",[e._v("\n                命中情况：\n                总条数： "+e._s(this.pagination.total)+"\n                "),a("el-button",{staticClass:"export-to-temp",attrs:{type:"text"},on:{click:e.exportToTempLabel}},[e._v("导出为临时标签")])],1),a("div",{staticClass:"result"},e._l(e.list,(function(t,i){return a("div",{key:i,staticClass:"result-item"},[a("div",[a("span",{staticStyle:{display:"inline-block",width:"150px"}},[e._v(e._s(t.mac))]),a("span",[e._v("命中时间："+e._s(t.hitDate))])])])})),0),a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.pagination.total,"page-size":e.pagination.pageSize,"current-page":e.pagination.pageNum},on:{"current-change":e.handleCurrentChange}})],1):a("div",[e._v(e._s(e.noneText))])]),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"导出命中数据为临时标签",width:"550px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formRef",attrs:{model:e.exportForm,"label-width":"80px",rules:e.exportFormRules}},[a("el-form-item",{attrs:{label:"标签名：",prop:"tagName"}},[a("el-input",{attrs:{clearable:"",maxlength:"45","show-word-limit":""},model:{value:e.exportForm.tagName,callback:function(t){e.$set(e.exportForm,"tagName",t)},expression:"exportForm.tagName"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.comfirmExport}},[e._v("确 定")])],1)],1)],1)},I_=[];function x_(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function T_(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x_(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D_,$_,L_={name:"CrowdValidateAA",data:function(){return{exportFormRules:{tagName:[{required:!0,message:"不可为空",trigger:"blur"}]},form:{mac:"",crowdId:"",date:""},pagination:{pageSize:10,pageNum:1,total:0},crowdForm:{crowd:"",condition:[],match:[]},dateList:[],rules:{crowdId:{required:!0,message:"请输入人群id",trigger:"blur"}},pickerOptions:{disabledDate:function(e){var t=2592e6,a=Date.now(),i=Date.now()-t;return e.getTime()>a||e.getTime()<i}},list:[],noneText:"",dialogVisible:!1,exportForm:{tagName:""}}},methods:{exportToTempLabel:function(){this.dialogVisible=!0,this.$refs.formRef.resetFields()},comfirmExport:function(){var e=this;this.$refs.formRef.validate((function(t){if(t){var a=T_(T_({},e.exportForm),e.form);e.$service.exportHitDataToTmpCrowd(a,"导出成功").then((function(t){e.dialogVisible=!1}))}}))},handelGo:function(e){window.open(e,"_blank")},getFilter:function(){var e={mac:this.form.mac,crowdId:this.form.crowdId,date:this.form.date,pageSize:this.pagination.pageSize,pageNum:this.pagination.pageNum};return e},handleSearch:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=e.getFilter();e.$service.newLaunchHelpCrowdIndex(a).then((function(t){e.pagination.total=t.pageInfo.total,e.list=t.pageInfo.list||"暂无数据",void 0!==e.list&&0!==e.list.length||(e.noneText="当前人群无命中记录")}))}}))},handleCurrentChange:function(e){this.pagination.pageNum=e,this.handleSearch()},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},setDateData:function(){for(var e=[],t=0;t<5;t++)e.push(this.formatDate((new Date).setTime((new Date).getTime()-864e5*t)));this.dateList=e,this.form.date=e[1]}},created:function(){}},N_=L_,O_=(a("fd0b"),Object(U["a"])(N_,k_,I_,!1,null,"37d39e60",null)),P_=O_.exports,E_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:e.activeStep,"finish-status":"success",simple:""}},[a("el-step",{attrs:{title:"第一步：挑选基础标签",icon:"el-icon-edit"}}),a("el-step",{attrs:{title:"第二步：编辑组合标签",icon:"el-icon-edit"}})],1)],1),a("div",[0===e.activeStep?a("AddOrEditSpecialTag",{attrs:{mode:e.mode,initTagList:e.initTagList,usedTagList:e.usedTagList},on:{policyNextStep:e.handlePolicyNextStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e(),1===e.activeStep?a("create-crowd",{attrs:{initTagList:e.initTagList},on:{crowdNextStep:e.handleCrowdNextStep,crowdPrevStep:e.handleCrowdPrevStep,resetFormData:e.resetFormData,handleDirectStrategyList:e.handleDirectStrategyList}}):e._e()],1)])},A_=[],F_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("add-more-crowd",{attrs:{initTagList:e.brotherInitTagList},on:{resetFormData:e.resetFormData,handleBackPrevStep:e.handleBackPrevStep,handleToNextStep:e.handleToNextStep,handleDirectStrategyListBrother:e.handleDirectStrategyListBrother}})],1)},V_=[],R_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"130px"}},[a("CrowdAdd",{ref:"CrowdAdd",attrs:{"prop-prefix":"rulesJson.",initTagList:e.initTagList},model:{value:e.form.rulesJson,callback:function(t){e.$set(e.form,"rulesJson",t)},expression:"form.rulesJson"}}),a("el-form-item",[a("el-button",{attrs:{type:"info"},on:{click:e.handleBackPrevStep}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave()}}},[e._v("保存")])],1)],1)],1)},j_=[],B_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse",{staticClass:"el-collapse",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("div",{staticClass:"el-collapse_item"},[e._l(e.inputValue,(function(t,i){return[a("div",{key:i,staticClass:"items"},[a("el-collapse-item",{key:i,staticClass:"crowd-content",attrs:{name:i}},[a("el-form-item",{attrs:{label:"标签名称",prop:e.formProp(i+".specialTagName"),rules:e.rules.specialTagName}},[a("el-input",{attrs:{placeholder:"标签名称"},model:{value:t.specialTagName,callback:function(a){e.$set(t,"specialTagName",a)},expression:"crowd.specialTagName"}})],1),a("div",{staticStyle:{position:"relative"}},[e.tags.length>0?a("div",[a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"设置标签",required:""}},[a("MultipleSelect",{attrs:{tags:e.tags,rulesJson:t.rulesJson,crowd:t,i:i}})],1)],1):e._e(),e.tags.length>0&&e.actionTags.length>0&&e.hasBehaviorTag||e.tags.length>0&&e.specialTags.length>0||e.actionTags.length>0&&e.hasBehaviorTag&&e.specialTags.length>0?a("div",{staticClass:"outer-and"},[a("el-button",{key:i+"condition",attrs:{type:"danger",round:""},on:{click:function(a){return e.handleConditionChange(t)}}},[e._v("\n                "+e._s("OR"===t.behaviorRulesJson.link?"或":"且")+"\n              ")])],1):e._e(),e.actionTags.length>0&&e.hasBehaviorTag?a("el-form-item",{attrs:{label:"行为标签"}},[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",refInFor:!0,attrs:{actionTags:e.actionTags,behaviorRulesJson:t.behaviorRulesJson,crowd:t,i:i}})],1):e._e(),e.specialTags.length>0?a("el-form-item",{attrs:{label:"动态因子"}},[a("MultipleSelect",{attrs:{specialTags:e.specialTags,dynamicPolicyJson:t.dynamicPolicyJson,crowd:t,i:i}})],1):e._e()],1)],1),a("a",{staticClass:"app-params__remove-param",on:{click:function(t){return e.handleRemoveParam(i)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:i>0,expression:"i > 0"}],staticClass:"icon iconfont el-icon-cc-delete"})])],1)]})),a("br")],2),a("el-dialog",{staticClass:"showMoreTags",attrs:{title:"显示更多标签",visible:e.showMoreTags,"append-to-body":!0},on:{"update:visible":function(t){e.showMoreTags=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"标签名称"}},[a("el-input",{attrs:{placeholder:"标签名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.formInline.attrName,callback:function(t){e.$set(e.formInline,"attrName",t)},expression:"formInline.attrName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("div",[a("el-radio-group",{model:{value:e.checkboxValue,callback:function(t){e.checkboxValue=t},expression:"checkboxValue"}},e._l(e.tagList,(function(t,i){return a("el-radio",{key:t.attrId+i,attrs:{label:t.attrValue}},[e._v(e._s(t.attrName))])})),1)],1),a("el-pagination",{staticClass:"pagination",attrs:{small:"",layout:"prev,pager,next",total:e.tagsListTotal,"page-size":e.initPageSize,"current-page":e.initCurrentPage},on:{"current-change":e.handleCurrentChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showMoreTags=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCheckboxOk}},[e._v("确 定")])],1)],1)],1)},M_=[],z_={components:{MultipleSelect:yi,MultipleActionTagSelect:on},data:function(){return{tags:[],actionTags:[],specialTags:[],cache:{},tagSelectMoreShow:!1,showMoreTags:!1,tagsListTotal:0,formInline:{attrName:""},tagList:[],checkboxValue:"",currentChildItem:"",suggestions:{},suggestionsNew:[],priority:"",initPageSize:200,initCurrentPage:1,activeName:0,inputValue:[],rules:{specialTagName:[{required:!0,message:"请输入标签名称",trigger:"blur"}]}}},props:["value","propPrefix","initTagList"],watch:{value:"setInputValue"},computed:{hasBehaviorTag:function(){return this.actionTags.some((function(e){return 8===e.dataSource}))}},inject:["sTagIndex"],methods:{changeTimeWays:function(e){e.value="",e.isDynamicTime?e.isDynamicTime=2===e.isDynamicTime?1:2:this.$set(e,"isDynamicTime",2)},getDefaultOperator:function(){return"="},onSubmit:function(){var e=this;this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:1,attrName:this.formInline.attrName}).then((function(t){e.tagList=t.pageInfo.list,e.tagsListTotal=t.pageInfo.total}))},handleCheckboxOk:function(){this.currentChildItem.value=this.checkboxValue,this.showMoreTags=!1},handleSelectMore:function(e){var t=this;this.checkboxValue="",this.formInline.attrName="",this.currentChildItem=e,this.$service.getTagAttr({tagId:e.tagId,pageSize:this.initPageSize,pageNum:this.initCurrentPage}).then((function(e){t.showMoreTags=!0,t.tagList=e.pageInfo.list,t.tagsListTotal=e.pageInfo.total}))},fetchTagSuggestions:function(e){var t=this;this.$service.getTagAttr({tagId:e,pageSize:this.tagInitSize,pageNum:1}).then((function(a){t.$set(t.cache,e,{select:a.select,list:a.pageInfo.list})}))},handleCurrentChange:function(e){var t=this;this.initCurrentPage=e,this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:e}).then((function(e){t.tagList=e.pageInfo.list}))},handleRemoveRule:function(e,t,a){var i=e.rulesJson;t.rules.splice(t.rules.indexOf(a),1);var n=[];e.rulesJson.rules.forEach((function(e){e.rules.forEach((function(e){n.includes(e.tagId)||n.push(e.tagId)}))})),e.tagIds=n,0===t.rules.length&&(i.rules=i.rules.filter((function(e){return e!==t})))},handleRemoveSpecialRule:function(e,t,a){var i=e.dynamicPolicyJson;t.rules.splice(t.rules.indexOf(a),1),0===t.rules.length&&(i.rules=i.rules.filter((function(e){return e!==t})))},handleAddRule:function(e,t){e.rulesJson.rules.length>50?this.$message({type:"error",message:"已达最大数量"}):(e.tagIds.includes(t.tagId)||e.tagIds.push(t.tagId),"string"!==t.tagType&&"collect"!==t.tagType||void 0===this.cache[t.tagId]&&this.fetchTagSuggestions(t.tagId),e.rulesJson.rules.push({condition:"AND",rules:[{operator:"time"===t.tagType?"between":this.getDefaultOperator("="),tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,value:"",tagId:t.tagId,tagType:t.tagType,categoryName:t.tagName,categoryCode:t.tagKey,dynamicTimeType:t.dynamicTimeType?t.dynamicTimeType:1,isDynamicTime:t.isDynamicTime?t.isDynamicTime:3,thirdPartyCode:t.thirdPartyCode,thirdPartyField:t.thirdPartyField,dateAreaType:t.dateAreaType?t.dateAreaType:0,startDay:"time"===t.tagType?t.startDay?t.startDay:"":void 0,endDay:"time"===t.tagType?t.endDay?t.endDay:"":void 0,initValue:t.initValue}]}))},handleAddChildRule:function(e,t,a){t.rules.length>50?this.$message({type:"error",message:"已达最大数量"}):("string"!==a.tagType&&"collect"!==a.tagType||void 0===this.cache[a.tagId]&&this.fetchTagSuggestions(a.tagId),e.tagIds.includes(a.tagId)||e.tagIds.push(a.tagId),t.rules.push({operator:"time"===a.tagType?"between":this.getDefaultOperator("="),tagCode:a.tagKey,tagName:a.tagName,dataSource:a.dataSource,value:"",tagId:a.tagId,tagType:a.tagType,categoryName:a.tagName,categoryCode:a.tagKey,dynamicTimeType:a.dynamicTimeType?a.dynamicTimeType:1,isDynamicTime:a.isDynamicTime?a.isDynamicTime:3,thirdPartyCode:a.thirdPartyCode,thirdPartyField:a.thirdPartyField,dateAreaType:a.dateAreaType?a.dateAreaType:0,startDay:"time"===a.tagType?a.startDay?a.startDay:"":void 0,endDay:"time"===a.tagType?a.endDay?a.endDay:"":void 0,initValue:a.initValue}))},handleAddSpecialRule:function(e,t){e.dynamicPolicyJson.rules.length>50?this.$message.warning("已达最大数量"):e.dynamicPolicyJson.rules.push({condition:"AND",rules:[{operator:"=",tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,value:"",tagId:t.tagId,tagType:t.tagType,categoryName:t.tagName,categoryCode:t.tagKey,dynamic:{type:1,version:""},initValue:t.initValue}]})},handleAddSpecialChildRule:function(e,t,a){t.rules.length>50?this.$message.warning("已达最大数量"):(e.tagIds.includes(a.tagId)||e.tagIds.push(a.tagId),t.rules.push({operator:"=",tagCode:a.tagKey,tagName:a.tagName,dataSource:a.dataSource,value:"",tagId:a.tagId,tagType:a.tagType,categoryName:a.tagName,categoryCode:a.tagKey,dynamic:{type:1,version:""},initValue:a.initValue}))},changeSeq:function(){this.inputValue.sort((function(e,t){return e.crowdOrder-t.crowdOrder})),this.setSeq()},formProp:function(e){return(this.propPrefix||"")+e},setInputValue:function(e){if(e!==this.inputValue)if(e.length>0)this.inputValue=e,this.setSeq();else{if(this.inputValue.length>0)return;this.inputValue.push({parentId:"",belongTagId:"",recordId:this.getRecordId(),tempCrowdId:void 0,specialTagName:void 0,tagIds:[],remark:void 0,crowdOrder:length+1,rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"AND",rules:[]}}),this.setSeq()}},emitInputValue:function(){this.$emit("input",this.inputValue)},getRecordId:function(){return this.recordId},setSeq:function(){var e=JSON.parse(JSON.stringify(this.inputValue));this.inputValue=e.map((function(e,t){return e.crowdOrder=t+1,e}))},handleRemoveParam:function(e){this.inputValue.splice(e,1),this.setSeq()},handleEstimate:function(e){var t=this;this.$service.estimateTemp(e.rulesJson).then((function(a){(a||0===a)&&t.$set(e,"total0",a)}))},handleOperatorChange:function(e){"string"===e.tagType&&"null"===e.operator?e.value="nil":e.value=""},handleConditionChange:function(e){e.behaviorRulesJson.link="AND"===e.behaviorRulesJson.link?"OR":"AND"},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"}},created:function(){var e=this;if(this.value){var t=this.initTagList,a=[],i=[],n=[];t.forEach((function(e){6===e.dataSource?n.push(e):8===e.dataSource?i.push(e):2===e.dataSource?(i.push(e),a.push(e)):a.push(e)})),this.tags=a,this.actionTags=i,this.specialTags=n,this.setInputValue(this.value)}this.$watch("inputValue",this.emitInputValue,{deep:!0});var r=this.sTagIndex.specialTagDetail.specialTag||{},s=[];if(r.rulesJson){var o=JSON.parse(r.rulesJson);o.rules=o.rules.map((function(t){return t.rules.forEach((function(t){if("string"!==t.tagType&&"collect"!==t.tagType||s.push(t.tagId),"string"===t.tagType&&"nil"===t.value&&(t.operator="null"),0===t.version)if("time"===t.tagType&&3===t.isDynamicTime){var a=t.value.split("-");e.$set(t,"startDay",a[0]),e.$set(t,"endDay",a[1])}else"time"===t.tagType&&3!==t.isDynamicTime&&(e.$set(t,"dateAreaType",""),e.$set(t,"dynamicTimeType",parseInt(t.dynamicTimeType)));"string"===t.tagType&&"null"!==t.operator&&"string"===typeof t.value&&(t.value=""===t.value?[]:t.value.split(","))})),t})),this.inputValue[0].rulesJson=o,this.inputValue[0].behaviorRulesJson=JSON.parse(this.sTagIndex.specialTagDetail.specialTag.behaviorRulesJson),this.inputValue[0].behaviorRulesJson.rules.forEach((function(e){e.rules.forEach((function(e){"string"===e.tagType&&"null"!==e.operator&&"string"===typeof e.value&&(e.value=""===e.value?[]:e.value.split(","))}))}))}}},q_=z_,J_=(a("578e"),Object(U["a"])(q_,B_,M_,!1,null,"f833f744",null)),G_=J_.exports,U_={components:{CrowdAdd:G_},data:function(){return{detail:{},activeName:0,form:{rulesJson:[{recordId:this.getRecordId(),specialTagName:"",tagIds:[],remark:void 0,crowdOrder:0,rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"OR",rules:[]}}]},formRules:{},pickerOptions:{disabledDate:function(e){var t=(new Date).setHours(23,59,59),a=new Date(t).getTime(),i=5184e6,n=a+i;return e.getTime()<Date.now()-864e5||e.getTime()>n}}}},props:["initTagList"],inject:["sTagIndex"],methods:{getRecordId:function(){return this.recordId},validateForm:function(e){for(var t=!0,a=0;a<e.length;a++){if(0===e[a].rulesJson.rules.length&&0===e[a].behaviorRulesJson.rules.length){this.$message.error("请设置标签条件"),t=!1;break}if(!e[a].specialTagName){this.$message.error("第"+(a+1)+"人群的人群名称不能为空"),t=!1;break}if(e[a].limitLaunch){if(!e[a].limitLaunchCount){this.$message.error("第"+(a+1)+"人群的人群限制数量为必填"),t=!1;break}if(!Number.isInteger(e[a].limitLaunchCount)){this.$message.error("第"+(a+1)+"人群的人群限制数量必须是大于1小于10万的整数"),t=!1;break}}var i=e[a].rulesJson,n=i.rules,r=n.length,s=void 0,o=0;for(s=0;s<r;s++)for(o=0;o<n[s].rules.length;o++){var l=n[s].rules[o],c="time"===l.tagType&&0===l.dateAreaType;if(c)l.value="-";else{if(l.value&&(""===l.value||0===l.value.length)){this.$message.error("请正确填写第"+(a+1)+"人群里第"+(s+1)+"设置标签块里面的第"+(o+1)+"行的值！"),t=!1;break}if("time"===l.tagType&&3===l.isDynamicTime)if(l.version>0){var d=l.startDay?l.startDay:"@",u=l.endDay?l.endDay:"@";l.value=d+"~"+u}else{if(!this.checkNum(l.startDay)||!this.checkNum(l.endDay)){this.$message.error("第"+(a+1)+"人群里面的第"+(s+1)+"设置标签块里面的第"+(o+1)+"行的值是大于等于0的整数且不能超过4位数"),t=!1;break}if(!(parseInt(l.startDay)<parseInt(l.endDay))){this.$message.error("第"+(a+1)+"人群里面的第"+(s+1)+"设置标签块里面的第"+(o+1)+"行的天数值后面的值必须大于前面的"),t=!1;break}l.value=l.startDay+"-"+l.endDay}}}if(!t)break;var h=e[a].behaviorRulesJson,p=h.rules,m=p.length,f=void 0,v=0;for(f=0;f<m;f++)for(v=0;v<p[f].rules.length;v++){var g=p[f].rules[v],b="time"===g.tagType&&0===g.dateAreaType;if(b)g.value="-";else{if(g.value&&(""===g.value||0===g.value.length)){this.$message.error("请正确填写第"+(a+1)+"人群里第"+(f+1)+"行为标签块里面的第"+(v+1)+"行的值！"),t=!1;break}if("time"===g.tagType&&3===g.isDynamicTime)if(g.version>0){var y=g.startDay?g.startDay:"@",C=g.endDay?g.endDay:"@";g.value=y+"~"+C}else{if(!this.checkNum(g.startDay)||!this.checkNum(g.endDay)){this.$message.error("第"+(a+1)+"人群里面的第"+(f+1)+"行为标签块里面的第"+(v+1)+"行的值是大于等于0的整数且不能超过4位数"),t=!1;break}if(!(parseInt(g.startDay)<parseInt(g.endDay))){this.$message.error("第"+(a+1)+"人群里面的第"+(f+1)+"行为标签块里面的第"+(v+1)+"行的天数值后面的值必须大于前面的"),t=!1;break}g.value=g.startDay+"-"+g.endDay}}}if(!t)break;var w=JSON.parse(JSON.stringify(e[a].dynamicPolicyJson)),_=JSON.parse(JSON.stringify(w.rules)),S=_.length,k=void 0,I=0;for(k=0;k<S;k++){for(I=0;I<_[k].rules.length;I++){var x=_[k].rules[I];if(""===x.value||""===x.dynamic.version){this.$message.error("请正确填写第"+(a+1)+"人群里第"+(k+1)+"动态因子块里面的第"+(I+1)+"行的值！"),t=!1;break}if(!t)break}if(!t)break}}return t},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},putBehaviorRulesJsonTableIndex:function(e){if(e){var t=0,a=e.rules;a.forEach((function(e){var a=e.rules;a.forEach((function(e){t+=1,e.table=e.table.split("$")[0]+"$"+t,e.bav&&(e.bav.table=e.bav.table.split("$")[0]+"$"+t)}))}))}else e={link:"AND",condition:"OR",rules:[]};return e},checkIfChildrenExist:function(e,t){if(null==e.child||0===e.child.length)return e.child.push(t),e;this.checkIfChildrenExist(e.child[0],t)},ReorganizationData:function(e){var t=[],a=e.length;if(a>1)for(var i=a-1;i>-1;i--)t=e[i],e[i-1]&&(t=this.checkIfChildrenExist(e[i-1],t));else t=e,e[0]&&e[0].child&&e[0].child.length>1&&(t[0].child=this.ReorganizationData(e[0].child));return t},handleSave:function(){var e=this,t=JSON.parse(JSON.stringify(this.form));this.$refs.form.validate((function(a){if(!a)return e.$message.error("请检查表单各项是否填写完整"),!1;if(e.validateForm(t.rulesJson)){var i=[],n=e.$refs.CrowdAdd&&e.$refs.CrowdAdd.$refs.multipleActionTagSelect&&e.$refs.CrowdAdd.$refs.multipleActionTagSelect[0].$refs?e.$refs.CrowdAdd.$refs.multipleActionTagSelect[0].$refs.range:[];n&&n.forEach((function(e){i.push(e.$refs.rangeForm)}));var r=[],s=e.$refs.CrowdAdd&&e.$refs.CrowdAdd.$refs.multipleActionTagSelect&&e.$refs.CrowdAdd.$refs.multipleActionTagSelect[0].$refs?e.$refs.CrowdAdd.$refs.multipleActionTagSelect[0].$refs.bav:[],o=[];s&&s.forEach((function(e){e.$refs.bav&&o.push(e.$refs.bav),e.$refs.typeRef&&Array.isArray(e.$refs.typeRef)?e.$refs.typeRef.forEach((function(e){r.push(e.$refs.typeForm)})):e.$refs.typeRef&&"object"===Object($t["a"])(e.$refs.typeRef)&&r.push(e.$refs.typeRef.$refs.typeForm)}));var l=i.concat(r);l.length>0?Promise.all(l.map(e.getFormPromise)).then((function(a){var i=a.every((function(e){return!!e}));i?e.fetchSave(t):e.$message.error("请输入必填项")})).catch((function(){e.$message.error("请至少设置一个行为标签规则")})):e.fetchSave(t)}}))},fetchSave:function(e){var t=this,a=this;e.rulesJson[0].tagIds=this.initTagList.map((function(e){return e.tagId})),e.rulesJson=e.rulesJson.map((function(e){return e.tagIds=e.tagIds.join(","),e.rulesJson.rules=e.rulesJson.rules.map((function(e){return e.rules.forEach((function(e){"string"===e.tagType&&"null"===e.operator&&(e.operator="="),"string"===e.tagType&&"null"!==e.operator&&(e.value=e.value.join(","))})),e})),e.rulesJson=JSON.stringify(e.rulesJson),e.behaviorRulesJson=t.putBehaviorRulesJsonTableIndex(e.behaviorRulesJson),e.behaviorRulesJson.rules=e.behaviorRulesJson.rules.map((function(e){return e.rules.forEach((function(e){if("string"===e.tagType&&"null"!==e.operator&&(e.value=e.value.join(",")),e.bav&&e.bav.rang.newValue&&"fixed"===e.bav.rangeType){var t=e.bav.rang.newValue,i=[];t.forEach((function(e){e.value&&e.value.length>0&&i.push({value:e.value})})),e.bav.rang.newValue=i,e.bav.rang.value=t.map((function(e){if(e.value)return e.value})).flat()}if("BAV0016"===e.tagCode||"BAV0012"===e.tagCode||"BAV0011"===e.tagCode){var n=[],r=e.bav.showBehaviorValue;r.forEach((function(t){var i=JSON.parse(JSON.stringify(t)),r=a.ReorganizationData(i.child),s=JSON.parse(JSON.stringify(e.bav.countValue));s.child=r,i.child=[s],n.push(i)})),e.bav.behaviorValue=n}})),e})),e.behaviorRulesJson=JSON.stringify(e.behaviorRulesJson),e}))[0];var i=this.detail;i?(e.rulesJson.belongTagId=i.belongTagId,e.rulesJson.parentId=i.parentId,e.rulesJson.specialTagId=i.specialTagId):(e.rulesJson.belongTagId=Number(this.$route.query.belongTagId),e.rulesJson.parentId=0),this.$route.query.specialTagId?this.$service.editSpecialTag({rulesJson:e.rulesJson},"保存成功").then((function(e){t.$router.push({path:"/labelSquare",query:{refresh:!0}})})):this.$service.addSpecialTag({rulesJson:e.rulesJson},"新建成功").then((function(e){t.$router.push({path:"/labelSquare",query:{refresh:!0}})}))},handleBackPrevStep:function(){this.$emit("handleBackPrevStep",this.recordId)},checkNum:function(e){var t=parseInt(e);return!!(/(^\d+$)/.test(e)&&t<=9999)||(this.$message.error("该值为必填项，且必须是大于等于0的整数且不能超过4位数"),!1)}},created:function(){this.detail=this.sTagIndex.specialTagDetail.specialTag||"",this.detail&&(this.form.rulesJson[0].specialTagName=this.detail.specialTagName||"")}},H_=U_,K_=Object(U["a"])(H_,R_,j_,!1,null,null,null),Q_=K_.exports,W_={name:"CreateCrowd",components:{addMoreCrowd:Q_},data:function(){return{brotherInitTagList:void 0}},props:["initTagList"],methods:{handleBackPrevStep:function(){this.$emit("crowdPrevStep",1)},handleToNextStep:function(e){this.$emit("crowdNextStep",1,e)},resetFormData:function(){this.$emit("resetFormData")},handleDirectStrategyListBrother:function(){this.$emit("handleDirectStrategyList")}},created:function(){this.brotherInitTagList=this.initTagList}},Y_=W_,Z_=Object(U["a"])(Y_,F_,V_,!1,null,"aaacb6b2",null),X_=Z_.exports,eS={},tS=Object(U["a"])(eS,D_,$_,!1,null,null,null),aS=tS.exports,iS={name:"index",components:{createCrowd:X_,AddOrEditSpecialTag:aS},provide:function(){return{sTagIndex:this}},data:function(){return{mode:"",activeStep:0,recordId:void 0,tempPolicyAndCrowd:{},initTagList:[],usedTagList:[],routeSource:void 0,specialTagDetail:{}}},watch:{"$route.query.specialTagId":function(e,t){e!==t&&e&&this.getSpecialTagDetail()}},methods:{handleNextStep:function(e,t){this.activeStep=e+1},handleCrowdNextStep:function(e,t,a){this.activeStep=e+1,this.tempPolicyAndCrowd=a},handleCrowdPrevStep:function(e,t){this.activeStep=e-1},handleLaunchPrevStep:function(e){this.activeStep=e-1},handlePolicyNextStep:function(e){this.activeStep=1,this.initTagList=e},resetFormData:function(){this.activeStep=0},handleDirectStrategyList:function(){this.$root.$emit("stratege-list-refresh"),this.routeSource?this.$router.push({path:"launch/myPolicy"}):this.$router.push({path:"launch/strategyList"})},getSpecialTagDetail:function(){var e=this;this.$service.specialTagDetail({specialTagId:this.$route.query.specialTagId}).then((function(t){e.specialTagDetail=t,e.initTagList=e.specialTagDetail.tags||[],e.specialTagDetail.useTags&&e.specialTagDetail.useTags.length>0&&(e.usedTagList=e.specialTagDetail.useTags.map((function(e){return Number(e.tagId)})))}))}},created:function(){this.$route.query.specialTagId&&(this.mode="edit",this.getSpecialTagDetail())},destroyed:function(){}},nS=iS,rS=(a("8adf"),Object(U["a"])(nS,E_,A_,!1,null,"5de1864d",null)),sS=rS.exports,oS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"first-form",attrs:{model:e.outForm,inline:""}},[a("el-form-item",{attrs:{label:"投放ID："}},[a("el-input",{attrs:{clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleGetManualLaunchList.apply(null,arguments)}},model:{value:e.outForm.launchCrowdId,callback:function(t){e.$set(e.outForm,"launchCrowdId",t)},expression:"outForm.launchCrowdId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleResendCommand}},[e._v("触发计算")])],1)],1),a("c-table",{staticClass:"table-overflow",attrs:{props:e.table.props,header:e.table.header,data:e.table.data}}),a("pagination",{attrs:{currentpage:e.outForm.pageNum,pagesize:e.outForm.pageSize,totalcount:e.total},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)},lS=[],cS={name:"resendCommandAA",data:function(){return{outForm:{launchCrowdId:"",pageSize:10,pageNum:1},total:0,showNext:!1,resultContent:void 0,table:{props:{},header:[{label:"id",width:"50",prop:"id"},{label:"投放ID",prop:"launchCrowdId"},{label:"投放SQL",prop:"crowdSql"},{label:"投放版本",prop:"version"},{label:"投放人",prop:"creatorName"},{label:"投放时间",prop:"createTime"},{label:"投放队列",prop:"topic"},{label:"投放状态",prop:"status",render:function(e,t){var a=t.row;return 1===a.status?"成功":"失败"}},{label:"说明",prop:"remark"}],data:[]}}},methods:{handleResendCommand:function(){var e=this;this.$service.manualLaunch(this.outForm).then((function(t){e.outForm.pageNum=1,e.handleGetManualLaunchList()}))},handleGetManualLaunchList:function(){var e=this;this.$service.getManualLaunchList(this.outForm).then((function(t){t?(e.total=t.pageInfo.total,e.table.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleSizeChange:function(e){this.outForm.pageSize=e,this.currentPage=1,this.handleGetManualLaunchList()},handleCurrentChange:function(e){this.outForm.pageNum=e,this.handleGetManualLaunchList()}},mounted:function(){this.handleGetManualLaunchList()}},dS=cS,uS=(a("f73b"),Object(U["a"])(dS,oS,lS,!1,null,"310293f8",null)),hS=uS.exports,pS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"outForm",staticClass:"first-form",attrs:{model:e.outForm,inline:""}},[a("el-form-item",{attrs:{label:"",prop:"condition"}},[a("el-input",{attrs:{clearable:"",placeholder:"人群ID、人群名"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleGetManualLaunchList.apply(null,arguments)}},model:{value:e.outForm.condition,callback:function(t){e.$set(e.outForm,"condition",t)},expression:"outForm.condition"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleGetManualLaunchList}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1),a("c-table",{staticClass:"table-overflow",attrs:{props:e.table.props,header:e.table.header,data:e.table.data}}),a("pagination",{attrs:{currentpage:e.outForm.pageNum,pagesize:e.outForm.pageSize,totalcount:e.total},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"详情",visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[a("c-table",{staticClass:"table-overflow",attrs:{props:e.detailTable.props,header:e.detailTable.header,data:e.detailTable.data}})],1)],1)},mS=[],fS={name:"LaunchStatusAA",data:function(){return{outForm:{condition:"",pageSize:10,pageNum:1},total:0,showNext:!1,resultContent:void 0,table:{props:{},header:[{label:"投放ID",prop:"id"},{label:"人群ID",prop:"crowdId"},{label:"版本号",prop:"versionCode"},{label:"人群名称",prop:"crowdName"},{label:"时间范围",render:function(e,t){var a=t.row;return a.startPeriod+"-"+a.endPeriod}},{label:"创建人",prop:"creatorName"},{label:"创建时间",prop:"createTime"},{label:"操作",fixed:"right",width:"100",render:this.$c_utils.component.createOperationRender(this,{handleView:"查看详情"})}],data:[]},showDialog:!1,detailTable:{props:{},header:[{label:"名称",prop:"name"},{label:"状态",prop:"status"},{label:"数量",prop:"count"}],data:[]}}},methods:{handleView:function(e){var t=e.row;console.log("eee===",t),this.showDialog=!0,this.detailTable.data=t.statusList},handleResendCommand:function(){var e=this;this.$service.manualLaunch(this.outForm).then((function(t){e.outForm.pageNum=1,e.handleGetManualLaunchList()}))},handleGetManualLaunchList:function(){var e=this;this.$service.queryEffectAppointment(this.outForm).then((function(t){t?(e.total=t.pageInfo.total,e.table.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleSizeChange:function(e){this.outForm.pageSize=e,this.currentPage=1,this.handleGetManualLaunchList()},handleCurrentChange:function(e){this.outForm.pageNum=e,this.handleGetManualLaunchList()},resetForm:function(){this.$refs.outForm.resetFields(),this.currentPage=1,this.handleGetManualLaunchList()}},mounted:function(){this.handleGetManualLaunchList()}},vS=fS,gS=(a("ab39"),Object(U["a"])(vS,pS,mS,!1,null,"6e434348",null)),bS=gS.exports,yS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"}),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,inline:!0}},[a("el-form-item",{attrs:{label:"MAC地址",prop:"mac"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.mac,callback:function(t){e.$set(e.form,"mac",t)},expression:"form.mac"}})],1),a("el-form-item",{attrs:{label:"策略ID：",prop:"policyId"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.policyId,callback:function(t){e.$set(e.form,"policyId",t)},expression:"form.policyId"}})],1),a("el-form-item",{attrs:{label:"openID",prop:"cOpenId"}},[a("el-input",{attrs:{clearable:"",placeholder:"酷开账号"},model:{value:e.form.cOpenId,callback:function(t){e.$set(e.form,"cOpenId",t)},expression:"form.cOpenId"}})],1),a("el-form-item",{attrs:{label:"thirdUserId",prop:"thirdUserId"}},[a("el-input",{attrs:{clearable:"",placeholder:"第三方账号，腾讯，优酷..."},model:{value:e.form.thirdUserId,callback:function(t){e.$set(e.form,"thirdUserId",t)},expression:"form.thirdUserId"}})],1),a("el-form-item",{attrs:{label:"vUserId",prop:"vUserId"}},[a("el-input",{attrs:{clearable:"",placeholder:"微信账号"},model:{value:e.form.vUserId,callback:function(t){e.$set(e.form,"vUserId",t)},expression:"form.vUserId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1),e.list.length>0?a("div",{staticStyle:{border:"1px dashed #333",padding:"10px"}},[a("el-descriptions",{attrs:{column:1}},[a("el-descriptions-item",{attrs:{label:"策略ID","label-class-name":"my-label","content-class-name":"my-content"}},[e._v(e._s(e.searchData.policyId))]),a("el-descriptions-item",{attrs:{label:"策略名称","label-class-name":"my-label","content-class-name":"my-content"}},[e._v(e._s(e.searchData.policyName))]),a("el-descriptions-item",{attrs:{label:"MAC","label-class-name":"my-label","content-class-name":"my-content"}},[e._v(e._s(e.form.mac))]),a("el-descriptions-item",{attrs:{label:"人群命中顺序","label-class-name":"my-label","content-class-name":"my-content"}},[e._v("\n        白色填充：无法命中，绿色填充：当前命中，黄色填充：可以命中")])],1),a("div",{staticStyle:{margin:"20px 0"}},e._l(e.list,(function(t,i){return a("div",{key:i,staticClass:"hitWrap"},[a("span",{staticClass:"hitItem",class:{hoverColor:i===e.hoverIndex,clickColor:i===e.clickIndex,white:0===t.hit,yellow:1===t.hit,green:t.crowdId===e.currentHit},on:{mouseover:function(t){e.hoverIndex=i},mouseout:function(t){e.hoverIndex=-1},click:function(a){return a.stopPropagation(),e.handleClickDetail(t,i)}}},[e._v("\n          "+e._s(t.crowdId)+"\n        ")]),i!==e.list.length-1?a("span",{staticClass:"line"}):e._e(),i!==e.list.length-1?a("span",{staticClass:"arrow-right"}):e._e()])})),0),e.detailtags.data.length>0?a("c-table",{attrs:{props:e.detailtags.props,header:e.detailtags.header,data:e.detailtags.data}}):e._e()],1):e._e(),0===e.list.length?a("el-empty",{attrs:{description:"暂无数据"}}):e._e()],1)},CS=[],wS={name:"hitQueryAA",data:function(){var e=this;return{form:{policyId:"",mac:"",cOpenId:"",thirdUserId:"",vUserId:""},rules:{policyId:{required:!0,message:"请输入策略id",trigger:"blur"},mac:{required:!0,message:"请输入mac",trigger:"blur"}},searchData:{},list:[],noneText:"暂无数据",hoverIndex:-1,clickIndex:-1,detailtags:{props:{},header:[{label:"标签名称",prop:"name"},{label:"标签code",prop:"code"},{label:"运营符号",prop:"operator"},{label:"运营值",prop:"value"},{label:"运营值是否满足",render:function(e,t){var a=t.row,i=["否","是"];return i[a.ok]}},{label:"标签类型",render:function(t,a){var i=a.row;return e.tagType[i.type]}},{label:"标签判断逻辑",prop:"str"}],data:[]},tagType:[],currentHit:""}},created:function(){},mounted:function(){},methods:{handleClickDetail:function(e,t){this.clickIndex=t,this.detailtags.data=e.tags},handleSearch:function(){var e=this;this.list=[],this.hoverIndex=-1,this.$refs.form.validate((function(t){t&&e.$service.hitDetail(e.form).then((function(t){console.log("data=====>",t),e.searchData=t||{},e.list=t.rows||[],e.tagType=t.tagType,e.currentHit=t.hit||"",e.clickIndex=0,e.handleClickDetail(e.list[0],0)}))}))}}},_S=wS,SS=(a("dfec"),Object(U["a"])(_S,yS,CS,!1,null,"fcdf97f4",null)),kS=SS.exports,IS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"total-wrap",class:e.styleType?"dark":"light"},[e.isCopiedServicer?a("div",{staticClass:"copied-servicer-tip"},[e._v("如需修改，请跳转到被复用的接待员处编辑")]):e._e(),a("div",{staticClass:"row-wrap",style:{"grid-template-columns":e.viewType?"200px 200px minmax(0, 1fr)":"200px minmax(0, 1fr)"}},[e.$route.params.sceneId===e.selectedScene.id?a("el-button",{staticStyle:{position:"absolute",right:"34px",top:"35px","z-index":"9"},attrs:{type:"primary"},on:{click:e.returnCrowd}},[e._v("\n      继续编辑\n    ")]):e._e(),e.isShowDetailName?a("div",{staticClass:"box",staticStyle:{position:"relative"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[e._v("\n            场景\n            "),a("el-button",{staticStyle:{position:"absolute",right:"14px",top:"6px"},attrs:{type:"text",size:"mini"},domProps:{textContent:e._s(e.viewType?"流转视图":"列表视图")},on:{click:e.changeView}})],1),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"场景名/创建人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getSceneList.apply(null,arguments)}},model:{value:e.searchScene,callback:function(t){e.searchScene=t},expression:"searchScene"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getSceneList},slot:"append"})],1)],1),a("div",{staticClass:"sceneList-wrap"},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-style":"overflow-x: hidden;"}},[0===e.sceneList.length?a("div",{staticClass:"no-data-wrap"},[e._v("\n                暂时木有内容呀～～\n              ")]):e._e(),e._l(e.sceneList,(function(t){return a("div",{key:t.id,class:{active:e.activeIndex===t.id,"gray-row":2===t.putway},on:{click:function(a){return e.selectScene(t.id)}}},[a("div",{staticClass:"lists-item"},[a("i",{staticClass:"icon el-icon-monitor"}),a("span",{staticClass:"item-content"},[e._v("\n                    "+e._s(t.sceneName)+"\n                  ")]),a("span",{staticClass:"item-index"},[e._v(e._s(t.id))]),a("span",{staticClass:"use-status-styl"},["投放中"===t.useStatus?a("span",{staticClass:"border-title",on:{click:function(a){return e.launchDetail(t.policyId)}}},[e._v("投放中")]):a("span",[e._v("未投放")])]),a("el-dropdown",{staticClass:"el-dropdown",attrs:{trigger:"hover","hide-on-click":!1,placement:"bottom"},on:{command:e.handleSceneCommand,"visible-change":function(a){return e.sceneVisibleChange(a,t.id)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                      . . .\n                    ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.sceneDropDownLoading?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.sceneDropDownLoading,expression:"sceneDropDownLoading"}],attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}):[a("el-dropdown-item",{key:t.id,staticClass:"clearfix",attrs:{command:["rename",t],disabled:!e.sceneDropDownCanUse}},[a("el-popover",{ref:"pop",refInFor:!0,attrs:{placement:"top",trigger:"click"}},[a("div",{attrs:{slot:"reference"},slot:"reference"},[e._v("重命名")]),a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticClass:"re-name-input",staticStyle:{width:"250px"},attrs:{type:"text",placeholder:"请输入内容",maxlength:"50","show-word-limit":"",clearable:""},model:{value:e.rename,callback:function(t){e.rename=t},expression:"rename"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handelClosePop()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handelRename(t)}}},[e._v("确定")])],1)])],1),t.planId?e._e():a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["putIn",t],disabled:!e.sceneDropDownCanUse||"投放中"===t.useStatus}},[e._v("\n                          投放\n                        ")]),a("el-dropdown-item",{attrs:{command:["freshCache",t]}},[1===t.status?a("span",[e._v("未同步")]):e._e(),2===t.status?a("span",[e._v("已同步")]):e._e()]),t.planId?e._e():a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["offSet",t],disabled:!e.sceneDropDownCanUse}},[e._v("\n                          "+e._s(1===t.putway?"下架":"上架")+"\n                        ")]),t.planId?e._e():a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["deleteScene",t],disabled:!e.sceneDropDownCanUse}},[e._v("\n                          删除\n                        ")]),t.planId?a("el-dropdown-item",{attrs:{command:["report",t]}},[e._v("\n                          投放报告\n                        ")]):e._e(),a("el-dropdown-item",{attrs:{command:["detail",t]}},[e._v("\n                          查看配置\n                        ")])]],2)],1)],1),e.selectedScene.id===t.id&&e.selectedScene.startTime?a("div",{staticStyle:{"font-size":"12px",padding:"0 10px 4px",color:"#666"}},[e._v("\n                  有效期："+e._s(e.selectedScene.startTime)+"\n                  "),a("span",{staticStyle:{"margin-left":"39px"}},[e._v(" ~"+e._s(e.selectedScene.endTime))])]):e._e()])}))],2)],1),a("div",{staticClass:"box-fotter"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addScene}},[e._v("添加")])],1)])]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.viewType,expression:"viewType"}],staticClass:"box"},[a("div",{staticClass:"content"},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-style":"overflow-x: hidden;"}},[a("div",{staticClass:"title"},[e._v("\n            接待员\n            "),e.servicer.length>0?a("el-button",{staticStyle:{position:"absolute",right:"14px",top:"6px"},attrs:{type:"text",icon:"el-icon-plus",size:"mini"},on:{click:e.addGroup}},[e._v("分组")]):e._e()],1),a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"接待员/创建人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getServiceList.apply(null,arguments)}},model:{value:e.searchServicer,callback:function(t){e.searchServicer=t},expression:"searchServicer"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getServiceList},slot:"append"})],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.getServicerLoading,expression:"getServicerLoading"}],staticClass:"sceneList-wrap",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-style":"overflow-x: hidden;"}},[0!==e.servicer.length||e.getServicerLoading?e._e():a("div",{staticClass:"no-data-wrap"},[e._v("\n                暂时木有内容呀～～\n              ")]),e._l(e.groupServicer,(function(t){return a("div",{key:t.groupId,class:{"group-sty":0!==t.groupId}},e._l(t.child,(function(t){return a("div",{key:t.id,staticClass:"lists-item",class:{active:e.activeIndex2Id===t.id,"gray-row":2===t.putway},on:{click:function(a){return e.selectServicer(t.id)}}},[a("i",{staticClass:"icon el-icon-user"}),a("span",{staticClass:"item-content"},[e._v("\n                    "+e._s(t.receptionist)+"\n                  ")]),a("span",{staticClass:"item-index"},[e._v(e._s(t.id))]),a("el-dropdown",{staticClass:"el-dropdown",attrs:{trigger:"hover","hide-on-click":!1,placement:"bottom"},on:{command:e.handleServiceCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                      . . .\n                    ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["rename",t],disabled:!!t.referenceId||!e.sceneCanReuse}},[a("el-popover",{ref:"pop",refInFor:!0,attrs:{placement:"top",trigger:"click"}},[a("div",{attrs:{slot:"reference"},slot:"reference"},[e._v("重命名")]),a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{type:"text",placeholder:"请输入内容",maxlength:"50","show-word-limit":"",clearable:""},model:{value:e.rename2,callback:function(t){e.rename2=t},expression:"rename2"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handelClosePop()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handelRename2(t)}}},[e._v("确定")])],1)])],1),a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["offSet",t],disabled:!e.sceneCanReuse}},[e._v("\n                          "+e._s(1===t.putway?"下架":"上架")+"\n                        ")]),a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["copy",t],disabled:!!t.referenceId||1===t.type}},[e._v("\n                          复制\n                        ")]),a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["copyUse",t],disabled:!!t.referenceId||1===t.type}},[e._v("\n                          复用\n                        ")]),a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["deleteService",t],disabled:!e.sceneCanReuse}},[e._v("\n                          删除\n                        ")])],1)],1)],1)})),0)}))],2)],1),a("div",{staticClass:"box-fotter"},[a("el-button",{attrs:{disabled:!e.sceneCanReuse,type:"primary",icon:"el-icon-plus"},on:{click:e.addServicer}},[e._v("添加")])],1)])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.viewType,expression:"viewType"}],staticClass:"box"},[a("servicerDetail",{ref:"servicerDetailRef",attrs:{canUse:e.sceneCanReuse,servicer:e.servicer,selectedScene:e.selectedScene,selectedServicer:e.selectedServicer,entryList:e.entryList,exportList:e.exportList,activeIndex2Id:e.activeIndex2Id,styleType:e.styleType},on:{updataEntryList:e.getEntryListByReceptionistId,updataExportList:e.getExportListByReceptionistId,selectScene:e.selectScene,selectServicer:e.selectServicer,editReceptionist:e.editReceptionist}})],1),!e.viewType&&e.isShowSceneChartData?[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.getSceneFlowChartLoading,expression:"getSceneFlowChartLoading"}],staticClass:"box"},[a("SceneMap",{attrs:{chartData:e.sceneChartData,selectedScene:e.selectedScene},on:{selectServicer:e.changeViewAndSelectServicer,showRuleDetail:function(t){return e.editClientRow=t}}}),a("div",{staticStyle:{display:"grid","grid-template-columns":"50px auto","margin-top":"0px"}},[e._v("\n          "+e._s(e.editClientRow.id)+"\n          "),e.editClientRow.id?a("showAllRule",{attrs:{entry:e.editClientRow,conditionEnum:e.conditionEnum,soureceSignList:e.soureceSignList}}):e._e()],1)],1)]:e._e(),a("el-dialog",{attrs:{title:"一键投放",visible:e.dialogVisible,width:"95%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("OneDrop",{on:{updateSceneList:e.updateSceneList,closeDialog:e.closeAddSceneDialog}}):e._e()],1),a("el-dialog",{attrs:{title:"添加接待员",visible:e.dialogVisible2,width:0===e.createType?"30%":"95%","close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("div",{staticClass:"create-type-sty"},[e._v("\n        创建方式：\n        "),a("el-radio",{attrs:{label:0},model:{value:e.createType,callback:function(t){e.createType=t},expression:"createType"}},[e._v("逐个创建")]),a("el-radio",{attrs:{label:1},model:{value:e.createType,callback:function(t){e.createType=t},expression:"createType"}},[e._v("批量创建")])],1),0===e.createType?a("el-form",{ref:"formServicerRef",attrs:{model:e.formServicer,rules:e.formServicerRules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"接待员名：",prop:"receptionist"}},[a("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:e.formServicer.receptionist,callback:function(t){e.$set(e.formServicer,"receptionist","string"===typeof t?t.trim():t)},expression:"formServicer.receptionist"}})],1),e.currentSceneHasDoudi?a("el-form-item",{attrs:{label:""}},[a("span",{staticClass:"tip-text"},[e._v("仅支持创建一个兜底, 当前已有兜底接待员")])]):a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{model:{value:e.formServicer.type,callback:function(t){e.$set(e.formServicer,"type",t)},expression:"formServicer.type"}},[e._v("设为兜底接待员")])],1),e.formServicer.type?a("el-form-item",{attrs:{label:"兜底方式："}},[a("el-radio",{attrs:{label:0},model:{value:e.formServicer.planc,callback:function(t){e.$set(e.formServicer,"planc",t)},expression:"formServicer.planc"}},[e._v("直接兜底")]),a("el-radio",{attrs:{label:1},model:{value:e.formServicer.planc,callback:function(t){e.$set(e.formServicer,"planc",t)},expression:"formServicer.planc"}},[e._v("随机再兜底")])],1):e._e()],1):e.dialogVisible2?a("MultiAdd",{ref:"multiAddRef",attrs:{batchId:e.batchId},model:{value:e.multiAddStep,callback:function(t){e.multiAddStep=t},expression:"multiAddStep"}}):e._e(),0===e.createType?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddServicer}},[e._v("确 定")])],1):1===e.createType?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")]),0===e.multiAddStep?a("el-button",{attrs:{type:"primary"},on:{click:e.multiAddNextStep}},[e._v("下一步")]):[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmMultiAddServicer}},[e._v("确 定")])]],2):e._e()],1),e.showLaunchToBusiness?a("el-dialog",{attrs:{visible:e.showLaunchToBusiness},on:{"update:visible":function(t){e.showLaunchToBusiness=t}}},[a("LaunchToBusiness",{attrs:{recordId:e.tempPolicyAndCrowd.policyId,tempPolicyAndCrowd:e.tempPolicyAndCrowd,fromStoryline:!0},on:{closeDialog:e.handleCloseDialog,refreshList:e.getSceneList}})],1):e._e(),e.showDragVisible?a("el-dialog",{attrs:{visible:e.showDragVisible,title:"添加分组",width:"550px","close-on-click-modal":!1},on:{"update:visible":function(t){e.showDragVisible=t}}},[a("drag",{attrs:{list:e.noGroupService,groupData:e.groupData,launchPlatformData:e.launchPlatformData},on:{"update:groupData":function(t){e.groupData=t},"update:group-data":function(t){e.groupData=t}}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDragVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addServicerGroup}},[e._v("确 定")])],1)],1):e._e(),a("el-dialog",{attrs:{visible:e.copyDialogVisible,title:"copyUse"===e.copyType?"复用接待员到场景":"将接待员复制到以下场景",width:"550px"},on:{"update:visible":function(t){e.copyDialogVisible=t}}},[a("el-form",{ref:"copyFormRef",attrs:{model:e.copyForm,rules:e.copyFormRule}},[a("el-form-item",{attrs:{label:"选择场景：",prop:"sceneId"}},["copyUse"===e.copyType?a("el-select",{attrs:{clearable:"",filterable:""},model:{value:e.copyForm.sceneId,callback:function(t){e.$set(e.copyForm,"sceneId",t)},expression:"copyForm.sceneId"}},e._l(e.sceneListFilterSelect,(function(e){return a("el-option",{key:e.id,attrs:{label:e.sceneName,value:e.id}})})),1):a("el-select",{attrs:{clearable:"",filterable:""},model:{value:e.copyForm.sceneId,callback:function(t){e.$set(e.copyForm,"sceneId",t)},expression:"copyForm.sceneId"}},e._l(e.sceneList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.sceneName,value:e.id}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.copyDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.comfirmCopy}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"查看配置",visible:e.showConfiguration},on:{"update:visible":function(t){e.showConfiguration=t}}},[a("c-content-wrapper",{attrs:{pagination:e.detailPagination.pagination},on:{"filter-change":e.handleFilterChange}},[a("c-table",{attrs:{data:e.seeDetailData.data,props:e.seeDetailData.props,header:e.seeDetailData.header}})],1)],1)],2)])},xS=[],TS=(a("8615"),a("ffc1"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"itxst"},[a("div",{staticClass:"col"},[a("div",{staticClass:"title"},[e._v("接待员")]),a("draggable",{staticClass:"drag-wrap",attrs:{group:e.groupA,animation:"300",dragClass:"dragClass",ghostClass:"ghostClass",chosenClass:"chosenClass"},model:{value:e.totallArr,callback:function(t){e.totallArr=t},expression:"totallArr"}},[a("transition-group",{style:e.style},e._l(e.totallArr,(function(t){return a("div",{key:t.receptionistId,staticClass:"item"},[e._v("\n            "+e._s(t.receptionist)+"\n            "),a("el-select",{attrs:{placeholder:"请选择业务类型"},model:{value:t.businessId,callback:function(a){e.$set(t,"businessId",a)},expression:"item.businessId"}},e._l(e.launchPlatformData,(function(e){return a("el-option",{key:e.biId,attrs:{label:e.biName,value:e.biId}})})),1)],1)})),0)],1)],1),a("div",[e._l(e.groupList,(function(t,i){return a("div",{key:i,staticClass:"col"},[e.isEditValue===i?a("el-input",{ref:"inputValue",refInFor:!0,staticStyle:{width:"200px"},attrs:{placeholder:"请输入组名"},on:{blur:function(t){return e.editValueBlur(i)}},model:{value:t.groupName,callback:function(a){e.$set(t,"groupName",a)},expression:"g.groupName"}}):a("div",{staticClass:"target-text title",on:{click:function(t){return e.editTargetValue(i)}}},[a("span",[e._v(e._s(t.groupName))]),a("span",{staticClass:"text-over"})]),a("draggable",{attrs:{group:e.groupB,animation:"300",dragClass:"dragClass",ghostClass:"ghostClass",chosenClass:"chosenClass"},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"g.list"}},[a("transition-group",{style:e.style},e._l(t.list,(function(t){return a("div",{key:t.receptionistId,staticClass:"item"},[e._v("\n            "+e._s(t.receptionist)+"\n            "),a("el-select",{attrs:{placeholder:"请选择业务类型",clearable:""},model:{value:t.businessId,callback:function(a){e.$set(t,"businessId",a)},expression:"item.businessId"}},e._l(e.launchPlatformData,(function(e){return a("el-option",{key:e.biId,attrs:{label:e.biName,value:e.biId}})})),1)],1)})),0)],1),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.cutGroup(i)}}})],1)})),a("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-plus"},on:{click:e.addGroup}})],2)])])}),DS=[],$S=a("b76a"),LS=a.n($S),NS={components:{draggable:LS.a},props:{list:{type:Array,default:function(){return[]}},groupData:{type:Array,default:function(){return[]}},launchPlatformData:{type:Array,default:function(){return[]}}},data:function(){return{drag:!1,message:"",groupA:{name:"itxst",put:!0,pull:function(){return!0}},groupB:{name:"itxst",pull:function(){return!0},put:!0},totallArr:[],groupList:[],style:"min-height:150px; display: block; height: 100%",isEditValue:!1}},watch:{list:{handler:function(e){this.totallArr=e.map((function(e){return{receptionistId:e.id,receptionist:e.receptionist,businessId:""}})),console.log("this.totallArr==",this.totallArr)},immediate:!0},groupData:{handler:function(e){this.groupList=e,this.$emit("update:groupData",e)},immediate:!0}},methods:{editValueBlur:function(e){this.isEditValue=!1},editTargetValue:function(e){var t=this;this.isEditValue=e,this.$nextTick((function(){t.$refs.inputValue[0].focus()}))},cutGroup:function(e){var t=this,a=this.groupList[e];if(a.list.length>0&&(this.totallArr=this.totallArr.concat(a.list)),a.id){var i={groupId:a.id};this.$service.delGroup(i).then((function(a){t.groupList.splice(e,1)}))}else this.groupList.splice(e,1);console.log("this.totallArr========",this.totallArr),console.log("this.totallArr========",this.groupList)},addGroup:function(){var e=this.groupList.length;this.groupList.push({list:[],groupName:"组"+Number(e+1)})},onStart:function(){return this.drag=!0,!0},onEnd:function(){this.drag=!1}}},OS=NS,PS=(a("d913"),Object(U["a"])(OS,TS,DS,!1,null,"0fda72d6",null)),ES=PS.exports,AS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content detail"},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-style":"overflow-x: hidden;"}},[a("div",{staticStyle:{display:"flex","flex-flow":"column nowrap","justify-content":"flex-start",gap:"16px"}},[a("div",{staticStyle:{display:"grid","grid-template-columns":"2fr 310px","grid-template-rows":"auto",gap:"16px"}},[a("div",{staticStyle:{display:"grid","grid-template-columns":"1fr","grid-template-rows":"auto auto",gap:"16px"},style:{"grid-template-columns":(e.isShowDetailName,"1fr")}},[a("div",{staticStyle:{display:"grid","grid-template-columns":"auto 300px","grid-template-rows":"1fr",gap:"16px"}},[a("div",{staticClass:"detail-box"},[a("div",{staticClass:"target"},[e._v("我的任务（可选）")]),!e.isEdit&&e.havePermissionsToUse?a("i",{staticClass:"el-icon-edit position-right",attrs:{title:"编辑我的任务"},on:{click:e.editTarget}}):e._e(),a("div",{staticClass:"flex-content"},[e.havePermissionsToUse?[e.isEdit?a("el-input",{ref:"inputPriority",staticStyle:{"font-size":"14px"},attrs:{autosize:{minRows:6},type:"textarea",placeholder:"请输入内容",maxlength:"200","show-word-limit":""},on:{blur:e.editStatuChange},model:{value:e.target,callback:function(t){e.target=t},expression:"target"}}):a("div",{staticClass:"target-text target-info",on:{click:e.editTarget}},[a("div",[e._v(e._s(e.target))])])]:[e._v("\n                  "+e._s(e.target)+"\n                ")]],2)]),a("div",{staticClass:"detail-box",attrs:{id:"servicer-map"}},[a("div",{staticClass:"target"},[e._v("流转关系")]),e.isShowServicerChartData&&e.servicerChartData.nodes&&e.servicerChartData.nodes.length>0?a("ServicerMap",{staticStyle:{margin:"0 -10px"},attrs:{chartData:e.servicerChartData,selectedServicerId:e.selectedServicer.id},on:{selectServicer:function(t){return e.$emit("selectServicer",t)}}}):a("el-empty")],1)]),a("div",{staticClass:"detail-box"},[a("div",{staticClass:"kpi-wrap"},[a("div",[e._v("\n                绩效目标（可选）\n                "),a("span",{staticClass:"tip-text"},[e._v("当接待员属于分组时，展示分组的绩效目标")])]),e.selectedServicer.id&&e.canUse?a("i",{staticClass:"el-icon-edit position-right",attrs:{title:"编辑绩效目标"},on:{click:e.editTargetKey}}):e._e(),a("div",{staticClass:"detail-kpi"},[e.getGoalDataLoading?a("i",{staticClass:"el-icon-loading load-place",staticStyle:{"z-index":"99"}}):e._e(),a("div",{staticClass:"detail-kpi-table"},[e.indicatorsTypelabel?a("div",[e.indicatorsTypelabel?a("span",{staticClass:"kpi-label",staticStyle:{"font-size":"16px"}},[e._v("\n                      "+e._s(e.indicatorsTypelabel)+"\n                    ")]):e._e(),a("span",{staticStyle:{flex:"1","text-align":"center"}},["payRate"===e.targetKeyId?a("span",{staticClass:"kpi-value"},[e._v(e._s(e.toPercent(e.overview[e.targetKeyId])))]):a("span",{staticClass:"kpi-value"},[e._v(e._s(e.overview[e.targetKeyId]))])])]):e._e(),a("div",[a("span",{staticClass:"kpi-label"},[e._v("目标")]),a("span",{staticClass:"kpi-value"},[e.isEditValue?a("el-input",{ref:"inputValue",staticStyle:{width:"100px"},attrs:{placeholder:"请输入"},on:{blur:e.editTargetValueChange},model:{value:e.targetValue,callback:function(t){e.targetValue=t},expression:"targetValue"}}):a("span",{on:{click:e.editTargetValue}},[a("span",[e._v(e._s(e.targetValue))]),e.selectedServicer.id&&e.canUse?a("i",{staticClass:"el-icon-edit text-over"}):e._e()])],1)]),a("div",[a("span",{staticClass:"kpi-label"},[e._v("接待用户数")]),a("span",{staticClass:"kpi-value"},[e._v(e._s(e.overview.receptionUv||"-"))])]),a("div",[a("span",{staticClass:"kpi-label"},[e._v("满意用户数")]),a("span",{staticClass:"kpi-value"},[e._v(e._s(e.overview.contentUv||"-"))])])]),a("div",[e.allChartData[e.targetKeyId]&&e.allChartData[e.targetKeyId].series&&e.allChartData[e.targetKeyId].series.length>0?a("div",{ref:e.targetKeyId,staticClass:"chart-div",attrs:{id:e.targetKeyId}}):e._e()]),a("div",{staticClass:"panel-footer"})])])])]),e.isShowDetailName?a("div",{staticClass:"detail-box"},[a("i",{staticClass:"el-icon-arrow-up fold position-right",on:{click:e.openShowDetailName}}),a("div",[a("div",{staticClass:"detail-name"},[a("span",[e._v("\n                "+e._s(e.selectedServicer.receptionist)+"\n              ")]),a("div",{staticClass:"detail-name-border"})]),a("div",{staticClass:"d-info"},[a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("\n                  接待员类型\n                  "),e.isDoudi?a("span",{staticClass:"tip-text"},[e._v("仅支持创建一个兜底")]):e._e()]),a("div",{staticClass:"box-line"},[a("span",{staticClass:"border-style"},[e._v("\n                    "+e._s(e.isDoudi?"兜底接待员":"普通接待员")+"\n                  ")])])]),e.isDoudi?a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("兜底方式")]),a("div",{staticClass:"box-line"},[a("el-radio-group",{on:{input:e.handleTypeChange},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[a("div",[a("el-radio",{staticStyle:{margin:"3px 0"},attrs:{label:0}},[e._v("无合适接待员直接走兜底")])],1),a("div",[a("el-radio",{attrs:{label:1}},[e._v("无合适接待员则先随机完再兜底")])],1)])],1)]):e._e(),e.isCopiedServicer?[a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("复用自")]),a("el-button",{staticClass:"box-line",staticStyle:{"text-align":"left",color:"#66b1ff"},attrs:{type:"text"},on:{click:function(t){return e.redirctToScene(e.selectedServicer.refSceneId,e.selectedServicer.referenceId)}}},[e._v(e._s(e.selectedServicer.refSceneName)+" - "+e._s(e.selectedServicer.receptionist))])],1),a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title "},[e._v("复用时间")]),a("div",{staticClass:"box-line"},[a("span",{staticClass:"border-style"},[e._v(e._s(e.selectedServicer.createTime||"-"))])])]),a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("擅长(可选)")]),a("div",{staticClass:"box-line"},[e._v(e._s(e.selectedServicer.skillName||"-"))])])]:[a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("创建人")]),a("div",{staticClass:"box-line"},[a("span",{staticClass:"border-style"},[e._v(e._s(e.selectedServicer.userName||"-"))])])]),a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title "},[e._v("创建时间")]),a("div",{staticClass:"box-line "},[a("span",{staticClass:"border-style"},[e._v(e._s(e.selectedServicer.createTime||"-"))])])]),a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("擅长(可选)")]),e.selectedServicer.id?a("div",{staticClass:"box-line"},[a("el-select",{ref:"selectObj",attrs:{placeholder:"选择技能","popper-append-to-body":!1,disabled:!e.canUse},on:{change:e.selectSkill,"visible-change":e.skillValueSelectVisibleChange},model:{value:e.skillValue,callback:function(t){e.skillValue=t},expression:"skillValue"}},[a("div",{staticClass:"options-wrap"},e._l(e.skillOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("div",{staticClass:"operate-wrap"},[a("el-form",{ref:"formInlineRef",attrs:{model:e.formInline,rules:e.formInlineRule}},[a("el-form-item",{attrs:{prop:"skillName"}},[a("el-input",{attrs:{placeholder:"技能分类",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addOption.apply(null,arguments)}},model:{value:e.formInline.skillName,callback:function(t){e.$set(e.formInline,"skillName",t)},expression:"formInline.skillName"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-plus"},on:{click:e.addOption},slot:"append"})],1)],1)],1)],1),a("div",{staticClass:"operate-wrap",attrs:{slot:"empty"},slot:"empty"},[a("el-form",{ref:"formInlineClearRef",attrs:{model:e.formInline,rules:e.formInlineRule}},[a("el-form-item",{attrs:{prop:"skillName"}},[a("el-input",{attrs:{placeholder:"技能分类",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addOption.apply(null,arguments)}},model:{value:e.formInline.skillName,callback:function(t){e.$set(e.formInline,"skillName",t)},expression:"formInline.skillName"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-plus"},on:{click:e.addOption},slot:"append"})],1)],1)],1)],1)])],1):a("div",{staticClass:"box-line"},[e._v("-")])])],a("div",{staticClass:"d-info-box"},[a("div",{staticClass:"box-title"},[e._v("业务范围")]),a("div",{staticClass:"box-line"},[a("span",{staticClass:"border-style"},[e._v("方案： "+e._s(e.selectedServicer.planId||"-")+" "+e._s(e.selectedServicer.planName||"-"))])])])],2)])]):a("div",{staticClass:"detail-name-brief",on:{click:e.openShowDetailName}},[e._v("\n          "+e._s(e.selectedServicer.receptionist?e.selectedServicer.receptionist.substring(0,2):"")+"\n        ")])]),1!==e.selectedServicer.type?a("div",{staticClass:"detail-box"},[a("div",{staticClass:"title2"},[e._v("服务对象选择（可选）")]),e.havePermissionsToUse?a("el-button",{staticClass:"position-right",attrs:{type:"text",icon:"el-icon-document-copy"},on:{click:function(t){return e.pasteRules("entry")}}},[e._v("粘贴条件")]):e._e(),e.entryList.length>0?a("div",{staticClass:"position-left"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{disabled:0===e.checkList.length,type:"text"},on:{click:function(t){return e.copyRules(e.entryList,"entry")}}},[e._v("复制")])],1):e._e(),a("div",{staticClass:"set-start"},[0===e.entryList.length?a("div",{staticClass:"no-data-wrap"},[a("div",{staticClass:"noData"})]):e._e(),a("el-checkbox-group",{on:{change:function(t){return e.checkListChange("entry")}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.entryList,(function(t){return a("div",{key:t.id,staticClass:"info-class"},[a("el-checkbox",{key:t.id,attrs:{label:t.id}}),a("div",{staticClass:"border-line",staticStyle:{position:"relative"}},[t.rulesJson&&JSON.parse(t.rulesJson).rules.length>0&&t.behaviorRulesJson&&JSON.parse(t.behaviorRulesJson).rules.length>0?a("div",{staticClass:"outer-and"},[a("span",{staticClass:"and-or",class:"OR"===t.link?"OR":""},[e._v("\n                "+e._s("OR"===t.link?"或":"且")+"\n                ")])]):e._e(),t.rulesJson&&JSON.parse(t.rulesJson).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("普通标签")]),a("div",{staticClass:"rule-string"},[a("div",[a("ShowRule",{attrs:{rulesJson:JSON.parse(t.rulesJson),conditionEnum:e.conditionEnum,soureceSignList:e.soureceSignList}})],1)])]:e._e(),t.behaviorRulesJson&&JSON.parse(t.behaviorRulesJson).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("行为标签")]),a("div",{staticClass:"rule-string bav-wrap"},[[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",refInFor:!0,attrs:{isView:!0,behaviorRulesJson:JSON.parse(t.behaviorRulesJson)}})]],2)]:e._e(),t.flowCondition&&JSON.parse(t.flowCondition).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("流转指标")]),a("div",{staticClass:"rule-string"},[a("div",[a("ShowFlowConditionRule",{attrs:{flowCondition:JSON.parse(t.flowCondition),conditionEnum:e.conditionEnum,soureceSignList:e.soureceSignList}})],1)])]:e._e()],2),e.havePermissionsToUse?a("div",{staticClass:"drop-class"},[a("el-dropdown",{staticClass:"el-dropdown",attrs:{trigger:"hover","hide-on-click":!1,placement:"bottom"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[a("span",[e._v(".")]),a("span",[e._v(".")]),a("span",[e._v(".")])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["editEntry",t]}},[e._v("\n                    编辑\n                  ")]),a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["deleteEntry",t]}},[e._v("\n                    删除\n                  ")])],1)],1)],1):e._e()],1)})),0),e.havePermissionsToUse?a("div",{staticClass:"box-fotter addRule"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createClient}},[e._v("新建服务对象筛选")])],1):e._e()],1)],1):e._e(),1!==e.selectedServicer.type&&e.entryList&&e.entryList.length>0&&e.tagCodeList.length>0?a("div",{staticClass:"detail-box"},[a("div",{staticClass:"title2"},[e._v("推荐绑定内容")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.recommendLoading,expression:"recommendLoading"}],staticClass:"border-line info-class",staticStyle:{display:"block"}},[a("div",{staticClass:"bav-wrap",staticStyle:{overflow:"hidden"}},[e._v("\n            内容源：\n            "),a("el-select",{staticClass:"select-source-sty",on:{change:e.getUptmRecommendResourceList},model:{value:e.selectSourceCode,callback:function(t){e.selectSourceCode=t},expression:"selectSourceCode"}},e._l(e.sourceList,(function(e){return a("el-option",{key:e.sourceCode,attrs:{label:e.sourceTitle,value:e.sourceCode}})})),1)],1),e._l(e.recommendResourceList,(function(t,i){return a("div",{key:i,staticClass:"recommend-list"},[a("span",{staticClass:"border-title"},[e._v(e._s(e.getKeyName(i))+"：")]),t&&t.length>0?e._l(t,(function(t){return a("span",{key:t.id,staticClass:"film-btn",attrs:{title:"双击复制"},on:{dblclick:function(a){return e.copyText(t.id+"-"+t.title)}}},[a("span",[e._v(e._s(t.id)+" - "+e._s(t.title))]),e.popoverVisible===t.id+"-"+t.title?a("div",{staticClass:"tip"},[a("div",{staticClass:"tip-trangle-bottom"}),e._v("\n                  复制成功\n                ")]):e._e()])})):a("span",{staticClass:"no-data-text"},[e._v("暂无推荐")])],2)}))],2)]):e._e(),1!==e.selectedServicer.type?a("div",{staticClass:"detail-box"},[a("div",{staticClass:"title2"},[e._v("服务终止条件（可选）")]),e.havePermissionsToUse?a("el-button",{staticClass:"position-right",attrs:{type:"text",icon:"el-icon-document-copy"},on:{click:function(t){return e.pasteRules("export")}}},[e._v("粘贴条件")]):e._e(),e.exportList.length>0?a("div",{staticClass:"position-left"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate2},on:{change:e.handleCheckAllChange2},model:{value:e.checkAll2,callback:function(t){e.checkAll2=t},expression:"checkAll2"}},[e._v("全选")]),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{disabled:0===e.exportCheckList.length,type:"text"},on:{click:function(t){return e.copyRules(e.exportList,"export")}}},[e._v("复制")])],1):e._e(),a("div",{staticClass:"set-end"},[0===e.exportList.length?a("div",{staticClass:"no-data-wrap"},[a("div",{staticClass:"noData"})]):e._e(),a("el-checkbox-group",{on:{change:function(t){return e.checkListChange("export")}},model:{value:e.exportCheckList,callback:function(t){e.exportCheckList=t},expression:"exportCheckList"}},e._l(e.exportList,(function(t){return a("div",{key:t.id,ref:"exportRef",refInFor:!0,staticClass:"info-class",attrs:{id:t.id}},[a("el-checkbox",{key:t.id,attrs:{label:t.id}}),a("div",{staticClass:"border-line",staticStyle:{position:"relative"}},[t.rulesJson&&JSON.parse(t.rulesJson).rules.length>0&&t.behaviorRulesJson&&JSON.parse(t.behaviorRulesJson).rules.length>0?a("div",{staticClass:"outer-and"},[a("span",{staticClass:"and-or",class:"OR"===t.link?"OR":""},[e._v("\n                "+e._s("OR"===t.link?"或":"且")+"\n                ")])]):e._e(),t.rulesJson&&JSON.parse(t.rulesJson).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("普通标签")]),a("div",{staticClass:"rule-string"},[a("div",[a("ShowRule",{attrs:{rulesJson:JSON.parse(t.rulesJson),soureceSignList:e.soureceSignList,conditionEnum:e.conditionEnum}})],1)])]:e._e(),t.behaviorRulesJson&&JSON.parse(t.behaviorRulesJson).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("行为标签")]),a("div",{staticClass:"rule-string bav-wrap"},[[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",refInFor:!0,attrs:{isView:!0,behaviorRulesJson:JSON.parse(t.behaviorRulesJson)}})]],2)]:e._e(),t.flowCondition&&JSON.parse(t.flowCondition).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("流转指标")]),a("div",{staticClass:"rule-string"},[a("div",[a("ShowFlowConditionRule",{attrs:{flowCondition:JSON.parse(t.flowCondition),conditionEnum:e.conditionEnum,soureceSignList:e.soureceSignList}})],1)])]:e._e()],2),1===t.stopType?a("div",{staticClass:"turn-servicer"},[e._v("\n              转\n              "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.redirctByNextId(t.nextId)}}},[e._v(e._s(e.getServicerBynextId(t.nextId).receptionist)+" ")])],1):a("div",{staticClass:"turn-servicer"},[e._v(e._s(e.getStopTypeName(t.stopType)))]),e.isCopiedServicer&&1!==t.stopType||!e.canUse?e._e():a("div",{staticClass:"drop-class"},[a("el-dropdown",{staticClass:"el-dropdown",attrs:{trigger:"hover","hide-on-click":!1,placement:"bottom"},on:{command:e.handleCommandExport}},[a("span",{staticClass:"el-dropdown-link"},[a("span",[e._v(".")]),a("span",[e._v(".")]),a("span",[e._v(".")])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["editExport",t]}},[e._v("\n                    编辑\n                  ")]),e.havePermissionsToUse?a("el-dropdown-item",{staticClass:"clearfix",attrs:{command:["deleteExport",t]}},[e._v("\n                    删除\n                  ")]):e._e()],1)],1)],1),1!==t.stopType||t.nextId?e._e():a("div",{staticStyle:{color:"red"}},[a("i",{staticClass:"el-icon-warning"}),a("span",{staticStyle:{"font-size":"12px","margin-left":"5px"}},[e._v("下一步不可为空")])])],1)})),0),e.havePermissionsToUse?a("div",{staticClass:"box-fotter addRule"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createExport}},[e._v("新建服务终止条件")])],1):e._e()],1)],1):e._e()])]),e.clientDialogVisible?a("el-dialog",{attrs:{title:(e.editClientRow?"编辑":"新建")+"服务对象选择",visible:e.clientDialogVisible,width:"1200px"},on:{"update:visible":function(t){e.clientDialogVisible=t}}},[a("createClientDialog",{ref:"createClientDialog",attrs:{editRow:e.editClientRow,options:e.options}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.clientDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addOrEditEntryRule}},[e._v("确 定")])],1)],1):e._e(),e.exportDialogVisible?a("el-dialog",{attrs:{title:(e.editExportRow?"编辑":"新建")+"服务终止条件",visible:e.exportDialogVisible,width:"1200px"},on:{"update:visible":function(t){e.exportDialogVisible=t}}},[a("createClientDialog",{ref:"exportClientDialog",attrs:{editRow:e.editExportRow,type:"export",servicerListFilterSelect:e.servicerListFilterSelect,options:e.options}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.exportDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addOrEditExportRule}},[e._v("确 定")])],1)],1):e._e(),e.reuseExportDialogVisible?a("el-dialog",{attrs:{title:"编辑复用服务终止条件",visible:e.reuseExportDialogVisible,width:"700px"},on:{"update:visible":function(t){e.reuseExportDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.reuseForm,rules:e.reuseFormRules,"label-width":"100px"}},[a("el-form-item",{staticClass:"inline-form-item",attrs:{label:"处理操作",prop:"stopType"}},[a("el-select",{attrs:{clearable:"",disabled:""},on:{change:e.handleStopTypeChange},model:{value:e.reuseForm.stopType,callback:function(t){e.$set(e.reuseForm,"stopType",t)},expression:"reuseForm.stopType"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),1)],1),1===e.reuseForm.stopType?a("el-form-item",{staticClass:"inline-form-item",staticStyle:{"margin-left":"-100px"},attrs:{prop:"nextId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择流转接待员"},model:{value:e.reuseForm.nextId,callback:function(t){e.$set(e.reuseForm,"nextId",t)},expression:"reuseForm.nextId"}},e._l(e.servicerListFilterSelect,(function(t){return a("el-option",{key:t.crowdId,attrs:{label:t.receptionist,value:t.crowdId}},[e._v("\n            "+e._s(t.receptionist)+"\n          ")])})),1)],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.reuseExportDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reuseExportRule}},[e._v("确 定")])],1)],1):e._e(),a("el-dialog",{attrs:{title:"编辑绩效目标",visible:e.editTargetKeyVisible,width:"700px"},on:{"update:visible":function(t){e.editTargetKeyVisible=t}}},[e.editTargetKeyVisible?a("EditTargetKeyDialog",{ref:"editTargetKeyDialogRef",attrs:{selectedServicer:e.selectedServicer,indicatorsOptions:e.indicatorsOptions,soureceSignListOptions:e.soureceSignListOptions,targetKeyFormParent:e.targetKeyFormParent},on:{"update:targetKeyFormParent":function(t){e.targetKeyFormParent=t},"update:target-key-form-parent":function(t){e.targetKeyFormParent=t}}}):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editTargetKeyVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.comfirmEditTargetKey}},[e._v("确 定")])],1)],1)],1)},FS=[];function VS(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function RS(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):VS(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jS=[];function BS(e,t,a,i){return MS.apply(this,arguments)}function MS(){return MS=Object(B["a"])(regeneratorRuntime.mark((function e(t,a,i,n){var r,s,o,l,c,d,u,h,p,m,f,v,g,b,y,C,w,_=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=_.length>4&&void 0!==_[4]?_[4]:{returnDefaultData:{},isNeedValidate:!0},s=void 0===r.isNeedValidate||r.isNeedValidate,!s){e.next=20;break}return e.next=5,new Promise((function(e,a){return t.$refs.form.validate(function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 5:if(o=e.sent,console.log("flowCondition---\x3e",n),!(n&&n.rules.length>0)){e.next=13;break}return e.next=10,new Promise((function(e,a){return t.$refs.setCirculationRef.$refs.ruleForm.validate((function(t){e(t)}))}));case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=!0;case 14:return l=e.t0,e.next=17,new Promise((function(e,a){return t.$refs.MultipleSelectRef.$refs.ruleForm.validate((function(t){e(t)}))}));case 17:if(c=e.sent,o&&l&&c){e.next=20;break}return e.abrupt("return",Promise.reject());case 20:if(d=[],u=JSON.parse(JSON.stringify(a)),h=mn(JSON.parse(JSON.stringify(i))),p=u.rules,m=h.rules,zS(p,m,t,s)||!s){e.next=27;break}return e.abrupt("return",Promise.reject());case 27:if(p.forEach((function(e){e.rules.forEach((function(e){-1===d.indexOf(e.tagId)&&d.push(e.tagId)}))})),m.forEach((function(e){e.rules.forEach((function(e){if(-1===d.indexOf(e.tagId)&&d.push(e.tagId),"string"===e.tagType&&"null"!==e.operator&&(e.value=Array.isArray(e.value)?e.value.join(","):e.value),e.bav&&e.bav.rang.newValue&&"fixed"===e.bav.rangeType){var t=e.bav.rang.newValue,a=[];t.forEach((function(e){e.value&&e.value.length>0&&a.push({value:e.value})})),e.bav.rang.newValue=a,e.bav.rang.value=t.map((function(e){if(e.value)return e.value})).flat()}if("BAV0016"===e.tagCode||"BAV0012"===e.tagCode||"BAV0011"===e.tagCode){var i=[],n=e.bav.showBehaviorValue;n.forEach((function(t){var a=JSON.parse(JSON.stringify(t)),n=hn(a.child),r=JSON.parse(JSON.stringify(e.bav.countValue));r.child=n,a.child=[r],i.push(a)})),e.bav.behaviorValue=i}}))})),f=RS(RS({},r.returnDefaultData||void 0),{},{rulesJson:JSON.stringify(u),behaviorRulesJson:JSON.stringify(h)}),v=[],g=t.$refs.multipleActionTagSelect&&t.$refs.multipleActionTagSelect.$refs.range?t.$refs.multipleActionTagSelect.$refs.range:[],g.forEach((function(e){v.push(e.$refs.rangeForm)})),b=[],y=t.$refs.multipleActionTagSelect&&t.$refs.multipleActionTagSelect.$refs.bav?t.$refs.multipleActionTagSelect.$refs.bav:[],C=[],y&&y.forEach((function(e){e.$refs.bav&&C.push(e.$refs.bav),e.$refs.typeRef&&Array.isArray(e.$refs.typeRef)?e.$refs.typeRef.forEach((function(e){b.push(e.$refs.typeForm)})):e.$refs.typeRef&&"object"===Object($t["a"])(e.$refs.typeRef)&&b.push(e.$refs.typeRef.$refs.typeForm)})),w=v.concat(b,C),!s){e.next=42;break}return e.abrupt("return",new Promise((function(e,a){if(jS.length>0){var i=jS.join(","),n=t.$createElement;Object(E["MessageBox"])({title:"配置提醒",message:n("p",null,[n("span",null,"".concat(i)),n("span",null,"标签的属性为空，请确认是否继续?"),n("div",{style:"color: red"},"PS：标签为空代表要圈出该属性为空的人群")]),showCancelButton:!0,confirmButtonText:"继续",cancelButtonText:"取消"}).then((function(){w.length>0?Promise.all(w.map(fn)).then((function(t){var i=t.every((function(e){return!!e}));i?e(f):(E["Message"].error("请输入必填项"),a())})).catch((function(){E["Message"].error("请至少设置一个行为标签规则"),a()})):e(f)}))}else w.length>0?Promise.all(w.map(fn)).then((function(t){var i=t.every((function(e){return!!e}));i?e(f):(E["Message"].error("请输入必填项"),a())})).catch((function(){E["Message"].error("请至少设置一个行为标签规则"),a()})):e(f)})));case 42:return e.abrupt("return",Promise.resolve(f));case 43:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function zS(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>3?arguments[3]:void 0;jS=[];var n=0,r=e.length,s=!0;for(t=0;t<r;t++){for(n=0;n<e[t].rules.length;n++){var o=e[t].rules[n];"string"===o.tagType&&"null"!==o.operator&&(o.value=o.value.join(","));var l="time"===o.tagType&&0===o.dateAreaType;if(l)jS.includes(o.tagName)||jS.push(o.tagName);else{if("time"===o.tagType&&3===o.isDynamicTime){if(o.version>0){var c=o.startDay?o.startDay:"@",d=o.endDay?o.endDay:"@";o.value=c+"~"+d}else if(vn(o.startDay)&&vn(o.endDay)){if(parseInt(o.startDay)<parseInt(o.endDay))o.value=o.startDay+"-"+o.endDay;else if(i){E["Message"].error("第"+(t+1)+"设置标签块里面的第"+(n+1)+"行的天数值后面的值必须大于前面的"),s=!1;break}}else if(i){E["Message"].error("第"+(t+1)+"设置标签块里面的第"+(n+1)+"行的值是大于等于0的整数且不能超过4位数"),s=!1;break}}else"string"===o.tagType&&"null"===o.operator&&(o.operator="=");if("value"in o&&(""===o.value||0===o.value.length)&&i){E["Message"].error("请正确填写第"+(t+1)+"设置标签块里面的第"+(n+1)+"行的值！"),s=!1;break}}if(!s)break}if(!s)break}var u,h=a.length,p=0;for(u=0;u<h;u++)for(p=0;p<a[u].rules.length;p++){var m=a[u].rules[p];if(m.isOldversion&&i){E["Message"].error("【起播活跃 - BAV0011】组件升级，若要编辑请删除后重新创建"),s=!1;break}var f="time"===m.tagType&&0===m.dateAreaType;if(f)jS.includes(m.tagName)||jS.push(m.tagName);else{if(m.value&&(""===m.value||0===m.value.length)&&i){E["Message"].error("请正确填写第"+(u+1)+"行为标签块里面的第"+(p+1)+"行的值！"),s=!1;break}if("time"===m.tagType&&3===m.isDynamicTime)if(m.version>0){var v=m.startDay?m.startDay:"@",g=m.endDay?m.endDay:"@";m.value=v+"~"+g}else if(un(m.startDay)&&un(m.endDay)){if(parseInt(m.startDay)<parseInt(m.endDay))m.value=m.startDay+"-"+m.endDay;else if(i){E["Message"].error("第"+(u+1)+"行为标签块里面的第"+(p+1)+"行的天数值后面的值必须大于前面的"),s=!1;break}}else if(i){E["Message"].error("第"+(u+1)+"行为标签块里面的第"+(p+1)+"行的值是大于等于0的整数且不能超过4位数"),s=!1;break}}}return s}var qS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{staticClass:"add-tag-form-item",style:{height:e.collapseAddTagsFlag?"270px":"0px"},attrs:{label:"添加标签：",prop:"conditionTagIds"}},[a("div",{staticClass:"strategy-search"},[a("el-input",{staticClass:"strategy-search--input",attrs:{"aria-placeholder":"请输入标签关键字进行搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTags.apply(null,arguments)}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.getTags}},[e._v("查询")]),a("el-button",{on:{click:e.resetSearch}},[e._v("重置")])],1),""!=e.conditionTagsFiltered?a("el-checkbox-group",{staticClass:"checkList",model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.conditionTagsFiltered,(function(t){return a("el-checkbox",{key:t.tagId,class:e.dataSourceColorClassEnum[t.dataSource],attrs:{label:t.tagId},on:{change:function(a){return e.handleTagChange(a,t)}}},[e._v("\n          "+e._s(t.tagName)+"\n        ")])})),1):a("div",{staticClass:"checkbox--red"},[e._v("该标签不存在，请重新输入标签名进行搜索")]),a("el-pagination",{staticClass:"pagination",attrs:{small:"",layout:"prev,pager,next",total:e.selectTagTagsListTotal,"page-size":e.selectTagInitPageSize,"current-page":e.selectTagInitCurrentPage},on:{"current-change":e.handleTagCurrentChange,"prev-click":e.handleTagCurrentChange,"next-click":e.handleTagCurrentChange}})],1),a("el-form-item",{staticClass:"selected-tags",attrs:{label:"已选标签："}},[e._l(e.tagList,(function(t){return a("el-tag",{key:t.tagId,attrs:{type:e.dataSourceColorEnum[t.dataSource||t.tDataSource],closable:""},on:{close:function(a){return e.removeTag(t)}}},[e._v("\n        "+e._s(t.tagName)+"\n      ")])})),a("el-button",{staticClass:"add-tag-icon",attrs:{icon:"el-icon-search"},on:{click:function(t){return e.collapseAddTags()}}},[e._v("\n        添加标签\n        "),e.collapseAddTagsFlag?a("i",{staticClass:"el-icon-arrow-down",staticStyle:{"font-size":"14px"}}):a("i",{staticClass:"el-icon-arrow-up",staticStyle:{"font-size":"14px"}})])],2)],1),a("div",{staticClass:"add"},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"130px"}},["entry"!==e.type?a("el-form-item",{staticClass:"inline-form-item",attrs:{label:"处理操作",prop:"stopType"}},[a("el-select",{attrs:{clearable:""},on:{change:e.handleStopTypeChange},model:{value:e.form.stopType,callback:function(t){e.$set(e.form,"stopType",t)},expression:"form.stopType"}},e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)],1):e._e(),"entry"!==e.type&&1===e.form.stopType?a("el-form-item",{staticClass:"inline-form-item",staticStyle:{"margin-left":"-130px"},attrs:{prop:"nextId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择流转接待员"},model:{value:e.form.nextId,callback:function(t){e.$set(e.form,"nextId",t)},expression:"form.nextId"}},e._l(e.servicerListFilterSelect,(function(t){return a("el-option",{key:t.crowdId,attrs:{label:t.receptionist,value:t.crowdId}},[e._v("\n                "+e._s(t.receptionist)+"\n              ")])})),1)],1):e._e(),a("div",{staticStyle:{position:"relative"}},[e.tags.length>0&&e.actionTags.length>0&&e.hasBehaviorTag?a("div",{staticClass:"outer-and"},[a("el-button",{key:"condition",attrs:{type:"danger",round:""},on:{click:function(t){return e.handleConditionChange()}}},[e._v(e._s("OR"===e.totalLink?"或":"且")+" ")])],1):e._e(),e.tags.length>0?a("div",[a("el-form-item",{staticClass:"multipleSelect",attrs:{label:"设置标签"}},[a("MultipleSelect",{ref:"MultipleSelectRef",attrs:{tags:e.tags,rulesJson:e.rulesJson}})],1)],1):e._e(),e.actionTags.length>0&&e.hasBehaviorTag?a("el-form-item",{attrs:{label:"行为标签"}},[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",attrs:{actionTags:e.actionTags,behaviorRulesJson:e.behaviorRulesJson}})],1):e._e()],1)],1)],1)],1)],1)],1)},JS=[];function GS(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=US(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function US(e,t){if(e){if("string"===typeof e)return HS(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?HS(e,t):void 0}}function HS(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function KS(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function QS(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KS(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var WS={components:{MultipleSelect:yi,MultipleActionTagSelect:on},provide:function(){return{_this:this}},data:function(){return{totalLink:"OR",tagList:[],addForm:{conditionTagIds:[],crowdTagCrowdIds:[]},checkedList:[],searchValue:"",selectTagInitPageSize:500,selectTagTagsListTotal:0,selectTagInitCurrentPage:1,versionNum:2,cache:{},tags:[],actionTags:[],specialTags:[],tagInitSize:200,tagCurrentPage:1,tagSelectMoreShow:!1,checkboxValue:"",currentChildItem:"",formInline:{attrName:""},rulesJson:{condition:"OR",rules:[]},behaviorRulesJson:{link:"AND",condition:"OR",rules:[]},dynamicPolicyJson:{link:"AND",condition:"OR",rules:[]},flowCondition:{condition:"OR",rules:[]},suggestions:{},suggestionsNew:[],priority:"",form:{stopType:"",nextId:""},formRules:{stopType:[{required:!0,message:"请选择",trigger:"change"}],nextId:[{required:!0,message:"请选择流转接待员",trigger:"change"}]},pickerOptions:{disabledDate:function(e){var t=(new Date).setHours(23,59,59),a=new Date(t).getTime(),i=5184e6,n=a+i;return e.getTime()<Date.now()-864e5||e.getTime()>n}},currentLaunchLimitCount:void 0,cityData:[],provinceValueList:[],timeTagKongList:[],conditionTagsFiltered:[],collapseAddTagsFlag:!1,circulationTagDataList:[],soureceSignList:[]}},watch:{tagList:{handler:function(e){console.log("watch:tagList"),this.checkedList=e.map((function(e){return e.tagId})),this.sortTag()}},circulationTagDataListProp:{handler:function(e){console.log("val===>",e),this.circulationTagDataList=e},immediate:!0},soureceSignListProp:{handler:function(e){this.soureceSignList=e},immediate:!0},conditionTagsFilteredProp:{handler:function(e){this.conditionTagsFiltered=e},immediate:!0},selectTagTagsListTotalProp:{handler:function(e){this.selectTagTagsListTotal=e},immediate:!0}},computed:{hasBehaviorTag:function(){return this.actionTags.some((function(e){return 8===e.dataSource}))},dataSourceColorEnum:function(){return ya},dataSourceColorClassEnum:function(){return Ca}},props:{editRow:{type:Object,default:function(){}},type:{type:String,default:"entry"},servicerListFilterSelect:{type:Array,default:function(){return[]}},options:{type:Array,default:function(){return[]}},defaultData:{type:Object,default:function(){}},circulationTagDataListProp:{type:Array,default:function(){return[]}},soureceSignListProp:{type:Array,default:function(){return[]}},conditionTagsFilteredProp:{type:Array,default:function(){return[]}},selectTagTagsListTotalProp:{type:Number,default:0},receptionistId:{type:[String,Number],default:""},delFlag:{type:[String,Number],default:""}},methods:{getCirculationTag:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.getRuleIndicators().then((function(e){t.circulationTagDataList=e}));case 2:this.$service.getSourceSign().then((function(e){t.soureceSignList=e}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleStopTypeChange:function(){this.form.nextId=""},collapseAddTags:function(){this.collapseAddTagsFlag=!this.collapseAddTagsFlag},getTags:function(){var e=this;this.$service.policyTagSeach({pageNum:this.selectTagInitCurrentPage,pageSize:this.selectTagInitPageSize,s:this.searchValue,isStoryline:1}).then((function(t){e.conditionTagsFiltered=t.pageInfo.list.map((function(e){return QS(QS({},e),{},{dataSource:e.tDataSource})})),e.selectTagTagsListTotal=t.pageInfo.total}))},removeTag:function(e){var t=this.addForm;12===e.tDataSource?t.crowdTagCrowdIds=t.crowdTagCrowdIds.filter((function(t){return t!==e.tagId})):t.conditionTagIds=t.conditionTagIds.filter((function(t){return t!==e.tagId})),this.tagList.splice(this.tagList.indexOf(e),1)},handleTagCurrentChange:function(e){this.selectTagInitCurrentPage=e,this.getTags()},handleTagChange:function(e,t){console.log("flag---------\x3e",e);var a=[];if(e)this.tagList.push(t),12===t.tDataSource?this.addForm.crowdTagCrowdIds.push(t.tagId):this.addForm.conditionTagIds.push(t.tagId);else{a=this.tagList;for(var i=a.length-1;i>=0;i--)a[i].tagId==t.tagId&&a.splice(i,1);12===t.tDataSource?this.addForm.crowdTagCrowdIds=this.addForm.crowdTagCrowdIds.filter((function(e){return e!==t.tagId})):this.addForm.conditionTagIds=this.addForm.conditionTagIds.filter((function(e){return e!==t.tagId}))}},resetSearch:function(){this.searchValue="";var e=this.addForm.conditionTagIds;this.getTags(),this.addForm.conditionTagIds=e},putBehaviorRulesJsonTableIndex:function(e){if(e){var t=0,a=e.rules;a.forEach((function(e){var a=e.rules;a.forEach((function(e){t+=1,e.table=e.table.split("$")[0]+"$"+t,e.bav&&(e.bav.table=e.bav.table.split("$")[0]+"$"+t)}))}))}else e={link:"AND",condition:"OR",rules:[]};return e},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},validateForm:function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.timeTagKongList=[];var n=0,r=e.length,s=t.length,o=!0;for(a=0;a<r;a++){for(n=0;n<e[a].rules.length;n++){var l=e[a].rules[n];"string"===l.tagType&&"null"!==l.operator&&(l.value=l.value.join(","));var c="time"===l.tagType&&0===l.dateAreaType;if(c)this.timeTagKongList.includes(l.tagName)||this.timeTagKongList.push(l.tagName);else{if(l.value&&(""===l.value||0===l.value.length)){this.$message.error("请正确填写第"+(a+1)+"设置标签块里面的第"+(n+1)+"行的值！"),o=!1;break}if("time"===l.tagType&&3===l.isDynamicTime)if(l.version>0){var d=l.startDay?l.startDay:"@",u=l.endDay?l.endDay:"@";l.value=d+"~"+u}else{if(!this.checkNumMostFour(l.startDay)||!this.checkNumMostFour(l.endDay)){this.$message.error("第"+(a+1)+"设置标签块里面的第"+(n+1)+"行的值是大于等于0的整数且不能超过4位数"),o=!1;break}if(!(parseInt(l.startDay)<parseInt(l.endDay))){this.$message.error("第"+(a+1)+"设置标签块里面的第"+(n+1)+"行的天数值后面的值必须大于前面的"),o=!1;break}l.value=l.startDay+"-"+l.endDay}else"string"===l.tagType&&"null"===l.operator&&(l.operator="=")}if(!o)break}if(!o)break}var h,p=i.length,m=0;for(h=0;h<p;h++)for(m=0;m<i[h].rules.length;m++){var f=i[h].rules[m];if(f.isOldversion){this.$message.error("【起播活跃 - BAV0011】组件升级，若要编辑请删除后重新创建"),o=!1;break}var v="time"===f.tagType&&0===f.dateAreaType;if(v)this.timeTagKongList.includes(f.tagName)||this.timeTagKongList.push(f.tagName);else{if(f.value&&(""===f.value||0===f.value.length)){this.$message.error("请正确填写第"+(h+1)+"行为标签块里面的第"+(m+1)+"行的值！"),o=!1;break}if("time"===f.tagType&&3===f.isDynamicTime)if(f.version>0){var g=f.startDay?f.startDay:"@",b=f.endDay?f.endDay:"@";f.value=g+"~"+b}else{if(!this.checkNum(f.startDay)||!this.checkNum(f.endDay)){this.$message.error("第"+(h+1)+"行为标签块里面的第"+(m+1)+"行的值是大于等于0的整数且不能超过4位数"),o=!1;break}if(!(parseInt(f.startDay)<parseInt(f.endDay))){this.$message.error("第"+(h+1)+"行为标签块里面的第"+(m+1)+"行的天数值后面的值必须大于前面的"),o=!1;break}f.value=f.startDay+"-"+f.endDay}}}for(a=0;a<s;a++){for(n=0;n<t[a].rules.length;n++){var y=t[a].rules[n];if(""===y.value||""===y.dynamic.version){this.$message.error("请正确填写第"+(a+1)+"动态因子里面的第"+(n+1)+"行的值！"),o=!1;break}if(!o)break}if(!o)break}return o},checkIfChildrenExist:function(e,t){if(null==e.child||0===e.child.length)return e.child.push(t),e;this.checkIfChildrenExist(e.child[0],t)},ReorganizationData:function(e){var t=[],a=e.length;if(a>1)for(var i=a-1;i>-1;i--)t=e[i],e[i-1]&&(t=this.checkIfChildrenExist(e[i-1],t));else t=e,e[0]&&e[0].child&&e[0].child.length>1&&(t[0].child=this.ReorganizationData(e[0].child));return t},fetchAddOrEdit:function(e){var t=this,a=this.isDynamicPeople?"操作成功":"操作成功，".concat(null!=this.crowdId?"修改人群条件会影响该策略下所有人群的交叉，请点击“估算”重新估算其他人群的圈定数据":"新增一个人群会影响该策略下人群优先级和交叉，请点击“估算”重新估算其他人群的圈定数据");null!=this.crowdId?(e.crowdId=this.crowdId,e.priority=this.priority,this.$service.crowdUpdate(e,a).then((function(){t.$emit("goBackCrowdListPage",!0)}))):this.$service.crowdSave(e,a).then((function(){t.$emit("goBackCrowdListPage",!0)}))},cancelAdd:function(){this.$emit("goBackCrowdListPage")},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=GS(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},checkNum:function(e){return!!/(^\d+$)/.test(e)||(this.$message.error("该值为必填项，且必须是大于等于0的整数"),!1)},checkNumMostFour:function(e){var t=parseInt(e);return!!(/(^\d+$)/.test(e)&&t<=9999)||(this.$message.error("该值为必填项，且必须是大于等于0的整数且不能超过4位数"),!1)},handleOperatorChange:function(e){"string"===e.tagType&&"null"===e.operator?e.value="nil":e.value=""},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},handleConditionChange:function(){this.totalLink="AND"===this.totalLink?"OR":"AND"},sortTag:function(){var e=[],t=[],a=[],i=this.tagList;i.forEach((function(i){6===i.dataSource?a.push(i):8===i.dataSource?t.push(i):2===i.dataSource?(t.push(i),e.push(i)):e.push(i)})),this.tags=[].concat(Object(N["a"])(this.circulationTagDataList),e),this.actionTags=t,this.specialTags=a,console.log("this.tags-------------\x3e",this.tags),console.log("this.actionTags-------------\x3e",this.actionTags),console.log("this.specialTags-------------\x3e",this.specialTags)},reviewEditData:function(){var e=this,t=this.editRow;this.totalLink=t.link,"entry"===this.type?t.id?this.$service.getTagsByEntryId({entryId:t.id}).then((function(t){e.tagList=t||[],e.sortTag()})):(this.sortTag(),this.defaultData&&this.setDefaultData()):(this.form.stopType=t.stopType,this.form.nextId=t.nextId,t.id?this.$service.getTagsByExportId({exportId:t.id}).then((function(t){e.tagList=t||[],e.sortTag()})):(this.sortTag(),this.defaultData&&this.setDefaultData()));var a=[],i=[{name:"",value:"",filed:"",operator:"=",type:"string",child:[]}],n=[],r=[];if(t.rulesJson){var s=JSON.parse(t.rulesJson);s.rules=s.rules.map((function(t){return t.rules.forEach((function(t){if(8===t.dataSource?n.push(t.tagCode):"string"!==t.tagType&&"collect"!==t.tagType||a.push(t.tagId),"mix"===t.tagType&&r.push({tagId:t.tagId,tagCode:t.tagCode,provinceValue:t.provinceValue}),"string"===t.tagType&&"nil"===t.value&&(t.operator="null"),"string"===t.tagType&&"null"!==t.operator&&"string"===typeof t.value&&(t.value=""===t.value?[]:t.value.split(",")),0===t.version)if("time"===t.tagType&&3===t.isDynamicTime){var i=t.value.split("-");e.$set(t,"startDay",i[0]),e.$set(t,"endDay",i[1])}else"time"===t.tagType&&3!==t.isDynamicTime&&(e.$set(t,"dateAreaType",""),e.$set(t,"dynamicTimeType",parseInt(t.dynamicTimeType)))})),t})),this.rulesJson=s}t.behaviorRulesJson&&(this.behaviorRulesJson=JSON.parse(t.behaviorRulesJson),this.behaviorRulesJson.rules.forEach((function(t){t.rules.forEach((function(t){if("string"===t.tagType&&"null"!==t.operator&&"string"===typeof t.value&&(t.value=""===t.value?[]:t.value.split(",")),0===e.versionNum)if("BAV0001"===t.tagCode||"BAV0003"===t.tagCode||"BAV0004"===t.tagCode||"BAV0006"===t.tagCode){var a=JSON.parse(JSON.stringify(t.bav));t.bav.behaviorValue=JSON.parse(JSON.stringify(i)),t.bav.behaviorValue[0].child=a.behaviorValue,t.bav.behaviorValue[0].childCheckedVal=a.value}else if("BAV0002"===t.tagCode)t.bav.behaviorValue.forEach((function(e){var t=JSON.parse(JSON.stringify(e));e.child=JSON.parse(JSON.stringify(i)),e.child[0].child=t.child,e.child[0].childCheckedVal=t.childCheckedVal}));else if("BAV0005"===t.tagCode){var n=t.bav.value.findIndex((function(e){return"产品页"===e}));n>-1&&(t.bav.value.splice(n,1,"影视收银台"),t.bav.behaviorValue.forEach((function(e){"产品页"===e.value&&(e.value="影视收银台",e.name="影视收银台")})))}e.versionNum<2&&"BAV0011"===t.tagCode&&(t.isOldversion=!0)}))}))),this.flowCondition=t.flowCondition?JSON.parse(t.flowCondition):{condition:"OR",rules:[]},t.dynamicPolicyJson&&(this.dynamicPolicyJson=JSON.parse(t.dynamicPolicyJson)),a=this.distinct(a,[]),0!==a.length&&a.forEach(this.fetchTagSuggestions),0!==n.length&&n.forEach((function(t){e.fetchActionTagSuggestions(t)})),0!==r.length&&r.forEach((function(t){e.fetchSpecialTagSuggestions(t.tagId,t.tagCode),e.areaSelectChange(t.provinceValue,t.tagCode)}))},fetchTagSuggestions:function(e){var t=this;this.$service.getTagAttr({tagId:e,pageNum:1}).then((function(a){t.$set(t.cache,e,{select:a.select,list:a.pageInfo.list})}))},fetchSpecialTagSuggestions:function(e,t){var a=this,i={tagId:e,pageSize:200,isSelect:1};this.$service.specialTagDetailList(i).then((function(i){var n=i.list.map((function(e){return{attrId:e.specialTagId,attrName:e.specialTagName,attrValue:"mix_area"===t?e.specialTagId:e.specialTagName,dataSource:7,rulesJson:e.rulesJson}}));a.$set(a.cache,e,{select:!1,list:n})}))},fetchActionTagSuggestions:function(e){var t=this;this.bavAttrList[e]||this.$service.getBavTagList({id:this.tagCodeValue[e]}).then((function(a){t.bavAttrList[e]=a||{},t.$set(t.bavAttrList,e,a),t.bavAttrList=Object.assign({},t.bavAttrList,t.bavAttrList),console.log("this.bavAttrList==>",t.bavAttrList)}))},setDefaultData:function(){var e=this.defaultData.rulesJson;this.rulesJson=e}},created:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.conditionTagsFilteredProp.length&&this.getTags(),0!==this.circulationTagDataListProp.length||0!==this.soureceSignListProp.length){e.next=4;break}return e.next=4,this.getCirculationTag();case 4:this.editRow?this.reviewEditData():(this.sortTag(),this.defaultData&&this.setDefaultData());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},YS=WS,ZS=(a("bf41"),Object(U["a"])(YS,qS,JS,!1,null,"f6d0ac04",null)),XS=ZS.exports,ek=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-container multipleSelect"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.behaviorRulesJson&&e.behaviorRulesJson.rules.length>1,expression:"behaviorRulesJson && behaviorRulesJson.rules.length > 1"}],key:e.i+"or",staticClass:"label-or-space"},[a("el-button",{key:"button2_"+e.i,attrs:{type:"success",round:""},on:{click:function(t){return e.handleRulesConditionChange(e.behaviorRulesJson)}}},[e._v("\n        "+e._s("AND"===e.behaviorRulesJson.condition?"且":"或")+"\n      ")])],1),e._l(e.behaviorRulesJson.rules,(function(t,i){return[a("div",{key:i,staticClass:"label-ground"},[a("div",{staticClass:"tag-condition--parent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.rules.length>1,expression:"item.rules.length > 1"}],staticClass:"tag-condition"},[a("el-button",{key:"button"+i+"_"+e.i,attrs:{type:"warning",round:"",size:"small"},on:{click:function(a){return e.handleRulesConditionChange(t)}}},[e._v("\n              "+e._s("AND"===t.condition?"且":"或")+"\n            ")])],1),e._l(t.rules,(function(t,n){return a("div",{key:i+"tagId"+n,class:{"label-item":!0,paddingTop:n>0}},[8===t.dataSource?a("div",{staticClass:"behavior-label"},["BAV0001"!==t.tagCode&&"BAV0009"!==t.tagCode&&"BAV0010"!==t.tagCode?a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("Range",{ref:"range",refInFor:!0,attrs:{childItem:t,type:e.getRangeType(t.tagCode),options:e.bavAttrList[t.categoryCode],show:e.showRange},on:{hasMoveBehaviorTagRule:e.hasMoveBehaviorTagRule}}),a("i",{staticClass:"range animated shake",class:e.showRange?"el-icon-d-arrow-left":"el-icon-d-arrow-right",on:{click:e.handelChangeShow}})],1):e._e(),a("Bav",{key:i+"bavRule"+n,ref:"bav",refInFor:!0,attrs:{childItem:t,bavAttrList:e.bavAttrList[t.categoryCode]}})],1):a("el-form",{staticClass:"behavior-label",attrs:{disabled:!0}},[a("span",{staticClass:"txt"},[e._v(e._s(t.categoryName))]),a("span",{staticClass:"sel"},["time"!==t.tagType?a("el-select",{staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},on:{change:function(a){return e.handleOperatorChange(t)}},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"childItem.operator"}},["number"===t.tagType?[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})]:e._e(),"string"===t.tagType||"mix"===t.tagType?[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"不是"}}),a("el-option",{attrs:{value:"null",label:"为空"}})]:e._e(),"boolean"===t.tagType?[a("el-option",{attrs:{value:"=",label:"="}})]:e._e(),"collect"===t.tagType?[a("el-option",{attrs:{value:"=",label:"是"}}),a("el-option",{attrs:{value:"!=",label:"不是"}})]:e._e()],2):e._e(),"time"===t.tagType?[t.version>0?[a("el-select",{key:n+"timeKey",staticClass:"time-dot-select-new",staticStyle:{width:"130px"},on:{change:function(a){return e.handelTimeTagTypeSelectChange(t)}},model:{value:t.dateAreaType,callback:function(a){e.$set(t,"dateAreaType",a)},expression:"childItem.dateAreaType"}},[a("el-option",{attrs:{value:0,label:"未发生该行为"}}),a("el-option",{attrs:{value:1,label:"动态时间"}}),a("el-option",{attrs:{value:2,label:"固定时间"}})],1)]:[a("el-select",{directives:[{name:"show",rawName:"v-show",value:3===t.isDynamicTime,expression:"childItem.isDynamicTime === 3"}],key:n+"timeKey",staticClass:"time-dot-select-new",on:{change:function(a){return e.handelTimeTagTypeSelectChange(t)}},model:{value:t.dateAreaType,callback:function(a){e.$set(t,"dateAreaType",a)},expression:"childItem.dateAreaType"}},[a("el-option",{attrs:{value:0,label:"空"}}),a("el-option",{attrs:{value:1,label:"已过期"}}),a("el-option",{attrs:{value:2,label:"未过期"}})],1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:3!==t.isDynamicTime,expression:"childItem.isDynamicTime !== 3"}],staticClass:"input-inline",staticStyle:{width:"80px"},attrs:{name:"oxve"},on:{change:function(a){return e.handleOperatorChange(t)}},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"childItem.operator"}},[a("el-option",{attrs:{value:"="}}),a("el-option",{attrs:{value:">="}}),a("el-option",{attrs:{value:"<="}}),a("el-option",{attrs:{value:">"}}),a("el-option",{attrs:{value:"<"}})],1)]]:e._e()],2),a("span",{staticClass:"in"},["time"===t.tagType?a("span",[0!==t.dateAreaType?[t.version>0?[2===t.dateAreaType?a("span",{staticStyle:{display:"flex"}},[a("el-date-picker",{key:i+"startTimeKey",staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.startDay,callback:function(a){e.$set(t,"startDay",a)},expression:"childItem.startDay"}}),e._v("\n                        ~\n                        "),a("el-date-picker",{key:i+"endTimeKey",staticStyle:{width:"135px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.endDay,callback:function(a){e.$set(t,"endDay",a)},expression:"childItem.endDay"}})],1):a("span",[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(a){return e.checkNumMostFour(t.startDay)}},model:{value:t.startDay,callback:function(a){e.$set(t,"startDay",a)},expression:"childItem.startDay"}}),e._v("天~\n                        "),a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(a){return e.bigNum(t)}},model:{value:t.endDay,callback:function(a){e.$set(t,"endDay",a)},expression:"childItem.endDay"}}),e._v("天\n                      ")],1)]:[1===t.isDynamicTime?[a("el-date-picker",{key:i+"key",attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}})]:e._e(),2===t.isDynamicTime?[a("el-select",{key:n+"timeKey",staticClass:"time-dot-select",model:{value:t.dynamicTimeType,callback:function(a){e.$set(t,"dynamicTimeType",a)},expression:"childItem.dynamicTimeType"}},[a("el-option",{attrs:{value:1,label:"在当日之前"}}),a("el-option",{attrs:{value:2,label:"在当日之后"}})],1),a("span",[a("el-input",{staticClass:"time-dot-input",on:{blur:function(a){return e.checkNum(t.value)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}}),e._v("天\n                        ")],1)]:e._e(),3===t.isDynamicTime?[a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(a){return e.checkNumMostFour(t.startDay)}},model:{value:t.startDay,callback:function(a){e.$set(t,"startDay",a)},expression:"childItem.startDay"}}),e._v("天~\n                        "),a("el-input",{staticClass:"time-dot-input",staticStyle:{width:"60px"},on:{blur:function(a){return e.bigNum(t)}},model:{value:t.endDay,callback:function(a){e.$set(t,"endDay",a)},expression:"childItem.endDay"}}),e._v("天\n                      ")]:e._e()]]:e._e()],2):"string"===t.tagType||"collect"===t.tagType||"mix"===t.tagType?[e.cache[t.tagId]?["string"===t.tagType&&"null"===t.operator?a("el-select",{key:"null",attrs:{disabled:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}},[a("el-option",{attrs:{label:"空",value:"nil"}})],1):["mix_area"===t.tagCode?a("div",{staticClass:"mix-area-select"},[a("el-select",{key:i+"mix_area_select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[t.tagId].select},on:{change:function(a){return e.areaSelectChange(a,t.tagCode,t)}},model:{value:t.provinceValue,callback:function(a){e.$set(t,"provinceValue",a)},expression:"childItem.provinceValue"}},e._l(e.cache[t.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1),a("el-select",{key:i+"mix_area2_select",staticClass:"inline-input",attrs:{filterable:"","default-first-option":"",placeholder:"请输入或选择",disabled:e.cache[t.tagId].select},on:{change:function(a){return e.citySelectChange(a,t,e.cityData[t.provinceValue])}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}},e._l(e.cityData[t.provinceValue],(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1)],1):a("el-select",{key:i+"select",staticClass:"inline-input",attrs:{multiple:"string"===t.tagType&&"null"!==t.operator,filterable:"",placeholder:"请输入或选择",disabled:e.cache[t.tagId].select},on:{change:function(a){return e.citySelectChange(a,t,e.cache[t.tagId].list)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}},e._l(e.cache[t.tagId].list,(function(e){return a("el-option",{key:i+e.attrValue+e.attrId,attrs:{label:e.attrName,value:e.attrValue}})})),1),a("div",{staticClass:"errorMsg"},[e._v("\n                        "+e._s(t.errorMsg?t.errorMsg:"")+"\n                      ")])]]:e._e()]:"number"===t.tagType?a("el-input-number",{key:i+"input",attrs:{placeholder:"请输入内容"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}}):a("el-select",{attrs:{disabled:"string"===t.tagType&&"null"===t.operator},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"childItem.value"}},["string"===t.tagType&&"null"===t.operator?[a("el-option",{attrs:{label:"空",value:"nil"}})]:[a("el-option",{attrs:{value:"true",label:"是"}}),a("el-option",{attrs:{value:"false",label:"否"}})]],2)],2),"time"===t.tagType&&0===t.version?a("span",[0!==t.dateAreaType?[3!==t.isDynamicTime?a("el-button",{key:t.tagId+n,on:{click:function(a){return e.changeTimeWays(t)}}},[2===t.isDynamicTime?a("span",[e._v("切换到具体时间点")]):e._e(),1===t.isDynamicTime?a("span",[e._v("切换至时间天数")]):e._e()]):e._e(),3!==t.isDynamicTime?a("el-button",{on:{click:function(e){t.isDynamicTime=3,t.dateAreaType=0,t.operator="between",t.value=t.startDay+"-"+t.endDay}}},[e._v("切换至新方案\n                  ")]):e._e(),3===t.isDynamicTime?a("el-button",{on:{click:function(e){t.isDynamicTime=2,t.dynamicTimeType=1,t.operator="=",t.value=""}}},[e._v("切换至旧方案\n                  ")]):e._e()]:e._e()],2):e._e(),e.cache[t.tagId]?[!e.cache[t.tagId].select||"string"!==t.tagType&&"collect"!==t.tagType?e._e():a("span",[a("el-button",{key:t.tagId+n,on:{click:function(a){return e.handleSelectMore(t)}}},[e._v("点击选择更多\n                  ")])],1)]:e._e(),"time"===t.tagType&&3===t.isDynamicTime?a("span",[t.version>0&&1===t.dateAreaType?a("div",{staticStyle:{color:"gray","font-size":"12px"}},[e._v("\n                  提示：负数表示过去的日期，例如过去一周到未来3天，可以表示成-7天到3天\n                ")]):0===t.version?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                    状态：到期时间请选择“已过期”或“未过期”，其他请选“空”\n                    "),a("br"),e._v("时间设置：30天以内：输入0～30天；30天以外：请输入30天～9999天\n                  ")]),a("el-button",{attrs:{type:"text"}},[e._v("提示")])],1):e._e()],1):e._e()],2)],1)}))],2)])]})),a("div",{staticClass:"label-or"},[e.actionTags.length?a("div",{staticClass:"optional-condition",style:{"padding-top":e.behaviorRulesJson.rules.length>0?"10px":0}},[e._l(e.actionTags,(function(t){return a("el-tag",{key:t.tagName,staticClass:"oc-item",attrs:{type:e.dataSourceColorEnum[t.dataSource]},nativeOn:{click:function(a){return e.handleAddActionRule(t)}}},[e._v(e._s(t.tagName)+"\n        ")])})),e.showHitTip?a("div",{staticClass:"introjs-hint",staticStyle:{"font-size":"28px",position:"absolute",bottom:"-28px",left:"20px",color:"#999"}},[a("i",{staticClass:"el-icon-thumb",staticStyle:{"font-size":"28px"}}),a("span",{staticStyle:{"font-size":"12px"}},[e._v("点击标签来编辑人群条件")])]):e._e()],2):e._e()])],2)},tk=[];function ak(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=ik(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function ik(e,t){if(e){if("string"===typeof e)return nk(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?nk(e,t):void 0}}function nk(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var rk={provide:function(){return{_this:this}},data:function(){return{showHitTip:!0,tipVisible:!1,bavAttrList:{},tagCodeValue:{BAV0001:1,BAV0002:2,BAV0003:3,BAV0004:4,BAV0005:5,BAV0006:6,BAV0007:7,BAV0008:8,BAV0009:9,BAV0010:10,BAV0011:11,BAV0012:12,BAV0013:13,BAV0014:14,BAV0015:15,BAV0016:16},cache:{},tagSelectMoreShow:!1,showMoreTags:!1,tagsListTotal:0,formInline:{attrName:""},tagList:[],checkboxValue:"",currentChildItem:"",suggestions:{},suggestionsNew:[],priority:"",initPageSize:200,initCurrentPage:1,activeName:0,inputValue:[],rules:{noEmpty:[{required:!0,message:"不能为空",trigger:"blur"}],crowdName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],limitLaunchCount:[{required:!0,message:"请输入大于0小于1,000,000的限制数量",trigger:"blur"}]},cityData:[],provinceValueList:[],showRange:!0}},computed:{dataSourceColorEnum:function(){return ya}},components:{Range:Ti,Bav:Xi},props:{tags:{type:Array,default:function(){return[]}},actionTags:{type:Array,default:function(){return[]}},specialTags:{type:Array,default:function(){return[]}},i:{type:Number,default:0},behaviorRulesJson:{type:Object,default:function(){}},crowd:{type:Object,default:function(){}},isView:{type:Boolean,default:!1}},watch:{behaviorRulesJson:{handler:function(){this.behaviorRulesJson.rules.forEach((function(e){e.rules.forEach((function(e){"string"===e.tagType&&"null"!==e.operator&&"string"===typeof e.value&&(e.value=""===e.value?[]:e.value.split(","))}))})),this.fetchAllTagSuggestions()},immediate:!0}},methods:{getRangeType:function(e){var t=["range","week","time"];return"BAV0003"!==e&&"BAV0013"!==e&&"BAV0014"!==e&&"BAV0015"!==e&&"BAV0016"!==e||(t=["range"]),t},handelTimeTagTypeSelectChange:function(e){0===e.dateAreaType?e.value="-":e.value="",e.startDay="",e.endDay=""},hasMoveBehaviorTagRule:function(){this.$emit("hasMoveBehaviorTagRule")},handelChangeShow:function(){this.showRange=!this.showRange},handleCheckboxOk:function(){this.currentChildItem.value=this.checkboxValue,this.showMoreTags=!1},handleCurrentChange:function(e){var t=this;this.initCurrentPage=e,this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:e}).then((function(e){t.tagList=e.pageInfo.list}))},citySelectChange:function(e,t,a){if("mix"===t.tagType){var i=a.find((function(t){return e===t.attrName}));t.specialTagId=i.attrId,t.specialCondition=i.rulesJson,t.errorMsg=i.rulesJson?"":"标签未配置，请先配置再使用"}},areaSelectChange:function(e,t,a){var i=this;if(a&&(a.value=""),"mix_area"===t){var n={id:e};return this.$service.specialTagChild(n).then((function(t){var a=t.slice().map((function(e){return{attrValue:e.specialTagName,attrName:e.specialTagName,attrId:e.specialTagId,rulesJson:e.rulesJson}}));i.$set(i.cityData,e,a)}))}},changeTimeWays:function(e){e.value="",e.isDynamicTime?e.isDynamicTime=2===e.isDynamicTime?1:2:this.$set(e,"isDynamicTime",2)},getDefaultOperator:function(){return"="},onSubmit:function(){var e=this;this.$service.getTagAttr({tagId:this.currentChildItem.tagId,pageSize:this.initPageSize,pageNum:1,attrName:this.formInline.attrName}).then((function(t){e.tagList=t.pageInfo.list,e.tagsListTotal=t.pageInfo.total}))},handleSelectMore:function(e){var t=this;this.formInline.attrName="",this.currentChildItem=e,this.checkboxValue="string"===this.currentChildItem.tagType&&Array.isArray(this.currentChildItem.value)?this.currentChildItem.value:"",this.$service.getTagAttr({tagId:e.tagId,pageSize:this.initPageSize,pageNum:this.initCurrentPage}).then((function(e){t.showMoreTags=!0,t.tagList=e.pageInfo.list,t.tagsListTotal=e.pageInfo.total}))},fetchActionTagSuggestions:function(e){var t=this;this.bavAttrList[e]||this.$service.getBavTagList({id:this.tagCodeValue[e]}).then((function(a){t.bavAttrList[e]=a||{},t.$set(t.bavAttrList,e,a),t.bavAttrList=Object.assign({},t.bavAttrList,t.bavAttrList)}))},fetchTagSuggestions:function(e){var t=this;this.$service.getTagAttr({tagId:e,pageNum:1}).then((function(a){t.$set(t.cache,e,{select:a.select,list:a.pageInfo.list})}))},handleRemoveRule:function(e,t){var a=this.rulesJson;e.rules.splice(e.rules.indexOf(t),1);var i=[];a.rules.forEach((function(e){e.rules.forEach((function(e){i.includes(e.tagId)||i.push(e.tagId)}))})),this.crowd&&this.crowd.rulesJson&&(this.crowd.tagIds=i),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handelCopyRule:function(e,t,a){var i=JSON.parse(JSON.stringify(t));e.rules.splice(a+1,0,i)},handleRemoveSpecialRule:function(e,t){var a=this.behaviorRulesJson;e.rules.splice(e.rules.indexOf(t),1),0===e.rules.length&&(a.rules=a.rules.filter((function(t){return t!==e})))},handleAddActionRule:function(e){var t=this;this.showHitTip=!1,2!==e.dataSource?this.behaviorRulesJson&&this.behaviorRulesJson.rules.length>50?this.$message.error("已达最大数量"):(this.crowd&&!this.crowd.tagIds.includes(e.tagId)&&this.crowd.tagIds.push(e.tagId),this.$service.getBavTagList({id:this.tagCodeValue[e.tagKey]}).then((function(a){t.bavAttrList[e.tagKey]=a||{};var i=[];"BAV0007"===e.tagKey?i=[{name:"",type:"",field:"",operator:"=",value:""}]:"BAV0008"===e.tagKey&&(i=[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:""}]}]}]}]}]}]),t.behaviorRulesJson.rules.push({condition:"AND",rules:[{operator:"=",tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,tagId:e.tagId,tagType:e.tagType,categoryCode:e.tagKey,table:a.tableName+"$"||!1,bav:{table:a.tableName+"$"||!1,value:[],behaviorValue:i,showBehaviorValue:[],countValue:{name:"",filed:"mac",type:"count",operator:"=",value:""},rangeType:"fixed",rang:{name:"",value:[],field:""},weekRang:{name:"",value:[],field:""},timeRange:{name:"",value:[],field:""}}}]})}))):this.handleAddRule(e)},handleAddActionChildRule:function(e,t){var a=this;2!==t.dataSource?e.rules.length>50?this.$message.warning("已达最大数量"):(this.crowd&&!this.crowd.tagIds.includes(t.tagId)&&this.crowd.tagIds.push(t.tagId),this.$service.getBavTagList({id:this.tagCodeValue[t.tagKey]}).then((function(i){a.bavAttrList[t.tagKey]=i||{};var n=[];"BAV0007"===t.tagKey?n=[{name:"",type:"",field:"",operator:"=",value:""}]:"BAV0008"===t.tagKey&&(n=[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:"",childCheckedVal:[""],child:[{name:"",type:"string",field:"",operator:"=",value:""}]}]}]}]}]}]),e.rules.push({operator:"=",tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,tagId:t.tagId,tagType:t.tagType,categoryCode:t.tagKey,table:i.tableName+"$",bav:{table:i.tableName+"$",value:[],behaviorValue:n,showBehaviorValue:[],countValue:{name:"",type:"count",filed:"mac",operator:"=",value:""},rangeType:"fixed",rang:{name:"",value:[],field:""},weekRang:{name:"",value:[],field:""},timeRange:{name:"",value:[],field:""}}})}))):this.handleAddChildRule(e,t)},handleAddRule:function(e){this.behaviorRulesJson.rules.length>50?this.$message({type:"error",message:"已达最大数量"}):(this.crowd&&!this.crowd.tagIds.includes(e.tagId)&&this.crowd.tagIds.push(e.tagId),"string"===e.tagType||"collect"===e.tagType?void 0===this.cache[e.tagId]&&this.fetchTagSuggestions(e.tagId):"mix"===e.tagType&&void 0===this.cache[e.tagId]&&this.fetchSpecialTagSuggestions(e.tagId,e.tagKey),this.behaviorRulesJson.rules.push({condition:"AND",rules:[{version:2,table:"dmp_db.base_user_tags_v3$",operator:"time"===e.tagType?"between":this.getDefaultOperator("="),tagCode:e.tagKey,tagName:e.tagName,dataSource:e.dataSource,value:"",tagId:e.tagId,tagType:e.tagType,categoryName:e.tagName,categoryCode:e.tagKey,dynamicTimeType:e.dynamicTimeType?e.dynamicTimeType:1,isDynamicTime:e.isDynamicTime?e.isDynamicTime:3,thirdPartyCode:e.thirdPartyCode,thirdPartyField:e.thirdPartyField,dateAreaType:e.dateAreaType?e.dateAreaType:0,startDay:"time"===e.tagType?e.startDay?e.startDay:"":void 0,endDay:"time"===e.tagType?e.endDay?e.endDay:"":void 0,initValue:e.initValue,specialCondition:"mix"===e.tagType?e.rulesJson?e.rulesJson:"":void 0}]}))},handleAddChildRule:function(e,t){e.rules.length>50?this.$message({type:"error",message:"已达最大数量"}):("string"===t.tagType||"collect"===t.tagType?void 0===this.cache[t.tagId]&&this.fetchTagSuggestions(t.tagId):"mix"===t.tagType&&void 0===this.cache[t.tagId]&&this.fetchSpecialTagSuggestions(t.tagId,t.tagKey),this.crowd&&!this.crowd.tagIds.includes(t.tagId)&&this.crowd.tagIds.push(t.tagId),e.rules.push({version:2,table:"dmp_db.base_user_tags_v3$",operator:"time"===t.tagType?"between":this.getDefaultOperator("="),tagCode:t.tagKey,tagName:t.tagName,dataSource:t.dataSource,value:"",tagId:t.tagId,tagType:t.tagType,categoryName:t.tagName,categoryCode:t.tagKey,dynamicTimeType:t.dynamicTimeType?t.dynamicTimeType:1,isDynamicTime:t.isDynamicTime?t.isDynamicTime:3,thirdPartyCode:t.thirdPartyCode,thirdPartyField:t.thirdPartyField,dateAreaType:t.dateAreaType?t.dateAreaType:0,startDay:"time"===t.tagType?t.startDay?t.startDay:"":void 0,endDay:"time"===t.tagType?t.endDay?t.endDay:"":void 0,initValue:t.initValue,specialCondition:""}))},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=ak(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},checkNum:function(e){return!!/(^\d+$)/.test(e)||(this.$message.error("该值为必填项，且必须是大于等于0整数"),!1)},checkNumMostFour:function(e){return!0},bigNum:function(e){var t=e.startDay,a=e.endDay;this.checkNumMostFour(a)?parseInt(t)>parseInt(a)?this.$message.error("第二个值不能小于第一个值"):e.value=t+"-"+a:e.value=""},handleOperatorChange:function(e){"string"===e.tagType&&"null"===e.operator?e.value="nil":"string"===e.tagType?e.value=[]:e.value=""},handleRulesConditionChange:function(e){e.condition="AND"===e.condition?"OR":"AND"},fetchAllTagSuggestions:function(){var e=this,t=this.behaviorRulesJson||{},a="{}"!==JSON.stringify(t)&&t.rules?t.rules.length:0;if(a>0){this.showHitTip=!1;var i=[],n=[];t.rules.forEach((function(t){t.rules.forEach((function(t){if(8===t.dataSource?n.push(t.tagCode):"string"!==t.tagType&&"collect"!==t.tagType||i.push(t.tagId),"string"===t.tagType&&"nil"===t.value&&(t.operator="null"),0===t.version)if("time"===t.tagType&&3===t.isDynamicTime){var a=t.value.split("-");e.$set(t,"startDay",a[0]),e.$set(t,"endDay",a[1])}else"time"===t.tagType&&3!==t.isDynamicTime&&(e.$set(t,"dateAreaType",""),e.$set(t,"dynamicTimeType",parseInt(t.dynamicTimeType)))}))})),i=this.distinct(i,[]),0!==i.length&&i.forEach(this.fetchTagSuggestions),0!==n.length&&n.forEach((function(t){e.fetchActionTagSuggestions(t)}))}}}},sk=rk,ok=(a("d4fa"),Object(U["a"])(sk,ek,tk,!1,null,"f9a37400",null)),lk=ok.exports,ck=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.flowCondition.rules,(function(t,i){return a("div",{key:i,staticClass:"rule-detail"},[i>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[e.flowCondition.condition]))]):e._e(),a("div",{staticClass:"label-ground"},[e._v("\n      (\n      "),e._l(t.rules,(function(i,n){return a("div",{key:i.tagId+n,staticClass:"label-item"},[n>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[t.condition]))]):e._e(),a("span",{staticClass:"txt"},[e._v(e._s(i.tagName))]),a("ShowFlowConditionRuleItem",{attrs:{childItem:i,soureceSignList:e.soureceSignList}})],1)})),e._v("\n      )\n    ")],2)])})),0)},dk=[],uk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  ，\n  "),"moduleActive"===e.childItem.tagKey?[a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.actionOptions,e.childItem.action)))]),e._v("，\n    "),a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.locationTypeOptions,e.childItem.locationType)||""))]),e._v("，\n    "),a("span",{staticClass:"txt"},[e._v(e._s(e.childItem.locationId||""))]),e._v("，\n    "),a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.countOptions,e.childItem.count)||""))])]:e._e(),"couponsActive"===e.childItem.tagKey?[a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.couponOptions,e.childItem.coupon)))]),e._v("，\n  ")]:e._e(),"moduleActive"!==e.childItem.tagKey?a("span",{staticClass:"txt"},[e._v(e._s(e.getsourceSignName(e.childItem.sourceSign)))]):e._e(),"productOrder"===e.childItem.tagKey?[e._v("\n    ，"),a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.productCountOptions,e.childItem.count)))])]:e._e(),"detailAdPos"===e.childItem.tagKey?[e._v("\n    ，"),a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.detailAdPosOptions,e.childItem.count)))])]:e._e(),"detailPageView"===e.childItem.tagKey?[e._v("\n    ，"),a("span",{staticClass:"txt"},[e._v(e._s(e.getName(e.detailPageViewOptions,e.childItem.count)))])]:e._e(),"filmModelTag"===e.childItem.tagKey?[a("span",[e._v(e._s(e.childItem.tagCnName))])]:e._e(),[a("span",{staticClass:"sel"},[e._v("  "+e._s(e.childItem.operator||"")+"  ")]),a("span",{staticClass:"in"},[a("span",[e._v(e._s(e.childItem.value))])])]],2)},hk=[],pk={components:{},props:{childItem:{type:Object,default:function(){}},soureceSignList:{type:Array,default:function(){return[]}}},data:function(){return{couponOptions:[{label:"曝光",value:"couponShowPv"},{label:"领用",value:"couponCreatePv"},{label:"使用",value:"couponUsePv"}],actionOptions:[{label:"曝光",value:"show"},{label:"点击",value:"click"}],locationTypeOptions:[{label:"板块位",value:1},{label:"推荐位",value:2}],countOptions:[{label:"次数",value:"pv"},{label:"天数",value:"days"}],productCountOptions:[{label:"下单次数",value:"orderNum"},{label:"下单天数",value:"orderDays"}],detailAdPosOptions:[{label:"曝光次数",value:"detailAdPosShowPv"},{label:"曝光天数",value:"detailAdPosShowDays"}],detailPageViewOptions:[{label:"次数",value:"detailPageViewPv"},{label:"天数",value:"detailPageViewDays"}]}},created:function(){},methods:{getName:function(e,t){var a=e.find((function(e){return t===e.value}));return a?a.label:""},getsourceSignName:function(e){var t=this.soureceSignList.find((function(t){return e===t.sourceSign}));return t?t.sourceName:""}}},mk=pk,fk=(a("6373"),Object(U["a"])(mk,uk,hk,!1,null,"36a551e0",null)),vk=fk.exports,gk={components:{ShowFlowConditionRuleItem:vk},props:{flowCondition:{type:Object,default:function(){}},conditionEnum:{type:Object,default:function(){}},soureceSignList:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},methods:{}},bk=gk,yk=(a("feb0"),Object(U["a"])(bk,ck,dk,!1,null,"6117e81f",null)),Ck=yk.exports,wk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.rulesJson.rules,(function(t,i){return a("div",{key:i,staticClass:"rule-detail"},[i>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[e.rulesJson.condition]))]):e._e(),a("div",{staticClass:"label-ground"},[e._v("(\r\n      "),e._l(t.rules,(function(i,n){return a("div",{key:i.tagId+n,staticClass:"label-item"},[n>0?a("div",{staticClass:"label-or-space"},[e._v(e._s(e.conditionEnum[t.condition]))]):e._e(),a("span",{staticClass:"txt"},[e._v(e._s(i.categoryName||i.tagName))]),20===i.dataSource?[a("ShowFlowConditionRuleItem",{attrs:{childItem:i,soureceSignList:e.soureceSignList}})]:[a("span",{staticClass:"sel"},[e._v("  "+e._s(i.operator)+"  ")]),"time"===i.tagType&&2===i.isDynamicTime&&1==i.dynamicTimeType?a("span",[e._v("在当日之前")]):e._e(),"time"===i.tagType&&2===i.isDynamicTime&&2==i.dynamicTimeType?a("span",[e._v("在当日之后")]):e._e(),a("span",{staticClass:"in"},[a("span",[e._v(e._s(i.value))])]),"time"===i.tagType&&2===i.isDynamicTime?a("span",[e._v("天")]):e._e()]],2)})),e._v(")\r\n    ")],2)])})),0)},_k=[],Sk={components:{ShowFlowConditionRuleItem:vk},props:{rulesJson:{type:Object,default:function(){}},conditionEnum:{type:Object,default:function(){}},soureceSignList:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},methods:{}},kk=Sk,Ik=(a("20d0"),Object(U["a"])(kk,wk,_k,!1,null,"498967b7",null)),xk=Ik.exports,Tk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.targetKeyForm.indicatorsType?a("el-form",{ref:"targetKeyFormRef",staticStyle:{"margin-bottom":"50px"},attrs:{model:e.targetKeyForm,"label-width":"170px",rules:e.rules,inline:!0}},[e.targetKeyForm.indicatorsType<6?a("el-form-item",{attrs:{label:e.selectIndicatorsName,prop:"resource",required:""}},[a("el-select",{attrs:{"value-key":"resourceId",clearable:"",placeholder:"请选择产品包",filterable:""},model:{value:e.targetKeyForm.resource,callback:function(t){e.$set(e.targetKeyForm,"resource",t)},expression:"targetKeyForm.resource"}},e._l(e.soureceSignListOptions,(function(e){return a("el-option",{key:e.resourceId,attrs:{label:e.resourceName+"（"+e.resourceId+"）",value:e}})})),1)],1):[a("el-form-item",{attrs:{label:e.selectIndicatorsName,prop:"videoSource",required:""}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择内容源"},on:{change:e.videoSourceChange},model:{value:e.targetKeyForm.videoSource,callback:function(t){e.$set(e.targetKeyForm,"videoSource",t)},expression:"targetKeyForm.videoSource"}},e._l(e.videoSourceOptions,(function(e){return a("el-option",{key:e.sourceId,attrs:{label:e.sourceName,value:e.sourceId}})})),1)],1),a("el-form-item",{attrs:{prop:"resource",required:""}},[a("el-select",{attrs:{"value-key":"resourceId",multiple:"",filterable:"","filter-method":e.searchResourceList,loading:e.searchLoading,"loading-text":"加载中",clearable:"",placeholder:"请选择影片"},model:{value:e.targetKeyForm.resource,callback:function(t){e.$set(e.targetKeyForm,"resource",t)},expression:"targetKeyForm.resource"}},e._l(e.resourceListOptions,(function(e){return a("el-option",{key:e.resourceId,attrs:{label:e.resourceName+"（"+e.resourceId+"）",value:e}})})),1)],1)]],2):e._e(),a("div",e._l(e.indicatorsOptions,(function(t){return a("el-tag",{key:t.indicatorsType,staticClass:"tag-style",on:{click:function(a){return e.tagClick(t)}}},[e._v("\r\n      "+e._s(t.label+" "+t.indicatorsType)+"\r\n    ")])})),1)],1)},Dk=[],$k={components:{},props:{targetKeyFormParent:{type:Object,default:function(){}},selectedServicer:{type:Object,default:function(){}},indicatorsOptions:{type:Array,default:function(){return[]}},soureceSignListOptions:{type:Array,default:function(){return[]}}},data:function(){return{rules:{indicatorsType:{required:!0,message:"请选择",trigger:"change"},videoSource:{required:!0,message:"请选择",trigger:"change"},resource:{required:!0,message:"请选择",trigger:"change"}},searchLoading:!1,resourceListOptions:[],targetKeyForm:{},videoSourceOptions:[],selectIndicatorsName:"选择权益"}},watch:{targetKeyFormParent:{handler:function(e){this.targetKeyForm=this.targetKeyFormParent}},targetKeyForm:{handler:function(e){this.$emit("update:targetKeyFormParent",e)}}},created:function(){console.log("created------"),this.getTargetById()},methods:{tagClick:function(e){this.targetKeyForm.videoSource="",this.targetKeyForm.resource=[],this.targetKeyForm.indicatorsType=e.indicatorsType,this.selectIndicatorsName=e.label},videoSourceChange:function(e){this.targetKeyForm.resource="",this.resourceListOptions=[],this.getReceptionistVideo({sourceId:e})},searchResourceList:function(e){this.getReceptionistVideo({keywords:e})},getTargetById:function(){var e=this;this.targetKeyForm={};var t={id:this.selectedServicer.id};t.id&&this.$service.getTargetById(t).then((function(t){var a=JSON.parse(t.resource),i=a;t.indicatorsType<6&&(i=a&&a.length>0?a[0]:[]),e.targetKeyForm={indicatorsType:t.indicatorsType,resource:i,videoSource:t.indicatorsType<6?void 0:i[0].videoSource},t.indicatorsType&&(e.selectIndicatorsName=e.indicatorsOptions.find((function(e){return e.indicatorsType===t.indicatorsType})).label||""),e.getReceptionistVideoSource(),e.targetKeyForm.videoSource&&(e.resourceListOptions=e.targetKeyForm.resource)}))},getReceptionistVideo:function(e){var t=this,a=(e.sourceId,e.keywords),i={sourceId:this.targetKeyForm.videoSource,keywords:a,page:1,pageSize:30};this.searchLoading=!0,this.$service.getReceptionistVideo(i).then((function(e){t.resourceListOptions=e.rows.map((function(e){return{resourceId:e.sourceId,resourceName:e.sourceName}}))||[],t.searchLoading=!1}))},getReceptionistVideoSource:function(){var e=this;this.$service.getReceptionistVideoSource().then((function(t){e.videoSourceOptions=t||[]}))}}},Lk=$k,Nk=(a("84d2"),Object(U["a"])(Lk,Tk,Dk,!1,null,"0d62a224",null)),Ok=Nk.exports,Pk=[{value:1,label:"正确，继续种草，下一步"},{value:2,label:"正确，直接转化"},{value:3,label:"不正确，继续观察"},{value:4,label:"不喜欢切换方案"}];function Ek(e){var t=e.method,a=e.url;return[t,a].join("&")}function Ak(e){var t=L["default"].$httpRequestList,a=Ek(e);e.cancelToken=e.cancelToken||new xe.a.CancelToken((function(e){if(t.has(a)){var i=t.get(a),n=[].concat(Object(N["a"])(i),[e]);t.set(a,n)}else t.set(a,[e])}))}function Fk(e){var t=e.method,a=e.url,i=L["default"].$httpRequestList,n=Ek({method:t,url:a});if(i.has(n)){var r=i.get(n);r.forEach((function(e){e()})),i.delete(n)}}var Vk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"graph-container",staticStyle:{position:"relative"},attrs:{id:e.pageId}})])},Rk=[];function jk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Bk(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jk(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jk(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Mk={name:"crowdCirculationTrackAA",props:{chartData:{type:Object,default:function(){}},selectedServicerId:{type:[String,Number],default:""}},data:function(){return{pageId:"graph-container",form:{crowdId:"crowdIdcrowdId",mac:"crowdId",sourceSign:"",beginTime:"",endTime:""},dateRange:[],dateList:[],list:[],noneText:"暂无数据",graph:null,dialogVisible:!1,allCrowdRule:[],len:5,defaultNodeConf:{afterDraw:function(e,t){var a=parseInt(e.size);t.addShape("text",{attrs:{x:0,y:a/2+20,text:"".concat(e.receptionist,"-").concat(e.id),fill:"#87adfb",fontWeight:400,textAlign:"center",fontSize:12}})}},graphSet:{container:"graph-container",defaultNode:{shape:"circle-node",size:30,style:{fill:"#DEE9FF",stroke:"#5B8FF9"},nodeStateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:5}},labelCfg:{position:"top",offset:10,style:{}}},defaultEdge:{style:{radius:20,offset:30,endArrow:!0,stroke:"#F6BD16"}},modes:{default:["drag-node","zoom-canvas","drag-canvas"]},nodeStateStyles:{hover:{fillOpacity:.8},selected:{lineWidth:5}}}}},created:function(){_o.a.registerNode("circle-node",this.defaultNodeConf,"circle")},mounted:function(){this.init()},methods:{init:function(){var e=this,t=280;console.log("width---\x3e",t);var a=document.getElementById("graph-container").scrollHeight||300;this.graph=new _o.a.Graph(Bk(Bk({},this.graphSet),{},{width:t,height:a,layout:{type:"force",begin:[20,20],nodeSize:100,width:t-20,height:a-20,preventOverlap:!0}})),this.readOrClearData(),this.graph.on("node:mouseenter",(function(t){var a=t.item;e.graph.setItemState(a,"hover",!0)})),this.graph.on("node:mouseleave",(function(t){var a=t.item;e.graph.setItemState(a,"hover",!1)})),this.graph.on("node:dblclick",(function(t){var a=t.item;e.dblClick(a)}))},dblClick:function(e){console.log("item-------\x3e",e._cfg.id);var t=e._cfg.id;this.$emit("selectServicer",t)},readOrClearData:function(){var e=this,t=JSON.parse(JSON.stringify(this.chartData));if(t.nodes){var a=t.nodes.map((function(e){return{receptionist:e.receptionist,id:e.id}}));t.nodes=a,t.nodes.forEach((function(t){t.id==e.selectedServicerId&&(t.style={stroke:"#000",fill:"#999"})}))}console.log("this.chartData=-===============>",t);var i=t;i&&i.nodes.length>0&&this.graph.read(i)},getFilter:function(){var e={crowdId:this.form.crowdId,mac:this.form.mac,sourceSign:this.form.sourceSign,beginTime:this.dateRange[0],endTime:this.dateRange[1]};return e}}},zk=Mk,qk=(a("386c"),Object(U["a"])(zk,Vk,Rk,!1,null,"2aa7c918",null)),Jk=qk.exports;function Gk(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Uk(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function Uk(e,t){if(e){if("string"===typeof e)return Hk(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Hk(e,t):void 0}}function Hk(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function Kk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Qk(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kk(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kk(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wk={components:{createClientDialog:XS,MultipleActionTagSelect:lk,ShowFlowConditionRule:Ck,EditTargetKeyDialog:Ok,ServicerMap:Jk,ShowRule:xk},props:{servicer:{type:Array,default:function(){return[]}},selectedScene:{type:Object,default:function(){}},selectedServicer:{type:Object,default:function(){}},entryList:{type:Array,default:function(){return[]}},exportList:{type:Array,default:function(){return[]}},activeIndex2Id:{type:[Number,String],default:""},styleType:{type:Boolean,default:!0},canUse:{type:Boolean,default:!1}},watch:{isShowDetailName:function(){var e=this;this.$nextTick((function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},entryList:function(e){if(e.length>0){var t=[];e.forEach((function(e){var a=JSON.parse(e.rulesJson).rules;a.forEach((function(e){e.rules.forEach((function(e){"filmModelTag"===e.tagKey&&-1===t.findIndex((function(t){return t.tagCode===e.tagCode}))&&t.push(e)}))}))})),this.tagCodeList=t,this.getUptmRecommendResourceList()}},styleType:function(){this.refreshChart()},selectedServicer:{handler:function(e){this.skillValue=e.skillId,this.target=e.myTask||"我的任务是...",this.targetValue=e.indicators||"",this.radio2=this.selectedServicer.planc,this.clearEntry(),this.clearExport(),this.allChartData={};for(var t=0,a=Object.keys(this.allCharts);t<a.length;t++){var i=a[t],n=this.allCharts[i];n.clear()}this.getTargetById(),this.getFlowChart()}},"selectedScene.id":{handler:function(){this.getSkillListBySceneId()}}},computed:{isDoudi:function(){return 1===this.selectedServicer.type},isCopiedServicer:function(){return!!this.selectedServicer.referenceId},servicerListFilterSelect:function(){var e=this,t=this.servicer.filter((function(t){return t.id!==e.activeIndex2Id}));return t},soureceSignListOptions:function(){return this.soureceSignList.map((function(e){return{resourceId:e.sourceSign,resourceName:e.sourceName}}))},havePermissionsToUse:function(){return this.selectedServicer.id&&!this.isCopiedServicer&&this.canUse}},data:function(){return{isShowServicerChartData:!0,servicerChartData:{},options:Pk,radio2:0,isShowDetailName:!0,reuseExportDialogVisible:!1,reuseForm:{stopType:"",nextId:""},reuseFormRules:{stopType:[{required:!0,message:"请选择",trigger:"change"}],nextId:[{required:!0,message:"请选择流转接待员",trigger:"change"}]},checkList:[],exportCheckList:[],checkAll:!1,isIndeterminate:!1,checkAll2:!1,isIndeterminate2:!1,popoverVisible:"",recommendLoading:!1,getGoalDataLoading:!1,targetKeyFormParent:{id:"",indicatorsType:"",resource:[],videoSource:""},indicatorsTypelabel:"",formInline:{skillName:""},formInlineRule:{skillName:[{required:!0,message:"请输入",trigger:"blur"}]},skillOptions:[],colorList:["#0078ff","#00ffcc","#6395f9","#35c493","#FD9E06","#5470c6","#91cd77","#ef6567","#f9c956","#75bedc"],rowObj:{arup:{type:"line",title:"会员 - 客单价",targetKeyId:4},avgPlayPrice:{type:"line",title:"内容 - 影片播放均价",targetKeyId:9},orderNum:{type:"line",title:"内容 - 影片吸金订单量",targetKeyId:6},orderRatio:{type:"line",title:"内容 - 影片订单转换率",targetKeyId:7},payNum:{type:"line",title:"会员 - 付费单数",targetKeyId:2},payRate:{type:"line",title:"会员 - 付费率",targetKeyId:1},payUv:{type:"line",title:"会员 - 付费设备量",targetKeyId:5},perOrder:{type:"line",title:"内容 - 影片订单均价",targetKeyId:8},price:{type:"line",title:"会员 - 付费金额",targetKeyId:3}},allCharts:{},allChartData:{},overview:{},clientDialogVisible:!1,target:"我的任务是...",targetValue:"",skillValue:"",isEdit:!1,isEditValue:!1,conditionEnum:{AND:"且",OR:"或"},editExportRow:{},exportDialogVisible:!1,targetKeyList:[{id:1,key:"payRate",lable:"付费率（%）"},{id:2,key:"payNum",lable:"付费单数"},{id:3,key:"price",lable:"付费金额（元）"},{id:4,key:"arup",lable:"客单价（元）"}],targetKey:"付费率（%）",targetKeyId:"",soureceSignList:[],editTargetKeyVisible:!1,indicatorsOptions:[{indicatorsType:6,label:"内容 - 影片吸金订单量"},{indicatorsType:7,label:"内容 - 影片订单转换率"},{indicatorsType:8,label:"内容 - 影片订单均价"},{indicatorsType:9,label:"内容 - 影片播放均价"},{indicatorsType:1,label:"会员 - 付费率"},{indicatorsType:2,label:"会员 - 付费单数"},{indicatorsType:3,label:"会员 - 付费金额"},{indicatorsType:4,label:"会员 - 客单价"},{indicatorsType:5,label:"会员 - 付费设备量"}],sourceList:[],selectSourceCode:"tencent",recommendResourceList:[],tagCodeList:[]}},created:function(){var e=this;this.$service.getSourceSign().then((function(t){e.soureceSignList=t})),this.$service.getSourceList().then((function(t){e.sourceList=t}))},mounted:function(){var e=this;window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{getFlowChart:function(){var e=this;this.isShowServicerChartData=!1;var t={id:this.selectedServicer.id};this.$service.receptionistFlowChart(t).then((function(t){e.servicerChartData=t,e.$nextTick((function(){e.isShowServicerChartData=!0}))}))},skillValueSelectVisibleChange:function(){var e=this.$refs.formInlineClearRef||this.$refs.formInlineRef;console.log("ref---\x3e",e),e&&this.$refs.formInlineRef.resetFields()},handleTypeChange:function(){var e={id:this.selectedServicer.id,type:1,planc:this.radio2};this.$service.setReceptionistType(e)},openShowDetailName:function(){this.isShowDetailName=!this.isShowDetailName},reuseExportRule:function(){var e=this;console.log("reuseForm---\x3e",this.reuseForm),console.log("selectedServicer---\x3e",this.selectedServicer),console.log("editExportRow---\x3e",this.editExportRow);var t=Qk({nId:this.selectedServicer.id,oId:this.selectedServicer.referenceId,exportId:this.editExportRow.id},this.reuseForm);this.$service.updateExport(t).then((function(t){e.$emit("updataExportList"),e.getFlowChart(),e.reuseExportDialogVisible=!1}))},handleStopTypeChange:function(){this.form.nextId=""},redirctToScene:function(e,t){this.$emit("selectScene",e,t)},handleCheckAllChange:function(e){this.clearExport();var t=this.entryList.map((function(e){return e.id}));this.checkList=e?t:[],this.isIndeterminate=!1},handleCheckAllChange2:function(e){this.clearEntry();var t=this.exportList.map((function(e){return e.id}));this.exportCheckList=e?t:[],this.isIndeterminate2=!1},clearEntry:function(){this.checkList=[],this.isIndeterminate=!1,this.checkAll=!1},clearExport:function(){this.exportCheckList=[],this.isIndeterminate2=!1,this.checkAll2=!1},checkListChange:function(e){if("entry"===e){this.clearExport();var t=this.checkList.length;this.checkAll=t===this.entryList.length,this.isIndeterminate=t>0&&t<this.entryList.length}else if("export"===e){this.clearEntry();var a=this.exportCheckList.length;this.checkAll2=a===this.exportList.length,this.isIndeterminate2=a>0&&a<this.exportList.length}},copyRules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.checkList.length>0||this.exportCheckList.length>0){var a={selectedIds:"entry"===t?this.checkList:this.exportCheckList,allRules:e,type:t};this.$store.commit("SET_COPY_ENTRY_ID",a),this.$message.success("复制成功")}else this.$message.info("请勾选需要复制条件")},pasteRules:function(e){var t=this,a=this.$store.state.configScheme.copyServiceRules,i=a.type,n=a.selectedIds,r=a.allRules;if("export"===e&&10===this.exportList.length||"entry"===e&&10===this.entryList.length)return this.$message.error("最多只能创建 10 条，请删除条件后再粘贴");if(0===n.length)return this.$message.error("请先复制条件");if(i===e){var s=[];n.forEach((function(e){var t=r.find((function(t){return t.id===e}));t&&s.push(t)})),Promise.all(s.map((function(e){return t.savePasteRule(e,i)}))).then((function(e){t.$message.success("粘贴成功")}))}else this.$message.error("入口条件、出口条件不允许混用")},savePasteRule:function(e,t){var a=this,i={sceneId:this.selectedScene.id,policyId:this.selectedScene.policyId,receptionistId:this.selectedServicer.id,tagIds:e.tagIds,rulesJson:e.rulesJson,behaviorRulesJson:e.behaviorRulesJson,flowCondition:e.flowCondition,delFlag:1,link:e.link,stopType:e.stopType};"entry"===t?this.$service.addEntry(i).then((function(e){a.$emit("updataEntryList")})):"export"===t&&this.$service.addExport(i).then((function(e){a.$emit("updataExportList")}))},copyText:function(e){var t=this,a=document.createElement("input"),i=document.querySelector("body");i.append(a),a.value=e,this.popoverVisible=e,a.select(),document.execCommand("copy"),a.remove(),setTimeout((function(){t.popoverVisible=""}),2e3)},getKeyName:function(e){var t=this.tagCodeList.find((function(t){return Number(t.tagCode)===Number(e)}));return t?t.tagCnName:""},getUptmRecommendResourceList:function(){var e=this;this.recommendLoading=!0,this.recommendResourceList=[];var t=this.tagCodeList;if(t.length>0){var a=t.map((function(e){return e.tagCode})).join(","),i={source:this.selectSourceCode,tagCodes:a};this.$service.getTopRecommendResourceList(i).then((function(t){e.recommendResourceList=t||[],e.recommendLoading=!1})).catch((function(){e.recommendResourceList=[],e.recommendLoading=!1}))}},getStopTypeName:function(e){return 2===e?"直接转化":3===e?"继续观察":4===e?"不喜欢":void 0},getName:function(e,t){var a=t.find((function(t){return t.indicatorsType===e}));return a?a.label:""},getTargetById:function(){var e=this;this.indicatorsTypelabel="",this.targetKeyId="";var t={id:this.selectedServicer.id};t.id&&this.$service.getTargetById(t).then((function(t){for(var a in e.rowObj)e.rowObj[a].targetKeyId===t.indicatorsType&&(e.targetKeyId=a);e.indicatorsTypelabel=e.getName(t.indicatorsType,e.indicatorsOptions),e.getPerformanceGoalData()}))},comfirmEditTargetKey:function(){var e=this;if(!this.targetKeyFormParent.indicatorsType)return this.$message.error("请选择指标");this.$refs.editTargetKeyDialogRef.$refs.targetKeyFormRef.validate((function(t){if(t){var a=[];a=e.targetKeyFormParent.indicatorsType<6?[e.targetKeyFormParent.resource]:e.targetKeyFormParent.resource&&e.targetKeyFormParent.resource.map((function(t){return Qk(Qk({},t),{},{videoSource:e.targetKeyFormParent.videoSource})}));var i=Qk(Qk({},e.targetKeyFormParent),{},{resource:JSON.stringify(a),id:e.selectedServicer.id});e.$service.saveEditIndicator(i,"操作成功").then((function(t){e.getTargetById(),e.editTargetKeyVisible=!1}))}}))},editTargetKey:function(){this.getTargetById(),this.editTargetKeyVisible=!0},toPercent:function(e){if(!e)return"";var t=Number(100*e).toFixed(2);return t+="%",t},redirctByNextId:function(e){var t=this.getServicerBynextId(e);this.$emit("selectServicer",t.id)},getServicerBynextId:function(e){var t=this.servicer.find((function(t){return t.crowdId===e}));return t||{}},addOrEditEntryRule:function(){var e=this,t=this.$refs.createClientDialog,a=t.rulesJson,i=t.behaviorRulesJson,n=t.flowCondition,r=BS(t,a,i,n);r.then((function(t){e.fetchAddOrEdit(t)}))},fetchAddOrEdit:function(e){var t=this,a=this.$refs.createClientDialog,i=a.checkedList.join(","),n=e.rulesJson,r=e.behaviorRulesJson,s=JSON.stringify(a.flowCondition),o={};o=this.editClientRow?Qk(Qk({},this.editClientRow),{},{sceneId:this.selectedScene.id,policyId:this.selectedScene.policyId,receptionistId:this.selectedServicer.id,tagIds:i,rulesJson:n,behaviorRulesJson:r,flowCondition:s,delFlag:1,link:a.totalLink}):{sceneId:this.selectedScene.id,policyId:this.selectedScene.policyId,receptionistId:this.selectedServicer.id,tagIds:i,rulesJson:n,behaviorRulesJson:r,flowCondition:s,delFlag:1,link:a.totalLink},this.$service.addEntry(o,"添加成功").then((function(e){t.$emit("updataEntryList"),t.clientDialogVisible=!1}))},addOrEditExportRule:function(){var e=this,t=this.$refs.exportClientDialog,a=t.rulesJson,i=t.behaviorRulesJson,n=t.flowCondition,r=BS(t,a,i,n);r.then((function(t){e.fetchAddOrEdit2(t)}))},fetchAddOrEdit2:function(e){var t=this,a=this.$refs.exportClientDialog,i=a.checkedList.join(","),n=e.rulesJson,r=e.behaviorRulesJson,s=a.form.stopType,o=a.form.nextId,l=JSON.stringify(a.flowCondition),c={sceneId:this.selectedScene.id,policyId:this.selectedScene.policyId,receptionistId:this.selectedServicer.id,tagIds:i,rulesJson:n,behaviorRulesJson:r,flowCondition:l,delFlag:1,link:a.totalLink,stopType:s,nextId:o};if(this.editExportRow){var d=Qk({},this.editExportRow);c=Object.assign(d,c)}this.$service.addExport(c,"添加成功").then((function(e){t.$emit("updataExportList"),t.getFlowChart(),t.exportDialogVisible=!1}))},createClient:function(){this.editClientRow=void 0,this.clientDialogVisible=!0},createExport:function(){this.editExportRow=void 0,this.exportDialogVisible=!0},handleCommand:function(e){var t=e[0],a=e[1];"editEntry"===t?this.editEntry(a):"deleteEntry"===t&&this.deleteEntry(a)},editEntry:function(e){this.editClientRow=e,this.clientDialogVisible=!0},deleteEntry:function(e){var t=this;this.$confirm("此操作将永久删除该服务对象, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.addEntry(Qk(Qk({},e),{},{delFlag:2}),"删除成功").then((function(e){t.$emit("updataEntryList")}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleCommandExport:function(e){var t=e[0],a=e[1];"editExport"===t?this.editExport(a):"deleteExport"===t&&this.deleteExport(a)},editExport:function(e){this.editExportRow=e,this.isCopiedServicer?(this.reuseForm.stopType=e.stopType,this.reuseForm.nextId=e.nextId||"",this.reuseExportDialogVisible=!0):this.exportDialogVisible=!0},deleteExport:function(e){var t=this;this.$confirm("此操作将永久删除该终止条件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.addExport(Qk(Qk({},e),{},{delFlag:2}),"删除成功").then((function(e){t.$emit("updataExportList"),t.getFlowChart()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},selectSkill:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("editReceptionist",{id:this.selectedServicer.id,skillId:t});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addOption:function(){var e=this,t=this.$refs.formInlineClearRef||this.$refs.formInlineRef;t.validate((function(t){if(t){var a={sceneId:e.selectedScene.id,name:e.formInline.skillName};e.$service.addSceneSkill(a,"添加成功").then(function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formInline.skillName="",e.getSkillListBySceneId();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}))},getSkillListBySceneId:function(){var e=this,t={sceneId:this.selectedScene.id};return this.$service.getSceneSkillList(t).then((function(t){return e.skillOptions=t||[],t}))},editTargetValue:function(){var e=this;this.havePermissionsToUse&&(this.isEditValue=!0,this.$nextTick((function(){e.$refs.inputValue.focus()})))},editTarget:function(){var e=this;this.isEdit=!0,this.$nextTick((function(){e.$refs.inputPriority.focus()}))},editStatuChange:function(){this.$emit("editReceptionist",{id:this.selectedServicer.id,myTask:this.target},"no-refresh-list"),this.selectedServicer.myTask=this.target,this.isEdit=!1},editTargetValueChange:function(){var e=/^-?\d*\.?\d+$/,t=/^(100|[1-9]*\d(\.\d\d?\d?)?)%$|0$/;e.test(this.targetValue)||t.test(this.targetValue)?(this.$emit("editReceptionist",{id:this.selectedServicer.id,indicators:this.targetValue},"no-refresh-list"),this.selectedServicer.indicators=this.targetValue,this.isEditValue=!1,this.refreshChart()):this.$message.warning("请输入数字或百分比")},refreshChart:function(){for(var e=0,t=Object.keys(this.allCharts);e<t.length;e++){var a=t[e],i=this.allCharts[a];i.dispose()}this.drawChart()},getPerformanceGoalData:function(){var e=this;Fk({method:"get",url:"/api/getPerformanceGoalData"}),this.allChartData={},this.overview={};var t={dynamicRuleId:this.selectedScene.planId||this.selectedScene.id,crowdId:this.selectedServicer.crowdId,isDelCache:0};this.getGoalDataLoading=!0,this.$service.getPerformanceGoalData(t).then((function(t){if(t&&t.data&&t.data.overview){var a=t.data||{};e.allChartData=a||{},e.overview=a.overview?a.overview.data:{},e.$nextTick((function(){e.drawChart()}))}e.getGoalDataLoading=!1}))},drawChart:function(){var e=this.rowObj;for(var t in e)"line"===e[t].type&&this.showLine(this.allChartData[t],t)},showLine:function(e,t){var a=this,i=!1;if(e&&e.xaxis&&e.xaxis.length>0){var n=e.series||[],r=n.map((function(e){return e.name})),s=["orderRatio","payRate"],o=n.map((function(t){if(s.includes(a.targetKeyId)){var i=t.value.map((function(e){return Number(100*e).toFixed(2)}));return e.yunit="%",{name:t.name,data:i,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));this.setLinesEchart(t,"",e.xaxis,o,r,e.xunit,e.yunit,i)}},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",l=document.getElementById(e);if(l){var c=a("313e"),d=this,u={type:"value",name:o,axisTick:{show:!1,inside:!0},axisLine:{show:!1},splitLine:{show:!0},axisLabel:{interval:"auto",formatter:function(e){return e>=1e8?e=e/1e8+"亿"+s:e>=1e7?e=e/1e7+"千万"+s:e>=1e4&&e<1e7?e=e/1e4+"万"+s:e+=s,e}}},h=this.targetValue.includes("%")?this.targetValue.replace("%",""):this.targetValue;u.max=Math.max.apply(Math,[h].concat(Object(N["a"])(n[0].data))),u.min=Math.min.apply(Math,[h].concat(Object(N["a"])(n[0].data)));var p={backgroundColor:"",title:{text:t},tooltip:{trigger:"axis",formatter:function(e){var t,a=e[0].name+"<br/>",i=Gk(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;a=a+e[0].marker+n.seriesName+": "+d.cc_format_number(n.value)+s}}catch(r){i.e(r)}finally{i.f()}return a},axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},color:["#37A2DA","#00DDFF","#37A2FF","#FF0087","#FFBF00"],legend:{data:r,top:"5%"},xAxis:{type:"category",data:i,axisLabel:{show:!0}},yAxis:[u],series:n.map((function(e){return Qk(Qk({},e),{},{label:{show:!0,position:"top",formatter:function(e){return"".concat(e.value).concat(s)},color:"#000"},areaStyle:{opacity:.8,color:new c.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(0, 221, 255)"},{offset:1,color:"rgb(77, 119, 255)"}])},emphasis:{focus:"series"},markLine:{lineStyle:{color:"#333"},data:[{yAxis:h}]}})}))},m=c.init(l);m.setOption(p,!0),this.allCharts[e]=m}}}},Yk=Wk,Zk=(a("99f8"),Object(U["a"])(Yk,AS,FS,!1,null,"6e2d7c88",null)),Xk=Zk.exports,eI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-steps",{staticClass:"step-sty",staticStyle:{width:"600px"},attrs:{active:e.activeStep}},[a("el-step",{attrs:{title:"配置公共属性"}}),a("el-step",{attrs:{title:"配置单独属性"}})],1),0===e.activeStep?a("CommonSet",{ref:"commonSetRef"}):1===e.activeStep?a("AllPerSet",{ref:"allPerSetRef",attrs:{batchId:e.batchId}}):e._e()],1)},tI=[],aI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[a("div",{staticClass:"div-class"},[a("el-form-item",{attrs:{label:"选择标签：",prop:"type"}},[a("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"影视模型",name:"type"}})],1)],1),a("el-form-item",{attrs:{label:"选择维度：",prop:"resource"}},[a("el-transfer",{attrs:{titles:["待选维度","已选维度"],data:e.uptmList,props:{key:"id",label:"tagCnName"},filterable:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.option;return a("span",{},[e._v(e._s(i.tagCnName))])}}]),model:{value:e.ruleForm.resource,callback:function(t){e.$set(e.ruleForm,"resource",t)},expression:"ruleForm.resource"}})],1),a("el-form-item",{attrs:{label:"接待员命名：",prop:"prependName"}},[a("div",{staticClass:"compound-input"},[a("el-input",{staticClass:"prepend-input",attrs:{clearable:""},model:{value:e.ruleForm.prependName,callback:function(t){e.$set(e.ruleForm,"prependName",t)},expression:"ruleForm.prependName"}}),a("el-input",{staticClass:"append-input",attrs:{clearable:""},model:{value:e.ruleForm.appendName,callback:function(t){e.$set(e.ruleForm,"appendName",t)},expression:"ruleForm.appendName"}},[a("template",{slot:"prepend"},[e._v("所选维度")])],2)],1)]),a("el-form-item",{attrs:{label:"服务对象选择：",prop:"entry"}},[e._l(e.entryList,(function(t,i){return a("div",{key:i},[2!==t.delFlag?[a("div",{staticClass:"create-client-border"},[0===i?[a("createClientDialog",{ref:"createClientDialogRef",refInFor:!0,attrs:{options:e.options,defaultData:e.defaultData,editRow:t}})]:[a("createClientDialog",{ref:"createClientDialogRef",refInFor:!0,attrs:{options:e.options,editRow:t}}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteEntry(i)}}})]],2)]:e._e()],2)})),a("div",{staticClass:"box-fotter addRule"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createClient}},[e._v("新建服务对象筛选")])],1)],2),a("el-form-item",{attrs:{label:"服务终止条件：",prop:"export"}},[e._l(e.exportList,(function(t,i){return a("div",{key:i},[2!==t.delFlag?[a("div",{staticClass:"create-client-border"},[a("createClientDialog",{ref:"exportClientDialogRef",refInFor:!0,attrs:{type:"export",servicerListFilterSelect:e.servicerListFilterSelect,options:e.options,editRow:t}}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteExport(i)}}})],1)]:e._e()],2)})),a("div",{staticClass:"box-fotter addRule"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createExport}},[e._v("新建服务终止条件")])],1)],2)],1)])],1)},iI=[],nI={inject:["_this"],components:{createClientDialog:XS},props:{sceneId:{type:[String,Number],default:""}},data:function(){return{entryList:[],exportList:[],options:Pk,uptmList:[],filterMethod:function(e,t){},ruleForm:{type:["影视模型"],resource:[],prependName:"",appendName:""},rules:{type:[{type:"array",required:!0,message:"请至少选择一个标签",trigger:"change"}],resource:[{type:"array",required:!0,message:"请选择维度",trigger:"change"}],appendName:[{required:!0,message:"请输入接待员命名",trigger:"blur"}]},defaultData:{rulesJson:{condition:"OR",rules:[{condition:"AND",rules:[{tagId:12,tagKey:"filmModelTag",tagName:"影视模型",tagType:"int",dataSource:20,labelType:0,createTime:"2022-12-13T00:00:04",operator:">",sourceSign:"",value:1,isCommonAttr:!0,tagCode:"19491001",tagCnName:"tagCnName_coocaa",pathName:"pathName_coocaa"}]}]}},entryIndex:0,exportIndex:0}},computed:{servicerListFilterSelect:function(){var e=[];return e=this._this.dialogVisible2?this._this.servicer:[],e}},methods:{aaa:function(){console.log("this---\x3e",this);var e=this.$refs.createClientDialogRef;e.forEach((function(e){var t=e.rulesJson,a=e.behaviorRulesJson,i=e.flowCondition;console.log("rulesJson",t),console.log("behaviorRulesJson",a),console.log("flowCondition",i)}))},createClient:function(){this.entryList.push({id:"",tagIds:"",rulesJson:"",behaviorRulesJson:"",behaviorTempCrowdId:null,link:"OR",delFlag:1,entryIndex:this.entryIndex++})},deleteEntry:function(e){this.entryList[e].delFlag=2},createExport:function(){this.exportList.push({id:"",tagIds:"",rulesJson:"",behaviorRulesJson:"",behaviorTempCrowdId:null,link:"OR",delFlag:1,nextId:"",stopType:"",exportIndex:this.exportIndex++})},deleteExport:function(e){this.exportList[e].delFlag=2},submitForm:function(e){this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},resetForm:function(e){this.$refs[e].resetFields()},getBatchUptm:function(){var e=this,t={pageNum:1,pageSize:5e3,keywords:""};this.$service.getUptmTag(t).then((function(t){e.uptmList=t.row}))}},created:function(){var e=this;if(this.getBatchUptm(),this.sceneId){var t={sceneId:this.sceneId};this.$service.batchSetLast(t).then((function(t){if(t){var a=t,i=a.tagId.split(",").map((function(e){return Number(e)}));e.ruleForm={type:["影视模型"],resource:i,prependName:a.namePre,appendName:a.nameSuf},e.entryList=a.entry,e.exportList=a.export}else e.createClient(),e.createExport()}))}else this.createClient(),this.createExport()}},rI=nI,sI=(a("d077"),Object(U["a"])(rI,aI,iI,!1,null,null,null)),oI=sI.exports,lI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"single-set-wrap div-class"},[a("div",{staticClass:"single-set-left"},[a("div",{staticClass:"search"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"接待员/创建人",clearable:""},model:{value:e.searchServicer,callback:function(t){e.searchServicer=t},expression:"searchServicer"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getServiceList},slot:"append"})],1)],1),a("div",e._l(e.allRuleForm,(function(t,i){return a("div",{key:t.id,class:{active:e.activeId===t.id},on:{click:function(a){return e.selectServicer(t)}}},[2===t.delFlag||t.hidden?e._e():[a("div",{staticClass:"single-set-list"},[a("span",{staticClass:"item-content"},[e._v("\r\n              "+e._s(t.receptionist)+"\r\n            ")]),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.deleteServicer(i)}}})])]],2)})),0)]),a("div",e._l(e.allRuleForm,(function(t,i){return a("div",{key:t.id},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.activeId===t.id,expression:"activeId === ruleForm.id"}],ref:"ruleForm",refInFor:!0,staticClass:"demo-ruleForm",attrs:{model:e.allRuleForm[i],rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"接待员命名：",prop:"receptionist"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:t.receptionist,callback:function(a){e.$set(t,"receptionist",a)},expression:"ruleForm.receptionist"}})],1),a("el-form-item",{attrs:{label:"服务对象选择：",prop:"entry"}},[e._l(t.entryConditions,(function(i,n){return a("div",{key:i.entryIndex?i.id+i.entryIndex:i.id},[2!==i.delFlag?[a("div",{staticClass:"create-client-border"},[a("createClientDialog",{ref:"createClientDialogRef",refInFor:!0,attrs:{options:e.options,editRow:i.id?i:void 0,circulationTagDataListProp:e.circulationTagDataList,soureceSignListProp:e.soureceSignList,conditionTagsFilteredProp:e.conditionTagsFiltered,selectTagTagsListTotalProp:e.selectTagTagsListTotal,receptionistId:i.receptionistId,delFlag:i.delFlag}}),a("i",{staticClass:"el-icon-delete",on:{click:function(a){return e.deleteEntry(t,n)}}})],1)]:e._e()],2)})),a("div",{staticClass:"box-fotter addRule"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(a){return e.createClient(t)}}},[e._v("新建服务对象筛选")])],1)],2),a("el-form-item",{attrs:{label:"服务终止条件：",prop:"export"}},[e._l(t.exportConditions,(function(i,n){return a("div",{key:i.exportIndex?i.id+i.exportIndex:i.id},[2!==i.delFlag?[a("div",{staticClass:"create-client-border"},[a("createClientDialog",{ref:"exportClientDialogRef",refInFor:!0,attrs:{type:"export",servicerListFilterSelect:e.servicerListFilterSelect,options:e.options,editRow:i.id?i:void 0,circulationTagDataListProp:e.circulationTagDataList,soureceSignListProp:e.soureceSignList,conditionTagsFilteredProp:e.conditionTagsFiltered,selectTagTagsListTotalProp:e.selectTagTagsListTotal,receptionistId:i.receptionistId,delFlag:i.delFlag}}),a("i",{staticClass:"el-icon-delete",on:{click:function(a){return e.deleteExport(t,n)}}})],1)]:e._e()],2)})),a("div",{staticClass:"box-fotter addRule"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(a){return e.createExport(t)}}},[e._v("新建服务终止条件")])],1)],2)],1)],1)})),0)])},cI=[];function dI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function uI(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dI(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hI={components:{createClientDialog:XS},props:{batchId:{type:[String,Number],default:""},sceneId:{type:[String,Number],default:""}},data:function(){return{searchServicer:"",activeId:"",options:Pk,value:[],filterMethod:function(e,t){return t.pinyin.indexOf(e)>-1},ruleForm:{name:"",type:[],resource:"",desc:""},allRuleForm:[],rules:{receptionist:[{required:!0,message:"请输入接待员命名",trigger:"blur"}]},entryIndex:0,exportIndex:0,circulationTagDataList:[],soureceSignList:[],selectTagTagsListTotal:0,conditionTagsFiltered:[]}},watch:{},computed:{servicerListFilterSelect:function(){var e=this,t=this.allRuleForm.filter((function(t){return t.id!==e.activeId}))||[];return t}},methods:{deleteServicer:function(e){var t=this;this.$confirm("此操作将永久删除该接待员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.allRuleForm[e].delFlag=2;var a=t.allRuleForm.find((function(e){return 2!==e.delFlag&&!e.hidden}));t.activeId=a.id||0,t.$message({type:"success",message:"删除成功!"})}))},createClient:function(e){e.entryConditions.push({id:"",receptionistId:e.id,tagIds:"",rulesJson:"",behaviorRulesJson:"",behaviorTempCrowdId:null,link:"OR",delFlag:1,entryIndex:this.entryIndex++})},deleteEntry:function(e,t){e.entryConditions[t].delFlag=2},createExport:function(e){e.exportConditions.push({id:"",receptionistId:e.id,tagIds:"",rulesJson:"",behaviorRulesJson:"",behaviorTempCrowdId:null,link:"OR",delFlag:1,nextId:"",stopType:"",exportIndex:this.exportIndex++})},deleteExport:function(e,t){e.exportConditions[t].delFlag=2},getServiceList:function(){var e=this;this.allRuleForm=this.allRuleForm.map((function(t){return uI(uI({},t),{},{hidden:-1===t.receptionist.indexOf(e.searchServicer)})}));var t=this.allRuleForm.find((function(e){return 2!==e.delFlag&&!e.hidden}));this.activeId=t.id||0},submitForm:function(e){this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},resetForm:function(e){this.$refs[e].resetFields()},selectServicer:function(e){this.activeId=e.id},getCirculationTag:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.getRuleIndicators().then((function(e){t.circulationTagDataList=e}));case 2:return e.next=4,this.$service.getSourceSign().then((function(e){t.soureceSignList=e}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTags:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$service.policyTagSeach({pageNum:1,pageSize:500,s:"",isStoryline:1}).then((function(e){t.conditionTagsFiltered=e.pageInfo.list.map((function(e){return uI(uI({},e),{},{dataSource:e.tDataSource})})),t.selectTagTagsListTotal=e.pageInfo.total}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;if(this.sceneId){var t={sceneId:this.sceneId};this.$service.getListbySceneId(t).then((function(t){e.allRuleForm=t,e.activeId=t[0].id}))}else if(this.batchId){var a={id:this.batchId};this.$service.getBatchList(a).then((function(t){e.allRuleForm=t,e.activeId=t[0].id}))}this.getTags(),this.getCirculationTag()}},pI=hI,mI=(a("80ba"),Object(U["a"])(pI,lI,cI,!1,null,"03308861",null)),fI=mI.exports,vI={props:{value:{type:Number,default:0},batchId:{type:[String,Number],default:""}},watch:{value:{handler:function(e){this.activeStep=e},immediate:!0},activeStep:function(e){this.$emit("input",e)}},components:{CommonSet:oI,AllPerSet:fI},data:function(){return{activeStep:0}},methods:{}},gI=vI,bI=Object(U["a"])(gI,eI,tI,!1,null,null,null),yI=bI.exports,CI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-steps",{staticClass:"step-sty",attrs:{active:e.activeStep}},[a("el-step",{attrs:{title:"添加场景"}}),a("el-step",{attrs:{title:"选择创建方式"}}),a("el-step",{attrs:{title:1===e.createType?"创建接待员":"配置公共属性"}}),a("el-step",{attrs:{title:1===e.createType?"配置接待员":"配置单独属性"}}),a("el-step",{attrs:{title:"投放"}})],1),0===e.activeStep?a("el-form",{ref:"formSceneRef",staticClass:"form-class",attrs:{model:e.formScene,rules:e.formSceneRules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"div-class"},[a("el-form-item",{attrs:{label:"场景名：","label-width":"90px",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:e.formScene.name,callback:function(t){e.$set(e.formScene,"name","string"===typeof t?t.trim():t)},expression:"formScene.name"}})],1)],1)]):e._e(),1===e.activeStep?a("el-form",{staticClass:"form-class"},[a("div",{staticClass:"div-class"},[a("el-form-item",{attrs:{label:" 创建方式：","label-width":"90px"}},[a("el-radio",{staticStyle:{"margin-right":"15px"},attrs:{label:1},model:{value:e.createType,callback:function(t){e.createType=t},expression:"createType"}},[e._v("逐个创建")]),a("el-radio",{attrs:{label:2},model:{value:e.createType,callback:function(t){e.createType=t},expression:"createType"}},[e._v("批量创建")])],1)],1)]):e._e(),2===e.activeStep&&1===e.createType?a("OneByOneAdd",{model:{value:e.receptionistList,callback:function(t){e.receptionistList=t},expression:"receptionistList"}}):2===e.activeStep&&2===e.createType?a("CommonSet",{ref:"commonSetRef",attrs:{sceneId:e.sceneId}}):3===e.activeStep?a("AllPerSet",{ref:"allPerSetRef",attrs:{sceneId:e.sceneId}}):4===e.activeStep?a("LaunchToBusiness",{ref:"launchToBusinessRef",attrs:{recordId:e.policyId,tempPolicyAndCrowd:e.tempPolicyAndCrowd,fromStoryline:!0,hiddenButton:!0}}):e._e(),a("div",{staticClass:"el-dialog__footer"},[0===e.activeStep?[a("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")]),a("el-button",{attrs:{type:"warning"},on:{click:e.skipSave}},[e._v("跳过保存")]),a("el-button",{attrs:{type:"primary"},on:{click:e.oneDropNextStep}},[e._v("下一步")])]:4===e.activeStep?[a("el-button",{attrs:{type:"primary"},on:{click:e.backStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"warning"},on:{click:e.skipSave}},[e._v("跳过保存")]),a("el-button",{attrs:{type:"primary"},on:{click:e.oneDropNextStep}},[e._v("确认")])]:[a("el-button",{attrs:{type:"primary"},on:{click:e.backStep}},[e._v("上一步")]),a("el-button",{attrs:{type:"warning"},on:{click:e.skipSave}},[e._v("跳过保存")]),a("el-button",{attrs:{type:"primary"},on:{click:e.oneDropNextStep}},[e._v("下一步")])]],2)],1)},wI=[],_I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{color:"red"}}),a("el-form",{ref:"menu",staticClass:"form-class",attrs:{model:e.menu,"label-position":"left","label-width":"130px"}},[a("div",{staticClass:"div-class"},[a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"接待员: "}},[e._l(e.menu,(function(t,i){return a("div",{key:i,staticClass:"filed-row"},[a("el-input",{attrs:{placeholder:"接待员名称",clearable:""},model:{value:t.receptionist,callback:function(a){e.$set(t,"receptionist","string"===typeof a?a.trim():a)},expression:"field.receptionist"}}),e.menu.length>1?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleReduceFiled(t,i)}}}):e._e()],1)})),a("div",{staticClass:"filed-row "},[a("el-button",{staticClass:"add-btn",attrs:{icon:"el-icon-plus"},on:{click:e.handleAddFiled}},[e._v("添加")])],1)],2)],1)])],1)},SI=[],kI={props:{value:{type:Array,default:function(){return[]}}},data:function(){return{menu:[]}},watch:{value:function(e){this.menu=e},menu:{handler:function(e){this.$emit("input",e)},immediate:!0}},created:function(){},methods:{handleAddFiled:function(){this.menu.length<32&&this.menu.push({receptionist:""})},handleReduceFiled:function(e,t){var a=this;if(!e.crowdId)return this.menu.splice(t,1);var i={policyId:e.policyId||"",crowdId:e.crowdId||""};this.$service.delDynamic2Crowd(i,"删除成功").then((function(){a.menu.splice(t,1)})).catch((function(e){console.log("err===",e);var n=a.menu[t].receptionist;a.$confirm("".concat(n," 在").concat(e.message,", 请确认删除"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$service.delDynamic2CrowdConfirm(i,"删除成功").then((function(){a.menu.splice(t,1)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}))}}},II=kI,xI=(a("9c40"),Object(U["a"])(II,_I,SI,!1,null,"cfa06f3e",null)),TI=xI.exports;function DI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function $I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?DI(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DI(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function LI(e){var t=e.allPerSetRef;return new Promise((function(e){var a=t.$refs.ruleForm||[],i=t.$refs.createClientDialogRef||[],n=t.$refs.exportClientDialogRef||[],r=[],s=[],o=[],l=[];Promise.all(a.map(NI)).then((function(a){i.forEach((function(e){var t=e.rulesJson,a=e.behaviorRulesJson,i=e.flowCondition,n=$I($I({},e.editRow),{},{type:"entry",link:e.totalLink,tagIds:e.checkedList.join(","),delFlag:e.delFlag,receptionistId:e.receptionistId}),s=BS(e,t,a,i,{returnDefaultData:n});r.push(s)})),n.forEach((function(e){var t=e.rulesJson,a=e.behaviorRulesJson,i=e.flowCondition,n=$I($I({},e.editRow),{},{type:"export",link:e.totalLink,stopType:e.form.stopType,nextId:e.form.nextId,tagIds:e.checkedList.join(","),delFlag:e.delFlag,receptionistId:e.receptionistId}),r=BS(e,t,a,i,{returnDefaultData:n});s.push(r)})),Promise.all([].concat(r,s)).then((function(a){console.log("start===============最终数据============>"),console.log(a),console.log("end=================最终数据=========="),o=a.filter((function(e){return"entry"===e.type})),l=a.filter((function(e){return"export"===e.type})),console.log(""),console.log("allEntryArr===========================>",o),console.log(""),console.log("allExportArr===========================>",l),console.log("需要提交的数据======》",t.allRuleForm);var i=OI(t.allRuleForm,o,l);e(i)})).catch((function(){E["Message"].error("请完善条件")}))}))}))}function NI(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))}function OI(e,t,a){var i=e.map((function(e){e.entryConditions,e.exportConditions;var i=t.filter((function(t){return t.receptionistId===e.id})),n=a.filter((function(t){return t.receptionistId===e.id}));return $I($I({},e),{},{entryConditions:i,exportConditions:n})}));return i}function PI(e){var t=e.commonSetRef;return new Promise((function(e){var a=t.$refs.ruleForm,i=t.$refs.createClientDialogRef,n=t.$refs.exportClientDialogRef,r=t.ruleForm;console.log("333ruleForm---\x3e",t);var s=[],o=[],l=[],c=[];a.validate((function(t){t&&(i.forEach((function(e){var t=e.rulesJson,a=e.behaviorRulesJson,i=e.flowCondition,n={type:"entry",link:e.totalLink,tagIds:e.checkedList.join(","),delFlag:1},r=BS(e,t,a,i,{returnDefaultData:n,isNeedValidate:!1});s.push(r)})),n.forEach((function(e){var t=e.rulesJson,a=e.behaviorRulesJson,i=e.flowCondition,n={type:"export",link:e.totalLink,stopType:e.form.stopType,nextId:e.form.nextId,tagIds:e.checkedList.join(","),delFlag:1},r=BS(e,t,a,i,{returnDefaultData:n,isNeedValidate:!1});o.push(r)})),Promise.all([].concat(s,o)).then((function(t){console.log("start===============最终数据============>"),console.log(t),console.log("end=================最终数据=========="),l=t.filter((function(e){return"entry"===e.type})),c=t.filter((function(e){return"export"===e.type})),console.log(""),console.log("allEntryArr===========================>",l),console.log(""),console.log("allExportArr===========================>",c),e({allEntryArr:l,allExportArr:c,ruleFormData:r})})).catch((function(){E["Message"].error("请完善条件")})))}))}))}function EI(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function AI(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EI(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var FI={components:{CommonSet:oI,AllPerSet:fI,OneByOneAdd:TI,LaunchToBusiness:ha},data:function(){return{receptionistList:[],sceneId:"",activeStep:0,createType:1,formSceneRules:{name:[{required:!0,message:"不能为空",trigger:"change"}]},formScene:{name:""},sceneDetail:{}}},watch:{"this.formScene.name":function(e){this.sceneDetail.sceneName=e},createType:function(e){this.sceneDetail.createType=e}},computed:{policyId:function(){return this.sceneDetail.policyId},tempPolicyAndCrowd:function(){return console.log("sceneDetail--\x3e",this.sceneDetail),{policyId:this.sceneDetail.policyId,policyName:this.sceneDetail.sceneName,smart:!0}}},methods:{backStep:function(){switch(this.activeStep){case 1:this.getSceneDetail();break;case 2:this.getSceneDetail();break;case 3:1===this.createType?this.getListbySceneId():this.batchSetLast();break;case 4:break;default:break}this.cutActiveStep()},skipSave:function(){switch(this.activeStep){case 0:this.sceneSkip();break;case 1:this.createTypeSkip();break;case 2:1===this.createType?this.oneByOneListSkip():this.batchSetSkip();break;case 3:this.batchListSkip();break;case 4:this.putInDraft();break;default:break}},oneDropNextStep:function(){switch(this.activeStep){case 0:this.sceneNext();break;case 1:this.createTypeNext();break;case 2:1===this.createType?this.oneByOneListNext():this.batchSetNext();break;case 3:this.batchListNext();break;case 4:this.putInRelease();break;default:break}},cutActiveStep:function(){this.activeStep=this.activeStep-1},addActiveStep:function(){this.activeStep=this.activeStep+1},batchSetLast:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={sceneId:this.sceneId},e.next=3,this.$service.batchSetLast(t).then((function(e){a.receptionistList=e}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getListbySceneId:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.sceneId){e.next=4;break}return t={sceneId:this.sceneId},e.next=4,this.$service.getListbySceneId(t).then((function(e){a.receptionistList=0===e.length?[{receptionist:""}]:e}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSceneDetail:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={sceneId:this.sceneId},e.next=3,this.$service.getSceneDetail(t).then((function(e){a.sceneDetail=e,a.formScene.name=e.sceneName,a.createType=e.createType}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),putInDraft:function(){var e=this,t=this.$refs.launchToBusinessRef;t.$refs.crowdForm.validate((function(a){if(a){var i={id:e.sceneId,startTime:t.value1[0]||void 0,endTime:t.value1[1]||void 0};e.$service.putInDraft(i,"保存成功").then((function(t){e.$emit("updateSceneList"),e.$emit("closeDialog")}))}}))},putInRelease:function(){var e=this,t=this.$refs.launchToBusinessRef;t.$refs.crowdForm.validate((function(a){if(a){var i=E["Loading"].service({fullscreen:!0,text:"投放中，请稍候",background:"rgba(0, 0, 0, 0.5)"}),n={sceneId:e.sceneId,biIds:t.crowdForm.biIdsPull,policyIds:[e.policyId],startTime:t.value1[0]||void 0,endTime:t.value1[1]||void 0};e.$service.putInRelease(n).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={policyId:e.policyId},t.next=3,e.$service.freshCache(n,"投放成功");case 3:i.close(),e.$emit("updateSceneList"),e.$emit("closeDialog");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}))},batchListSkip:function(){var e=this,t=this.$refs.allPerSetRef,a=LI({allPerSetRef:t});console.log("a---\x3e",a),a.then((function(t){console.log("receptionists===>",t);var a={sceneId:e.sceneId,receptionists:t};e.$service.batchListSkip(a).then((function(t){e.$emit("updateSceneList"),e.$emit("closeDialog")}))}))},batchListNext:function(){var e=this,t=this.$refs.allPerSetRef,a=LI({allPerSetRef:t});console.log("a---\x3e",a),a.then((function(t){console.log("receptionists===>",t);var a={sceneId:e.sceneId,receptionists:t};e.$service.batchListNext(a).then((function(t){e.addActiveStep()}))}))},batchSetSkip:function(){var e=this,t=this.$refs.commonSetRef,a=PI({commonSetRef:t});a.then((function(t){var a=t.allEntryArr,i=t.allExportArr,n=t.ruleFormData;e.batchSaveFirst({allEntryArr:a,allExportArr:i,ruleFormData:n},"batchSetSkip")}))},batchSaveFirst:function(e,t){var a=this,i=e.allEntryArr,n=e.allExportArr,r=e.ruleFormData;console.log("ruleFormData---\x3e",r);var s={sceneId:this.sceneId,namePre:r.prependName,nameSuf:r.appendName,tagIds:r.resource,entry:i,export:n};this.$service[t](s).then((function(e){a.addActiveStep()}))},batchSetNext:function(){var e=this,t=this.$refs.commonSetRef,a=PI({commonSetRef:t});a.then((function(t){var a=t.allEntryArr,i=t.allExportArr,n=t.ruleFormData;e.batchSaveFirst({allEntryArr:a,allExportArr:i,ruleFormData:n},"batchSetNext")}))},oneByOneListSkip:function(){var e=this,t={sceneId:this.sceneId,receptionists:this.receptionistList};this.$service.oneByOneListSkip(t).then((function(t){e.$emit("updateSceneList"),e.$emit("closeDialog")}))},oneByOneListNext:function(){var e=this,t={sceneId:this.sceneId,receptionists:this.receptionistList};this.$service.oneByOneListNext(t).then((function(t){e.addActiveStep()}))},createTypeSkip:function(){var e=this,t=AI(AI({},this.sceneDetail),{},{createType:this.createType});this.$service.createTypeSkip(t).then((function(t){e.$emit("updateSceneList"),e.$emit("closeDialog")}))},createTypeNext:function(){var e=this,t=AI({},this.sceneDetail);this.$service.createTypeNext(t).then((function(t){e.getListbySceneId(),e.addActiveStep()}))},sceneSkip:function(){var e=this;this.$refs.formSceneRef.validate((function(t){if(t){var a={sceneName:e.formScene.name};e.$service.sceneSkip(a).then((function(t){e.$emit("updateSceneList"),e.$emit("closeDialog")}))}}))},sceneNext:function(){var e=this;this.$refs.formSceneRef.validate((function(t){if(t){var a=AI(AI({},e.sceneDetail),{},{sceneName:e.formScene.name});e.$service.sceneNext(a).then((function(t){e.sceneId=t,e.addActiveStep(),e.getSceneDetail()}))}}))},cancel:function(){this.$emit("closeDialog")}}},VI=FI,RI=(a("df75"),Object(U["a"])(VI,CI,wI,!1,null,"68543f18",null)),jI=RI.exports,BI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"top-wrap"},[a("span",{staticClass:"scene-name"},[e._v(e._s(e.selectedScene.sceneName))]),e._v("\n    创建人："+e._s(e.selectedScene.userName)+"\n        创建时间："+e._s(e.selectedScene.createTime)+"\n  ")]),e._m(0),e.groupServicer&&e.groupServicer.length>0?a("JsplumbCom",{attrs:{groupServicer:e.groupServicer,relations:e.relations},on:{selectServicer:function(t){return e.$emit("selectServicer",t)},showRuleDetail:function(t){return e.$emit("showRuleDetail",t)}}}):a("el-empty",{attrs:{description:"暂无数据，请先创建接待员"}}),a("div",{staticClass:"operate-wrap"},[a("i",{staticClass:"el-icon-plus",on:{click:function(t){return e.zoomDom("add")}}}),a("i",{staticClass:"el-icon-minus",on:{click:function(t){return e.zoomDom("cut")}}})])],1)},MI=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"legend-wrap"},[a("div",{staticClass:"legend-wrap-title"},[e._v("图例")]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"arrow"},[a("i",{staticClass:"el-icon-caret-right"})]),a("div",{staticClass:"legend-title"},[e._v("流向")])]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"circle enter"}),a("div",{staticClass:"legend-title"},[e._v("进入条件")])]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"circle red"}),a("div",{staticClass:"legend-title"},[e._v("不喜欢，切换")])]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"circle green"}),a("div",{staticClass:"legend-title"},[e._v("直接转化")])]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"circle yellow"}),a("div",{staticClass:"legend-title"},[e._v("继续种草")])]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"circle purple"}),a("div",{staticClass:"legend-title"},[e._v("继续观察")])]),a("div",{staticClass:"legend-wrap-item"},[a("div",{staticClass:"dashed-box"}),a("div",{staticClass:"legend-title"},[e._v("分组")])])])}],zI=a("e193"),qI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jtk-demo-canvas canvas-wide flowchart-demo jtk-surface jtk-surface-nopan",attrs:{id:"canvas"}},e._l(e.groupServicer,(function(t,i){return a("div",{key:t.groupId?t.groupId:t.id,staticClass:"item-container window",style:{left:e.positionObj[""+e.idPer+i].x+"px",top:e.positionObj[""+e.idPer+i].y+"px"},attrs:{id:e.idPer+i}},[t.groupId?a("div",{staticClass:"group-container"},e._l(t.child,(function(t){return a("div",{key:t.id},[a("servicerCom",{staticStyle:{float:"left",margin:"20px"},attrs:{info:t,idPer:e.idPer},on:{selectServicer:function(t){return e.$emit("selectServicer",t)},showRuleDetail:function(t){return e.$emit("showRuleDetail",t)}}})],1)})),0):a("div",[a("servicerCom",{attrs:{info:t,idPer:e.idPer},on:{selectServicer:function(t){return e.$emit("selectServicer",t)},showRuleDetail:function(t){return e.$emit("showRuleDetail",t)}}})],1)])})),0)},JI=[],GI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"e-list-sty entry"},[e.entryList.length>0?e._l(e.entryList,(function(t){return a("span",{key:t.id,staticClass:"w",attrs:{id:""+e.idPer+t.id},on:{dblclick:function(a){return e.openDetail(t)}}},[e._v("\n        "+e._s(t.id)+"\n      ")])})):a("div",{staticClass:"branch-img"})],2),a("div",{staticClass:"connect-line-wrap"},[a("span",{staticClass:"connect-name",attrs:{id:""+e.idPer+e.info.id},on:{dblclick:function(t){return e.$emit("selectServicer",e.info.id)}}},[e._v(e._s(e.info.id)+"--"+e._s(e.info.receptionist))])]),a("div",{staticClass:"e-list-sty export"},[e.exportList.length>0?e._l(e.exportList,(function(t){return a("span",{key:t.id,staticClass:"w",class:e.getClass(t.stopType),attrs:{id:""+e.idPer+t.id},on:{dblclick:function(a){return e.openDetail(t)}}},[e._v("\n        "+e._s(t.id)+"\n      ")])})):a("div",{staticClass:"branch-img",staticStyle:{transform:"rotate(180deg)","margin-left":"-17px","margin-top":"-15px"}})],2),a("el-drawer",{attrs:{title:"详情",visible:e.drawer,"append-to-body":!0},on:{"update:visible":function(t){e.drawer=t}}},[a("showAllRule",{attrs:{entry:e.editClientRow,conditionEnum:e.conditionEnum,soureceSignList:e.soureceSignList}})],1)],1)},UI=[],HI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"border-line",staticStyle:{position:"relative"}},[e.entry.rulesJson&&JSON.parse(e.entry.rulesJson).rules.length>0&&e.entry.behaviorRulesJson&&JSON.parse(e.entry.behaviorRulesJson).rules.length>0?a("div",{staticClass:"outer-and"},[a("span",{staticClass:"and-or",class:"OR"===e.entry.link?"OR":""},[e._v("\r\n    "+e._s("OR"===e.entry.link?"或":"且")+"\r\n    ")])]):e.entry.rulesJson&&0===JSON.parse(e.entry.rulesJson).rules.length&&e.entry.behaviorRulesJson&&0===JSON.parse(e.entry.behaviorRulesJson).rules.length?a("div",[e._v("\r\n    暂无数据\r\n  ")]):e._e(),e.entry.rulesJson&&JSON.parse(e.entry.rulesJson).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("普通标签")]),a("div",{staticClass:"rule-string"},[a("div",[a("ShowRule",{attrs:{rulesJson:JSON.parse(e.entry.rulesJson),conditionEnum:e.conditionEnum,soureceSignList:e.soureceSignList}})],1)])]:e._e(),e.entry.behaviorRulesJson&&JSON.parse(e.entry.behaviorRulesJson).rules.length>0?[a("span",{staticClass:"border-title"},[e._v("行为标签")]),a("div",{staticClass:"rule-string bav-wrap"},[[a("MultipleActionTagSelect",{ref:"multipleActionTagSelect",attrs:{isView:!0,behaviorRulesJson:JSON.parse(e.entry.behaviorRulesJson)}})]],2)]:e._e()],2)},KI=[],QI={components:{MultipleActionTagSelect:lk,ShowRule:xk},props:{entry:{type:Object,default:function(){}},conditionEnum:{type:Object,default:function(){}},soureceSignList:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},methods:{}},WI=QI,YI=(a("8edf"),Object(U["a"])(WI,HI,KI,!1,null,"add96ed2",null)),ZI=YI.exports,XI={name:"s-com",components:{showAllRule:ZI},props:{info:{type:Object,default:function(){}},idPer:{type:String,default:""}},computed:{entryList:function(){return this.info.entryConditions||[]},exportList:function(){return this.info.exportConditions||[]}},data:function(){return{drawer:!1,options:Pk,editClientRow:{},conditionEnum:{AND:"且",OR:"或"},soureceSignList:[]}},created:function(){var e=this;this.$service.getSourceSign().then((function(t){e.soureceSignList=t}))},mounted:function(){},methods:{openDetail:function(e){this.$emit("showRuleDetail",e)},getClass:function(e){var t={4:"red",2:"green",1:"yellow",3:"purple"};return t[e]}}},ex=XI,tx=(a("f799"),Object(U["a"])(ex,GI,UI,!1,null,"d7d68be2",null)),ax=tx.exports;function ix(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.1,n=document.querySelector(e),r=document.querySelector(t),s=nx(r);"add"===a?s.multiple*=i:s.multiple/=i;var o=rx(r,n,s.transX,s.transY,s.multiple);r.style.transform="matrix(".concat(s.multiple,", 0, 0, ").concat(s.multiple,", ").concat(o.transX,", ").concat(o.transY,")")}function nx(e){var t=getComputedStyle(e).transform.split(",");return{transX:isNaN(+t[t.length-2])?0:+t[t.length-2],transY:isNaN(+t[t.length-1].split(")")[0])?0:+t[t.length-1].split(")")[0],multiple:+t[3]}}function rx(e,t,a,i,n){var r,s,o=e.clientWidth,l=e.clientHeight,c=(e.offsetLeft,e.offsetTop,t.clientWidth),d=t.clientHeight,u=50;return r=Math.max(Math.min(a,c+o*(n-1)/2-u),-o*(n+1)/2+u),s=Math.max(Math.min(i,d+l*(n-1)/2-u),-l*(n+1)/2+u),{transX:r,transY:s}}function sx(e,t){var a,i,n=document.querySelector(e),r=document.querySelector(t),s=1.1,o=function(e){var t=nx(r);a=e.clientX-t.transX,i=e.clientY-t.transY,document.addEventListener("mousemove",l),document.addEventListener("mouseup",c)},l=function(e){var t=nx(r).multiple,s=e.clientX-a,o=e.clientY-i,l=rx(r,n,s,o,t);r.style.transform="matrix(".concat(t,", 0, 0, ").concat(t,", ").concat(l.transX,", ").concat(l.transY,")")},c=function e(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)},d=function(e){var t=nx(r);e.deltaY<0?t.multiple*=s:t.multiple/=s;var a=rx(r,n,t.transX,t.transY,t.multiple);r.style.transform="matrix(".concat(t.multiple,", 0, 0, ").concat(t.multiple,", ").concat(a.transX,", ").concat(a.transY,")")},u=function(){n.addEventListener("mousedown",o),n.addEventListener("wheel",d)};u()}function ox(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=lx(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function lx(e,t){if(e){if("string"===typeof e)return cx(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?cx(e,t):void 0}}function cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var dx={name:"js-group",components:{servicerCom:ax},props:{groupServicer:{type:Array,default:function(){return[]}},relations:{type:Array,default:function(){return[]}}},data:function(){return{idPer:"ccc",j:"",positionObj:{},setJsplumbObj:{Container:"canvas",Connector:"StateMachine",Endpoint:["Dot",{radius:2}],PaintStyle:{stroke:"#1890ff80",strokeWidth:1},HoverPaintStyle:{stroke:"#1e8151",strokeWidth:2},Anchor:"Center",ConnectionOverlays:[["Arrow",{location:1,id:"arrow",length:8,width:8,foldback:.8,zIndex:3}]],Overlays:[["Arrow",{width:8,length:8,location:1}]]}}},created:function(){var e=this;this.groupServicer.forEach((function(t,a){var i="".concat(e.idPer).concat(a),n={x:0,y:0};e.$set(e.positionObj,i,n)}))},mounted:function(){var e=this,t=this;zI["jsPlumb"].ready((function(){e.j=window.j=zI["jsPlumb"].getInstance(e.setJsplumbObj);var a=e.j;a.registerConnectionType("basic",{anchor:"Continuous",connector:"StateMachine"}),a.batch((function(){for(var e=zI["jsPlumb"].getSelector(".flowchart-demo .window"),i=0;i<e.length;i++)t.initNode(e[i],a)})),e.adjust(),e.$nextTick((function(){e.createConnections(e.relations)}))})),sx("#wrap","#canvas")},methods:{initNode:function(e,t){t.draggable(e),t.makeSource(e,{filter:".ep",anchor:"Continuous",connectorStyle:{stroke:"#5c96bc",strokeWidth:2,outlineStroke:"transparent",outlineWidth:0},connectionType:"basic",extract:{action:"the-action"}}),t.makeTarget(e,{dropOptions:{hoverClass:"dragHover"},anchor:"Continuous",allowLoopback:!0}),t.fire("jsPlumbDemoNodeAdded",e)},adjust:function(){var e=this;this.groupServicer.forEach((function(t,a){e.getXY(a)}));for(var t=document.getElementsByClassName("item-container"),a=0,i=t.length;a<i;a++)t[a].style.position="absolute"},createConnections:function(e){var t,a=ox(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.addconnect(i[0],i[1])}}catch(n){a.e(n)}finally{a.f()}},addconnect:function(e,t){var a="".concat(this.idPer).concat(e),i="".concat(this.idPer).concat(t),n=document.getElementById(a),r=document.getElementById(i);console.log("sourceDom--\x3e",n),console.log("targetDom--\x3e",r),this.j.connect({source:n,target:r,type:"basic"})},getXY:function(e){var t="".concat(this.idPer).concat(e),a=document.getElementById(t),i=a.offsetLeft,n=a.offsetTop,r=[30,50],s={x:i+r[0],y:n+r[1]};this.positionObj[t]=s,console.log(" positionObj---\x3e",this.positionObj)}}},ux=dx,hx=(a("18f0"),Object(U["a"])(ux,qI,JI,!1,null,"288c5892",null)),px=hx.exports;function mx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function fx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mx(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vx={name:"crowdCirculationTrack",components:{JsplumbCom:px},props:{chartData:{type:Object,default:function(){}},selectedScene:{type:Object,default:function(){}}},data:function(){return{groupServicer:[],relations:[["0_out_2uuu","1_i1231n"],["1_in1231313","0_45in_4"],["0_in_2","5_in_8"],["0_in_3111","5_in_8"]]}},watch:{chartData:{handler:function(e){var t=[];e.groupServicer&&(t=e.groupServicer.map((function(e){return fx(fx({},e),{},{id:String(e.id)})}))),this.groupServicer=t||[],this.relations=e.relations||[],console.log("this.groupServicer---\x3e",this.groupServicer),console.log("this.relations---\x3e",this.relations)},immediate:!0}},created:function(){},mounted:function(){zI["jsPlumb"].ready((function(){var e=window.j=zI["jsPlumb"].getInstance({Container:"wrap"});e.draggable(zI["jsPlumb"].getSelector(".legend-wrap"))}))},methods:{zoomDom:function(e){ix("#wrap","#canvas",e)}}},gx=vx,bx=(a("efb1"),Object(U["a"])(gx,BI,MI,!1,null,"7319b4ae",null)),yx=bx.exports;function Cx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function wx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cx(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _x={components:{LaunchToBusiness:ha,drag:ES,servicerDetail:Xk,MultiAdd:yI,OneDrop:jI,SceneMap:yx,showAllRule:ZI},provide:function(){return{_this:this}},data:function(){return{conditionEnum:{AND:"且",OR:"或"},soureceSignList:[],getSceneFlowChartLoading:!1,isShowSceneChartData:!0,sceneChartData:{},viewType:!0,sceneCanReuse:!1,sceneDropDownLoading:!0,sceneDropDownCanUse:!1,currentSceneHasDoudi:!1,batchId:"",sceneType:1,multiAddStep:0,dropDownLoading:!0,createType:0,isShowDetailName:!0,getServicerLoading:!1,showConfiguration:!1,seeDetailData:{props:{border:!0},data:[],header:[{label:"版本号",prop:"versionId"},{label:"文件名称",prop:"fileName"},{label:"创建时间",prop:"createTime"},{label:"操作",width:"100px",render:function(e,t){var a=t.row;return e("el-popover",{attrs:{placement:"left",width:"600",trigger:"click"}},[e("el-input",{props:{type:"textarea",rows:8,readonly:!0,value:a.content,autosize:{minRows:10,maxRows:20}},class:"get-setting"}),e("el-button",{props:{type:"text"},slot:"reference"},"查看配置")])}}]},detailPagination:{filter:{},pagination:{pageSize:10,currentPage:1,total:0},currentId:null},formServicerRules:{receptionist:[{required:!0,message:"不能为空",trigger:"change"}]},copyFormRule:{sceneId:[{required:!0,message:"请选择场景",trigger:"change"}]},tipMsg:"下一步不可为空",copyType:"",copyForm:{id:"",sceneId:""},copyDialogVisible:!1,noGroupService:[],styleType:!1,groupData:[{list:[],groupName:"组1"}],showDragVisible:!1,tempPolicyAndCrowd:{},showLaunchToBusiness:!1,editClientRow:{},selectedScene:{},selectedServicer:{},searchScene:"",searchServicer:"",renameVisible:!1,formServicer:{receptionist:"",type:!1,planc:0},dialogVisible:!1,dialogVisible2:!1,activeIndex:0,activeIndex2Id:"",sceneList:[],servicer:[],skillList:[],entryList:[],exportList:[],rename:"",rename2:"",launchPlatformData:[]}},computed:{isCopiedServicer:function(){return!!this.selectedServicer.referenceId},havePermissionsToCheck:function(){return this.selectedServicer.id&&this.sceneCanReuse},groupServicer:function(){var e=this.mergeSameAttribute(this.servicer);return e},servicerListFilterSelect:function(){var e=this,t=this.servicer.filter((function(t){return t.id!==e.activeIndex2Id}));return t},sceneListFilterSelect:function(){var e=this;return this.sceneList.filter((function(t){return t.id!==e.activeIndex}))}},watch:{"$route.params":{handler:function(e){this.getSceneList()},immediate:!0},"selectedScene.id":function(){this.editClientRow={}}},created:function(){var e=this;this.getPolicyList(),this.$service.getSourceSign().then((function(t){e.soureceSignList=t}))},mounted:function(){window.addEventListener("visibilitychange",this.handleVisiable),console.log("window--\x3e",window),console.log("docment--\x3e",document),console.log("docment--\x3e",document===window.document)},destroyed:function(){window.removeEventListener("visibilitychange",this.handleVisiable)},beforeRouteLeave:function(e,t,a){var i=this.getIsAllSetNextId();i||!this.havePermissionsToCheck?a():alert(this.tipMsg)},methods:{changeViewAndSelectServicer:function(e){this.viewType=!this.viewType,this.selectServicer(e)},changeView:function(){this.viewType=!this.viewType,this.isShowSceneChartData=!1,this.getSceneFlowChart()},getSceneFlowChart:function(){var e=this,t={id:this.selectedScene.id};this.getSceneFlowChartLoading=!0,this.$service.sceneFlowChart(t).then((function(t){console.log("","res---\x3e",t),e.getSceneFlowChartLoading=!1,e.sceneChartData=t,e.isShowSceneChartData=!0}))},launchDetail:function(e){var t=this;this.showLaunch=!0,this.$service.policyUseInBi({policyId:e}).then((function(e){t.launchItems=e}))},updateSceneList:function(){this.getSceneList("add")},closeAddSceneDialog:function(){this.dialogVisible=!1},confirmMultiAddServicer:function(){var e=this,t=this.$refs.multiAddRef.$refs.allPerSetRef,a=LI({allPerSetRef:t});console.log("a---\x3e",a),a.then((function(t){var a={batchId:e.batchId,receptionists:t};e.$service.batchSaveSecond(a,"成功保存").then((function(t){e.getServiceList("add"),e.dialogVisible2=!1}))}))},multiAddNextStep:function(){var e=this,t=this.$refs.multiAddRef.$refs.commonSetRef,a=PI({commonSetRef:t});a.then((function(t){var a=t.allEntryArr,i=t.allExportArr,n=t.ruleFormData;e.batchSaveFirst({allEntryArr:a,allExportArr:i,ruleFormData:n})}))},batchSaveFirst:function(e){var t=this,a=e.allEntryArr,i=e.allExportArr,n=e.ruleFormData;console.log("ruleFormData---\x3e",n);var r={sceneId:this.selectedScene.id,policyId:this.selectedScene.policyId,namePre:n.prependName,nameSuf:n.appendName,tagIds:n.resource,entry:a,export:i};this.$service.batchSaveFirst(r).then((function(e){t.batchId=e||"",t.multiAddStep=t.multiAddStep+1})).catch((function(){}))},sceneVisibleChange:function(e,t){var a=this;if(e&&t){this.sceneDropDownLoading=!0;var i={id:t};this.$service.getSceneCanReuse(i).then((function(e){a.sceneDropDownLoading=!1,a.sceneDropDownCanUse=e||!1}))}},seeDevDetail:function(e){this.showConfiguration=!0,this.detailPagination.currentId=e.policyId,this.loadDetailList()},loadDetailList:function(){var e=this,t={policyId:this.detailPagination.currentId,pageNum:this.detailPagination.pagination.currentPage,pageSize:this.detailPagination.pagination.pageSize};this.$service.seeDevFileList(t).then((function(t){e.seeDetailData.data=t.rows,e.detailPagination.pagination.total=t.total}))},handleFilterChange:function(){this.loadDetailList(this.detailPagination.currentId)},getIsAllSetNextId:function(){var e=this.exportList.length,t=this.exportList.findIndex((function(e){return e.stopType&&1===e.stopType&&!e.nextId})),a=e>0&&-1===t||0===e;if(a)return!0;for(var i=this.$refs.servicerDetailRef.$refs.exportRef,n=0,r=Object.entries(i);n<r.length;n++){var s=Object(O["a"])(r[n],2),o=s[0],l=s[1];if(Number(t)===Number(o)){l.scrollIntoView({behavior:"instant"});break}}return!1},handleVisiable:function(e){switch(e.target.visibilityState){case"prerender":break;case"hidden":var t=this.getIsAllSetNextId();!t&&this.havePermissionsToCheck&&alert(this.tipMsg);break;case"visible":console.log("处于正常打开");break}},mergeSameAttribute:function(e){var t={};e.forEach((function(e,a){var i=e.groupId;t[i]||(t[i]={groupId:e.groupId,child:[]}),t[i].child.push(e)}));var a=Object.values(t);return a},getListGroupBySceneId:function(){var e=this;return new Promise((function(t,a){var i={sceneId:e.selectedScene.id};e.noGroupService=JSON.parse(JSON.stringify(e.servicer)),e.$service.getListGroup(i).then((function(t){t&&t.length>0?e.groupData=t.map((function(t){var a=t.list.map((function(t){var a=e.servicer.find((function(e){return t.receptionistId===e.id})),i=a?a.receptionist:"";return e.noGroupService=e.noGroupService.filter((function(e){return t.receptionistId!==e.id})),wx(wx({},t),{},{receptionist:i})}));return{id:t.id,sceneId:t.sceneId,groupName:t.groupName,list:a}})):e.groupData=[{list:[],groupName:"组1"}]})),t(e.groupData)}))},changeStyle:function(){this.styleType=!this.styleType},getPolicyList:function(){var e=this;this.$service.launchPolicyIndex().then((function(t){e.launchPlatformData=t.biLists}))},addServicerGroup:function(){var e=this,t=[];this.groupData.forEach((function(a){a.list.length>0&&t.push(wx(wx({},a),{},{sceneId:e.selectedScene.id}))}));var a={list:t,sceneType:this.sceneType};this.$service.addGroup(a).then((function(t){e.getServiceList(),e.showDragVisible=!1}),"成功")},addGroup:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getListGroupBySceneId();case 2:this.showDragVisible=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleCloseDialog:function(){this.showLaunchToBusiness=!1},handelRename2:function(e){if(!this.rename2)return this.$message.error("请输入名称");this.editReceptionist({id:e.id,receptionist:this.rename2}),this.handelClosePop()},deleteService:function(e){var t=this;this.$confirm("此操作将永久删除该接待员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.editReceptionist({id:e.id,delFlag:2})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},offSetService:function(e){this.editReceptionist({id:e.id,putway:1===e.putway?2:1})},handleServiceCommand:function(e){var t=e[0],a=e[1];"rename"===t?this.showRename2(a):"offSet"===t?this.offSetService(a):"deleteService"===t?this.deleteService(a):"copy"===t?this.copyService(a):"copyUse"===t&&this.copyService(a,"copyUse")},copyService:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy";this.copyType=a,this.copyForm.id=e.id,this.copyDialogVisible=!0,this.$nextTick((function(e){t.$refs.copyFormRef.resetFields()}))},comfirmCopy:function(){var e=this;"copyUse"===this.copyType?(console.log("提交保存复用"),this.$refs.copyFormRef.validate((function(t){t&&e.$service.reuseReceptionist(e.copyForm,"复用成功").then((function(t){e.getServiceList(),e.copyDialogVisible=!1}))}))):this.$refs.copyFormRef.validate((function(t){t&&e.$service.copyServicer(e.copyForm,"复制成功").then((function(t){e.getServiceList(),e.copyDialogVisible=!1}))}))},handleSceneCommand:function(e){var t=e[0],a=e[1];"rename"===t?this.showRename(a):"putIn"===t?this.putInScene(a):"offSet"===t?this.offSetScene(a):"deleteScene"===t?this.deleteScene(a):"detail"===t?this.seeDevDetail(a):"report"===t?this.goToDynamicCrowdReport(a):"freshCache"===t&&this.freshCache(a)},freshCache:function(e){var t=this;this.$confirm("新建的人群策略将实时生效，旧的策略更新需要延时2小时生效","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.freshCache({policyId:e.policyId}).then((function(e){t.getSceneList(),t.$message({type:"info",message:e})}))}))},goToDynamicCrowdReport:function(e){var t=e.id,a=e.sceneName,i="storyReport";this.$router.push({path:"/dynamicReport",query:{id:t,sceneName:a,componentName:i,type:"story"}})},returnCrowd:function(){this.$router.push({name:"strategyList"})},showRename:function(e){this.rename=e.sceneName},showRename2:function(e){this.rename2=e.receptionist},putInScene:function(e){this.tempPolicyAndCrowd=wx(wx({},e),{},{policyName:e.sceneName,smart:!0}),this.showLaunchToBusiness=!0},offSetScene:function(e){this.editScene(wx(wx({},e),{},{putway:1===e.putway?2:1}))},deleteScene:function(e){var t=this;this.$confirm("此操作将永久删除该场景, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.editScene(wx(wx({},e),{},{delFlag:2}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getEntryListByReceptionistId:function(){var e=this,t={receptionistId:this.selectedServicer.id};this.$service.getEntryList(t).then((function(t){e.entryList=t||[]}))},getExportListByReceptionistId:function(){var e=this,t={receptionistId:this.selectedServicer.id};this.$service.getExportList(t).then((function(t){e.exportList=t||[]}))},selectScene:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,a){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.getIsAllSetNextId(),!i&&this.havePermissionsToCheck){e.next=13;break}return this.activeIndex=t,n=this.sceneList.find((function(e){return e.id===t})),this.selectedScene=n||{},this.searchServicer="",e.next=8,this.getSceneCanReuse();case 8:this.getServiceList("list",a),this.isShowSceneChartData=!1,this.getSceneFlowChart(),e.next=14;break;case 13:alert(this.tipMsg);case 14:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),selectServicer:function(e){console.log("havePermissionsToCheck===>",this.havePermissionsToCheck);var t=this.getIsAllSetNextId();if(t||!this.havePermissionsToCheck){this.activeIndex2Id=Number(e);var a=this.servicer.find((function(t){return Number(t.id)===Number(e)}));this.selectedServicer=a||{},this.getEntryListByReceptionistId(),this.getExportListByReceptionistId()}else alert(this.tipMsg)},getServiceList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"list",a=arguments.length>1?arguments[1]:void 0,i={sceneId:this.selectedScene.id,keywords:this.searchServicer,pageNum:1,pageSize:1e3};this.servicer=[],Fk({method:"get",url:"/api/receptionist/list"}),this.getServicerLoading=!0,this.$service.getReceptionistList(i).then((function(i){if(e.servicer=i.data||[],e.selectedServicer={},e.entryList=[],e.exportList=[],e.getServicerLoading=!1,e.servicer.length>0){a&&(e.activeIndex2Id=a);var n=e.servicer.find((function(t){return t.id===e.activeIndex2Id}));e.activeIndex2Id=n?n.id:e.servicer[0].id,"add"===t&&(e.activeIndex2Id=e.servicer[0].id),e.selectServicer(e.activeIndex2Id)}}))},getSceneList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"list",a={keywords:this.searchScene,pageNum:1,pageSize:1e3};this.sceneList=[],this.$service.getSceneList(a).then((function(a){if(e.sceneList=a.data||[],e.sceneList.length>0){var i=e.$route.params.sceneId||e.activeIndex,n=e.sceneList.find((function(e){return e.id===i}));e.activeIndex=n?n.id:e.sceneList[0].id,"add"===t&&(e.activeIndex=e.sceneList[0].id),e.selectScene(e.activeIndex)}}))},getSceneCanReuse:function(){var e=this;if(Fk({method:"get",url:"/api/scene/getAccess"}),this.sceneCanReuse=!1,this.selectedScene.id){var t={id:this.selectedScene.id};return this.$service.getSceneCanReuse(t).then((function(t){e.sceneCanReuse=t||!1}))}},handelRename:function(e){if(!this.rename)return this.$message.error("请输入名称");this.editScene(wx(wx({},e),{},{sceneName:this.rename})),this.handelClosePop()},editScene:function(e){var t=this;this.$service.editScene(e).then((function(e){t.getSceneList()}))},editReceptionist:function(e,t){var a=this;this.$service.editReceptionist(e).then((function(e){"no-refresh-list"!==t&&a.getServiceList()}))},handelClosePop:function(){var e=this.$refs.pop;e.forEach((function(e){e.doClose()}))},addScene:function(){this.dialogVisible=!0},addServicer:function(){var e=this;this.multiAddStep=0,this.dialogVisible2=!0,this.getType(),this.$nextTick((function(){e.formServicer.type=!1,e.$refs.formServicerRef.resetFields()}))},getType:function(){var e=this,t={sceneId:this.selectedScene.id};this.$service.getReceptionistType(t).then((function(t){e.currentSceneHasDoudi=t||!1}))},confirmAddScene:function(){var e=this;this.$refs.formSceneRef.validate((function(t){if(t){var a={sceneName:e.formScene.name};e.$service.addScene(a).then((function(t){e.getSceneList("add"),e.dialogVisible=!1}))}}))},confirmAddServicer:function(){var e=this;this.$refs.formServicerRef.validate((function(t){if(t){var a=wx(wx({sceneId:e.selectedScene.id,policyId:e.selectedScene.policyId},e.formServicer),{},{type:e.formServicer.type?1:0});e.$service.addReceptionist(a).then((function(t){e.getServiceList("add"),e.dialogVisible2=!1}))}}))}}},Sx=_x,kx=(a("69d0"),Object(U["a"])(Sx,IS,xS,!1,null,"36882d48",null)),Ix=kx.exports,xx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header-wrap"},[a("div",{staticClass:"search-input"},[a("el-select",{staticStyle:{width:"140px","margin-right":"10px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.searchForm.bizId,callback:function(t){e.$set(e.searchForm,"bizId",t)},expression:"searchForm.bizId"}},[a("el-option",{attrs:{label:"便捷面板",value:1}})],1),a("el-input",{attrs:{placeholder:"任务名、ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.searchForm.keywords,callback:function(t){e.$set(e.searchForm,"keywords",t)},expression:"searchForm.keywords"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.fetchData},slot:"append"})],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[a("a",{staticClass:"fa fa-plus",staticStyle:{color:"white"}}),e._v("新增\r\n    ")])],1),a("c-table",{staticClass:"list-table",attrs:{props:e.table.props,header:e.table.header,data:e.table.data}}),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.pagination.page,pagesize:e.pagination.pageSize,totalcount:e.pagination.total},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:e.form.id?"编辑运营任务":"新建运营任务",visible:e.dialogFormVisible,width:"800px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,"label-width":e.formLabelWidth,rules:e.rules}},[a("el-form-item",{staticClass:"inline-form-item",attrs:{label:"任务ID",prop:"taskCode"}},[a("el-input",{attrs:{autocomplete:"off",disabled:Boolean(e.form.id)},model:{value:e.form.taskCode,callback:function(t){e.$set(e.form,"taskCode",t)},expression:"form.taskCode"}})],1),a("el-form-item",{staticClass:"inline-form-item",attrs:{label:"任务名",prop:"taskName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.taskName,callback:function(t){e.$set(e.form,"taskName",t)},expression:"form.taskName"}})],1),a("el-form-item",{attrs:{label:"绑定人群",prop:"binds"}},[a("div",{staticClass:"list-header"},[a("span",[e._v("方案")]),a("span",[e._v("人群")]),a("span",[e._v("可拖拽")]),a("span",[e._v("优先级")])]),a("drag",{attrs:{bizId:e.searchForm.bizId,form:e.form}}),a("div",{staticClass:"remark"},[e._v("备注：优先级从高到低，拖动以调整优先级，当同时命中多个人群时返回优先级高的人群")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{on:{click:e.handleSaveDraft}},[e._v("保存草稿")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("投 放")])],1)],1),a("el-dialog",{attrs:{visible:e.showViewEffect,width:"80%",title:"投后效果"},on:{"update:visible":function(t){e.showViewEffect=t}}},[a("viewEffectDialog",{attrs:{row:e.currentRow}})],1),a("el-dialog",{attrs:{title:"查看配置",visible:e.showConfiguration},on:{"update:visible":function(t){e.showConfiguration=t}}},[a("c-content-wrapper",{attrs:{pagination:e.detailPagination.pagination},on:{"filter-change":e.loadDetailList}},[a("c-table",{attrs:{data:e.seeDetailData.data,props:e.seeDetailData.props,header:e.seeDetailData.header}})],1)],1)],1)},Tx=[],Dx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div-wrap"},[a("draggable",{staticClass:"drag-wrap",attrs:{options:{animation:300}},on:{update:e.datadragEnd},model:{value:e.binds,callback:function(t){e.binds=t},expression:"binds"}},[a("transition-group",e._l(e.binds,(function(t,i){return a("div",{key:t.resourceCode+i,staticClass:"drag-item-wrap"},[a("div",{staticClass:"drag-item"},[a("el-form-item",{attrs:{prop:"binds."+i+".resourceCode",rules:{required:!0,message:"请选择方案",trigger:"change"}}},[a("el-select",{attrs:{placeholder:"请选择方案",clearable:""},on:{change:function(a){return e.resourceCodeChange(a,t)}},model:{value:t.resourceCode,callback:function(a){e.$set(t,"resourceCode",a)},expression:"item.resourceCode"}},[a("div",{staticClass:"options-wrap"},e._l(e.options,(function(t){return a("el-option",{key:t.resourceCode,attrs:{label:t.resourceCode,value:t.resourceCode}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.resourceCode))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.resourceName))])])})),1),a("div",{staticClass:"operate-wrap"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{prop:"resourceCode"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"业务方的方案ID"},model:{value:e.formInline.resourceCode,callback:function(t){e.$set(e.formInline,"resourceCode",t)},expression:"formInline.resourceCode"}})],1),a("el-form-item",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"备注（可选）"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPlan.apply(null,arguments)}},model:{value:e.formInline.resourceName,callback:function(t){e.$set(e.formInline,"resourceName",t)},expression:"formInline.resourceName"}})],1)],1),a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.addPlan}},[e._v("添加方案")])],1),a("div",{staticClass:"operate-wrap",attrs:{slot:"empty"},slot:"empty"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{prop:"resourceCode"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"业务方的方案ID"},model:{value:e.formInline.resourceCode,callback:function(t){e.$set(e.formInline,"resourceCode",t)},expression:"formInline.resourceCode"}})],1),a("el-form-item",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"备注（可选）"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPlan.apply(null,arguments)}},model:{value:e.formInline.resourceName,callback:function(t){e.$set(e.formInline,"resourceName",t)},expression:"formInline.resourceName"}})],1)],1),a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.addPlan}},[e._v("添加方案")])],1)])],1),a("span",{staticClass:"text-tip"},[e._v("绑定")]),a("el-form-item",{attrs:{prop:"binds."+i+".crowdId",rules:{required:!0,message:"请选择人群",trigger:"change"}}},[a("el-select",{staticClass:"select-wrap",attrs:{placeholder:"请选择人群",filterable:!0,remote:!0,"remote-method":e.getCrowdList,clearable:""},on:{"visible-change":function(t){return e.getCrowdList("")},change:function(a){return e.crowdIdChange(a,t)}},model:{value:t.crowdId,callback:function(a){e.$set(t,"crowdId",a)},expression:"item.crowdId"}},[a("el-option-group",{attrs:{label:"人群列表"}},[a("div",{staticClass:"options2-wrap"},e._l(e.crowdList,(function(e){return a("el-option",{key:e.crowdId,attrs:{label:e.crowdName,value:e.crowdId}})})),1)]),0===e.crowdList.length?a("div",{staticClass:"empty-text"},[e._v("无数据")]):e._e(),a("el-option-group",{attrs:{label:"全量兜底"}},[a("el-option",{key:i,attrs:{label:"全量兜底",value:0}})],1)],1)],1),a("i",{staticClass:"el-icon-s-operation"})],1),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.cutColor(i)}}})])})),0)],1),e._m(0),a("div",{staticClass:"box-fotter"},[a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addColor}},[e._v("添加绑定")])],1)],1)},$x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"direction-wrap"},[a("div",{staticClass:"table-cell-wrap-icon"},[a("span",[e._v("高")]),a("span",[e._v("低")])]),a("div",{staticClass:"arrow-wrap"},[a("div",{staticClass:"arrow"})])])}];function Lx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Nx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lx(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ox={props:{bizId:{type:[String,Number],default:1},form:{type:Object,default:function(){}}},watch:{"form.binds":{handler:function(e){this.binds=e||[]},deep:!0,immediate:!0},binds:{handler:function(e){this.form.binds=e},deep:!0}},data:function(){return{formInlineRule:{required:!0,message:"请输入任务ID",trigger:"blur"},binds:[],formInline:{resourceCode:"",resourceName:""},msg:"这是测试组件",options:[{id:0,label:"方案1"},{id:1,label:"方案2"},{id:2,label:"方案3"},{id:3,label:"方案4"},{id:4,label:"方案5"},{id:5,label:"方案6"},{id:6,label:"方案7"}],crowdList:[],startArr:[],endArr:[],count:0}},components:{draggable:LS.a},methods:{resourceCodeChange:function(e,t){console.log("e--\x3e",e),console.log("eitem--\x3e",t);var a=this.options.find((function(t){return e===t.resourceCode}));console.log("obj----\x3e",a),t.resourceId=a?a.id:"",t.resourceName=a?a.resourceName:"",t.priority=""},crowdIdChange:function(e,t){if(console.log("e--\x3e",e),console.log("eitem--\x3e",t),0===e)t.bindType=2,t.policyId=null,t.crowdName="全量托底";else{t.bindType=1;var a=this.crowdList.find((function(t){return e===t.crowdId}));console.log("obj----\x3e",a),t.policyId=a?a.policyId:"",t.crowdName=a?a.crowdName:""}},addPlan:function(e){var t=this;if(""===this.formInline.resourceCode)return this.$message.error("请输入业务方的方案ID");var a=Nx({bizId:this.bizId},this.formInline);this.$service.saveAssistantResource(a,"添加成功").then((function(e){t.formInline={resourceCode:"",resourceName:""},t.getAssistantResourceList()}))},getAssistantResourceList:function(){var e=this,t={bizId:this.bizId,pageNum:1,pageSize:500};this.$service.getAssistantResourceList(t).then((function(t){e.options=t.row||[]}))},cutColor:function(e){this.binds.splice(e,1)},addColor:function(){this.binds.push({resourceCode:"",resourceName:""})},datadragEnd:function(e){e.preventDefault(),console.log("拖动前的索引 :"+e.oldIndex),console.log("拖动后的索引 :"+e.newIndex),console.log(this.binds)},getCrowdList:function(e){var t=this,a={crowdName:e,pageNum:1,pageSize:500};this.$service.getAssistantTaskCrowdList(a).then((function(e){t.crowdList=e.row||[]}))}},created:function(){this.getCrowdList(),this.getAssistantResourceList()},mounted:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}}},Px=Ox,Ex=(a("1cae"),Object(U["a"])(Px,Dx,$x,!1,null,"5835120e",null)),Ax=Ex.exports,Fx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"launch-statistics"},[a("div",{staticClass:"statistics-header"},[a("div",{staticClass:"date-picker"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.initChart},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1)]),e.show?a("div",e._l(e.rowObj,(function(t,i){return a("el-row",{key:i,staticClass:"unit-row",attrs:{gutter:20}},e._l(t,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[a("div",{staticClass:"unit-header clearfix"},[e._v(e._s(t.title))]),a("div",{staticClass:"unit-content"},[e.allChartData[i]&&e.allChartData[i].series?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)])])])})),1)})),1):e._e()])},Vx=[];function Rx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function jx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Bx={name:"viewEffectDialog",props:{row:{type:Object,default:function(){}}},data:function(){return{colorList:["#6395f9","#35c493","#FD9E06","#ed49b4","#834ec2","#79efc9","#f9c956","#75bedc"],show:!0,allCharts:{},timeRange:[],allChartData:{},rowObj:[{request:{type:"line",title:"请求次数趋势",span:12},requestPvTotal:{type:"liquidFill",title:"请求统计（PV）",span:6},requestUvTotal:{type:"liquidFill",title:"请求统计（UV）",span:6}},{hit:{type:"line",title:"命中次数趋势",span:12},hitPvTotal:{type:"pie",title:"命中统计（PV）",span:6},hitUvTotal:{type:"pie",title:"命中统计（UV）",span:6}}],launchedExportUrl:void 0}},watch:{"row.id":{handler:function(e){var t=this;this.show=!1,this.initRange(),this.initChart(),this.$nextTick((function(){t.show=!0}))},immediate:!0}},mounted:function(){var e=this;window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{getMin:function(e){return e.sort((function(e,t){return e-t})),e[0]},initRange:function(){var e=this.row.start,t=this.row.end||this.$moment().format("YYYY-MM-dd"),a=+new Date(e),i=+new Date(e)+2592e6,n=(new Date,+new Date(t)),r=0;r=this.getMin([i,n]),console.log("111---\x3e",r);var s=this.formatDate(a),o=this.formatDate(r);this.timeRange=[s,o]},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),i=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(i,"-").concat(n)},initChart:function(){var e=this;this.allChartData={};var t={taskId:this.row.id,start:this.timeRange[0],end:this.timeRange[1]};this.$service.getEffect(t).then((function(t){for(var a in console.log("res---\x3e",t),e.allChartData={},t)e.allChartData[a]="request"===a?t[a].data:"hitPvTotal"===a||"hitUvTotal"===a?{series:t[a]}:"requestPvTotal"===a||"requestUvTotal"===a?{series:t[a],unit:"requestUvTotal"===a?"设备量":"次"}:t[a];e.$nextTick((function(){var t=e.rowObj;t.forEach((function(t){for(var a in t)"line"===t[a].type?e.showLine(e.allChartData[a],a):"pie"===t[a].type?e.showPie(e.allChartData[a],a):e.showLiquidFill(e.allChartData[a],a)}))}))}))},showLine:function(e,t){if(e&&e.xaxis){var a=e.series||[],i=a.map((function(e){return e.name})),n=a.map((function(t){if("%"===e.yunit){var a=t.value.map((function(e){return 100*e}));return{name:t.name,data:a,type:"line"}}return{name:t.name,data:t.value,type:"line"}}));this.setLinesEchart(t,"",e.xaxis,n,i,e.xunit,e.yunit)}},setLinesEchart:function(e,t,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=a("313e"),c=l.init(document.getElementById(e)),d=this;c.setOption({title:{text:t},tooltip:{trigger:"axis"},legend:{data:r},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",formatter:function(e){return e+s}}},yAxis:{type:"value",axisTick:{inside:!0},scale:!0,axisLabel:{formatter:function(e){return e>=1e8?e=e/1e8+"亿"+o:e>=1e7?e=e/1e7+"千万"+o:e>=1e4&&e<1e7?e=e/1e4+"万"+o:e+=o,e}}},color:d.colorList,series:n},!0),this.allCharts[e]=c},showPie:function(e,t){if(console.log("showBar======111>>>",e),e&&e.series){var a=e.series.map((function(e,t){return jx(jx({},e),{},{value:e.count})}));console.log("d==------------------------\x3e",a),console.log("d==------------------------\x3e",t),this.setPie(t,a)}},setPie:function(e,t){var i=document.getElementById(e);if(i){var n=this,r={tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{bottom:10,left:"center"},color:n.colorList,series:[{type:"pie",radius:"45%",center:["50%","50%"],selectedMode:"single",data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},s=a("313e"),o=s.init(i);o.setOption(r),this.allCharts[e]=o}},showLiquidFill:function(e,t){console.log("showBar======111>>>",e),this.setLiquidFill(t,e.series,e.unit)},setLiquidFill:function(e,t,i){var n=document.getElementById(e);if(n){var r=this,s={color:r.colorList,series:[{type:"liquidFill",radius:"45%",itemStyle:{normal:{color:r.colorList[0],opacity:.8,shadowColor:r.colorList[0],shadowBlur:20}},backgroundStyle:{shadowColor:"rgba(255, 255, 255, 0.5)",shadowBlur:20},data:[{value:.8,waveLength:100,totalData:t}],label:{color:"#02CDF6",normal:{textStyle:{fontSize:16},formatter:function(e){console.log("param---\x3e",e);var t="累计请求\n\n";return t=t+r.cc_format_number(e.data.totalData)+"  "+i,t}}},outline:{show:!1}}]},o=a("313e"),l=o.init(n);l.setOption(s),this.allCharts[e]=l}}}},Mx=Bx,zx=(a("23c5"),Object(U["a"])(Mx,Fx,Vx,!1,null,"39c5e9e6",null)),qx=zx.exports;function Jx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Gx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jx(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ux={name:"peoplePositionList",data:function(){var e=this;return{detailPagination:{filter:{},pagination:{pageSize:10,currentPage:1,total:0},taskCode:null},showConfiguration:!1,seeDetailData:{props:{border:!0},data:[],header:[{label:"版本号",prop:"versionId"},{label:"文件名称",prop:"fileName"},{label:"创建时间",prop:"createTime"},{label:"操作",width:"100px",render:function(e,t){var a=t.row;return e("el-popover",{attrs:{placement:"left",width:"600",trigger:"click"}},[e("el-input",{props:{type:"textarea",rows:8,readonly:!0,value:a.content,autosize:{minRows:10,maxRows:20}},class:"get-setting"}),e("el-button",{props:{type:"text"},slot:"reference"},"查看配置")])}}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5||e.getTime()>Date.now()+7776e6}},currentTaskId:"",rules:{taskCode:[{required:!0,message:"请输入任务ID",trigger:"blur"}],taskName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],binds:{type:"array",required:!0,message:"请设置绑定人群",trigger:"blur"}},dialogFormVisible:!1,searchForm:{bizId:1,keywords:""},form:{},formLabelWidth:"95px",pagination:{pageNum:1,pageSize:10,total:0},table:{props:{"row-class-name":this.tableRowClassName},header:[{label:"id",prop:"id"},{label:"任务ID",prop:"taskCode"},{label:"任务名",prop:"taskName"},{label:"绑定详情(人群有交叉时优先展示优先级高的绑定方案)",width:"320px",render:function(e,t){var a=t.row,i=a.binds||[],n=[];return i.forEach((function(t){t.resourceName&&t.crowdName&&n.push(e("div",[e("span",t.resourceName),e("span",{class:"text-tip"},"绑定"),e("span",t.crowdName)]))})),e("div",{class:"table-cell-wrap"},[e("div",{class:"table-cell-wrap-icon"},[e("span","高"),e("span","低")]),e("div",{class:"arrow-wrap"},[e("div",{class:"arrow"})]),e("div",n)])}},{label:"状态",render:function(e,t){var a=t.row,i={1:"生效中",2:"已下架",3:"草稿",4:"未开始（未到投放周期）",5:"已过期（已过投放周期内）"};return i[a.status]}},{label:"创建人",prop:"userName"},{label:"创建时间",prop:"createTime"},{label:"操作",fixed:"right",width:"200px",render:function(t,a){var i=function(i,n,r){return t("el-button",{props:{type:"text",disabled:3===a.row.putway&&"handleOffSet"===n},on:{click:function(){e[n](a)}}},i)};return t("div",null,[i("编辑","handleEdit"),i(1===a.row.putway?"下架":"上架","handleOffSet"),i("删除","handleDelete"),i("投后效果","handleViewEffectDialog"),i(1===a.row.synchronous?"未同步":"已同步","freshCache"),i("查看配置","seeDevDetail")])}}],data:[],selected:[],selectionType:"none"},showViewEffect:!1,currentRow:{}}},methods:{seeDevDetail:function(e){var t=e.row;this.showConfiguration=!0,this.detailPagination.taskCode=t.taskCode,this.loadDetailList()},loadDetailList:function(){var e=this,t={taskCode:this.detailPagination.taskCode,pageNum:this.detailPagination.pagination.currentPage,pageSize:this.detailPagination.pagination.pageSize};this.$service.getAssistantLuaList(t).then((function(t){e.seeDetailData.data=t.rows,e.detailPagination.pagination.total=t.total}))},freshCache:function(e){var t=this,a=e.row;this.$confirm("新建的人群策略将实时生效，旧的策略更新需要延时2小时生效","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.genLuaById({taskCode:a.taskCode},"操作成功").then((function(e){t.fetchData()}))}))},handleViewEffectDialog:function(e){var t=e.row;this.currentRow=t,this.showViewEffect=!0},tableRowClassName:function(e){var t=e.row;if(2===t.putway)return"gray-row"},initFormData:function(){return{bizId:1,taskCode:"",taskName:"",binds:[{resourceCode:"",resourceName:""},{resourceCode:"",resourceName:""}]}},handleOffSet:function(e){var t=this,a=e.row,i={id:a.id,putway:1===a.putway?2:1};this.$service.assistantTaskPutway(i).then((function(e){t.fetchData()}))},handleSaveDraft:function(){var e=this;if(""===this.form.taskCode||""===this.form.taskName)return this.$message.error("请输入 任务ID 和 任务名称 ");var t=Gx(Gx({},this.form),{},{putTime:Array.isArray(this.form.putTime)?this.form.putTime.join(","):this.form.putTime,priority:null,putway:3});this.$service.saveAssistantTask(t).then((function(t){e.fetchData(),e.dialogFormVisible=!1}))},handleSave:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(t){console.log("this.form--\x3e",e.form);var a=Gx(Gx({},e.form),{},{putTime:Array.isArray(e.form.putTime)?e.form.putTime.join(","):e.form.putTime,priority:null,putway:1});e.$service.saveAssistantTask(a).then((function(t){e.fetchData(),e.dialogFormVisible=!1}))}}))},handleSizeChange:function(e){this.pagination.pageSize=e,this.pagination.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.pagination.pageNum=e,this.fetchData()},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.$nextTick((function(t){e.form=e.initFormData(),e.$refs.ruleForm.resetFields()}))},handleEdit:function(e){var t=this,a=e.row,i={id:a.id};this.$service.getAssistantTaskDetail(i).then((function(e){t.form=Gx(Gx({},e),{},{putTime:e.putTime?e.putTime.split(","):[]}),t.dialogFormVisible=!0,t.$nextTick((function(){t.$refs.ruleForm.clearValidate()}))}))},handleDelete:function(e){var t=this,a=e.row;this.$confirm("确定删除此任务吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={id:a.id,delFlag:2};t.$service.delAssistantTask(e,"删除成功").then((function(){t.fetchData()}))}))},fetchData:function(){var e=this,t=Gx(Gx({},this.pagination),this.searchForm);this.$service.assistantTaskList(t).then((function(t){e.table.data=t.row,e.pagination.total=t.total}))}},created:function(){this.fetchData(),this.form=this.initFormData()},components:{drag:Ax,viewEffectDialog:qx}},Hx=Ux,Kx=(a("ab6f"),Object(U["a"])(Hx,xx,Tx,!1,null,"638b2e45",null)),Qx=Kx.exports,Wx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"label-square"}},[a("div",{staticClass:"search-all-input"},[a("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"支持按标签名、Code、描述全局搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchAllVal,callback:function(t){e.searchAllVal=t},expression:"searchAllVal"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{plain:""},on:{click:e.handleReset}},[e._v("\n      重置\n    ")])],1),e.filter.tagName?a("div",{staticClass:"other-form",staticStyle:{"padding-top":"45px"}},[a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,loading:e.loading,"check-list-parent":e.checkList,"show-selection":e.showSelection,"current-selected-tags":e.tagList},on:{"change-checkList":e.handleCheckListChange,"table-selected":e.handleGetTableSelectedData}}),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):a("el-tabs",{staticClass:"label-square-tabs",on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"统计",name:"total"}},[a("Total")],1),a("el-tab-pane",{attrs:{label:"大数据标签",name:"bigDataTag"}},[a("BigDataTag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"第三方标签",name:"third"}},[a("third-party-tag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1),a("el-tab-pane",{attrs:{label:"自定义标签",name:"customTag"}},[a("custom-tag",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1)],1)],1)},Yx=[],Zx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"total-wrap"},[a("div",{staticClass:"max-top box"},[a("div",{staticClass:"title"},[e._v("使用最多TOP30")]),a("div",{staticClass:"content-wrap"},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-style":"overflow-x: hidden;"}},[a("div",{staticClass:"lists-wrap"},e._l(e.topMax30,(function(t,i){return a("div",{key:i,staticClass:"lists-item"},[a("span",{staticClass:"item-index"},[e._v(e._s(i+1)+"、")]),e._v("\n            "+e._s(t.tagName)+"\n            "),a("span",{staticClass:"item-type"},[e._v(e._s(t.tagCategory))])])})),0)])],1)]),a("div",{staticClass:"min-top box"},[a("div",{staticClass:"title"},[e._v("使用最少TOP30")]),a("div",{staticClass:"content-wrap"},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{"wrap-style":"overflow-x: hidden;"}},[a("div",{staticClass:"lists-wrap"},e._l(e.topMin30,(function(t,i){return a("div",{key:i,staticClass:"lists-item"},[a("span",{staticClass:"item-index"},[e._v(e._s(i+1)+"、")]),e._v("\n            "+e._s(t.tagName)+"\n            "),a("span",{staticClass:"item-type"},[e._v(e._s(t.tagCategory))])])})),0)])],1)]),a("div",{staticClass:"chart-box box"},e._l(e.rowObj,(function(t,i){return a("div",{key:i},e._l(t,(function(t,i){return a("div",{key:i,attrs:{span:t.span}},[a("div",{staticClass:"unit-box"},[e.show&&t.title?a("div",[e.allChartData[i]&&(e.allChartData[i].series&&e.allChartData[i].series.length>0||e.allChartData[i].data)?a("div",{ref:i,refInFor:!0,staticClass:"chart-div",attrs:{id:i}}):a("div",{staticClass:"chart-div"},[a("el-empty",{attrs:{description:"暂无数据"}})],1)]):e._e()])])})),0)})),0)])},Xx=[];function eT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function tT(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function aT(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=iT(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function iT(e,t){if(e){if("string"===typeof e)return nT(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?nT(e,t):void 0}}function nT(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var rT={components:{},data:function(){return{topMax30:[],topMin30:[],rowObj:[{classification:{type:"pie",title:"标签来源占比",span:24}},{addTags:{type:"bar",title:"各权益付费人数及占比",span:24}}],show:!0,allCharts:{},allChartData:{classification:{data:[{count:30,name:"电视剧",percent:"76.92%"},{count:29,name:"电影",percent:"74.36%"},{count:24,name:"综艺",percent:"61.54%"},{count:14,name:"动漫",percent:"35.90%"},{count:14,name:"儿童",percent:"35.90%"},{count:3,name:"纪录片",percent:"7.69%"},{count:1,name:"游戏",percent:"2.56%"},{count:1,name:"其他",percent:"2.56%"}]},addTags:{xaxis:["影视VIP","酷奇异果VIP","4K花园"],yunit:"",dataaxis:["0.38%","0.00%","99.62%"],series:[39,0,10228],series2:null,xunit:""}},colorList:["#5470C6","#91CC75","#FAC858","#EE6666","#7ED3F4","#40B27D","#FC8452","#A969C6"]}},created:function(){this.fetchData()},mounted:function(){var e=this;window.addEventListener("resize",(function(){for(var t=0,a=Object.keys(e.allCharts);t<a.length;t++){var i=a[t],n=e.allCharts[i];n.resize()}}))},methods:{fetchData:function(){var e=this;this.$service.getTagStatistics().then((function(t){e.topMax30=t.topMax30,e.topMin30=t.topMin30,e.allChartData={addTags:t.addTags,classification:{data:t.classification,title:"标签来源占比"}},e.drawChart(),console.log("this.allChartData===",e.allChartData)}))},drawChart:function(){var e=this,t=this.rowObj;t.forEach((function(t){for(var a in t)"bar"===t[a].type?e.showBar(e.allChartData[a],a):"pie"===t[a].type&&e.showPie(e.allChartData[a],a)}))},showBar:function(e,t){e&&e.xaxis&&e.xaxis.length>0&&("%"===e.yunit&&(e.series=e.series.map((function(e){return 100*e}))),this.setBarEchart(t,e.title,e.xaxis,e.series,e.xunit,e.yunit,e.dataaxis))},setBarEchart:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=document.getElementById(e);if(o){var l=this,c=a("313e"),d=c.init(o);d.setOption({title:{text:t},tooltip:{trigger:"axis",formatter:function(e){var t,a=e[0].seriesName+"<br/>"+e[0].marker,i=aT(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;a=a+n.name+": "+l.cc_format_number(n.value)+s+"<br/>"}}catch(r){i.e(r)}finally{i.f()}return a}},color:l.colorList,dataZoom:[{disabled:n.length<=10,type:"inside"},{show:n.length>10,type:"slider"}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:i,axisLabel:{interval:"auto",rotate:n.length>10?-45:0,formatter:function(e){return e+r}}},yAxis:{type:"value",width:"50px",triggerEvent:!0,scale:!0,axisLabel:{interval:"auto",formatter:function(e){return e>=1e8?e=e/1e8+"亿"+s:e>=1e7?e=e/1e7+"千万"+s:e>=1e4&&e<1e7?e=e/1e4+"万"+s:e+=s,e}}},series:[{name:t,data:n,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},barWidth:n.length>10?"30%":20}]},!0),"vipPkgShow"!==e&&"vipPkgXiadan"!==e&&"vipPkgPay"!==e&&"vipPlay"!==e||(d.getZr().off("click"),d.getZr().on("click",(function(e){var t=[e.offsetX,e.offsetY];if(d.containPixel("grid",t)){var a=d.convertFromPixel({seriesIndex:0},[e.offsetX,e.offsetY])[0],n=i[a];l.onSubmit(n)}}))),this.allCharts[e]=d}},showPie:function(e,t){if(console.log("showBar======111>>>",e),e&&e.data){var a=e.data.map((function(e,t){return tT(tT({},e),{},{value:e.count||e.value})}));this.setPie(t,a,e.title)}},setPie:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.getElementById(e);if(n){var r=this,s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:i},legend:{x:"right",y:"center",backgroundColor:"transparent",itemHeight:10,itemWidth:20,orient:"vertical",type:"scroll",pageIconSize:8,pageIconColor:"#2C86FF",pageIconInactiveColor:"rgba(44,132,251,0.40)",pageTextStyle:{color:"#999"},align:"left",textStyle:{color:"#464c54",rich:{name:{fontSize:14,height:30,color:"#011"},num:{fontSize:12,fontWeight:100,color:"#000"}}}},color:r.colorList,series:[{type:"pie",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:t}]},o=a("313e"),l=o.init(n);l.setOption(s),this.allCharts[e]=l}}}},sT=rT,oT=(a("71d6"),Object(U["a"])(sT,Zx,Xx,!1,null,"aafc16a4",null)),lT=oT.exports;function cT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function dT(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var uT={name:"crowdCompute",components:{Total:lT,BigDataTag:Db,ThirdPartyTag:zb,CustomTag:Qy,tagList:dg},data:function(){return{dataList:[],filter:{groupId:void 0,tagName:void 0},pagination:{pageNum:1,pageSize:10,total:0},dataSourceEnum:{},typeEnum:{},loading:!0,searchAllVal:"",activeName:"total",searchVal:"",labelZoneTagName:void 0,myCollectTagName:void 0,checkList:[],tagList:[],showSelection:!1,tempCheckList:[]}},methods:{handleReset:function(){this.searchAllVal="",this.handleSearch()},handleSizeChange:function(e){this.pagination.pageSize=e,this.handleSearch()},handleCurrentChange:function(e){this.pagination.pageNum=e,this.handleSearch()},handleSearch:function(){var e=this,t=this.searchAllVal;this.filter.tagName=t;var a=dT(dT(dT({},this.filter),this.pagination),{},{groupId:0});this.$service.getTagGroupTreeList(a).then((function(t){e.dataList=t.pageInfo.list,e.dataSourceEnum=t.lableDataSourceEnum,e.typeEnum=t.tagsTypeEnum,e.loading=!1,e.pagination.total=t.pageInfo.total}))},fetchCheckListData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow?e.checkList=t.behaviorShow.split(","):e.checkList=["defineRemark"]}))},fetchTempCheckListData:function(){var e=this;this.$service.getListDimension({type:5}).then((function(t){t&&t.behaviorShow?e.tempCheckList=t.behaviorShow.split(","):e.tempCheckList=["defineRemark"]}))},handleTabChange:function(){switch(this.activeName){case"bigDataTag":this.$root.$emit("big-data-list-refresh");break;case"third":this.$root.$emit("third-list-refresh");break;case"customTag":this.$root.$emit("custom-tag-list-refresh");break}},handleClearSearch:function(){this.searchVal=void 0,this.labelZoneTagName=void 0,this.myCollectTagName=void 0},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})},handleGetTableSelectedData:function(e,t){var a=this.tagList;if("add"===t){for(var i=-1,n=0;n<a.length;n++)if(a[n].tagId===e.tagId)return void(i=n);-1===i&&this.tagList.push(e)}else for(var r=-1,s=0;s<a.length;s++)if(a[s].tagId===e.tagId)return r=s,void this.tagList.splice(r,1)}},created:function(){this.fetchCheckListData(),this.fetchTempCheckListData()}},hT=uT,pT=(a("4bd7"),Object(U["a"])(hT,Wx,Yx,!1,null,"516695f8",null)),mT=pT.exports,fT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-content"},[a("el-tabs",{staticClass:"label-content-wrap",on:{"tab-click":e.handleTabChange},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"临时标签",name:"tempLabel"}},[a("temp-label-index",{attrs:{crowdType:2,"show-selection":e.showSelection,currentSelectTag:e.tagList,checkList:e.tempCheckList},on:{"get-table-selected":e.handleGetTableSelectedData,"change-checkList":e.handleTempCheckListChange}})],1),a("el-tab-pane",{attrs:{label:"行为标签",name:"behaviorLabel"}},[a("temp-label-index",{attrs:{crowdType:3,"show-selection":e.showSelection,currentSelectTag:e.tagList,checkList:e.tempCheckList},on:{"get-table-selected":e.handleGetTableSelectedData,"change-checkList":e.handleTempCheckListChange}})],1),a("el-tab-pane",{attrs:{label:"数据银行标签",name:"bankLabel"}},[a("temp-label-index",{attrs:{crowdType:4,"show-selection":e.showSelection,currentSelectTag:e.tagList,checkList:e.tempCheckList},on:{"get-table-selected":e.handleGetTableSelectedData,"change-checkList":e.handleTempCheckListChange}})],1),a("el-tab-pane",{attrs:{label:"模型标签",name:"modelLabel"}},[a("ModelLabelIndex",{attrs:{checkList:e.checkList,"show-selection":e.showSelection,currentSelectTag:e.tagList},on:{"clear-search":e.handleClearSearch,"change-checkList":e.handleCheckListChange,"get-table-selected":e.handleGetTableSelectedData}})],1)],1),e.showSelection?a("div",[a("div",[e._v("已选标签：")]),e._l(e.tagList,(function(t,i){return a("el-tag",{key:t.tagId+"_"+i,attrs:{type:e.dataSourceColorEnum[t.dataSource],closable:""},on:{close:function(a){return e.removeTag(t)}}},[e._v("\n      "+e._s(t.tagName)+"\n    ")])}))],2):e._e()],1)},vT=[],gT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temp-label"},[a("temp-label-list",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],attrs:{refreshFlag:e.refreshFlag,"show-selection":e.showSelection,currentSelectTag:e.currentSelectTag,"check-list-parent":e.checkList,crowdType:e.crowdType},on:{"show-add":e.handleShowAdd,"table-selected":e.handleTableSelected,"change-checkList":e.handleCheckListChange}}),e.showList?e._e():a("temp-label-add",{attrs:{editLaunchCrowdId:e.editLaunchCrowdId,editStatus:e.editStatus,crowdType:e.crowdType},on:{"cancel-add":function(t){e.showList=!0},changeStatus:e.handleRefreshList}}),a("el-dialog",{staticClass:"organSelect",attrs:{title:"请选择创建类型",visible:e.showSelectTypeDialog,width:"30%"},on:{"update:visible":function(t){e.showSelectTypeDialog=t}}},[a("el-row",{staticClass:"type-item",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-button",{on:{click:function(t){return e.addOrEditBySql()}}},[e._v("通过SQL创建")])],1),a("el-col",{attrs:{span:12}},[a("el-button",{on:{click:function(t){return e.addByLocalFile()}}},[e._v("通过导入本地文件创建")])],1)],1)],1)],1)},bT=[],yT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"temp-label-list"},[a("div",{staticClass:"header"},[e.showSelection?a("div"):a("div",[2===e.crowdType?a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n         新建\n       ")]):e._e(),3===e.crowdType?a("el-radio-group",{on:{change:e.fetchData},model:{value:e.myself,callback:function(t){e.myself=t},expression:"myself"}},[a("el-radio",{attrs:{label:0}},[e._v("全部")]),a("el-radio",{attrs:{label:1}},[e._v("我的")])],1):e._e()],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"search-input"},[a("el-input",{staticClass:"header-input",attrs:{placeholder:"支持按标签名、ID搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.launchName,callback:function(t){e.launchName=t},expression:"launchName"}}),a("i",{staticClass:"el-icon-cc-search icon-fixed",on:{click:e.fetchData}})],1),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"creatorName"}},[e._v("创建人")]),a("el-checkbox",{attrs:{label:"createTime"}},[e._v("创建时间")]),a("el-checkbox",{attrs:{label:"department"}},[e._v("业务部门")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)]),a("div",[a("el-table",{ref:"tempChangeTable",attrs:{data:e.tableData,border:""},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"投放ID"}}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"dmp人群投放ID",width:"120"}}),a("el-table-column",{attrs:{prop:"launchName",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"使用次数"}}),a("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.status?a("div",[t.row.history.status>=20&&t.row.history.status<30?a("div",[e._v("\n               "+e._s(t.row.history.process)+"\n             ")]):3===e.launchStatusEnum[t.row.history.status].code?a("div",[e._v("\n               计算完成\n             ")]):41===t.row.history.status?a("div",[e._v("\n               结果为0\n             ")]):2===e.launchStatusEnum[t.row.history.status].code&&23===e.launchStatusEnum[t.row.history.status].childrenCode?a("div",[e._v("\n               "+e._s(e.launchStatusEnum[t.row.history.status].childrenName)+"\n             ")]):1===e.launchStatusEnum[t.row.history.status].code||4===e.launchStatusEnum[t.row.history.status].code||7===e.launchStatusEnum[t.row.history.status].code?a("div",[4===e.crowdType?a("span",[e._v("计算")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.calculate(t.row)}}},[e._v("计算")])],1):5===e.launchStatusEnum[t.row.history.status].code?a("div",{staticStyle:{color:"red"}},[e._v("\n               计算失败\n               ")]):a("div",[e._v("\n               "+e._s(e.launchStatusEnum[t.row.history.status].name)+"\n             ")])]):e._e()]}}])}),e.checkList.indexOf("creatorName")>-1?a("el-table-column",{attrs:{label:"创建人",prop:"creatorName"}}):e._e(),e.checkList.indexOf("createTime")>-1?a("el-table-column",{attrs:{label:"创建时间",prop:"history.createTime"}}):e._e(),e.checkList.indexOf("department")>-1?a("el-table-column",{attrs:{label:"业务部门",prop:"department"}}):e._e(),a("el-table-column",{attrs:{label:"设备数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"微信数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(e.cc_format_number(t.row.history.totalWxOpenid))+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"总体耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(t.row.spentTotalTime)+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"dmp人群ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(t.row.dmpCrowdId)+"\n         ")]}}])}),a("el-table-column",{attrs:{label:"版本",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n           "+e._s(t.row.history.version)+"\n         ")]}}])}),e.showSelection?e._e():a("el-table-column",{attrs:{label:"操作",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[4!==e.crowdType?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.condition(t.row)}}},[e._v("\n               标签条件\n             ")]):e._e(),a("el-dropdown",{on:{command:e.handleCommandOpreate}},[a("el-button",{attrs:{size:"small",type:"text"}},[e._v("\n                 操作\n               ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[4!==e.crowdType?a("el-dropdown-item",{attrs:{command:["edit",t.row]}},[e._v("\n                   "+e._s(2!==e.crowdType?"查看":"编辑")+"\n                 ")]):e._e(),t.row.history.status&&2!==e.launchStatusEnum[t.row.history.status].code&&3!==e.crowdType?a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:delete",expression:"'hoder:launch:crowd:ver:delete'"}],attrs:{command:["del",t.row]}},[e._v("删除\n                 ")]):e._e(),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["monitor",t.row]}},[e._v("数据监控\n                 ")]),3===e.crowdType?a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["shenCeAnalysis",t.row]}},[e._v("\n                   神策分析\n                 ")]):e._e(),a("a",{ref:"launchedDownLoad",attrs:{href:e.launchedExportUrl,download:""}}),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{command:["export",t.row]}},[e._v("\n                   导出\n                 ")])],1)],1)],1)]}}],null,!1,1497589911)})],1),a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.currentPage,pagesize:e.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:e.launchTitle,visible:e.isShowCondition,width:e.selectStrategy.behaviorRulesJson?"1000px":"600px"},on:{"update:visible":function(t){e.isShowCondition=t}}},[a("div",{staticClass:"show-select-strategy"},[e.selectStrategy.behaviorRulesJson?a("div",[e._v(e._s(e.selectStrategy.behaviorRulesJson))]):e._e(),a("div",[e._v(e._s(e.selectStrategy.crowdSql?e.selectStrategy.crowdSql:"无数据"))])])]),a("el-dialog",{attrs:{title:"数据监控",visible:e.monitorDialog},on:{"update:visible":function(t){e.monitorDialog=t}}},[a("el-date-picker",{staticClass:"monitor-time",attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd"},on:{change:e.getDataMonitor},model:{value:e.monitorRangeTime,callback:function(t){e.monitorRangeTime=t},expression:"monitorRangeTime"}}),a("c-table",{staticClass:"table-overflow",attrs:{props:e.monitorTable.props,header:e.monitorTable.header,data:e.monitorTable.data}}),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.monitorOutForm.pageNum,pagesize:e.monitorOutForm.pageSize,totalcount:e.monitorTotal},on:{"handle-size-change":e.handleMonitorSizeChange,"handle-current-change":e.handleMonitorCurrentChange}})],1)],1)],1)},CT=[];function wT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wT(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ST={name:"TempLabel",props:{refreshFlag:{type:Boolean},showSelection:{type:Boolean},currentSelectTag:{type:Array},checkListParent:{type:Array},crowdType:{type:Number}},data:function(){return{launchedExportUrl:void 0,myself:1,tableData:[],filter:{},launchName:void 0,launchStatusEnum:{},pageSize:10,currentPage:1,totalCount:1,isShowCondition:!1,launchTitle:"",selectStrategy:{},checkList:[],monitorDialog:!1,monitorRangeTime:void 0,monitorOutForm:{pageSize:10,pageNum:1},monitorTotal:0,monitorTable:{props:{},header:[{label:"人群名称",prop:"launch_name"},{label:"dmp人群ID",prop:"dmp_crowd_id"},{label:"临时人群版本号",prop:"version"},{label:"当前版本",prop:"cur_version"},{label:"接收设备数量",prop:"receive_total_user"},{label:"设备数量",prop:"total_user"},{label:"临时人群es index",prop:"es_index"},{label:"状态",prop:"status_name"},{label:"临时人群同步日期",prop:"update_time"},{label:"版本是否删除",render:function(e,t){return e("div",{},[e("span",{},1===t.row.del_flag?"否":"是")])}}],data:[]}}},created:function(){this.$root.$on("temp-label-list-refresh-".concat(this.crowdType),this.fetchData),this.fetchData()},beforeDestroy:function(){this.$root.$off("temp-label-list-refresh-".concat(this.crowdType))},watch:{refreshFlag:function(e){e&&this.fetchData()},currentSelectTag:"updateTableSelected",checkListParent:function(e){this.checkList=e}},methods:{handleMonitor:function(e){this.monitorDialog=!0,this.selectedRow=e,this.getDataMonitor()},getDataMonitor:function(){this.handleGetMonitorTableList()},handleGetMonitorTableList:function(){var e=this,t=this.monitorRangeTime||[],a=t[0]||"",i=t[1]||"",n=_T({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i},this.monitorOutForm);this.$service.launchVersionList(n).then((function(t){t?(e.monitorTotal=t.pageInfo.total,e.monitorTable.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleMonitorSizeChange:function(e){this.monitorOutForm.pageSize=e,this.monitorOutForm.pageNum=1,this.handleGetMonitorTableList()},handleMonitorCurrentChange:function(e){this.monitorOutForm.pageNum=e,this.handleGetMonitorTableList()},fetchData:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize,launchName:this.launchName};3===this.crowdType&&(t.myself=this.myself),t.crowdType=this.crowdType,this.$service.getTempCrowdList(t).then((function(t){e.launchStatusEnum=t.launchStatusEnum,e.tableData=t.pageInfo.list,e.totalCount=t.pageInfo.total,e.showSelection&&e.updateTableSelected(),e.tableData.forEach((function(e){e.dataSource=1}))}))},handleCommandOpreate:function(e){var t=e[0],a=e[1];switch(t){case"edit":this.handleEdit(a);break;case"del":this.del(a);break;case"monitor":this.handleMonitor(a);break;case"shenCeAnalysis":this.handleShenCeAnalysis(a);break;case"export":this.handleExport(a);break}},handleExport:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var a,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.launchCrowdId,console.log("launchCrowdId",a),e.next=4,this.$service.checkMackFileIsExist({launchCrowdId:a}).then((function(e){return n.$message.info(e.msg),e.status||0}));case 4:i=e.sent,console.log("status",i),1===i&&(this.launchedExportUrl="/api/macExport/downloadMacFile?launchCrowdId="+a,this.$nextTick((function(){n.$refs.launchedDownLoad.click()})));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleShenCeAnalysis:function(e){var t=this,a=e.launchCrowdId;console.log("launchCrowdId",a),this.$service.sensorCrowdAnalysis({launchCrowdId:a}).then((function(e){console.log("res",e),e.result.indexOf("成功")>0||e.result.indexOf("已经发送")>0?t.$message.success(e.result):t.$message.info(e.result)}))},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},condition:function(e){var t=this;this.isShowCondition=!0,this.selectStrategy={},this.$service.getTempCrowd({launchCrowdId:e.launchCrowdId}).then((function(e){t.launchTitle="人群条件",t.selectStrategy=e||{}}))},del:function(e){var t=this,a=e.launchCrowdId;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delTempCrowd({launchCrowdId:a},"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))},handleEdit:function(e){this.$emit("show-add",e.launchCrowdId,this.launchStatusEnum[e.history.status].code)},calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.fetchData()}))},handleAdd:function(){this.$emit("show-add")},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.tempChangeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.tempChangeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.tableData;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectTag;this.tableData.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.tableData[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.tempChangeTable.clearSelection(),t.forEach((function(t){e.$refs.tempChangeTable.toggleRowSelection(t,!0)}))})):this.$refs.tempChangeTable.clearSelection()},handleCheckListChange:function(e){this.$emit("change-checkList",e)}}},kT=ST,IT=(a("11bc"),Object(U["a"])(kT,yT,CT,!1,null,"7e59b64a",null)),xT=IT.exports,TT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"title"},[e._v(e._s(e.title))])])],1),a("div",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"crowdDefineForm",attrs:{model:e.crowdDefineForm,rules:e.crowdDefineFormRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",disabled:void 0!==e.status&&(2===e.status||3===e.status),maxlength:50},model:{value:e.crowdDefineForm.launchName,callback:function(t){e.$set(e.crowdDefineForm,"launchName",t)},expression:"crowdDefineForm.launchName"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"crowdSql"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入生成临时人群的sql语句",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.crowdSql,callback:function(t){e.$set(e.crowdDefineForm,"crowdSql",t)},expression:"crowdDefineForm.crowdSql"}})],1),a("div",{staticClass:"horizontal-line"},[a("el-form-item",{attrs:{label:"每天是否更新",prop:"autoVersion"}},[a("el-radio-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.autoVersion,callback:function(t){e.$set(e.crowdDefineForm,"autoVersion",t)},expression:"crowdDefineForm.autoVersion"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),1===e.crowdDefineForm.autoVersion?a("el-form-item",{attrs:{label:"每天更新时间点",prop:"autoLaunchTime"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss",disabled:void 0!==e.status&&(2===e.status||3===e.status),"picker-options":{selectableRange:"9:00:00 - 23:59:59"}},model:{value:e.crowdDefineForm.autoLaunchTime,callback:function(t){e.$set(e.crowdDefineForm,"autoLaunchTime",t)},expression:"crowdDefineForm.autoLaunchTime"}}),a("el-checkbox",{staticStyle:{"margin-left":"20px"},attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.checkRecvPercentage,callback:function(t){e.$set(e.crowdDefineForm,"checkRecvPercentage",t)},expression:"crowdDefineForm.checkRecvPercentage"}},[e._v("开启人群波动阈值控制")])],1):e._e()],1),1===e.crowdDefineForm.autoVersion&&e.crowdDefineForm.checkRecvPercentage&&2===e.crowdType?a("div",{staticClass:"basic-line"},[a("el-form-item",{staticClass:"one-line",attrs:{label:"Mac数量基准"}},[a("el-form-item",{staticClass:"inline-block base-line",attrs:{label:"",prop:"macInitialValue"}},[a("cc-input-thousands-int",{ref:"inputThousandsInt",on:{change:e.handleRule},model:{value:e.crowdDefineForm.macInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"macInitialValue",t)},expression:"crowdDefineForm.macInitialValue"}})],1),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比低于","label-width":"100px",prop:"macBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.macBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"macBelowPer",t)},expression:"crowdDefineForm.macBelowPer"}})],1),e._v("  %，则告警\r\n                "),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比高于","label-width":"100px",prop:"macAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},model:{value:e.crowdDefineForm.macAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"macAbovePer",t)},expression:"crowdDefineForm.macAbovePer"}})],1),e._v("  %，则告警\r\n                "),a("span",[e._v("请至少填写一组基准和环比阀值")])],1),a("el-form-item",{staticClass:"one-line",attrs:{label:"微信数量基准"}},[a("el-form-item",{staticClass:"inline-block base-line",attrs:{label:"",prop:"wxInitialValue"}},[a("cc-input-thousands-int",{model:{value:e.crowdDefineForm.wxInitialValue,callback:function(t){e.$set(e.crowdDefineForm,"wxInitialValue",t)},expression:"crowdDefineForm.wxInitialValue"}})],1),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比低于","label-width":"100px",prop:"wxBelowPer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.wxBelowPer,callback:function(t){e.$set(e.crowdDefineForm,"wxBelowPer",t)},expression:"crowdDefineForm.wxBelowPer"}})],1),e._v("  %，则告警\r\n                "),a("el-form-item",{staticClass:"inline-block ratio",attrs:{label:"环比高于","label-width":"100px",prop:"wxAbovePer"}},[a("el-input-number",{attrs:{precision:2,min:1},on:{change:e.handleRule},model:{value:e.crowdDefineForm.wxAbovePer,callback:function(t){e.$set(e.crowdDefineForm,"wxAbovePer",t)},expression:"crowdDefineForm.wxAbovePer"}})],1),e._v("  %，则告警\r\n                "),a("span",[e._v("请至少填写一组基准和环比阀值")])],1),a("div",{staticClass:"basic-line-error"},[e._v(e._s(e.basicLineErrorText))])],1):e._e(),a("el-form-item",{attrs:{label:"该标签所属的视频源"}},[a("el-radio-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.videoSource,callback:function(t){e.$set(e.crowdDefineForm,"videoSource",t)},expression:"crowdDefineForm.videoSource"}},[a("el-radio",{attrs:{label:"0"}},[e._v("不区分")]),a("el-radio",{attrs:{label:"1"}},[e._v("区分")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"===e.crowdDefineForm.videoSource,expression:"crowdDefineForm.videoSource === '1'"}],attrs:{label:""}},[a("el-checkbox-group",{attrs:{disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.videoSourceIds,callback:function(t){e.$set(e.crowdDefineForm,"videoSourceIds",t)},expression:"crowdDefineForm.videoSourceIds"}},e._l(e.videoSourceList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.tagValueId}},[e._v(e._s(t.tagValue))])})),1)],1),a("el-form-item",{attrs:{label:"数据类型",prop:"calType"}},[a("el-checkbox-group",{attrs:{"aria-required":"true",disabled:void 0!==e.status&&(2===e.status||3===e.status)},model:{value:e.crowdDefineForm.calType,callback:function(t){e.$set(e.crowdDefineForm,"calType",t)},expression:"crowdDefineForm.calType"}},e._l(e.estimateItems,(function(t,i){return a("el-checkbox",{key:i,attrs:{value:i,label:i}},[e._v(e._s(t))])})),1)],1)],1)],1)],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAdd}},[e._v("返回")]),2===e.crowdType?a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("保存")]):e._e()],1)],1)],1)},DT=[];function $T(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=LT(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw r}}}}function LT(e,t){if(e){if("string"===typeof e)return NT(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?NT(e,t):void 0}}function NT(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var OT={components:{CcInputThousandsInt:Zd},data:function(){return{strategyPlatform:[],launchPlatform:[],getStrategyCrowds:[],title:"",basicLineErrorText:"",crowdDefineForm:{launchCrowdId:void 0,launchName:"",crowdSql:"",autoVersion:0,calType:["0"],autoLaunchTime:void 0,basicLine:void 0,macInitialValue:void 0,macAbovePer:void 0,macBelowPer:5,wxInitialValue:void 0,wxAbovePer:void 0,wxBelowPer:void 0,checkRecvPercentage:!1,videoSource:"0",videoSourceIds:[]},status:void 0,crowdDefineFormRules:{launchName:[{required:!0,message:"请输入人群名称",trigger:"blur"}],crowdSql:[{required:!0,message:"请输入SQL语句",trigger:"blur"}],autoVersion:[{required:!0,message:"请选择每天是否更新",trigger:"blur"}],autoLaunchTime:[{required:!0,message:"请选择每天更新时间点",trigger:"blur"}],calType:[{required:!0,message:"请至少勾选一项数据类型",trigger:"blur"}]},filterText:"",crowdData:[],effectTimeList:[],estimateItems:[],tagsList:[],formatTimeSet:void 0,firstTimeLoad:!1,alphaData:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],percent:[],copiesItem:[],videoSourceList:[]}},props:["editLaunchCrowdId","model","editStatus","crowdType"],watch:{"crowdDefineForm.videoSource":function(e){"0"===e&&(this.crowdDefineForm.videoSourceIds=[])}},created:function(){var e=this;this.getAddList(),this.handleGetVideoList(),null!=this.editLaunchCrowdId&&void 0!=this.editLaunchCrowdId?(this.title="编辑临时标签",3!==this.crowdType&&4!==this.crowdType||(this.title="查看"),this.$service.getTempCrowd({launchCrowdId:this.editLaunchCrowdId}).then((function(t){var a=t,i=a.macInitialValue,n=a.macAbovePer,r=a.macBelowPer,s=a.wxInitialValue,o=a.wxAbovePer,l=a.wxBelowPer;e.crowdDefineForm={launchCrowdId:a.launchCrowdId,launchName:a.launchName,crowdSql:a.crowdSql,autoVersion:a.autoVersion,calType:a.calType.split(","),autoLaunchTime:a.autoLaunchTime,macInitialValue:null===i?void 0:i,macAbovePer:null===n?void 0:n,macBelowPer:null===r?void 0:r,wxInitialValue:null===s?void 0:s,wxAbovePer:null===o?void 0:o,wxBelowPer:null===l?void 0:l,videoSource:"0"===a.videoSource?"0":"1",videoSourceIds:"0"===a.videoSource?[]:a.videoSource.split(","),checkRecvPercentage:Boolean(a.checkRecvPercentage)},e.status=e.editStatus,3!==e.crowdType&&4!==e.crowdType||(e.status=2)}))):this.title="新增临时标签"},methods:{callback:function(){this.$emit("changeStatus",!0)},removeTag:function(e){this.crowdForm.policyCrowdIds=this.crowdForm.policyCrowdIds.filter((function(t){if(t.split("_")[0]!=e)return t}))},handleRule:function(){var e=JSON.parse(JSON.stringify(this.crowdDefineForm)),t=e.macInitialValue,a=e.macBelowPer,i=e.wxInitialValue,n=e.wxBelowPer;t=t&&t.toString().replace(/,/g,""),i=i&&i.toString().replace(/,/g,""),this.validateBasicLine(t,a,i,n)},validateBasicLine:function(e,t,a,i){var n=(void 0===e||""===e)&&(void 0===t||""===t),r=(void 0===a||""===a)&&(void 0===i||""===i);return n&&r?(this.basicLineErrorText="请至少填写一组基准和环比阀值",!1):void 0===e||""===e||void 0!==t&&""!==t?void 0===t||""===t||void 0!==e&&""!==e?void 0===a||""===a||void 0!==i&&""!==i?void 0===i||""===i||void 0!==a&&""!==a?(this.basicLineErrorText="",!0):(this.basicLineErrorText="请把微信数量基准这个选项填写完整",!1):(this.basicLineErrorText="请把微信数量环比低于这个选项填写完整",!1):(this.basicLineErrorText="请把Mac数量基准这个选项填写完整",!1):(this.basicLineErrorText="请把Mac数量环比低于这个选项填写完整",!1)},addSubmit:function(){var e=this;this.$refs.crowdDefineForm.validate((function(t){if(!t)return!1;var a=JSON.stringify(e.crowdDefineForm);if(a=JSON.parse(a),a.checkRecvPercentage=Number(e.crowdDefineForm.checkRecvPercentage),a.calType=a.calType.join(","),a.crowdSql=a.crowdSql.trim(),"1"===a.videoSource){if(0===a.videoSourceIds.length)return void e.$message.error("请必须勾选至少一种内容源！");a.videoSource=a.videoSourceIds.join(",")}var i=a,n=i.macInitialValue,r=i.macBelowPer,s=i.wxInitialValue,o=i.wxBelowPer;n=n&&n.toString().replace(/,/g,""),s=s&&s.toString().replace(/,/g,""),a.macInitialValue=n,a.wxInitialValue=s,(1!==a.autoVersion||1!==a.checkRecvPercentage||e.validateBasicLine(n,r,s,o))&&(2===e.crowdType&&(a.tempCrowd=!0),null!=e.editLaunchCrowdId&&void 0!=e.editLaunchCrowdId?e.$service.updateTempCrowd(a,"编辑成功").then((function(){e.callback()})):e.$service.addTempCrowd(a,"新增成功").then((function(){e.callback()})))}))},cancelAdd:function(){this.$emit("cancel-add")},getAddList:function(){var e=this;this.$service.addMultiVersionCrowd(1).then((function(t){e.launchPlatform=t.biLists,e.effectTimeList=t.efTime.map((function(e){return{label:e+"天",value:e}}))})),this.$service.getEstimateType().then((function(t){e.estimateItems=t})),this.$service.searchTags().then((function(t){e.tagsList=t}))},distinct:function(e,t){var a,i=e.concat(t),n=[],r={},s=$T(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;r[o]||(n.push(o),r[o]=1)}}catch(l){s.e(l)}finally{s.f()}return n},handleGetVideoList:function(){var e=this;this.$service.getVideoSourceList().then((function(t){e.videoSourceList=t}))}}},PT=OT,ET=(a("83d0"),Object(U["a"])(PT,TT,DT,!1,null,"72df276b",null)),AT=ET.exports,FT={name:"TempLabel",components:{tempLabelList:xT,tempLabelAdd:AT,groupImageAdd:Ty,deviceEcharts:p_},props:{showSelection:{type:Boolean},currentSelectTag:{type:Array},checkList:{type:Array},crowdType:{type:Number}},data:function(){return{showList:!0,editLaunchCrowdId:void 0,editStatus:void 0,refreshFlag:!1,showSelectTypeDialog:!1,showAdd2:!1}},created:function(){},methods:{handleShowAdd:function(e,t){this.showList=!1,this.refreshFlag=!1,this.editLaunchCrowdId=e,this.editStatus=t},addOrEditBySql:function(e,t){this.showSelectTypeDialog=!1,this.showList=!1,this.refreshFlag=!1,this.editLaunchCrowdId=e,this.editStatus=t},addByLocalFile:function(){this.showSelectTypeDialog=!1,this.showAdd2=!0},handleRefreshList:function(){this.showList=!0,this.refreshFlag=!0},handleCloseAddForm:function(){this.showAdd2=!1},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleCheckListChange:function(e){this.$emit("change-checkList",e)}}},VT=FT,RT=(a("4dd6"),Object(U["a"])(VT,gT,bT,!1,null,"70794150",null)),jT=RT.exports,BT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-collect"},[a("div",{staticClass:"header"},[e.showSelection?e._e():a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n        新建\n      ")])],1),a("div",{staticClass:"search-input"},[a("el-input",{staticClass:"header-input",attrs:{placeholder:"支持按标签名、ID搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.filter.condition,callback:function(t){e.$set(e.filter,"condition",t)},expression:"filter.condition"}}),a("i",{staticClass:"el-icon-cc-search icon-fixed",on:{click:e.fetchData}})],1)]),a("tag-list",{attrs:{"data-list":e.dataList,"data-source-enum":e.dataSourceEnum,"type-enum":e.typeEnum,"check-list-parent":e.checkList,"current-selected-tags":e.currentSelectTag,"show-selection":e.showSelection},on:{"fetch-data":e.fetchData,"change-checkList":e.handleCheckListChange,"table-selected":e.handleTableSelected,delete:e.handleDelete,edit:e.handleEdit}},[a("div",{attrs:{align:"right"}},[a("pagination",{attrs:{currentpage:e.filter.pageNum,pagesize:e.filter.pageSize,totalcount:e.totalCount},on:{"handle-size-change":e.handleSizeChange,"handle-current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"名称",prop:"tagName"}},[a("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),a("el-form-item",{attrs:{label:"英文名",prop:"tagEnName"}},[a("el-input",{model:{value:e.form.tagEnName,callback:function(t){e.$set(e.form,"tagEnName",t)},expression:"form.tagEnName"}})],1),a("el-form-item",{attrs:{label:"是否每日更新",prop:"autoVersion"}},[a("el-radio-group",{model:{value:e.form.autoVersion,callback:function(t){e.$set(e.form,"autoVersion",t)},expression:"form.autoVersion"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("保 存")])],1)],1)],1)},MT=[],zT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-list"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.tagId,expression:"!tagId"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"changeTable",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",border:"",data:e.dataList},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"tagName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.tagName)+"\n        "),t.row.newOrUpdate?a("span",{staticClass:"red-new"},[e._v(e._s(t.row.newOrUpdate))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"tagEnName",label:"英文名"}}),e.checkList.indexOf("remark")>-1?a("el-table-column",{attrs:{prop:"remark",label:"备注"}}):e._e(),e.showSelection?e._e():a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleSeeTagCategoryDetail(t.row)}}},[e._v("\n            查看\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n            编辑\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleRefresh(t.row)}}},[e._v("\n            更新模型\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("\n            删除\n          ")])],1)]}}],null,!1,2033759173)},[a("template",{slot:"header"},[e._v("\n        操作\n        "),a("el-popover",{staticClass:"popover-button",attrs:{placement:"top",trigger:"click"}},[a("div",[a("el-checkbox-group",{on:{change:e.handleCheckListChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"remark"}},[e._v("备注")])],1)],1),a("i",{staticClass:"el-icon-cc-setting operate",attrs:{slot:"reference"},slot:"reference"})])],1)],2)],1),e.tagId?a("tag-detail",{attrs:{"tag-id":e.tagId,row:e.currentRow},on:{"read-cancel":e.handleReadTagCancel}}):e._t("default")],2)},qT=[],JT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"read-tag-category"},[e.row&&!e.showEdit?[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.row.tagName))]),a("el-button",{staticStyle:{float:"right","margin-top":"-7px"},attrs:{type:"primary"},on:{click:function(t){return e.$emit("read-cancel")}}},[e._v("返回")])],1),a("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"ID"}},[e._v("\n                    "+e._s(e.row.id)+"\n                ")]),a("el-form-item",{attrs:{label:"英文名"}},[e._v("\n                    "+e._s(e.row.tagEnName)+"\n                ")]),a("el-form-item",{attrs:{label:"是否每日更新"}},[e._v("\n                    "+e._s(1===e.row.autoVersion?"是":"否")+"\n                ")]),a("el-form-item",{attrs:{label:"备注"}},[e._v("\n                    "+e._s(e.row.remark)+"\n                ")])],1)],1),a("AttrList",{attrs:{row:e.row}})]:e._e()],2)},GT=[],UT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"never"}},[e.showSelection?e._e():a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("标签列表")]),a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"支持人群名、ID搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchData.apply(null,arguments)}},model:{value:e.filter.launchName,callback:function(t){e.$set(e.filter,"launchName",t)},expression:"filter.launchName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:add",expression:"'hoder:label:attr:add'"}],attrs:{type:"primary"},on:{click:e.openAddDialog}},[e._v("\n                    新建属性\n                ")])],1)],1)],1),a("div",[a("el-table",{ref:"changeTable",attrs:{data:e.itemList,border:""},on:{select:e.handleSelectOrCancel,"select-all":e.handleSelectAllOrCancel}},[e.showSelection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),a("el-table-column",{attrs:{prop:"launchCrowdId",label:"标签ID"}}),a("el-table-column",{attrs:{prop:"dmpCrowdId",label:"人群ID",width:"120"}}),a("el-table-column",{attrs:{prop:"launchName",label:"名称",width:"230"}}),a("el-table-column",{attrs:{prop:"count",label:"使用次数"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.history.status?a("div",[3===e.launchStatusEnum[t.row.history.status].code?a("div",[e._v("\n                计算完成\n              ")]):2===e.launchStatusEnum[t.row.history.status].code&&23===e.launchStatusEnum[t.row.history.status].childrenCode?a("div",[e._v("\n                "+e._s(e.launchStatusEnum[t.row.history.status].childrenName)+"\n              ")]):1===e.launchStatusEnum[t.row.history.status].code||4===e.launchStatusEnum[t.row.history.status].code||7===e.launchStatusEnum[t.row.history.status].code?a("div",[4===e.crowdType?a("span",[e._v("计算")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.calculate(t.row)}}},[e._v("计算")])],1):5===e.launchStatusEnum[t.row.history.status].code?a("div",{staticStyle:{color:"red"}},[e._v("\n                计算失败\n              ")]):a("div",[e._v("\n                "+e._s(e.launchStatusEnum[t.row.history.status].name)+"\n              ")])]):e._e()]}}])}),a("el-table-column",{attrs:{label:"创建人",prop:"creatorName"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"history.createTime"}}),a("el-table-column",{attrs:{label:"业务部门",prop:"department"}}),a("el-table-column",{attrs:{label:"设备数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.cc_format_number(t.row.history.totalUser))+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"总体耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.spentTotalTime)+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.history.version)+"\n          ")]}}])}),e.showSelection?e._e():a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:modify",expression:"'hoder:label:attr:modify'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.openEditDialog(t.row)}}},[e._v("\n                编辑\n              ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:label:attr:del",expression:"'hoder:label:attr:del'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleDeleteTag(t.row)}}},[e._v("\n                删除\n              ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"hoder:launch:crowd:ver:index",expression:"'hoder:launch:crowd:ver:index'"}],attrs:{size:"small",type:"text"},on:{click:function(a){return e.handleMonitor(t.row)}}},[e._v("\n                数据监控\n              ")])],1)]}}],null,!1,3506651202)})],1)],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,total:e.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.fetchData,"current-change":e.fetchData}}),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"attrFormRef",attrs:{model:e.attrForm,rules:e.attrFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"属性名称",prop:"launchName"}},[a("el-input",{attrs:{size:"small",maxlength:50},model:{value:e.attrForm.launchName,callback:function(t){e.$set(e.attrForm,"launchName",t)},expression:"attrForm.launchName"}})],1),a("el-form-item",{attrs:{label:"SQL语句",prop:"crowdSql"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入生成样本数据的sql语句"},model:{value:e.attrForm.crowdSql,callback:function(t){e.$set(e.attrForm,"crowdSql",t)},expression:"attrForm.crowdSql"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddOrEdit}},[e._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:"数据监控",visible:e.monitorDialog},on:{"update:visible":function(t){e.monitorDialog=t}}},[a("el-date-picker",{staticClass:"monitor-time",attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd"},on:{change:e.getDataMonitor},model:{value:e.monitorRangeTime,callback:function(t){e.monitorRangeTime=t},expression:"monitorRangeTime"}}),a("c-table",{attrs:{props:e.monitorTable.props,header:e.monitorTable.header,data:e.monitorTable.data}}),a("div",{staticStyle:{margin:"30px 0 0",overflow:"auto"}},[a("pagination",{attrs:{currentpage:e.monitorOutForm.pageNum,pagesize:e.monitorOutForm.pageSize,totalcount:e.monitorTotal},on:{"handle-size-change":e.handleMonitorSizeChange,"handle-current-change":e.handleMonitorCurrentChange}})],1)],1)],1)},HT=[];function KT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function QT(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?KT(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var WT={components:{},data:function(){return{crowdType:5,itemList:[],tag:{},pagination:{pageNum:1,pageSize:10,total:0},filter:{launchName:void 0},attrForm:{},dialogVisible:!1,dialogTitle:"新增样本属性",attrFormRules:{launchName:[{required:!0,message:"请输入属性名称",trigger:"blur"}],crowdSql:[{required:!0,message:"请输入SQL语句",trigger:"blur"}]},launchStatusEnum:{},monitorDialog:!1,monitorRangeTime:void 0,monitorOutForm:{pageSize:10,pageNum:1},monitorTotal:0,monitorTable:{props:{},header:[{label:"人群名称",prop:"launch_name"},{label:"dmp人群ID",prop:"dmp_crowd_id"},{label:"临时人群版本号",prop:"version"},{label:"当前版本",prop:"cur_version"},{label:"接收设备数量",prop:"receive_total_user"},{label:"设备数量",prop:"total_user"},{label:"临时人群es index",prop:"es_index"},{label:"状态",prop:"status_name"},{label:"临时人群同步日期",prop:"update_time"},{label:"版本是否删除",render:function(e,t){return e("div",{},[e("span",{},1===t.row.del_flag?"否":"是")])}}],data:[]}}},props:{row:{type:Object},showSelection:{type:Boolean}},watch:{row:{handler:function(e){this.fetchData()},deep:!0}},methods:{initParams:function(){this.attrForm={launchName:"",crowdSql:"",modelTagId:this.row.id,tempCrowd:!0,calType:"0"}},handleMonitorSizeChange:function(e){this.monitorOutForm.pageSize=e,this.monitorOutForm.pageNum=1,this.handleGetMonitorTableList()},handleMonitorCurrentChange:function(e){this.monitorOutForm.pageNum=e,this.handleGetMonitorTableList()},handleMonitor:function(e){this.monitorDialog=!0,this.selectedRow=e,this.getDataMonitor()},getDataMonitor:function(){this.handleGetMonitorTableList()},handleGetMonitorTableList:function(){var e=this,t=this.monitorRangeTime||[],a=t[0]||"",i=t[1]||"",n=QT({launchCrowdId:this.selectedRow.launchCrowdId,startDate:a,endDate:i},this.monitorOutForm);this.$service.launchVersionList(n).then((function(t){t?(e.monitorTotal=t.pageInfo.total,e.monitorTable.data=t.pageInfo.list||[]):e.resultContent="暂无数据"}))},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.itemList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")},getFilter:function(){return QT(QT(QT({modelTagId:this.row.id},this.filter),this.pagination),{},{crowdType:this.crowdType})},fetchData:function(){var e=this,t=this.getFilter();this.$service.getTempCrowdList(t).then((function(t){e.itemList=t.pageInfo.list,e.pagination.total=t.pageInfo.total,e.launchStatusEnum=t.launchStatusEnum}))},openAddDialog:function(){this.dialogTitle="新增样本属性",this.initParams(),this.launchCrowdId=null,this.dialogVisible=!0,this.$refs["attrFormRef"]&&this.$refs["attrFormRef"].resetFields()},handleAddOrEdit:function(){var e=this;this.$refs["attrFormRef"].validate((function(t){if(t)if(e.launchCrowdId){var a=QT({launchCrowdId:e.launchCrowdId},e.attrForm);e.$service.updateTempCrowd(a,"修改成功").then((function(){e.fetchData(),e.dialogVisible=!1}))}else e.$service.addTempCrowd(e.attrForm,"新增成功").then((function(){e.fetchData(),e.dialogVisible=!1}))}))},openEditDialog:function(e){var t=this;this.launchCrowdId=e.launchCrowdId,this.$service.getTempCrowd({launchCrowdId:e.launchCrowdId}).then((function(e){t.dialogTitle="编辑样本属性",t.selectStrategy=e.crowdSql,t.attrForm.launchName=e.launchName,t.attrForm.crowdSql=e.crowdSql,t.dialogVisible=!0,t.$nextTick((function(){t.$refs["attrFormRef"].clearValidate()}))}))},handleDeleteTag:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.delTempCrowd({launchCrowdId:e.launchCrowdId},"删除成功").then((function(){t.fetchData()}))})).catch((function(){}))},calculate:function(e){var t=this;this.$service.calculateTempCrowd({launchCrowdId:e.launchCrowdId,calType:e.calType},"成功计算中").then((function(){t.fetchData()}))}},created:function(){this.initParams(),this.fetchData()}},YT=WT,ZT=(a("92f7"),Object(U["a"])(YT,UT,HT,!1,null,"45a7574d",null)),XT=ZT.exports,eD={components:{AttrList:XT},props:{tagId:{type:Number},row:{type:Object,default:function(){}}},data:function(){return{tagCategory:null,dataSourceEnum:{},typeEnum:{},showEdit:!1,paramsData:{}}},methods:{getFilter:function(){return{id:this.tagId}},fetchData:function(){var e=this,t=this.getFilter();this.$service.readTagCategory(t).then((function(t){e.dataSourceEnum=t.dataSourceEnum,e.typeEnum=t.typeEnum,e.tagCategory=t.tagCategory}))},handleAdd:function(){this.$router.push({name:"specialTag",query:{belongTagId:this.tagId}})},handleEdit:function(e){e&&this.$router.push({name:"specialTag",query:{specialTagId:e}})}},created:function(){this.fetchData()}},tD=eD,aD=(a("4513"),Object(U["a"])(tD,JT,GT,!1,null,"645a9662",null)),iD=aD.exports,nD={name:"TagList",props:{dataList:{type:Array},dataSourceEnum:{type:Object},typeEnum:{type:Object},checkListParent:{type:Array},loading:{type:Boolean},showSelection:{type:Boolean},currentSelectedTags:{type:Array},showDeleteBtn:{type:Boolean,default:!1},showEditBtn:{type:Boolean,default:!1}},components:{tagDetail:iD},data:function(){return{multipleSelection:[],tagId:void 0,checkList:[],currentRow:{}}},watch:{checkListParent:function(e){this.checkList=e},dataList:"updateTableSelected",currentSelectedTags:"updateTableSelected"},methods:{handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleSeeTagCategoryDetail:function(e){this.tagId=e.id,this.currentRow=e},handleRefresh:function(e){var t=this;this.$confirm("是否确认更新模型标签: ".concat(e.tagName,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.updateModelTag({modelTagId:e.id},"更新成功")})).catch((function(){t.$message({type:"info",message:"已取消更新"})}))},handleDelete:function(e){this.$emit("delete",e.id)},handleEdit:function(e){this.$emit("edit",e)},handleReadTagCancel:function(){this.tagId=void 0},handleCollect:function(e){var t=this,a=e.myCollect,i=e.id;a?this.$service.cancelCollectTags({tagId:i},"已取消收藏！").then((function(){t.$emit("fetch-data")})):this.$service.collectTags({tagId:i},"已成功收藏！").then((function(){t.$emit("fetch-data")}))},updateTableSelected:function(){var e=this,t=[],a=this.currentSelectedTags;this.dataList.forEach((function(i,n){a.forEach((function(a){i.tagId===a.tagId&&t.push(e.dataList[n])}))})),t.length>0?this.$nextTick((function(){e.$refs.changeTable.clearSelection(),t.forEach((function(t){e.$refs.changeTable.toggleRowSelection(t,!0)}))})):this.$refs.changeTable.clearSelection()},handleSelectOrCancel:function(e,t){var a=e.length&&-1!==e.indexOf(t);a?(this.$refs.changeTable.toggleRowSelection(t,!0),this.$emit("table-selected",t,"add")):(this.$refs.changeTable.toggleRowSelection(t,!1),this.$emit("table-selected",t,"del"))},handleSelectAllOrCancel:function(e){var t=this.dataList;if(0===e.length)for(var a=0;a<t.length;a++)this.$emit("table-selected",t[a],"del");else for(var i=0;i<t.length;i++)this.$emit("table-selected",t[i],"add")}},created:function(){this.checkList=this.checkListParent}},rD=nD,sD=(a("49ff"),Object(U["a"])(rD,zT,qT,!1,null,"3dbbae45",null)),oD=sD.exports;function lD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function cD(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lD(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lD(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dD={name:"MyCollect",components:{tagList:oD},props:{checkList:{type:Array},currentSelectTag:{type:Array},showSelection:{type:Boolean}},watch:{},data:function(){return{dataList:[],filter:{pageNum:1,pageSize:10,condition:""},dataSourceEnum:{},typeEnum:{},multipleSelection:[],dialogVisible:!1,form:{tagName:"",tagEnName:"",autoVersion:0,remark:""},dialogTitle:"",totalCount:0,tagCategory:{},definedTagId:"",rules:{tagName:[{required:!0,message:"请输入名称",trigger:"blur"}],tagEnName:[{required:!0,message:"请输入英文名",trigger:"blur"}]}}},methods:{handleDelete:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$service.deleteModelTag(e,"删除成功").then((function(){t.fetchData()}))}))},handleEdit:function(e){var t=e.id,a=e.tagName,i=e.tagEnName,n=e.autoVersion,r=e.remark;this.form.id=t,this.form.tagName=a,this.form.tagEnName=i,this.form.autoVersion=n,this.form.remark=r||"",this.dialogTitle="编辑模型标签",this.dialogVisible=!0},handleAddOrEdit:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}if(!e.form.id){t.next=6;break}return t.next=4,e.$service.editModelTag(e.form);case 4:t.next=8;break;case 6:return t.next=8,e.$service.addModelTag(e.form);case 8:e.fetchData(),e.dialogVisible=!1,e.$message.success("保存成功");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleAdd:function(){this.form={tagName:"",tagEnName:"",autoVersion:0,remark:""},this.dialogTitle="新增模型标签",this.dialogVisible=!0},fetchData:function(){var e=this,t=this.filter;this.$service.searchModelTag(t).then((function(t){var a=t;e.dataList=a.list.map((function(e){return cD(cD({},e),{},{tagId:e.id})}))||[],e.totalCount=a.total}))},handleCheckListChange:function(e){this.$emit("change-checkList",e)},handleTableSelected:function(e,t){this.$emit("get-table-selected",e,t)},handleSizeChange:function(e){this.filter.pageSize=e,this.filter.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.filter.pageNum=e,this.fetchData()}},created:function(){this.$root.$on("model-tag-list-refresh",this.fetchData),this.fetchData()}},uD=dD,hD=(a("8c7f"),Object(U["a"])(uD,BT,MT,!1,null,"3b6ec573",null)),pD=hD.exports,mD={name:"labelSquareAA",components:{tempLabelIndex:jT,ModelLabelIndex:pD},data:function(){return{activeName:"tempLabel",searchVal:"",labelZoneTagName:void 0,myCollectTagName:void 0,checkList:[],tagList:[],showSelection:!1,tempCheckList:[]}},computed:{dataSourceColorEnum:function(){return ya}},methods:{handleClearSearch:function(){this.searchVal=void 0,this.labelZoneTagName=void 0,this.myCollectTagName=void 0},fetchCheckListData:function(){var e=this;this.$service.getListDimension({type:4}).then((function(t){t&&t.behaviorShow?e.checkList=t.behaviorShow.split(","):e.checkList=["defineRemark"]}))},handleTabChange:function(){switch(this.activeName){case"tempLabel":this.fetchTempCheckListData(),this.$root.$emit("temp-label-list-refresh-2");break;case"behaviorLabel":this.fetchTempCheckListData(),this.$root.$emit("temp-label-list-refresh-3");break;case"bankLabel":this.fetchTempCheckListData(),this.$root.$emit("temp-label-list-refresh-4");break;case"modelLabel":this.$root.$emit("model-tag-list-refresh");break}},handleGetTableSelectedData:function(e,t){var a=this.tagList;if("add"===t){for(var i=-1,n=0;n<a.length;n++)if(a[n].tagId===e.tagId)return void(i=n);-1===i&&this.tagList.push(e)}else for(var r=-1,s=0;s<a.length;s++)if(a[s].tagId===e.tagId)return r=s,void this.tagList.splice(r,1)},removeTag:function(e){this.tagList.splice(this.tagList.indexOf(e),1)},fetchTempCheckListData:function(){var e=this;this.$service.getListDimension({type:5}).then((function(t){t&&t.behaviorShow?e.tempCheckList=t.behaviorShow.split(","):e.tempCheckList=["defineRemark"]}))},handleCheckListChange:function(e){this.$service.saveListDimension({type:4,behaviorShow:e.join(",")})},handleTempCheckListChange:function(e){this.$service.saveListDimension({type:5,behaviorShow:e.join(",")})}},created:function(){this.fetchCheckListData(),this.fetchTempCheckListData()}},fD=mD,vD=(a("e759"),Object(U["a"])(fD,fT,vT,!1,null,"4968c0fe",null)),gD=vD.exports,bD=[{name:"OverallDeliveryStatistics",path:"homePage/OverallDeliveryStatistics",component:Tm,meta:{tagId:"OverallDeliveryStatistics",title:"整体指标统计",icon:"el-icon-cc-home"}},{name:"OverallCrowdStatistics",path:"homePage/OverallCrowdStatistics",component:vf,meta:{tagId:"OverallCrowdStatistics",title:"整体人群统计",icon:"el-icon-cc-home"}},{name:"indexBI",path:"homePage/indexBI",component:Ym,meta:{tagId:"indexBI",title:"已有的BI指数",icon:"el-icon-cc-home"}},{name:"CurrentPopulationClassification",path:"homePage/CurrentPopulationClassification",component:Pm,meta:{tagId:"CurrentPopulationClassification",title:"现有人群分类",icon:"el-icon-cc-home"}},{name:"OTTBigscreenIndex",path:"homePage/OTTBigscreenIndex",component:jm,meta:{tagId:"OTTBigscreenIndex",title:"OTT大屏指数",icon:"el-icon-cc-home"}},{name:"tabStructure",path:"homePage/tabStructure",component:Gm,meta:{tagId:"tabStructure",title:"标签结构",icon:"el-icon-cc-home"}},{name:"crowdPortrayal",path:"homePage/crowdPortrayal",component:nf,meta:{tagId:"crowdPortrayal",title:"投前人群画像",icon:"el-icon-cc-home"}},{name:"tag",path:"tag",component:ea,props:{mode:"list-tag-group"},meta:{tagId:"tag",title:"标签列表",icon:"el-icon-cc-file"}},{name:"labelSquare",path:"labelSquare",component:mT,meta:{tagId:"labelSquare",title:"标签广场",icon:"el-icon-cc-file"}},{name:"crowdCompute",path:"/crowdCompute",component:gD,meta:{tagId:"crowdCompute",title:"人群计算",icon:"el-icon-cc-file"}},{name:"tag-group-read",path:"tag-group/:id",component:ea,props:{mode:"read-tag-group"},meta:{tagId:"tag",title:"标签列表",icon:"el-icon-cc-file"}},{name:"tag-category-read",path:"tag-category/:id",component:ea,props:{mode:"read-tag-category"},meta:{tagId:"tag",title:"查看标签",icon:"el-icon-cc-file",hideInMenu:!0}},{name:"tagDictDatabase",path:"tagDictDatabase",component:Op,props:{mode:"list-tag-dict-database"},meta:{tagId:"tagDictDatabase",title:"标签字典库",icon:"el-icon-cc-file"}},{name:"crowd",path:"launch/crowd",component:xd,meta:{tagId:"crowd",title:"人群圈定",icon:"el-icon-cc-file"}},{name:"launchTabList",path:"launch/launchTabList",component:fu,meta:{tagId:"launchTabList",title:"投放管理",icon:"el-icon-cc-file"}},{name:"launchAnalysis",path:"launch/launchAnalysis",component:Du,meta:{tagId:"launchTabList",title:"投后分析（新）",icon:"el-icon-cc-file"}},{name:"launchAnalysisTable",path:"launch/launchAnalysisTable",component:zu,meta:{tagId:"launchAnalysisTable",title:"投后分析（旧）",icon:"el-icon-cc-file"}},{name:"myPolicy",path:"launch/myPolicy",component:Mw,meta:{tagId:"myPolicy",title:"我的人群",icon:"el-icon-cc-file",isCache:!1}},{name:"strategy",path:"launch/strategy",component:Ed,meta:{title:"人群分割 投放",tagId:"strategy",icon:"el-icon-cc-file"}},{name:"strategyList",path:"launch/strategyList",component:ld,meta:{tagId:"strategyList",title:"人群分隔 管理",icon:"el-icon-cc-file"}},{name:"multiVersionCrowd",path:"launch/multiVersionCrowd",component:uu,meta:{title:"人群多版本圈定",tagId:"multiVersionCrowd",icon:"el-icon-cc-file"}},{name:"AddMoreCrowds",path:"launch/AddMoreCrowds",component:fs,meta:{tagId:"AddMoreCrowds",title:"添加多个人群",icon:"el-icon-cc-file",hideInMenu:!0}},{name:"validate",path:"launchHelper/validate",component:Wu,meta:{title:"投放验证",tagId:"validate",icon:"el-icon-cc-file"}},{name:"anomalyEcharts",path:"launchHelper/anomalyEcharts",component:yC,meta:{title:"异常监测",tagId:"anomalyEcharts"}},{name:"crowdCirculationTrack",path:"launchHelper/crowdCirculationTrack",component:IC,meta:{title:"人群流转轨迹",tagId:"crowdCirculationTrack"}},{name:"DeliveryMonitor",path:"launchHelper/DeliveryMonitor",component:fm,meta:{title:"投放中的投放监控",tagId:"DeliveryMonitor",icon:"el-icon-cc-file"}},{name:"userTagsSearch",path:"launchHelper/userTagsSearch",component:S_,meta:{title:"用户标签查询",tagId:"userTagsSearch",icon:"el-icon-cc-file"}},{name:"hitSearch",path:"launchHelper/hitSearch",component:P_,meta:{title:"命中查询",tagId:"hitSearch",icon:"el-icon-cc-file"}},{name:"hitQuery",path:"/hitQuery",component:kS,meta:{title:"命中查询结果",tagId:"hitQuery",icon:"el-icon-cc-file"}},{name:"resendCommand",path:"launchHelper/resendCommand",component:hS,meta:{title:"重发指令",tagId:"resendCommand ",icon:"el-icon-cc-file"}},{name:"launchStatus",path:"launchHelper/LaunchStatus",component:bS,meta:{title:"效果数据状态",tagId:"launchStatus ",icon:"el-icon-cc-file"}},{name:"dataManage",path:"dataManage/dataManage",component:xp,meta:{tagId:"dataManage",title:"人群位置信息管理",icon:"el-icon-cc-file"}},{name:"thirdInterface",path:"dataManage/thirdInterface",component:Ef,meta:{tagId:"thirdInterface",title:"第三方接口",icon:"el-icon-cc-file"}},{name:"clearCache",path:"dataManage/clearCache",component:Bf,meta:{tagId:"clearCache",title:"清除缓存",icon:"el-icon-cc-close-circle"}},{name:"ipManage",path:"dataManage/ipManage",component:nv,meta:{tagId:"ipManage",title:"接口服务器管理",icon:"el-icon-cc-close-circle"}},{name:"DeliveryAfterPeopleDraw",path:"analyse/DeliveryAfterPeopleDraw",component:wm,meta:{tagId:"DeliveryAfterPeopleDraw",title:"投后人群画像",icon:"el-icon-cc-file"}},{name:"DeliveryDataAnalyse",path:"analyse/DeliveryDataAnalyse",component:cm,meta:{tagId:"DeliveryDataAnalyse",title:"数据分析报告",icon:"el-icon-cc-file"}},{name:"thirdPartyDMP",path:"thirdParty/thirdPartyDMP",component:df,meta:{tagId:"thirdPartyDMP",title:"第三方DMP",icon:"el-icon-cc-file"}},{name:"operateLog",path:"thirdParty/operateLog",component:Oh,meta:{tagId:"operateLog",title:"操作日志",icon:"el-icon-cc-file"}},{name:"notice",path:"Setting/notice",component:Lv,meta:{tagId:"notice",title:"消息通知",icon:"el-icon-cc-xinxi"}},{name:"menuSetting",path:"Setting/menuSetting",component:xh,meta:{tagId:"menuSetting",title:"菜单设置",icon:"el-icon-cc-file"}},{name:"emailNotice",path:"Setting/emailNotice",component:ah,meta:{title:"邮件通知",tagId:"emailNotice",icon:"el-icon-cc-file"}},{name:"launchSettings",path:"Setting/launchSettings",component:hv,meta:{title:"投放设置",tagId:"launchSettings",icon:"el-icon-cc-file"}},{name:"personManage",path:"administration/personManage",component:ap,meta:{tagId:"personManage",title:"人员管理",icon:"el-icon-cc-file"}},{name:"organManage",path:"administration/organManage",component:Rh,meta:{tagId:"organManage",title:"机构管理",icon:"el-icon-cc-file"}},{name:"roleManage",path:"administration/roleManage",component:lp,meta:{tagId:"roleManage",title:"角色管理",icon:"el-icon-cc-file"}},{name:"personalInformation",path:"Account/personalInformation",component:Wh,meta:{tagId:"personalInformation",title:"个人信息",icon:"el-icon-cc-file"}},{name:"password",path:"Account/password",component:Jh,meta:{tagId:"password",title:"密码修改",icon:"el-icon-cc-file"}},{name:"loginLog",path:"Log/loginLog",component:lh,meta:{tagId:"loginLog",title:"登录日志",icon:"el-icon-cc-file"}},{name:"operateLog",path:"Log/operateLog",component:Oh,meta:{tagId:"operateLog",title:"操作日志",icon:"el-icon-cc-file"}},{name:"statisticsHomePage",path:"statisticsHomePage",component:Bp,meta:{title:"投放统计",tagId:"statisticsHomePage",icon:"el-icon-cc-file",isCloseable:!1}},{name:"keyIndicatorTrends",path:"keyIndicatorTrends",component:im,meta:{title:"关键指标趋势",tagId:"keyIndicatorTrends",icon:"el-icon-cc-file",isCloseable:!1}},{name:"oneTouchDrop",path:"oneTouchDrop",component:pC,meta:{title:"一键投放",tagId:"oneTouchDrop",hideInMenu:!0}},{name:"homepageReleaseRecord",path:"homepageReleaseRecord/:homepageReleaseRecordId",component:NC,meta:{title:"主页投放记录",tagId:"homepageReleaseRecord",hideInMenu:!0}},{name:"redirectList",path:"redirectList/:redirectListId",component:Hw,meta:{title:"重定向投放记录",tagId:"redirectList",hideInMenu:!0}},{name:"redirectAdd",path:"redirectAdd",component:Xw,meta:{title:"新增/编辑重定向人群",tagId:"redirectAdd",hideInMenu:!0}},{name:"groupImageInsight",path:"groupImageInsight",component:g_,meta:{title:"设备画像",tagId:"groupImageInsight"}},{name:"specialTag",path:"specialTag",component:sS,meta:{title:"组合标签",tagId:"specialTag",hideInMenu:!0,isCache:!1}},{name:"dynamicReport",path:"dynamicReport",component:Aw,meta:{title:"动态实验报告",tagId:"DynamicReport",hideInMenu:!0,isCache:!1}},{name:"storyLine",path:"storyLine",component:Ix,meta:{title:"故事运营",tagId:"storyLine",hideInMenu:!0,isCache:!1}},{name:"operationHelper",path:"operationHelper",component:Qx,meta:{title:"人群运营助手",tagId:"operationHelper",hideInMenu:!0,isCache:!1}}],yD=[{path:"/",component:Ce,redirect:"/statisticsHomePage",children:bD},{name:"login",path:"/login",component:Oe,meta:{title:"登录"}}],CD=yD;function wD(e,t,a){console.log("from==========>",t),console.log("to==========>",e);var i=this.app;i.$isLoggedIn().then((function(){"login"===e.name?a({path:"/"}):a()})).catch((function(){"/"===t.path||"login"===t.name||"login"!==e.name||e.params.logout||E["Notification"].error({title:"提示",message:"登录超时，请重新登录"}),"login"===e.name?a():a({name:"login",query:{redirect:e.fullPath}})}))}function _D(e){var t=this.app,a=e.matched.slice(1).map((function(e){var t=e.name,a=e.meta;return{name:a.title,to:t?{name:t}:void 0}}));t.$nextTick((function(){t.$bus.$emit("breadcrumb-change",a)}))}L["default"].use(se["a"]);var SD=new se["a"]({routes:CD});SD.beforeEach(wD.bind(SD)),SD.afterEach(_D.bind(SD));var kD=SD,ID={policyId:function(e){return e.configScheme.policyId},policyName:function(e){return e.configScheme.policyName},policyInfo:function(e){return e.configScheme.policyInfo},smartDetail:function(e){return e.configScheme.smartDetail},isSmartEdit:function(e){return e.configScheme.isSmartEdit}},xD=ID;function TD(e){var t={service:e};return Object.keys(e).forEach((function(a){"function"===typeof e[a]?t[a]=function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(i,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e[a](i).then((function(e){return n&&Object(E["Message"])({title:"操作成功",type:"success",message:n}),e})).catch((function(e){if(e&&e.code&&"2000"===e.code)return Object(E["Message"])({type:"error",message:e.message}),Promise.reject(e);var t=e.message,a="string"===typeof e.message&&e.message.indexOf("401")>-1;console.log("tokenFailure---\x3e",a),console.log("errormessage---\x3e",t),a&&(t=null),t&&E["Notification"].error({message:t}),a&&kD.push({name:"login"})})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}():t[a]=e[a]})),t}var DD=TD,$D=a("4328"),LD=a.n($D),ND=a("323e"),OD=a.n(ND);a("a5d8");function PD(e){var t=e.method,a=void 0===t?"get":t,i=e.url,n=e.data,r=e.params,s=e.isReturnAllInfor,o=void 0!==s&&s,l=e.isJSON,c=void 0!==l&&l,d=e.isFileStream,u=void 0!==d&&d,h=e.contentType;OD.a.start();var p={method:a,url:i,data:n instanceof FormData||c?n:LD.a.stringify(n),params:r,contentType:h,paramsSerializer:function(e){return LD.a.stringify(e,{indices:!1})}};return"/api/login"!==i&&(p.headers={Authorization:this.state.token}),p.contentType&&(p.headers["Content-Type"]=p.contentType),xe()(p).then((function(e){var t=e.data;OD.a.done();var a=parseInt(t.code);if(u)return o?t:t.data;if(0===a||1e3===a||3e3===a)return o?t:!t.data&&t.result?{data:t.result}:t.data;if(400001!==a&&9999!==a){if(console.log("errData==>",t),t.status&&"401"==t.status||t.statusText&&"No Transport"==t.statusText){console.log("401==>",t);var i=window.location.href;return void(window.location.href=i)}throw{code:t.code,message:t.msg}}location.href=location.origin+location.pathname+"#/login"})).catch((function(e){throw console.log("errData==>",e),OD.a.done(),e}))}function ED(e){var t=this;return this.fetch({method:"post",url:"/api/login",data:e}).then((function(e){return t.state=e,e}))}xe.a.interceptors.request.use((function(e){return Ak(e),e}),(function(e){return Promise.reject(e)})),xe.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var AD=function(e){return this.fetch({method:"POST",url:"/api/getRoleMenus",data:e})};function FD(e){return this.fetch({method:"get",url:"/api/manage/email/get_emails_json",params:e})}function VD(e){return this.fetch({method:"POST",url:"/api/manage/email/add",data:e})}function RD(e){return this.fetch({method:"POST",url:"/api/manage/email/update",data:e})}function jD(e){return this.fetch({method:"POST",url:"/api/manage/email/batchDel",data:e})}function BD(e){return this.fetch({method:"POST",url:"/api/manage/email/del",data:e})}function MD(e){return this.fetch({method:"POST",url:"/api/manage/email/changeStatus",data:e})}var zD=[{createBy:"91",createDate:"2018-08-22T16:55:03.000+08:00",delFlag:1,enname:null,id:17,isSys:null,menuIds:null,name:"人群策略平台管理员",officeId:null,pageNum:1,pageSize:10,remarks:"人群策略平台管理员",roleType:null,updateBy:"94",updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T10:20:20.000+08:00",delFlag:1,enname:null,id:15,isSys:null,menuIds:null,name:"mac报备管理员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有mac报备管理权限",roleType:null,updateBy:"94",updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T09:46:22.000+08:00",delFlag:1,enname:null,id:14,isSys:null,menuIds:null,name:"信息报备员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有机芯机型等相关报备权限",roleType:null,updateBy:null,updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T09:46:22.000+08:00",delFlag:1,enname:null,id:13,isSys:null,menuIds:null,name:"3类使用者",officeId:null,pageNum:1,pageSize:10,remarks:"拥有内外销MAC申请和用户查询权限",roleType:null,updateBy:null,updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T09:46:22.000+08:00",delFlag:1,enname:null,id:12,isSys:null,menuIds:null,name:"2类使用者",officeId:null,pageNum:1,pageSize:10,remarks:"拥有申请海外MAC和用户查询权限",roleType:null,updateBy:null,updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T09:46:22.000+08:00",delFlag:1,enname:null,id:11,isSys:null,menuIds:null,name:"信息查询",officeId:null,pageNum:1,pageSize:10,remarks:"只拥有用户查询权限",roleType:null,updateBy:null,updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T09:46:22.000+08:00",delFlag:1,enname:null,id:10,isSys:null,menuIds:null,name:"1类使用者",officeId:null,pageNum:1,pageSize:10,remarks:"拥有申请内销MAC和用户查询权限",roleType:null,updateBy:null,updateDate:null,useable:1},{createBy:"1",createDate:"2018-08-09T09:46:22.000+08:00",delFlag:1,enname:null,id:9,isSys:null,menuIds:null,name:"审核员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有大部分读的权限及全部审核权限",roleType:null,updateBy:null,updateDate:null,useable:1},{createBy:"25",createDate:"2018-01-23T16:09:47.000+08:00",delFlag:1,enname:null,id:7,isSys:null,menuIds:null,name:"查询人员",officeId:null,pageNum:1,pageSize:10,remarks:"仅仅查询数据的人",roleType:null,updateBy:"25",updateDate:null,useable:1},{createBy:"7",createDate:"2017-10-20T15:41:50.000+08:00",delFlag:1,enname:null,id:6,isSys:null,menuIds:null,name:"游客",officeId:null,pageNum:1,pageSize:10,remarks:"固定角色，请勿修改",roleType:null,updateBy:"25",updateDate:null,useable:1},{createBy:"1",createDate:"2017-07-21T11:38:05.000+08:00",delFlag:1,enname:null,id:5,isSys:null,menuIds:null,name:"业务报备员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有信息查询与确认报备的权限",roleType:null,updateBy:"25",updateDate:null,useable:1},{createBy:"1",createDate:"2017-07-21T11:36:46.000+08:00",delFlag:1,enname:null,id:4,isSys:null,menuIds:null,name:"数据维护员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有基础数据的维护权限",roleType:null,updateBy:"25",updateDate:null,useable:1},{createBy:"1",createDate:"2017-07-21T11:35:16.000+08:00",delFlag:1,enname:null,id:3,isSys:null,menuIds:null,name:"机型报备员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有机型报备的权限",roleType:null,updateBy:"25",updateDate:null,useable:1},{createBy:"1",createDate:"2017-07-21T11:34:04.000+08:00",delFlag:1,enname:null,id:2,isSys:null,menuIds:null,name:"管理员",officeId:null,pageNum:1,pageSize:10,remarks:"拥有系统管理权限",roleType:null,updateBy:"25",updateDate:null,useable:1},{createBy:"",createDate:"2017-05-31T15:10:02.000+08:00",delFlag:1,enname:"admin",id:1,isSys:"1",menuIds:null,name:"超级管理员",officeId:1,pageNum:1,pageSize:10,remarks:"拥有所用权限",roleType:"1",updateBy:"94",updateDate:null,useable:1}];function qD(e){return Promise.resolve({code:0,data:zD})}function JD(e){return this.fetch({method:"get",url:"/api/manage/user/get_users_json",params:e})}function GD(e){return this.fetch({method:"get",url:"/api/manage/loginLog/get_loginLogs_json",params:e})}function UD(e){return this.fetch({method:"get",url:"/api/manage/operateLog/get_operateLogs_json",params:e})}function HD(e){return this.fetch({method:"get",url:"/api/manage/office/get_office_tree_json",params:e})}function KD(e){return this.fetch({method:"POST",url:"/api/manage/user/add",data:e})}function QD(e){return this.fetch({method:"POST",url:"/api/manage/user/update",data:e})}function WD(e){return this.fetch({method:"POST",url:"/api/manage/user/batchDel",data:e})}function YD(e){return this.fetch({method:"POST",url:"/api/manage/user/del",data:e})}function ZD(e){return this.fetch({method:"POST",url:"/api/manage/user/changeStatus",data:e})}function XD(e){return this.fetch({method:"get",url:"/api/manage/office/get_offices_json",params:e})}function e$(e){return this.fetch({method:"POST",url:"/api/manage/office/add",data:e})}function t$(e){return this.fetch({method:"POST",url:"/api/manage/office/update",data:e})}function a$(e){return this.fetch({method:"POST",url:"/api/manage/office/del",data:e})}function i$(e){return this.fetch({method:"POST",url:"/api/manage/office/changeStatus",data:e})}var n$=[{children:[{children:[{children:[{children:null,name:"删除标签",id:612,label:"删除标签",open:!0},{children:null,name:"编辑标签",id:611,label:"编辑标签",open:!0},{children:null,name:"新建标签",id:610,label:"新建标签",open:!0}],name:"种类详情",id:609,label:"种类详情",open:!0},{children:null,name:"删除种类",id:608,label:"删除种类",open:!0},{children:null,name:"编辑种类",id:607,label:"编辑种类",open:!0},{children:null,name:"新建种类",id:606,label:"新建种类",open:!0},{children:null,name:"新建分组",id:605,label:"新建分组",open:!0},{children:null,name:"分组列表",id:604,label:"分组列表",open:!0}],name:"标签列表",id:595,label:"标签列表",open:!0}],name:"标签管理",id:594,label:"标签管理",open:!0},{children:[{children:null,name:"投放验证",id:593,label:"投放验证",open:!0},{children:[{children:null,name:"index",id:624,label:"index",open:!0},{children:null,name:"launch",id:603,label:"launch",open:!0},{children:null,name:"cancel",id:602,label:"cancel",open:!0},{children:null,name:"detail",id:601,label:"detail",open:!0},{children:null,name:"del",id:600,label:"del",open:!0},{children:null,name:"modify",id:599,label:"modify",open:!0}],name:"人群投放",id:592,label:"人群投放",open:!0},{children:[{children:null,name:"modify",id:598,label:"modify",open:!0}],name:"策略投放",id:591,label:"策略投放",open:!0}],name:"投放助手",id:590,label:"投放助手",open:!0},{children:[{children:[{children:null,name:"edit",id:618,label:"edit",open:!0},{children:null,name:"edit",id:617,label:"edit",open:!0},{children:null,name:"add",id:616,label:"add",open:!0},{children:null,name:"del",id:615,label:"del",open:!0}],name:"策略人群列表",id:596,label:"策略人群列表",open:!0},{children:[{children:null,name:"编辑策略",id:625,label:"编辑策略",open:!0},{children:null,name:"del",id:614,label:"del",open:!0},{children:null,name:"add",id:597,label:"add",open:!0}],name:"策略列表",id:589,label:"策略列表",open:!0}],name:"人群策略管理",id:588,label:"人群策略管理",open:!0},{children:[{children:null,name:"激活id查询",id:587,label:"激活id查询",open:!0},{children:null,name:"mac查询",id:586,label:"mac查询",open:!0}],name:"数据查询",id:585,label:"数据查询",open:!0},{children:[{children:[{children:null,name:"批量删除",id:416,label:"批量删除",open:!0},{children:null,name:"修改状态",id:20,label:"修改状态",open:!0},{children:null,name:"查询",id:19,label:"查询",open:!0},{children:null,name:"删除",id:18,label:"删除",open:!0},{children:null,name:"修改",id:17,label:"修改",open:!0},{children:null,name:"新增",id:16,label:"新增",open:!0}],name:"字典管理",id:15,label:"字典管理",open:!0},{children:[{children:[{children:null,name:"查询",id:112,label:"查询",open:!0}],name:"操作日志",id:111,label:"操作日志",open:!0},{children:[{children:null,name:"查询",id:102,label:"查询",open:!0}],name:"登录日志",id:101,label:"登录日志",open:!0}],name:"日志管理",id:14,label:"日志管理",open:!0},{children:[{children:null,name:"密码修改",id:91,label:"密码修改",open:!0},{children:null,name:"个人信息",id:81,label:"个人信息",open:!0}],name:"个人管理",id:13,label:"个人管理",open:!0},{children:[{children:[{children:null,name:"批量删除",id:417,label:"批量删除",open:!0},{children:null,name:"查看详情",id:77,label:"查看详情",open:!0},{children:null,name:"修改状态",id:76,label:"修改状态",open:!0},{children:null,name:"查询",id:75,label:"查询",open:!0},{children:null,name:"删除",id:74,label:"删除",open:!0},{children:null,name:"修改",id:73,label:"修改",open:!0},{children:null,name:"新增",id:72,label:"新增",open:!0}],name:"角色管理",id:71,label:"角色管理",open:!0},{children:[{children:null,name:"查看详情",id:67,label:"查看详情",open:!0},{children:null,name:"修改状态",id:66,label:"修改状态",open:!0},{children:null,name:"查询",id:65,label:"查询",open:!0},{children:null,name:"删除",id:64,label:"删除",open:!0},{children:null,name:"修改",id:63,label:"修改",open:!0},{children:null,name:"新增",id:62,label:"新增",open:!0}],name:"机构管理",id:61,label:"机构管理",open:!0},{children:[{children:null,name:"批量删除",id:418,label:"批量删除",open:!0},{children:null,name:"查看详情",id:57,label:"查看详情",open:!0},{children:null,name:"修改状态",id:56,label:"修改状态",open:!0},{children:null,name:"查询",id:55,label:"查询",open:!0},{children:null,name:"删除",id:54,label:"删除",open:!0},{children:null,name:"修改",id:53,label:"修改",open:!0},{children:null,name:"新增",id:52,label:"新增",open:!0}],name:"人员管理",id:51,label:"人员管理",open:!0}],name:"行政管理",id:12,label:"行政管理",open:!0},{children:[{children:[{children:null,name:"批量删除",id:419,label:"批量删除",open:!0},{children:null,name:"查看详情",id:47,label:"查看详情",open:!0},{children:null,name:"修改状态",id:46,label:"修改状态",open:!0},{children:null,name:"查询",id:45,label:"查询",open:!0},{children:null,name:"删除",id:44,label:"删除",open:!0},{children:null,name:"修改",id:43,label:"修改",open:!0},{children:null,name:"新增",id:42,label:"新增",open:!0}],name:"邮件通知",id:41,label:"邮件通知",open:!0},{children:[{children:null,name:"修改状态",id:35,label:"修改状态",open:!0},{children:null,name:"删除",id:34,label:"删除",open:!0},{children:null,name:"修改",id:33,label:"修改",open:!0},{children:null,name:"新增",id:32,label:"新增",open:!0}],name:"菜单设置",id:31,label:"菜单设置",open:!0}],name:"设置",id:11,label:"设置",open:!0}],name:"系统管理",id:1,label:"系统管理",open:!0}];function r$(e){return Promise.resolve({code:0,data:n$})}function s$(e){return this.fetch({method:"get",url:"/api/manage/role/get_roles_json",params:e})}function o$(e){return this.fetch({method:"POST",url:"/api/manage/role/add",data:e})}function l$(e){return this.fetch({method:"POST",url:"/api/manage/role/update",data:e})}function c$(e){return this.fetch({method:"POST",url:"/api/manage/role/batchDel",data:e})}function d$(e){return this.fetch({method:"POST",url:"/api/manage/role/del",data:e})}function u$(e){return this.fetch({method:"POST",url:"/api/manage/role/changeStatus",data:e})}function h$(e){return this.fetch({method:"POST",url:"/api/launchHelp/searchUsedCrowd/",data:e})}function p$(e){return this.fetch({method:"GET",url:"/api/launchHelp/index",params:e})}function m$(e){return this.fetch({method:"POST",url:"/api/launchValidate/searchHitRes",data:e,isJSON:!0})}function f$(e){return this.fetch({method:"get",url:"/api/listMacHitInCrowd",params:e,isJSON:!0})}function v$(e){return this.fetch({method:"get",url:"/api/exportHitDataToTmpCrowd",params:e,isJSON:!0})}function g$(e){return this.fetch({method:"get",url:"/api/manage/user/personalInformation",params:e}).then((function(e){return e}))}function b$(e){return this.fetch({method:"post",url:"/api/manage/user/updateUsernameAndEmail",params:e}).then((function(e){return e}))}function y$(e){return this.fetch({method:"post",url:"/api/manage/user/modifyPwd",params:e}).then((function(e){return e}))}function C$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/index",params:e})}function w$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/saveLaunchCrowd/",params:e})}function _$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/update/",params:e})}function S$(e){return this.fetch({method:"POST",url:"/api/launchPolicy/modifyLaunchPolicy/",data:e})}function k$(e){return this.fetch({method:"GET",url:"/api/crowd/getPolicyCrowds",params:e})}function I$(e){return this.fetch({method:"POST",url:"/api/manage/crowd/batchDel",data:e})}function x$(e){return this.fetch({method:"POST",url:"/api/launchCrowd/del",data:e})}function T$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/launch",params:e})}function D$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/cancelLaunch",params:e})}function $$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/del",params:e})}function L$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/ruleDetail",params:e})}function N$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/add",params:e})}function O$(e){return this.fetch({method:"get",url:"/api/launchCrowd/modify",params:e})}function P$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/saveLaunchCrowd",params:e})}function E$(e){return this.fetch({method:"GET",url:"/api/launchCrowd/update",params:e})}function A$(e){return this.fetch({method:"GET",url:"/api/launchPolicy/policyTab",params:e})}function F$(e){return this.fetch({method:"GET",url:"/api/launchPolicy/getCrowdsByPolicyId",params:e})}function V$(e){return this.fetch({method:"GET",url:"/api/launchPolicy/index",params:e})}function R$(e){return this.fetch({method:"GET",url:"/api/launchPolicy/add",params:e})}function j$(e){return this.fetch({method:"GET",url:"/api/launchPolicy/add/my",params:e})}function B$(e){return this.fetch({method:"post",url:"/api/launchPolicy/",data:e,isJSON:!0})}function M$(e){return this.fetch({method:"DELETE",url:"/api/launchPolicy/cancelLaunch",data:e,isJSON:!0})}function z$(e){return this.fetch({method:"GET",url:"/api/multiVersionCrowd/index",params:e})}function q$(e){return this.fetch({method:"GET",url:"/api/multiVersionCrowd/index/my",params:e})}function J$(e){return this.fetch({method:"GET",url:"/api/multiVersionCrowd/add/"+e})}function G$(e){return this.fetch({method:"GET",url:"/api/multiVersionCrowd/add/my/"+e})}function U$(e){return this.fetch({method:"GET",url:"/api/policy/getPush",params:e})}function H$(e){return this.fetch({method:"GET",url:"/api/policy/getPushPlatform",params:e})}function K$(e){var t=e.model,a=e.data;return this.fetch({method:"post",url:"/api/multiVersionCrowd/"+t,data:a,isJSON:!0})}function Q$(e){var t=e.model,a=e.data;return this.fetch({method:"put",url:"/api/multiVersionCrowd/"+t,data:a,isJSON:!0})}function W$(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/modify/"+e})}function Y$(e){return this.fetch({method:"delete",url:"/api/multiVersionCrowd/"+e})}function Z$(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/ruleDetail",params:e})}function X$(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/launch",params:e})}function eL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/cancelLaunch",params:e})}function tL(e){return this.fetch({method:"get",url:"/api/label/searchTags",params:e})}function aL(e){var t=e.model,a=e.data;return this.fetch({method:"post",url:"/api/multiVersionCrowd/aBTestPartition/"+t,data:a,isJSON:!0})}function iL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/aBTestPartition/"+e})}function nL(e){return this.fetch({method:"post",url:"/api/multiVersionCrowd/submitMultiVersionCrowd",data:e})}function rL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/getTaskLogInfo/"+e})}function sL(e){return this.fetch({method:"get",url:"/api/launchPolicy/index/my",params:e})}function oL(e){return this.fetch({method:"get",url:"/api/label/videoSource",params:e})}function lL(e){return this.fetch({method:"post",url:"/api/collect/multiVersionCrowd",data:e})}function cL(e){return this.fetch({method:"delete",url:"/api/collect/multiVersionCrowd?launchCrowdId="+e.launchCrowdId})}function dL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/historyResult",params:e})}function uL(e){return this.fetch({method:"get",url:"/api/crowd/launchVersionList",params:e})}function hL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/fluctuation",params:e})}function pL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/fluctuationLaunch",params:e})}function mL(e){return this.fetch({method:"post",url:"/api/dynamicCrowdHitLink/query",data:e,isJSON:!0})}function fL(e){return this.fetch({method:"post",url:"/api/policy/hitDetail",data:e,isJSON:!0})}function vL(e){return this.fetch({method:"get",url:"/api/chart/getDynamicCrowdReportA",params:e})}function gL(e){return this.fetch({method:"get",url:"/api/chart/getDynamicCrowdReportB",params:e})}function bL(e){return this.fetch({method:"get",url:"/api/dynamicCrowdMonitoring",params:e})}function yL(e){return this.fetch({method:"get",url:"/api/pushpackage/list",params:e})}function CL(e){return this.fetch({method:"get",url:"/api/chart/getContentDynamicCrowdReport",params:e})}function wL(e){return this.fetch({method:"get",url:"/api/chart/downloadContentDynamicCrowdReport",params:e})}function _L(e){return this.fetch({method:"get",url:"/api/policy/index",params:e})}function SL(e){return this.fetch({method:"get",url:"/api/policy/add",params:e})}function kL(e){return this.fetch({method:"get",url:"/api/policy/tagSeach",params:e})}function IL(e){return this.fetch({method:"POST",url:"/api/policy/save",data:e})}function xL(e){return this.fetch({method:"POST",url:"/api/policy/update",data:e})}function TL(e){return this.fetch({method:"POST",url:"/api/policy/del",data:e})}function DL(e){return this.fetch({method:"get",url:"/api/policy/viewpolicy",params:e})}function $L(e){return this.fetch({method:"get",url:"/api/policy/getTagsByPolicyId",params:e})}function LL(e){return this.fetch({method:"get",url:"/api/crowd/getTagAttr",params:e})}function NL(e){return this.fetch({method:"POST",url:"/api/crowd/save",data:e})}function OL(e){return this.fetch({method:"get",url:"/api/crowd/edit",params:e})}function PL(e){return this.fetch({method:"POST",url:"/api/crowd/update",data:e})}function EL(e){return this.fetch({method:"POST",url:"/api/crowd/del",data:e})}function AL(e){return this.fetch({method:"get",url:"/api/api/webServers/reload",params:e})}function FL(e){return this.fetch({method:"get",url:"/api/api/policyGen/lua",params:e})}function VL(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/alertLaunch",params:e})}function RL(e){return this.fetch({method:"get",url:"/api/crowd/getCalIdType",params:e})}function jL(e){return this.fetch({method:"get",url:"/api/crowd/crowdForcast",params:e,isReturnAllInfor:!0})}function BL(e){return this.fetch({method:"get",url:"/api/batchCrowdEstimate",params:e})}function ML(e){return this.fetch({method:"get",url:"/api/crowd/crowdForcastLastOnceResult",params:e})}function zL(e){var t=new FormData;return t.append("crowdRule",JSON.stringify(e)),this.fetch({method:"post",url:"/api/syncCrowdEstimate",data:t})}function qL(e){return this.fetch({method:"get",url:"/api/devTool/loadFile",params:e})}function JL(e){return this.fetch({method:"get",url:"/api/policy/luaMultiVersion",params:e})}function GL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/policyTotalWithBiPie",params:e})}function UL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/policyTotalWithBiLine",params:e})}function HL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/hitAndBiToTalPie",params:e})}function KL(e){return this.fetch({method:"get",url:"/api/crowd/portraitParam/".concat(e.crowdId)})}function QL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/hitAndBiToTalLine",params:e})}function WL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/exposeCrowdTotalPie",params:e})}function YL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/exposeCrowdTotalLine",params:e})}function ZL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/clickCrowdTotalPie",params:e})}function XL(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/clickCrowdTotalLine",params:e})}function eN(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/hopperDateMap",params:e})}function tN(e){return this.fetch({method:"get",url:"/api/crowdAndPolicyStatistics/exposeProvinceScale",params:e})}function aN(e){return this.fetch({method:"get",url:"/api/policy/policyUseInBi",params:e})}function iN(e){return this.fetch({method:"get",url:"/api/crowd/updateCrowdPutway",params:e})}function nN(e){return this.fetch({method:"post",url:"/api/dynamic/putwayCrowd",data:e,isJSON:!0})}function rN(e){return this.fetch({method:"post",url:"/api/crowd/copyPolicyCrowd",data:e})}function sN(e){return this.fetch({method:"get",url:"/api/crowd/getPolicyList",params:e})}function oN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapBasic/"+e})}function lN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapProvinceAndCityPct/"+e})}function cN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapCityTop/"+e})}function dN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapUserCgy/"+e.id,params:{category:e.category}})}function uN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapLookBehavior/"+e})}function hN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapPayPct/"+e.id,params:{category:e.category}})}function pN(e){return this.fetch({method:"get",url:"/api/enumData/estimateTVEnum",params:e})}function mN(e){return this.fetch({method:"get",url:"/api/map/esCrdStsMapActBehavior/"+e})}function fN(e){return this.fetch({method:"PUT",url:"/api/crowd/updatePriorityInCrowdList",data:e})}function vN(e){return this.fetch({method:"POST",url:"/api/dynamic/updatePriority",data:e,isJSON:!0})}function gN(e){return this.fetch({method:"PUT",url:"/api/crowd/updateBypassPriorityInCrowdList",data:e})}function bN(e){var t=e.model,a=e.data;return this.fetch({method:"post",url:"/api/crowd/aBTestPartition/"+t,data:a,isJSON:!0})}function yN(e){return this.fetch({method:"get",url:"/api/crowd/aBTestPartition/"+e})}function CN(e){var t=e.model,a=e.data;return this.fetch({method:"put",url:"/api/crowd/aBTestPartition/"+t,data:a,isJSON:!0})}function wN(e){return this.fetch({method:"get",url:"/api/crowd/crowdStatusTrack",params:e})}function _N(e){return this.fetch({method:"get",url:"/api/crowd/trackDetail",params:e})}function SN(e){return this.fetch({method:"get",url:"/api/crowd/showAbChilds/"+e})}function kN(e){return this.fetch({method:"get",url:"/api/tempCrowd/searchIndependentAnalysisByCrowdId",params:e})}function IN(e){return this.fetch({method:"post",url:"/api/crowd/submitPolicyCrowd",data:e})}function xN(e){return this.fetch({method:"get",url:"/api/keyAllLaunch/tagInfo/"+e,isJSON:!0})}function TN(e){return this.fetch({method:"POST",url:"/api/keyAllLaunch/tempPolicy",data:e,isJSON:!0})}function DN(e){return this.fetch({method:"get",url:"/api/keyAllLaunch/tempPolicy/"+e})}function $N(e){var t=e.rulesJson,a=e.recordId;return this.fetch({method:"post",url:"/api/keyAllLaunch/tempCrowds/"+a,data:t,isJSON:!0})}function LN(e){return this.fetch({method:"get",url:"/api/keyAllLaunch/tempCrowds/"+e})}function NN(e){var t=e.recordId,a=e.data;return this.fetch({method:"post",url:"/api/keyAllLaunch/tempCrowds/notLaunch/"+t,data:a,isJSON:!0})}function ON(e){var t=e.recordId,a=e.data;return this.fetch({method:"post",url:"/api/keyAllLaunch/keyLaunch/"+t,data:a,isJSON:!0})}function PN(e){return this.fetch({method:"post",url:"/api/keyAllLaunch/saveAndNotLaunch/"+e})}function EN(e){return this.fetch({method:"get",url:"/api/businessDelivery/getBdList",params:e})}function AN(e){return this.fetch({method:"get",url:"/api/businessDelivery/getFunnels",params:e})}function FN(e){return this.fetch({method:"get",url:"/api/businessDelivery/getDataStatus",params:e})}function VN(e){return this.fetch({method:"get",url:"/api/policy/index/my",params:e})}function RN(e){return this.fetch({method:"get",url:"/api/crowd/reLaunch/index/"+e.crowdId,params:e})}function jN(e){var t=e.params,a=e.crowdId;return this.fetch({method:"get",url:"/api/crowd/crowdPortrait/"+a,params:t})}function BN(e){var t=e.policyId,a=e.params;return this.fetch({method:"get",url:"/api/crowd/reLaunch/"+t,params:a})}function MN(e){return this.fetch({method:"post",url:"/api/collect/policy",data:e})}function zN(e){return this.fetch({method:"delete",url:"/api/collect/policy?policyId="+e.policyId})}function qN(e){return this.fetch({method:"get",url:"/api/policy/policyUsedTag",params:e})}function JN(e){var t=e.crowdId,a=e.params;return this.fetch({method:"get",url:"/api/dataSearcher/macCrowdTagValue/"+t,params:a})}function GN(e){return this.fetch({method:"get",url:"/api/crowd/homePage/hit/log",params:e})}function UN(e){return this.fetch({method:"get",url:"/api/crowd/homePage/request/log",params:e})}function HN(e){var t=e.mac,a=e.params;return this.fetch({method:"get",url:"/api/crowd/log/mac/"+t,params:a})}function KN(e){return this.fetch({method:"get",url:"/api/policy/bypassPartition/crowdsList/"+e.policyId})}function QN(e){var t=e.data,a=e.params;return this.fetch({method:"post",url:"/api/policy/bypassPartition/"+a.policyId,data:t,isJSON:!0})}function WN(e){var t=e.data,a=e.params;return this.fetch({method:"put",url:"/api/policy/bypassPartition/"+a.policyId,data:t,isJSON:!0})}function YN(e){return this.fetch({method:"delete",url:"/api/policy/bypassPartition/ratio/"+e.pid})}function ZN(e){return this.fetch({method:"get",url:"/api/policy/bypassPartition/"+e.policyId})}function XN(e){return this.fetch({method:"get",isReturnAllInfor:!0,url:"/api/policy/invoker/".concat(e.policyId,"/").concat(e.mac,"/").concat(e.crowdId)})}function eO(e){var t=e.data;return this.fetch({method:"post",url:"/api/smartProgramme",data:t,isJSON:!0})}function tO(e){return this.fetch({method:"get",isReturnAllInfor:!0,url:"/api/smartProgramme/policy/"+e})}function aO(e){return this.fetch({method:"get",url:"/api/policy/edit",params:e})}function iO(e){var t=e.data,a=e.params;return this.fetch({method:"put",url:"/api/smartProgramme/"+a.programmeId,data:t,isJSON:!0})}function nO(e){return this.fetch({method:"post",url:"/api/effect/sendCommand",data:e,isJSON:!0})}function rO(e){return this.fetch({method:"get",url:"/api/effect/getCrowd",params:e})}function sO(e){return this.fetch({method:"get",url:"/api/effect/getResource",params:e})}function oO(e){return this.fetch({method:"post",url:"/api/effect/getFunnel",data:e,isJSON:!0})}function lO(e){return this.fetch({method:"post",url:"/api/effect/getLine",data:e,isJSON:!0})}function cO(e){return this.fetch({method:"post",url:"/api/effect/download",params:e})}function dO(e){return this.fetch({method:"post",url:"/api/dynamic/addDynamicCrowd",data:e,isJSON:!0})}function uO(e){return this.fetch({method:"get",url:"/api/dynamic/getDynamicCrowd",params:e})}function hO(e){return this.fetch({method:"post",url:"/api/dynamic/delDynamicCrowd",data:e,isJSON:!0})}function pO(e){return this.fetch({method:"get",url:"/api/dynamic/getRuleIndicators",params:e})}function mO(e){return this.fetch({method:"get",url:"/api/dynamic/getDynamicRule",params:e})}function fO(e){return this.fetch({method:"post",url:"/api/dynamic/setDynamicRule",data:e,isJSON:!0})}function vO(e){return this.fetch({method:"post",url:"/api/dynamic/setBigCrowdRule",data:e,isJSON:!0})}function gO(e){return this.fetch({method:"get",url:"/api/dynamic/getCrowdRuleById",params:e})}function bO(e){return this.fetch({method:"post",url:"/api/dynamic/updateDynamicCrowdName",data:e,isJSON:!0})}function yO(e){return this.fetch({method:"post",url:"/api/dynamic2/crowd/add",data:e,isJSON:!0})}function CO(e){return this.fetch({method:"post",url:"/api/dynamic2/crowd/list",data:e,isJSON:!0})}function wO(e){return this.fetch({method:"post",url:"/api/dynamic2/plan/add",data:e,isJSON:!0})}function _O(e){return this.fetch({method:"get",url:"/api/dynamic2/plan/list",params:e})}function SO(e){return this.fetch({method:"post",url:"/api/dynamic2/plan/del",data:e,isJSON:!0})}function kO(e){return this.fetch({method:"post",url:"/api/dynamic2/plan/edit",data:e,isJSON:!0})}function IO(e){return this.fetch({method:"post",url:"/api/dynamic2/crowd/del",data:e,isJSON:!0})}function xO(e){return this.fetch({method:"post",url:"/api/dynamic2/crowd/del/confirm",data:e,isJSON:!0})}function TO(e){return this.fetch({method:"post",url:"/api/dynamic2/setDynamicTime",data:e,isJSON:!0})}function DO(e){return this.fetch({method:"get",url:"/api/dynamic2/getDynamicTime",params:e})}function $O(e){return this.fetch({method:"get",url:"/api/refer/getCrowdList",params:e})}function LO(e){return this.fetch({method:"post",url:"/api/refer/createReferCrowd",data:e,isJSON:!0})}function NO(e){return this.fetch({method:"get",url:"/api/dynamic2/getSourceSign",params:e})}function OO(e){return this.fetch({method:"get",url:"/api/receptionist/flowChart",params:e})}function PO(e){return this.fetch({method:"get",url:"/api/scene/flowChart",params:e})}function EO(e){return this.fetch({method:"get",url:"/api/manage/menu/get_menus_json",params:e})}function AO(e){return this.fetch({method:"POST",url:"/api/manage/menu/changeStatus",data:e})}function FO(e){return this.fetch({method:"POST",url:"/api/manage/menu/del",data:e})}function VO(e){return this.fetch({method:"POST",url:"/api/manage/menu/add",data:e})}function RO(e){return this.fetch({method:"POST",url:"/api/manage/menu/update",data:e})}function jO(e){return this.fetch({method:"GET",url:"/api/manage/menu/get_menu_tree_json",params:e})}var BO={tagTypeList:[],labelDataSourceEnum:[]};function MO(){return this.fetch({url:"/api/label/index"}).then((function(e){if(0===BO.tagTypeList.length){var t=e.tagsTypeEnum;BO.tagTypeList=Object.keys(t).map((function(e){return{label:t[e],value:e}}))}return BO.labelDataSourceEnum=e.labelDataSourceEnum,e.groupList.map((function(e){return{id:e.groupId,name:e.groupName}}))}))}function zO(e){return this.fetch({method:"post",url:"/api/labelGroup/add",data:e})}function qO(){return Promise.resolve(BO.tagTypeList)}function JO(){return Promise.resolve(BO.labelDataSourceEnum)}function GO(e){return this.fetch({method:"get",url:"/api/label/indexTree",params:e})}function UO(e){return this.fetch({method:"get",url:"/api/labelGroup/getGroupsParent",params:e})}function HO(e){return this.fetch({method:"get",url:"/api/labelGroup/edit",params:e})}function KO(e){return this.fetch({method:"get",url:"/api/labelGroup/findByGroupId",params:e})}function QO(e){return this.fetch({method:"get",url:"/api/labelGroup/edit",params:e})}function WO(e){return this.fetch({method:"get",url:"/api/labelGroup/delGroupsList",params:e})}function YO(e){return this.fetch({method:"get",url:"/api/label/copyByGroups",params:e})}function ZO(e){return this.fetch({method:"get",url:"/api/label/copyByTagIds",params:e})}function XO(e){return this.fetch({method:"post",url:"/api/collect/label",data:e})}function eP(e){return this.fetch({method:"delete",url:"/api/collect/label?tagId="+e.tagId})}function tP(e){return this.fetch({method:"get",url:"/api/collect/label",params:e})}function aP(e){return this.fetch({method:"get",url:"/api/specialTag/index",params:e})}function iP(e){return this.fetch({method:"get",url:"/api/specialTag/list/".concat(e.tagId),params:e})}function nP(e){return this.fetch({method:"get",url:"/api/specialTag/child/".concat(e.id)})}function rP(e){var t=e.rulesJson;return this.fetch({method:"put",url:"/api/specialTag",data:t,isJSON:!0})}function sP(e){var t=e.rulesJson;return this.fetch({method:"post",url:"/api/specialTag",data:t,isJSON:!0})}function oP(e){var t=e.specialTagId;return this.fetch({method:"get",url:"/api/specialTag/".concat(t)})}function lP(e){return this.fetch({method:"delete",url:"/api/specialTag/".concat(e)})}function cP(e){return this.fetch({method:"get",url:"/api/specialTag/tagList",params:e})}function dP(e){return this.fetch({method:"post",url:"/api/specialTag/tags",data:e,isJSON:!0})}function uP(e){return this.fetch({method:"put",url:"/api/specialTag/tags",data:e,isJSON:!0})}function hP(e){return this.fetch({method:"delete",url:"/api/specialTag/tags/".concat(e)})}function pP(e){return this.fetch({method:"get",url:"/api/label/searchByGroup",params:e})}function mP(e){return this.fetch({method:"get",url:"/api/modelTag/page",params:e})}function fP(e){return this.fetch({method:"POST",url:"/api/modelTag/",data:e,isJSON:!0})}function vP(e){return this.fetch({method:"PUT",url:"/api/modelTag/",data:e,isJSON:!0})}function gP(e){return this.fetch({method:"DELETE",url:"/api/modelTag/".concat(e)})}function bP(e){return this.fetch({method:"get",url:"/api/modelTag/getTags",params:e})}function yP(e){return this.fetch({method:"get",url:"/api/modelTag/updateModelTag",params:e})}function CP(e){return this.fetch({method:"get",url:"/api/tag/statistics",params:e})}function wP(e){return this.fetch({method:"get",url:"/api/tag/mytopMax30",params:e})}function _P(e){return this.fetch({method:"get",url:"/api/tag/getBehavior",params:e})}function SP(e){return this.fetch({method:"get",url:"/api/tag/getRealTime",params:e})}function kP(e){return this.fetch({method:"get",url:"/api/realTag/list",params:e})}function IP(e){var t=e.pageSize,a=e.currentPage,i=e.name;return this.fetch({url:"/api/label/index",params:{groupId:e.groupId,tagName:i,pageSize:t,pageNum:a}}).then((function(e){var t=e.lableDataSourceEnum,a=e.tagsTypeEnum,i=e.pageInfo,n=i.list,r=i.pageSize,s=i.pageNum,o=i.total;return{itemList:n,dataSourceEnum:t,typeEnum:a,pagination:{total:o,currentPage:s,pageSize:r}}}))}function xP(e){var t=e.tagId?"/api/label/update":"/api/label/save";return this.fetch({method:"post",url:t,data:e})}function TP(e){return this.fetch({method:"post",url:"/api/label/del",data:e})}function DP(e){var t=e.id;return this.fetch({url:"/api/label/detail",params:{tagId:t}}).then((function(e){var t=e.lableDataSourceEnum,a=e.tagsTypeEnum,i=e.tag;return{dataSourceEnum:t,typeEnum:a,tagCategory:i}}))}function $P(e){return this.fetch({url:"/api/enumData/getDataSource",method:"get",params:e})}function LP(e){return this.fetch({url:"/api/tag/getTagType",method:"get",params:e})}function NP(e){var t=e.pageSize,a=e.currentPage,i=e.name,n=e.tagCategoryId;return this.fetch({url:"/api/label/detail",params:{tagId:n,attrName:i,pageSize:t,pageNum:a}}).then((function(e){var t=e.pageInfo,a=t.list,i=t.pageSize,n=t.pageNum,r=t.total;return{itemList:a,pagination:{total:r,currentPage:n,pageSize:i}}}))}function OP(e){var t=e.attrId?"/api/labelAttr/update":"/api/labelAttr/save";return this.fetch({method:"post",url:t,data:e})}function PP(e){return this.fetch({method:"post",url:"/api/labelAttr/del",data:e})}function EP(e){return this.fetch({method:"post",url:"/api/labelAttr/batchSave",data:e})}function AP(e){return this.fetch({method:"get",url:"/api/tagDict/index",params:e})}function FP(e){return this.fetch({method:"get",url:"/api/auto/getBehaviorTagDict/".concat(e.id)})}function VP(e){return this.fetch({method:"get",url:"/api/auto/module/match/".concat(e.type),params:e})}function RP(e){return this.fetch({method:"get",url:"/api/auto/play/tvContent/".concat(e.source),params:e})}function jP(e){return this.fetch({method:"get",url:"/api/auto/play/tvEpisodes/".concat(e.source,"/").concat(e.id),params:e})}function BP(e){return this.fetch({method:"get",url:"/api/auto/getAppointmentInfo",params:e})}function MP(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/manualLaunch",params:e})}function zP(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/manualLaunchList",params:e})}function qP(e){return this.fetch({method:"get",url:"/api/auto/getVideo",params:e})}function JP(e){return this.fetch({method:"get",url:"/api/auto/getShortVideoAuthor",params:e})}function GP(e){return this.fetch({method:"get",url:"/api/auto/getVideoEpisode",params:e})}function UP(e){return this.fetch({method:"get",url:"/api/auto/getMusicByName",params:e})}function HP(e){return this.fetch({method:"get",url:"/api/auto/getMusicByAuthor",params:e})}function KP(e){return this.fetch({method:"get",url:"/api/auto/members/getIds",params:e})}function QP(e){return this.fetch({method:"get",url:"/api/auto/getTopic",params:e})}function WP(e){return this.fetch({method:"get",url:"/api/crowdDataPos/findAllCrowdDataPos",params:e})}function YP(e){return this.fetch({method:"post",url:"/api/crowdDataPos/add",data:e})}function ZP(e){return this.fetch({method:"post",url:"/api/crowdDataPos/edit",data:e})}function XP(e){return this.fetch({method:"get",url:"/api/crowdDataPos/del",params:e})}function eE(e){return this.fetch({method:"get",url:"/api/crowdDataPos/findCrowdDataPosById",params:e})}function tE(e){return this.fetch({method:"get",url:"/api/crowdDataPos/getProtocol",params:e})}function aE(e){return this.fetch({method:"get",url:"/api/crowdDataPos/getLaunchCrowdId",params:e})}function iE(e){return this.fetch({method:"get",url:"/api/thirdInterfaceConf/findAllByPage",params:e})}function nE(e){return this.fetch({method:"post",url:"/api/thirdInterfaceConf/add",data:e})}function rE(e){return this.fetch({method:"post",url:"/api/thirdInterfaceConf/edit",data:e})}function sE(e){return this.fetch({method:"get",url:"/api/thirdInterfaceConf/del",params:e})}function oE(e){return this.fetch({method:"get",url:"/api/thirdInterfaceConf/findThirdInterfaceConfById",params:e})}function lE(e){return this.fetch({method:"get",url:"/api/thirdInterfaceConf/findAll",params:e})}function cE(e){return this.fetch({method:"get",url:"/api/statistic/getTotalPolicy",params:e})}function dE(e){return this.fetch({method:"get",url:"/api/statistic/crowdPVTotal",params:e})}function uE(e){return this.fetch({method:"get",url:"/api/statistic/crowdForcasTotal",params:e})}function hE(e){return this.fetch({method:"get",url:"/api/statistic/crowdUVTotal",params:e})}function pE(e){return this.fetch({method:"get",url:"/api/statistic/crowdSendTotal",params:e})}function mE(e){return this.fetch({method:"get",url:"/api/statistic/crowdClickTotal",params:e})}function fE(e){return this.fetch({method:"get",url:"/api/statistic/crowdBiPVTotal",params:e})}function vE(e){return this.fetch({method:"get",url:"/api/statistic/crowdBiUVTotal",params:e})}function gE(e){return this.fetch({method:"get",url:"/api/statistic/crowdSendBiTotal",params:e})}function bE(e){return this.fetch({method:"get",url:"/api/statistic/crowdClickBiTotal",params:e})}function yE(e){return this.fetch({method:"get",url:"/api/total/crowdSexTotal",params:e})}function CE(e){return this.fetch({method:"get",url:"/api/total/crowdAgeTotal",params:e})}function wE(e){return this.fetch({method:"get",url:"/api/total/deviceLevelTotal",params:e})}function _E(e){return this.fetch({method:"get",url:"/api/total/crowdProvinceTotal",params:e})}function SE(e){return this.fetch({method:"get",url:"/api/statistic/getCrowdAllTotal",params:e})}function kE(e){return this.fetch({method:"get",url:"/api/chart/recommendCrowd/detail",params:e})}function IE(e){return this.fetch({method:"get",url:"/api/chart/recommendAllTotal/detail",params:e})}function xE(e){return this.fetch({method:"get",url:"/api/devTool/clearCache",params:e})}function TE(e){return this.fetch({method:"get",url:"/api/api/settings/updateApiCacheVersion",params:e})}function DE(e){return this.fetch({method:"get",url:"/api/webApiServer/index",params:e})}function $E(e){return this.fetch({method:"get",url:"/api/webApiServer/biList",params:e})}function LE(e){return this.fetch({method:"post",url:"/api/webApiServer",data:e,isJSON:!0})}function NE(e){var t=e.data,a=e.id;return this.fetch({method:"put",url:"/api/webApiServer/"+a,data:t,isJSON:!0})}function OE(e){return this.fetch({method:"delete",url:"/api/webApiServer/"+e})}function PE(e){return this.fetch({method:"get",url:"/api/webApiServer/"+e})}function EE(e){return this.fetch({method:"get",url:"/api/manager/biList/getBiListPage",params:e})}function AE(e){return this.fetch({method:"get",url:"/api/manager/biList/getByBiId",data:e})}function FE(e){return this.fetch({method:"POST",url:"/api/manager/biList/add",data:e})}function VE(e){return this.fetch({method:"put",url:"/api/manager/biList/updateBiList",data:e})}function RE(e){return this.fetch({method:"GET",url:"/api/manager/biList/getBiList",params:e})}function jE(e){return this.fetch({method:"POST",url:"/api/effect/getEffectData",data:e,isJSON:!0,responseType:"arraybuffer"})}function BE(e){return this.fetch({method:"POST",url:"/api/effect/getCtr",data:e,isJSON:!0,responseType:"arraybuffer"})}function ME(e){return this.fetch({method:"POST",url:"/api/effect/getPackage",data:e,isJSON:!0,responseType:"arraybuffer"})}function zE(e){return this.fetch({method:"POST",url:"/api/effect/getActive",data:e,isJSON:!0,responseType:"arraybuffer"})}function qE(e){return this.fetch({method:"POST",url:"/api/effect/getTv",data:e,isJSON:!0,responseType:"arraybuffer"})}function JE(e){return this.fetch({method:"POST",url:"/api/effect/getTvTop",data:e,isJSON:!0,responseType:"arraybuffer"})}function GE(e){return this.fetch({method:"POST",url:"/api/effect/getCategory",data:e,isJSON:!0,responseType:"arraybuffer"})}function UE(e){return this.fetch({method:"get",url:"/api/manager/notice/getNoticePage",params:e})}function HE(e){return this.fetch({method:"post",url:"/api/manager/notice/addNotice",data:e})}function KE(e){return this.fetch({method:"get",url:"/api/manager/notice/getByNoticeId",params:e})}function QE(e){return this.fetch({method:"put",url:"/api/manager/notice/updateNotice",data:e})}function WE(e){return this.fetch({method:"delete",url:"/api/manager/notice/deleteNotice",params:e})}function YE(e){return this.fetch({method:"get",url:"/api/manager/notice/getByNoticeType",params:e})}function ZE(e){return this.fetch({method:"get",url:"/api/chart/crowdUsed/detail",params:e})}function XE(e){return this.fetch({method:"get",url:"/api/chart/crowdApply/detail",params:e})}function eA(e){return this.fetch({method:"get",url:"/api/chart/tagCover/detail",params:e})}function tA(e){return this.fetch({method:"get",url:"/api/chart/tagUsed/detail",params:e})}function aA(e){return this.fetch({method:"get",url:"/api/chart/tagScenesCover/detail",params:e})}function iA(e){return this.fetch({method:"get",url:"/api/chart/bizDelivery/detail",params:e})}function nA(e){return this.fetch({method:"get",url:"/api/chart/bizUse/amount",params:e})}function rA(e){return this.fetch({method:"get",url:"/api/chart/crowdBizDistric/detail",params:e})}function sA(e){return this.fetch({method:"get",url:"/api/chart/bizUsedProcess",params:e})}function oA(e){return this.fetch({method:"get",url:"/api/chart/activeTimeDistric/detail",params:e})}function lA(e){return this.fetch({method:"get",url:"/api/chart/userDistric/detail",params:e})}function cA(e){return this.fetch({method:"get",url:"/api/chart/memlastPaidProductPack/detail",params:e})}function dA(e){return this.fetch({method:"get",url:"/api/chart/activeDevice/detail",params:e})}function uA(e){return this.fetch({method:"get",url:"/api/chart/initialBroadcastRate/detail",params:e})}function hA(e){return this.fetch({method:"get",url:"/api/chart/userViewingPreferenceDistric/detail",params:e})}function pA(e){return this.fetch({method:"get",url:"/api/chart/userVipRightsList",params:e})}function mA(e){return this.fetch({method:"get",url:"/api/chart/initDateData1",params:e})}function fA(e){return this.fetch({method:"get",url:"/api/chart/userVipRightsList",params:e})}function vA(e){return this.fetch({method:"get",url:"/api/chart/statisticStrategyReqAndHit",params:e})}function gA(e){return this.fetch({method:"get",url:"/api/chart/statisticCrowdGrowth",params:e})}function bA(e){return this.fetch({method:"get",url:"/api/chart/statisticStrategyUse",params:e})}function yA(e){return this.fetch({method:"get",url:"/api/chart/statisticTagsGrowth",params:e})}function CA(e){return this.fetch({method:"get",url:"/api/chart/statisticCrowdLife",params:e})}function wA(e){return this.fetch({method:"get",url:"/api/chart/statisticBehaviorCrowdLife",params:e})}function _A(e){return this.fetch({method:"get",url:"/api/chart/statisticStrategyLife",params:e})}function SA(e){return this.fetch({method:"get",url:"/api/chart/getTag",params:e})}function kA(e){return this.fetch({method:"get",url:"/api/chart/getCrowdRatio",params:e})}function IA(e){return this.fetch({method:"get",url:"/api/chart/getStore",params:e})}function xA(e){return this.fetch({method:"get",url:"/api/chart/statisticCrowdCalcDuration",params:e})}function TA(e){return this.fetch({method:"get",url:"/api/chart/statisticCrowdLaunch",params:e})}function DA(e){return this.fetch({method:"get",url:"/api/chart/policySixIndexStats",params:e})}function $A(e){return this.fetch({method:"get",url:"/api/chart/crowdGroupIndexStatistics",params:e})}function LA(e){return this.fetch({method:"get",url:"/api/chart/statisticPieChart",params:e})}function NA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/longTimeUnusedCrowd/"+e.day,params:e})}function OA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/tempCrowd",params:e})}function PA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/abcrowdHasExpired",params:e})}function EA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/tempTag",params:e})}function AA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpApiRequest",params:e})}function FA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpApiRequestAccuracyRate",params:e})}function VA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpApiRequestErrorRate",params:e})}function RA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpApiRequestErrorReason",params:e})}function jA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpTask",params:e})}function BA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpTaskFailReason",params:e})}function MA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/dmpQpsApiRequest",params:e})}function zA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/selectOneCrowdTimeConsuming",params:e})}function qA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/crowdHitCountDecline50",params:e})}function JA(e){return this.fetch({method:"GET",url:"/api/chart/expStat/crowdHitCountDecline0",params:e})}function GA(e){return this.fetch({method:"POST",url:"/api/effect/queryEffectAppointment",data:e,isJSON:!0})}function UA(e){return this.fetch({method:"get",url:"/api/devicePortrait/tasks",params:e})}function HA(e){return this.fetch({method:"post",url:"/api/devicePortrait/fileUpload",data:e})}function KA(e){return this.fetch({method:"get",url:"/api/devicePortrait/save",params:e})}function QA(e){return this.fetch({method:"get",url:"/api/devicePortrait/delete",params:e})}function WA(e){var t=e.params,a=e.id;return this.fetch({method:"get",url:"/api/crowd/devPacketPortrait/"+a,params:t})}function YA(e){return this.fetch({method:"get",url:"/api/dataSearcher/tempTagList",params:e})}function ZA(e){return this.fetch({method:"get",url:"/api/dataSearcher/tempTagAttrList",params:e})}function XA(e){return this.fetch({method:"get",url:"/api/dataSearcher/queryMacTags",params:e})}function eF(e){return this.fetch({method:"get",url:"/api/crowd/mac/tagInfo",params:e})}function tF(e){return this.fetch({method:"get",url:"/api/dataSearcher/validatePolicyHit",params:e})}function aF(e){return this.fetch({method:"get",url:"/api/dataSearcher/queryMacVisitedLog",params:e})}function iF(e){return this.fetch({method:"get",url:"/api/behavior/show",params:e})}function nF(e){return this.fetch({method:"post",url:"/api/behavior/show",data:e})}function rF(e){return this.fetch({method:"get",url:"/api/rightsInterestsOutcome",params:e})}function sF(e){return this.fetch({method:"get",url:"/api/getRightsInterestsSearchRecord",params:e})}function oF(e){return this.fetch({method:"get",url:"/api/exportRightsInterests",params:e})}function lF(e){return this.fetch({method:"get",url:"/api/delRightsInterestsSearchRecord",params:e})}function cF(e){return this.fetch({method:"get",url:"/api/tempCrowd/index",params:e})}function dF(e){return this.fetch({method:"post",url:"/api/tempCrowd",isJSON:!0,data:e})}function uF(e){return this.fetch({method:"put",url:"/api/tempCrowd",isJSON:!0,data:e})}function hF(e){return this.fetch({method:"delete",url:"/api/multiVersionCrowd/delTempCrowd",params:e})}function pF(e){return this.fetch({method:"get",url:"/api/tempCrowd",params:e})}function mF(e){return this.fetch({method:"get",url:"/api/tempCrowd/calculate",params:e})}function fF(e){return this.fetch({method:"get",url:"/api/labelGroup/tree",params:e})}function vF(e){return this.fetch({method:"get",url:"/api/tempCrowd/calculatedList",params:e})}function gF(e){return this.fetch({method:"post",url:"/api/multiVersionCrowd/getTempLaunchList",data:e})}function bF(e){return this.fetch({method:"get",url:"/api/policy/getBehaviorABPolicy",data:e})}function yF(e){return this.fetch({method:"GET",url:"/api/crowd/getABChildByPolicyId",params:e})}function CF(e){return this.fetch({method:"GET",url:"/api/crowd/getBehaviorCrowdByPolicyId",params:e})}function wF(e){return this.fetch({method:"GET",url:"/api/policy/getCrowdCrowdTagList",params:e})}function _F(e){return this.fetch({method:"get",url:"/api/tempCrowd/localCrowd/index",params:e})}function SF(e){return this.fetch({method:"post",url:"/api/tempCrowd/localCrowd",isJSON:!0,data:e,contentType:"multipart/form-data"})}function kF(e){return this.fetch({method:"put",url:"/api/tempCrowd/localCrowd/".concat(e.id),data:e.formData})}function IF(e){return this.fetch({method:"post",url:"/api/tempCrowd/localCrowd/OnOrOff/".concat(e.localCrowdId),data:e})}function xF(e){return this.fetch({method:"delete",url:"/api/tempCrowd",params:e})}function TF(e){return this.fetch({method:"get",url:"/api/tempCrowd",params:e})}function DF(e){return this.fetch({method:"get",url:"/api/labelGroup/tree",params:e})}function $F(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/sensorCrowdAnalysis",params:e,isReturnAllInfor:!0})}function LF(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/sensorHitData",params:e,isReturnAllInfor:!0})}function NF(e){return this.fetch({method:"get",url:"/api/crowdFlowPath",params:e})}function OF(e){return this.fetch({method:"get",url:"/api/macExport/checkMackFileIsExist",params:e})}function PF(e){return this.fetch({method:"get",url:"/api/macExport/downloadMacFile",params:e})}function EF(e){return this.fetch({method:"get",url:"/api/multiVersionCrowd/localCrowd/sensorAnalysis",params:e})}function AF(e){return this.fetch({method:"get",url:"/api/crowd/queryCrowdHitAlertList",params:e})}function FF(e){return this.fetch({method:"post",url:"/api/crowd/addCrowdHitAlert",data:e,isJSON:!0})}function VF(e){return this.fetch({method:"delete",url:"/api/crowd/deleteCrowdHitAlert",params:e})}function RF(e){return this.fetch({method:"get",url:"/api/scene/list",params:e})}function jF(e){return this.fetch({method:"post",url:"/api/scene/add",isJSON:!0,data:e})}function BF(e){return this.fetch({method:"post",url:"/api/scene/edit",isJSON:!0,data:e})}function MF(e){return this.fetch({method:"get",url:"/api/receptionist/list",params:e})}function zF(e){return this.fetch({method:"post",url:"/api/receptionist/add",isJSON:!0,data:e})}function qF(e){return this.fetch({method:"post",url:"/api/receptionist/edit",isJSON:!0,data:e})}function JF(e){return this.fetch({method:"get",url:"/api/sceneSkill/list",params:e})}function GF(e){return this.fetch({method:"post",url:"/api/sceneSkill/add",isJSON:!0,data:e})}function UF(e){return this.fetch({method:"post",url:"/api/entry/add",isJSON:!0,data:e})}function HF(e){return this.fetch({method:"get",url:"/api/entry/list",params:e})}function KF(e){return this.fetch({method:"get",url:"/api/policy/getTagsByEntryId",params:e})}function QF(e){return this.fetch({method:"get",url:"/api/policy/getTagsByExportId",params:e})}function WF(e){return this.fetch({method:"post",url:"/api/export/add",isJSON:!0,data:e})}function YF(e){return this.fetch({method:"get",url:"/api/export/list",params:e})}function ZF(e){return this.fetch({method:"post",url:"/api/scene/dynamic",isJSON:!0,data:e})}function XF(e){return this.fetch({method:"post",url:"/api/scene/addGroup",isJSON:!0,data:e.list})}function eV(e){return this.fetch({method:"post",url:"/api/scene/delGroup/".concat(e.groupId)})}function tV(e){return this.fetch({method:"get",url:"/api/scene/listGroup",params:e})}function aV(e){return this.fetch({method:"get",url:"/api/getPerformanceGoalData",params:e})}function iV(e){return this.fetch({method:"post",url:"/api/receptionist/copy",isJSON:!0,data:e})}function nV(e){return this.fetch({method:"get",url:"/api/receptionist/getVideo",params:e})}function rV(e){return this.fetch({method:"get",url:"/api/receptionist/getVideoSource",params:e})}function sV(e){return this.fetch({method:"post",url:"/api/receptionist/editIndicator",isJSON:!0,data:e})}function oV(e){return this.fetch({method:"get",url:"/api/receptionist/getReceptionistById",params:e})}function lV(e){return this.fetch({method:"get",url:"/api/uptm/tree",params:e})}function cV(e){return this.fetch({method:"get",url:"/api/uptm/getTag",params:e})}function dV(e){return this.fetch({method:"get",url:"/api/uptm/getTopRecommendResourceList",params:e})}function uV(e){return this.fetch({method:"get",url:"/api/uptm/getSourceList",params:e})}function hV(e){return this.fetch({method:"post",url:"/api/receptionist/reuse",data:e,isJSON:!0})}function pV(e){return this.fetch({method:"post",url:"/api/receptionist/updateExport",data:e,isJSON:!0})}function mV(e){return this.fetch({method:"get",url:"/api/receptionist/canReuse",params:e})}function fV(e){return this.fetch({method:"get",url:"/api/scene/getAccess",params:e})}function vV(e){return this.fetch({method:"get",url:"/api/receptionist/batch/uptm",params:e})}function gV(e){return this.fetch({method:"post",url:"/api/receptionist/batch/saveFirst",data:e,isJSON:!0})}function bV(e){return this.fetch({method:"get",url:"/api/receptionist/batch/list",params:e})}function yV(e){return this.fetch({method:"post",url:"/api/receptionist/batch/saveSecond",data:e,isJSON:!0})}function CV(e){return this.fetch({method:"post",url:"/api/receptionist/sceneSkip",data:e,isJSON:!0})}function wV(e){return this.fetch({method:"post",url:"/api/receptionist/sceneNext",data:e,isJSON:!0})}function _V(e){return this.fetch({method:"get",url:"/api/receptionist/getSceneDetail",params:e})}function SV(e){return this.fetch({method:"post",url:"/api/receptionist/createTypeSkip",data:e,isJSON:!0})}function kV(e){return this.fetch({method:"post",url:"/api/receptionist/createTypeNext",data:e,isJSON:!0})}function IV(e){return this.fetch({method:"get",url:"/api/receptionist/getListbySceneId",params:e})}function xV(e){return this.fetch({method:"get",url:"/api/receptionist/batchSetLast",params:e})}function TV(e){return this.fetch({method:"post",url:"/api/receptionist/oneByOneListSkip",data:e,isJSON:!0})}function DV(e){return this.fetch({method:"post",url:"/api/receptionist/oneByOneListNext",data:e,isJSON:!0})}function $V(e){return this.fetch({method:"post",url:"/api/receptionist/batchSetSkip",data:e,isJSON:!0})}function LV(e){return this.fetch({method:"post",url:"/api/receptionist/batchSetNext",data:e,isJSON:!0})}function NV(e){return this.fetch({method:"post",url:"/api/receptionist/batchListSkip",data:e,isJSON:!0})}function OV(e){return this.fetch({method:"post",url:"/api/receptionist/batchListNext",data:e,isJSON:!0})}function PV(e){return this.fetch({method:"post",url:"/api/receptionist/draft",data:e,isJSON:!0})}function EV(e){return this.fetch({method:"post",url:"/api/receptionist/release",data:e,isJSON:!0})}function AV(e){return this.fetch({method:"get",url:"/api/receptionist/getType",params:e})}function FV(e){return this.fetch({method:"post",url:"/api/receptionist/setType",data:e,isJSON:!0})}function VV(e){return this.fetch({method:"get",url:"/api/assistantTask/list",params:e})}function RV(e){return this.fetch({method:"post",url:"/api/assistantTask/save",data:e,isJSON:!0})}function jV(e){return this.fetch({method:"get",url:"/api/assistantTask/byId",params:e})}function BV(e){return this.fetch({method:"post",url:"/api/assistantResource/save",data:e,isJSON:!0})}function MV(e){return this.fetch({method:"post",url:"/api/assistantTask/putway",data:e,isJSON:!0})}function zV(e){return this.fetch({method:"post",url:"/api/assistantTask/del",data:e,isJSON:!0})}function qV(e){return this.fetch({method:"get",url:"/api/assistantTask/crowdList",params:e})}function JV(e){return this.fetch({method:"get",url:"/api/assistantResource/list",params:e})}function GV(e){return this.fetch({method:"get",url:"/api/operationAssistant/getEffect",params:e})}function UV(e){return this.fetch({method:"get",url:"/api/assistantTaskSync/genLuaById",params:e})}function HV(e){return this.fetch({method:"get",url:"/api/assistantLua/list",params:e})}function KV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function QV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?KV(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var WV=QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV(QV({state:{},fetch:PD,login:ED,getConstants:AD,modifyPwd:y$,get_user_json:g$,updateUserInformation:b$},i),n),r),s),o),l),c),d),u),h),p),m),v),f),g),b),y),C),w),_),S),k),I),x),T),D),$);L["default"].prototype.$service=DD(WV);var YV=DD(WV);function ZV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function XV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ZV(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var eR={state:{policyId:void 0,policyName:void 0,policyInfo:{},smartDetail:{},isSmartEdit:!1,copyServiceRules:{type:"",selectedIds:[],allRules:[]}},mutations:{setPolicyId:function(e,t){e.policyId=t},setPolicyName:function(e,t){e.policyName=t},SET_POLICY_INFO:function(e,t){e.policyInfo=t},SET_SMART_DETAIL:function(e,t){e.smartDetail=t},setEditSchemeConfig:function(e,t){e.isSmartEdit=t},setSchemeConfigNull:function(e){e.policyId=void 0,e.isSmartEdit=!1},SET_COPY_ENTRY_ID:function(e,t){e.copyServiceRules=XV({},t)}},actions:{getPolicyInfo:function(e,t){e.commit;return new Promise((function(e){YV.smartProframPolicyInfo({policyId:t}).then((function(t){e(t.policy)}))}))},getSchemeConfigInfo:function(e,t){var a=e.commit;YV.smartProgrammeDetail(this.policyId).then((function(e){a("SET_SMART_DETAIL",e.data)}))},saveSmartProgramme:function(e,t){e.commit;var a=e.state;return new Promise((function(e,i){a.policyId?YV.smartProframPolicyUpdate(t,"编辑成功").then((function(t){e(t)})).catch((function(e){i(e)})):YV.smartProgramme(t,"保存成功").then((function(t){e(t)})).catch((function(e){i(e)}))}))}}},tR=eR;L["default"].use(Vr["a"]);var aR=new Vr["a"].Store({getters:xD,modules:{configScheme:tR}}),iR=aR,nR=(a("86d7"),a("313e"),a("3139"),{all:"All",mine:"mine",strategyInputTips:"Support searching by strategy, crowd, creator, department",btns:{new:"New",seeCrowd:"View Crowd",launch:"Launch",notSynchronized:"Not Synchronized",synchronized:"synchronized",more:"More",edit:"Edit",delete:"Delete",seeConfig:"View Configuration",addToMe:"Add to mine",useStatistics:"Call Statistics"},notLaunch:"Not launched",launched:"Launched",launching:"Launching",strategyName:"Strategy Name",strategyDemension:"Strategic Demension",bigDataTagWithRed:"Red is big data tag",definedTagWithGreen:"Green is a custom tag",accountTagWithBlue:"Blue is the account tag",specialTagWithPurple:"Purple is a specific tag",createTime:"Create Time",creator:"creator",businessDept:"Business Department",launchStatus:"Launch status",operate:"Operate",status:"Status",prompt:"Prompt",strategyEffectTips:"The newly created crowd strategy will take effect in real time, and the old strategy update needs to be delayed for 2 hours to take effect",fristStep:"First Step",chooseStrategyDemension:"choose strategy dimension",secondStep:"Second Step",createCrowd:"Create Crowd",thirdStep:"Third step",launchToBusiness:"Launch To Business Platform",tempCrowd:"Temporary Crowd",tempTag:"Temporary Tag",tagZone:"Tag Zone",selectedTag:"Selected Tag",note:"Note",nextStep:"Next Step",jumpNextAndSave:"Skip the next step to save",tagSearchTips:"Support searching by tag name, code, description",name:"Name",dataSource:"Data Source",tagDefined:"Tag Definition",newTagClassify:"New Type",englishName:"English Name",belongsDept:"Belonging to the group",customTag:"Custom Tag",type:"Type",remark:"Remark",submit:"Submit",crowdCondition:"Crowd Condition",crowdName:"Crowd Name",setTag:"Set Tag",limitLaunchNumberOrNot:"Whether to limit the number of launch",priority:"Priority",add:"Add",prevStep:"Prev Step",jumpAndSave:"Skip to Save",estimate:"Estimate",launchQuantity:"Launch Quantity",launchMode:"Launch mode",pullMode:"Pull Mode",pushMode:"Push Mode",pullBusinessTips:"Used for homepage, product packages, advertisements, events, pop-ups, media",pushBusinessTips:"For Message、WeChat",currentPolicy:"Current Policy",launchPlatform:"Launch Platform",saveButNotLaunch:"Save but not launch",launch:"Launch",batchEstimate:"Batch Estimate",requestBypass:"Request Bypass",goBack:"Back",policyId:"Policy ID",crowdsSearchTips:"Please enter the name of the crowd",bypassRatio:"Bypass Ratio",ABtest:"AB test",ABexperiment:"AB experiment",estimateStatus:"Estimate Status",statistic:"Statistic",crowdRules:"Crowd Rules",dynamicLabel:"Dynamic Label",totalState:"Total State",normal:"normal",waitingForOrders:"To be hit",crowdListSearchTips:"Please enter ID or name",lastUpdateTime:"Last Update Time",serviceHitSearch:"Device Hit Search",noDataText:"No data yet",syncArrangement:"Sync Configuration",firstRequest:"First Request",firstHit:"First Hit",bypassId:"Bypass Id",notInGroup:"Not Grouped",crowdPutaway:"Crowd on the shelves",crowdUnshelve:"Crowd off the shelves",crowdCopy:"Crowd Copy",commitHistoryData:"Submit Historical Data",noMoreThenTenMillion:"Cannot be greater than 100,000",save:"Save",selectTips:"Please select",description:"Description",estimateTips:"Automatically filter the custom conditions, only estimate the number of crowd containing big data tags, and de-estimate based on the priority of the crowd. The overlapped part is counted as the high-priority crowd, and the crowds on the shelves under this strategy will participate in the de-duplication estimate",commitToEstimate:"Submit Estimate",setCopies:"Set Copies",setGroupAndPercent:"Set Group and Percent",requestBypassApart:"Request traffic division number of shares",copies:"Copies",chooseCrowd:"Please choose a crowd",launchEffect:"Launch Effect",seeMainPageData:"View Homepage Data",crowdChild:"Crowd Child",fillCrowdCopies:"Fill in the number of copies of the crowd",crowdsCopies:"Crowds Copies",setCrowdProportion:"Set crowd proportion",eachCrowdProportion:"Proportion of each crowd",totalProportion:"Total Proportion",testEffectTime:"Experiment Validity Period",startDate:"Start Date",endDate:"End Date",fillTestExpiredAndSave:"Fill in the validity period of the experiment and save",finish:"Finish",cancle:"Cancel",confirm:"Confirm",addCrowd:"Add Crowd",editCrowd:"Edit Crowd",beforeToday:"Before Today",afterToday:"After Today",day:"Day",priorityTips:"The higher the number, the higher the priority",notEstimate:"Not Estimated",estimating:"Estimating",estimated:"Estimated",estimateFail:"Estimate failed",yes:"Yes",no:"No",estimatePicture:"Estimate Portrait",estimateResultTips:"Only estimate the number of crowd that contain big data tags: the crossover crowd has been removed according to the priority of the crowd, and the crossover part is counted as the crowd with high priority",estimateResult:"Estimate result",noEstimateDataTips:"There is no data in your crowd condition, please reset the crowd condition",service:"Device",phone:"Mobile Phone Number",coocaaOpenId:"Coocaa OpenId",wxOpenId:"WeChat OpenId",exportData:"Export Data",copyCrowdTips:"Copy the crowd to the following strategy",estimatePictureTitle:"The user portrait estimated by this group of crowd",basciInfo:"Basic Information",cityActiveRatio:"City Active Ratio",topFiftyCity:"Top 50 active city ranking (active in the last 30 days)",userType:"User Type",byMemberBenifite:"By Member Benefits",payDistribute:"Pay Distribution",wacthBehavior:"Watching Behavior",activeRateTitle:"Last 7/30th active rate of watching",activeBehavior:"Active Behavior",divideDetail:"Division Details",launchChildId:"Launch Child Id",count:"Quantity",limitLaunchNumber:"The number of limited launch is"}),rR={all:"全部",mine:"我的",strategyInputTips:"支持按策略、人群、创建人、部门搜索",btns:{new:"新增",seeCrowd:"查看人群",launch:"投放",notSynchronized:"未同步",synchronized:"已同步",more:"更多",edit:"编辑",delete:"删除",seeConfig:"查看配置",addToMe:"添加到我的",useStatistics:"调用统计"},notLaunch:"未投放",launched:"已投放",launching:"投放中",strategyName:"策略名称",strategyDemension:"策略维度",bigDataTagWithRed:"红色为大数据标签",definedTagWithGreen:"绿色为自定义/本地标签",accountTagWithBlue:"蓝色为账号标签",specialTagWithPurple:"紫色为特定标签",createTime:"创建时间",creator:"创建人",businessDept:"业务部门",launchStatus:"投放状态",operate:"操作",status:"状态",prompt:"提示",strategyEffectTips:"新建的人群策略将实时生效,旧的策略更新需要延时2小时生效",fristStep:"第一步",chooseStrategyDemension:"选择策略维度",secondStep:"第二步",createCrowd:"创建人群",thirdStep:"第三步",launchToBusiness:"投放到业务平台",tempCrowd:"临时人群",tempTag:"临时标签",tagZone:"设备标签",selectedTag:"已选标签",note:"注",nextStep:"下一步",jumpNextAndSave:"跳过下一步保存",tagSearchTips:"支持按标签名、code、描述搜索",name:"名称",dataSource:"数据来源",tagDefined:"标签定义",newTagClassify:"新建种类",englishName:"英文名",belongsDept:"所属分组",customTag:"自定义标签",type:"类型",remark:"备注",submit:"提交",crowdCondition:"人群条件",crowdName:"人群名称",setTag:"设置标签",limitLaunchNumberOrNot:"是否限制投放数量",priority:"优先级",add:"添加",prevStep:"上一步",jumpAndSave:"跳过保存",estimate:"估算",launchQuantity:"投放数量",launchMode:"投放模式",pullMode:"pull模式",pushMode:"push模式",pullBusinessTips:"用于主页、产品包、广告、活动、弹窗、媒资",pushBusinessTips:"用于消息、微信",currentPolicy:"当前策略",launchPlatform:"投放平台",saveButNotLaunch:"存稿不投放",launch:"投放",batchEstimate:"批量估算",requestBypass:"请求分流",goBack:"返回",policyId:"策略ID",crowdsSearchTips:"请输入人群名称",bypassRatio:"分流占比",ABtest:"AB测试",ABexperiment:"AB实验",estimateStatus:"估算状态",statistic:"统计",crowdRules:"人群规则",dynamicLabel:"动态标签",totalState:"总状态",normal:"正常",waitingForOrders:"待命中",crowdListSearchTips:"请输入ID或名称",lastUpdateTime:"最近更新时间",serviceHitSearch:"设备命中查询",noDataText:"暂无数据",syncArrangement:"同步配置",firstRequest:"首条请求",firstHit:"首条命中",bypassId:"分流Id",notInGroup:"未分组",crowdPutaway:"人群上架",crowdUnshelve:"人群下架",crowdCopy:"人群复制",commitHistoryData:"提交历史数据",noMoreThenTenMillion:"不能大于1,000,000",save:"保存",selectTips:"请选择",description:"说明",estimateTips:"会自动过滤自定义条件，只估算包含大数据标签的人群数量,依据人群优先级去重估算，重合部分算入优先级高的人群,该策略下上架中的人群将参与去重估算",commitToEstimate:"提交估算",setCopies:"设置份数",setGroupAndPercent:"设置分组及比例",requestBypassApart:"请求流量划分份数",copies:"份数",chooseCrowd:"请选择人群",launchEffect:"投后效果",seeMainPageData:"看主页数据",crowdChild:"子人群",fillCrowdCopies:"填写人群份数",crowdsCopies:"人群划分份数",setCrowdProportion:"设置人群占比",eachCrowdProportion:"各人群占比",totalProportion:"比例总和",testEffectTime:"实验有效期",startDate:"开始日期",endDate:"结束日期",fillTestExpiredAndSave:"填写实验有效期并保存",finish:"完成",cancle:"取消",confirm:"确定",addCrowd:"新增人群",editCrowd:"编辑人群",beforeToday:"在当日之前",afterToday:"在当日之后",day:"天",priorityTips:"数字越大，优先级越高",notEstimate:"未估算",estimating:"估算中",estimated:"已估算",estimateFail:"估算失败",yes:"是",no:"否",estimatePicture:"估算画像",estimateResultTips:"只估算包含大数据标签的人群数量为：已按人群优先级除去交叉人群，交叉部分算入优先级高的人群",estimateResult:"估算结果",noEstimateDataTips:"你的人群条件查无数据，请重新设置人群条件",service:"设备",phone:"手机号",coocaaOpenId:"酷开openId",wxOpenId:"微信openId",exportData:"导出数据",copyCrowdTips:"将人群复制到以下策略",estimatePictureTitle:"该人群估算出的用户画像",basciInfo:"基本信息",cityActiveRatio:"城市活跃比",topFiftyCity:"Top50城市活跃排名(近30天活跃)",userType:"用户类别",byMemberBenifite:"按会员权益",payDistribute:"付费分布",wacthBehavior:"观影行为",activeRateTitle:"近7日/30日起播活跃率（有起播行为等活跃天数7日/或30日）",activeBehavior:"活跃行为",divideDetail:"划分详情",launchChildId:"投放子ID",count:"数量",limitLaunchNumber:"限制投放数量为"},sR=a("4897"),oR=a.n(sR);function lR(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function cR(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lR(Object(a),!0).forEach((function(t){Object(it["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lR(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}L["default"].use(X["a"]);var dR={en:cR(cR({},j["a"].langMessages.en),nR),zh:cR(cR({},j["a"].langMessages.zh),rR)},uR=new X["a"]({locale:"zh",messages:dR});oR.a.i18n((function(e,t){return uR.t(e,t)}));var hR=uR;L["default"].config.productionTip=!1,new L["default"]({router:kD,render:function(e){return e(re)},i18n:hR,store:iR,appState:{prefix:"HODER/"}}).$mount("#app")},"575f":function(e,t,a){},"578e":function(e,t,a){"use strict";a("a28e")},5980:function(e,t,a){},"5c05":function(e,t,a){},"5cf9":function(e,t,a){},"5e3d":function(e,t,a){"use strict";a("08bb")},"5e81":function(e,t,a){"use strict";a("d896")},"60e1":function(e,t,a){},"60ee":function(e,t,a){},6111:function(e,t,a){"use strict";a("e150")},6145:function(e,t,a){"use strict";a("0130")},"623e":function(e,t,a){"use strict";a("6537")},"62cfa":function(e,t,a){"use strict";a("def6")},6364:function(e,t,a){"use strict";a("64a4")},6373:function(e,t,a){"use strict";a("be67")},"644c":function(e,t,a){"use strict";a("ccf8")},"648b":function(e,t,a){"use strict";a("eaed")},"64a4":function(e,t,a){},"651f":function(e,t,a){"use strict";a("e961")},6537:function(e,t,a){},"65df":function(e,t,a){},"65fa":function(e,t,a){},6617:function(e,t,a){"use strict";a("af0f")},6716:function(e,t,a){},"671f":function(e,t,a){},"68d4":function(e,t,a){},"69d0":function(e,t,a){"use strict";a("7d9d")},"6df3":function(e,t,a){},"6eda":function(e,t,a){},"6f14":function(e,t,a){},"6fec":function(e,t,a){"use strict";a("566e")},"700b":function(e,t,a){"use strict";a("7202")},7089:function(e,t,a){},"70fc":function(e,t,a){},7158:function(e,t,a){},"71d6":function(e,t,a){"use strict";a("6df3")},"71e8":function(e,t,a){"use strict";a("8a56")},7202:function(e,t,a){},7496:function(e,t,a){},7615:function(e,t,a){},7669:function(e,t,a){},"78c8":function(e,t,a){},7947:function(e,t,a){"use strict";a("f879")},"7a06":function(e,t,a){"use strict";a("3c79")},"7aec":function(e,t,a){"use strict";a("53ce")},"7b5e":function(e,t,a){},"7d12":function(e,t,a){"use strict";a("02cc")},"7d55":function(e,t,a){"use strict";a("db8b")},"7d6c":function(e,t,a){},"7d9d":function(e,t,a){},"7dac":function(e,t,a){},"7e35":function(e,t,a){},"7f61":function(e,t,a){},"80ba":function(e,t,a){"use strict";a("5508")},8108:function(e,t,a){"use strict";a("7496")},8150:function(e,t,a){"use strict";a("9ef1")},"81cd":function(e,t,a){"use strict";a("4e25")},8201:function(e,t,a){},8354:function(e,t,a){},8359:function(e,t,a){"use strict";a("51be")},"83a5":function(e,t,a){},"83d0":function(e,t,a){"use strict";a("b774")},"845c":function(e,t,a){},"84d0":function(e,t,a){"use strict";a("da02")},"84d2":function(e,t,a){"use strict";a("c70e")},8535:function(e,t,a){"use strict";a("bedb")},8644:function(e,t,a){"use strict";a("40f6")},"86d7":function(e,t,a){},"895a":function(e,t,a){},"8a56":function(e,t,a){},"8adf":function(e,t,a){"use strict";a("19fc")},"8b74":function(e,t,a){"use strict";a("d73b")},"8bb3":function(e,t,a){"use strict";a("845c")},"8c7f":function(e,t,a){"use strict";a("bb04")},"8d2f":function(e,t,a){},"8e2a":function(e,t,a){"use strict";a("34e2")},"8edf":function(e,t,a){"use strict";a("cccf")},9035:function(e,t,a){},9182:function(e,t,a){"use strict";a("65df")},"92f7":function(e,t,a){"use strict";a("4206")},"94e9":function(e,t,a){},"960d":function(e,t,a){"use strict";a("401f")},"966d":function(e,t,a){"use strict";a("afdd")},"968c":function(e,t,a){},"98d2":function(e,t,a){"use strict";a("99f1")},9905:function(e,t,a){},"99f1":function(e,t,a){},"99f8":function(e,t,a){"use strict";a("49fc")},"99fd":function(e,t,a){},"9a42":function(e,t,a){"use strict";a("29a3")},"9c34":function(e,t,a){"use strict";a("275b")},"9c40":function(e,t,a){"use strict";a("7b5e")},"9c6a":function(e,t,a){"use strict";a("4681")},"9cdf":function(e,t,a){},"9e7f":function(e,t,a){"use strict";a("671f")},"9ef1":function(e,t,a){},"9f4f":function(e,t,a){},"9f76":function(e,t,a){"use strict";a("c244")},a0b9:function(e,t,a){"use strict";a("9905")},a1b5:function(e,t,a){"use strict";a("0776")},a1b8:function(e,t,a){"use strict";a("1f39")},a1ca:function(e,t,a){"use strict";a("c176")},a28e:function(e,t,a){},a2dd:function(e,t,a){"use strict";a("072a")},a316:function(e,t,a){},a4a9:function(e,t,a){},a5e1:function(e,t,a){},a5f5:function(e,t,a){"use strict";a("508f")},a956:function(e,t,a){"use strict";a("4c43")},a961:function(e,t,a){"use strict";a("e4e9")},aae1:function(e,t,a){},ab39:function(e,t,a){"use strict";a("070c")},ab6f:function(e,t,a){"use strict";a("aae1")},abc7:function(e,t,a){},abd7:function(e,t,a){},ad48:function(e,t,a){},ae31:function(e,t,a){},af0f:function(e,t,a){},afaf:function(e,t,a){"use strict";a("6f14")},afdd:function(e,t,a){},b00d:function(e,t,a){"use strict";a("3b25")},b18f:function(e,t,a){"use strict";a("4b40")},b310:function(e,t,a){"use strict";a("2791")},b510:function(e,t,a){"use strict";a("f0ba")},b70e:function(e,t,a){"use strict";a("50eb")},b774:function(e,t,a){},b784:function(e,t,a){"use strict";a("83a5")},b81a:function(e,t,a){"use strict";a("3bdb")},bb04:function(e,t,a){},bba6:function(e,t,a){},bbc8:function(e,t,a){},bcb3:function(e,t,a){},bdb7:function(e,t,a){},be67:function(e,t,a){},bedb:function(e,t,a){},bf1b:function(e,t,a){"use strict";a("575f")},bf41:function(e,t,a){"use strict";a("a316")},bf59:function(e,t,a){},c10e:function(e,t,a){},c176:function(e,t,a){},c23d:function(e,t,a){},c244:function(e,t,a){},c399:function(e,t,a){},c43d:function(e,t,a){},c496:function(e,t,a){},c4b2:function(e,t,a){"use strict";a("1e46")},c5aa:function(e,t,a){"use strict";a("2cab")},c640:function(e,t,a){"use strict";a("7dac")},c650:function(e,t,a){"use strict";a("eb14")},c70e:function(e,t,a){},c7d6:function(e,t,a){"use strict";a("e74e")},c9b4:function(e,t,a){},cccf:function(e,t,a){},ccf3:function(e,t,a){"use strict";a("e40d")},ccf8:function(e,t,a){},cebd:function(e,t,a){},cf1f:function(e,t,a){"use strict";a("3e66")},cffd:function(e,t,a){"use strict";a("3fcd")},d077:function(e,t,a){"use strict";a("1064")},d160:function(e,t,a){e.exports=a.p+"img/group-people.11ef6f9e.png"},d2f2:function(e,t,a){"use strict";a("1453")},d47e:function(e,t,a){},d4fa:function(e,t,a){"use strict";a("c496")},d57d:function(e,t,a){},d67e:function(e,t,a){"use strict";a("2fa9")},d73b:function(e,t,a){},d73e:function(e,t,a){"use strict";a("6eda")},d890:function(e,t,a){},d896:function(e,t,a){},d913:function(e,t,a){"use strict";a("e92c")},d91d:function(e,t,a){},da02:function(e,t,a){},da84:function(e,t,a){"use strict";a("e72e")},db8b:function(e,t,a){},ddad:function(e,t,a){},def6:function(e,t,a){},df75:function(e,t,a){"use strict";a("c43d")},dfec:function(e,t,a){"use strict";a("bcb3")},e032:function(e,t,a){},e073e:function(e,t,a){"use strict";a("7e35")},e150:function(e,t,a){},e40d:function(e,t,a){},e4e9:function(e,t,a){},e53c:function(e,t,a){"use strict";a("65fa")},e59e:function(e,t,a){"use strict";a("5216")},e688:function(e,t,a){"use strict";a("0a83")},e70f:function(e,t,a){"use strict";a("0715")},e72e:function(e,t,a){},e74e:function(e,t,a){},e759:function(e,t,a){"use strict";a("bba6")},e79c:function(e,t,a){},e92c:function(e,t,a){},e958:function(e,t,a){"use strict";a("7089")},e961:function(e,t,a){},ea7a:function(e,t,a){},eaed:function(e,t,a){},eb14:function(e,t,a){},eb37:function(e,t,a){},eb3a:function(e,t,a){},ebd2:function(e,t,a){},ec39:function(e,t,a){"use strict";a("184e")},ed15:function(e,t,a){},ed2c:function(e,t,a){},efb1:function(e,t,a){"use strict";a("9f4f")},efce:function(e,t,a){var i={"./advanceCarousel/index.vue":"93d0d","./advanceImgTxt/index.vue":"60f0","./advanceSwiper/index.vue":"adf48","./advanceSwiperImg/index.vue":"1114","./chooseIcon/index.vue":"a2ed"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="efce"},f0ba:function(e,t,a){},f117:function(e,t,a){"use strict";a("f35c")},f233:function(e,t,a){"use strict";a("c23d")},f259:function(e,t,a){"use strict";a("f967")},f35c:function(e,t,a){},f374:function(e,t,a){"use strict";a("0ab5")},f466:function(e,t,a){},f5b0:function(e,t,a){"use strict";a("2611")},f6c8:function(e,t,a){"use strict";a("99fd")},f6ea:function(e,t,a){},f71f:function(e,t,a){"use strict";a("0c1d")},f73b:function(e,t,a){"use strict";a("78c8")},f799:function(e,t,a){"use strict";a("5063")},f879:function(e,t,a){},f967:function(e,t,a){},fba0:function(e,t,a){"use strict";a("ddad")},fc2d:function(e,t,a){},fc50:function(e,t,a){"use strict";a("c399")},fca3:function(e,t,a){},fcd5:function(e,t,a){"use strict";a("68d4")},fd0b:function(e,t,a){"use strict";a("60e1")},fd98:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAM3UlEQVR4Xu2dS3YURxaGIyWGPYAVdGkHsAKXZp41WoEpDCMPLK0AsQLoMcbSDhAroHZgeQWoV9C1AKP0jawULj0rXhl5I+PLczjGKB43/ns/xSMjIxrDgwIocK8CDdqgAArcrwCAEB0o8IACAEJ4oACAEAMoEKYAPUiYbuSqRAEAqcTRNDNMAQAJ041clSgAIJU4mmaGKQAgYbqRqxIFAKQSR9PMMAUAJEw3clWiAIBU4miaGaYAgITpRq5KFACQShxNM8MUAJAw3chViQIAUomjaWaYAgASphu5KlEAQCpxNM0MUwBAwnQjVyUKAEgljqaZYQqoAWR+0j6WJtg/PBNUYLloLkps1iiACAxPzaWZm8b8p4diBhwlhk+QzRfi93PJaf98FnDsf9U+2QDpeohL80LE+UnUeKpWEQzLrYAF5kxAOcpdsUt9WQCZf2jnZte8AwwXl1SbZmVac7T8uTnVpMCggPTzihNp+HNNjcYW1QqcS4+yLz3KSoOVgwHSzTNa80kaaecXPCjgo8Cqh2T0+ckggPRwfGHi7RMTpL2lwDfpSV43yzGVSQ6IwDGTnsPCQc8xpmenUffoPUlSQLo5x3pYNZ+Gf2iFAgXsKtezseYkqQF5I4AcKxAVE6akwHoZ+GCMJiUDpB9a/cG8Yww3VlDnuhfJPmlPCYhdzn1Rgato4jgKLJcvm/3cVScBpF+1sr0HDwoMp8AIvUgaQD62hzKRsm/KQx77Qsi+HDqXrSh/hhRAngIU2DH/lhGGXbyxf8KexpzKMGsRljksVxpAfm/tsm5Iw5cCxqLUnZ5hktedq99d8S5wOL6SYdaTnApGA9Iv7f7f2+jGvNe6Qc27LWTwVkDixkJy6J2xMXs5f6HGA7LeiGh7EJ9n1LVtH0NJO5wC899bO2/129m93tD4fjirrpccD8jH1m5hP/Ey+NIcLF81Z155SDw5Bea/tc/NTvdi2f0pEBD/CXrmbtJdfVLmVCBoeJ55aB7fgwSMJWWiFV1vTkdS13AKyDDrq5Q+c64h81v16EANmGxlX4lwFp+E2RXwnocASHYfUeGICgDIbfHpQUYMSG1VAwiAaItJVfYACICoCkhtxgAIgGiLSVX2AAiAqApIbcYACIBoi0lV9gAIgKgKSG3GAAiAaItJVfYACICoCkhtxgAIgGiLSVX2AAiAqApIbcYIIH5fo2b+7JbNitoipjJ7vDe7tvKJdsYT4AGksoDU1tz+agz3L1Izn9cLINoipkJ7pBf55HRFRuaPpawrAKTCgNTW5P7LQvt9+uwB2+wJOAe5z+gFEG3RUrE998xH7M1Tb+XbdXsmVvZLdQCk4oDU2vTuMIdGbjze6S76vBgDjCttAERrlGCXCgUARIUbMEKrAgCi1TPYpUIBAFHhBozQqgCAaPUMdqlQAEBUuAEjtCoAIFo9g10qFAAQFW6YlhHdjWOXcl+MvTRn/Xbcvs/4PMYdg7HKAkisguS/psB8fdvYG/nHx7ekGWEvVax7ACRWQfJ/V0B6DpdrwIu6GwZACPAkCvTb1u1dH7d7jts1FAMJgCQJDwpx3rL+j1RFQAIgxHYSBbzv+VjXqh4SAEkSHnUXEnRTVCE9CYDUHdvJWi89iL3p2GX+cVedansSAEkWInUX5H06SSETdwCpO66Ttd778IW7a1bXkwBIshChIO8jfAqABECI66QKJBhqqVrdApCk4UFhVoEpQQIgxPQgCkwFEgAZJDwodCo9CYAQy4MqUHpPAiCDhgeFl96TAAgxnEWBUnsSAMkSHlRSak8CIMRuVgVK60kAJGt4UFlpPQmAELOjKFBKTwIgo4QHlZbSkwAIsTqqAtp7EgAZNTyoXHtPAiDEqAoFtPYkAJIhPLqTBhPflNR9B25PLfwr+DPXDC33rGLXvJMcVquY52L5stmLKWAzL4CkUvJGOT0U9iC1ufzo6lvtlZw6aO/aOwqttv9yzwbSbKPc0OKmma8xZ6LxQYrGAUgKFW/C8dDxm+u0K/NNbmx93Sx9qu9PLjwEDAfVLkXfV82ZQ8oHkwBIrIJ39Ryt+eIQxCsZCjxxrb672HLH2JMLedwU8NL3viIBxE1s51Rek831cGvhUriUa+8Rjx2fu1Q1nTSN2RN9L2IaBCAx6t3uPR7LnMOeD+X6OP2W6+YzrbGA8Pgo0JrF8ufm1CfLzbQAEqPeTUA+tHOz2w2v3J/GPNl2D7hcKfBCJvcn7oWSslOgMcei7dsYNQAkRr2bgITMExyGAQAS6KQE95EASKD2d2ULOKP2XCbqz7aZIOXOZIj1dVs6fn5DgQQrWQCSOKq8JtOOQ4AePDsHmSU2d9rFOfTO2wQAkG0Kef7c47e91zGbiY729GxN0cmdFkC2tRBAtikU8HOHOcNKLrlc+L7ISnS0Z0CLCsySYHi1nudHPgFOS0J2pNmDZ9/YavJ8o7KV/P1cVD/YtnJ1n4H9kq9d0eKdyH0iebxf2hYIALJNoQQ/74ZHj2R7SeoNi7bcqTy75l/yi+MXWYz4MbJJXkPXbXUByDaF+HkWBaRnPBE4XkRWZuHYj317vmkDgER6hOzxCmiFgzlIvG8pIVIBzXAASKRzyR6ngHY4ACTOv+SOUKAEOAAkwsFkDVegFDgAJNzH5AxUoCQ4ACTQyWQLU6A0OAAkzM/kClCgRDgAJMDRZPFXoFQ4AMTf1+TwVKBkOADE09kk91OgdDgAxM/fpPZQYApwAIiHw0nqrsBU4AAQd5+T0lGBKcEBII5OJ5mbAv3RqMduqe9NlXzLeow9bHePUY+83xVIdDSqKjjoQQjwZApI7/FJPnja/LzYt2x1cACIrwtJf68CctyRPXL16poHX6VUwgEgvm4k/Z0KBByYt1mOWjgAhIBPokAEIKrhAJAk4UEhVgGvax/WkqmHA0CI7WQKeK5iFQEHgCQLDwrqehG3laxi4AAQ4jq5AltO2lzKuVWLlOdWJW/AjQJ5UTi0whWW3x+7+pO8F1kfj9rIcauX5s/Y257GkBJAxlCdOotRAECKcRWGjqEAgIyhOnUWowCAFOMqDB1DAQAZQ3XqLEYBACnGVRg6hgIAMobq1FmMAgBSjKvqMLTb+Ghv8/1Lts4/Mhdjv1QEkDriTn0rezDe9LdMXf+upDVH8pLx/RiNAJAxVKfOawr02+W/yD8+dDHp+fJl8yy3dACSW3Hqu6WA4yZHu2XlvQy5jnJKCCA51aau23D81j43O+aTszSN2cs5LwEQZ8+QcAgFvI8KyjwfAZAhvE6Zzgo4D6+uSmzMqfQgC+cKIhMCSKSAZI9TQD7V/WPL5Px6BY05E0AO4mp1zw0g7lqRcgAFAOS2qCtZrnsygNYUWaACAAIgBYZtPpMBBEDyRVuBNQEIgBQYtvlMBhAAyRdtBdYEIABSYNjmMxlAACRftBVYE4AASIFhm89kAAGQfNFWYE0AAiAFhm0+kwEEQPJFW4E1CSBfxeyZs+kFbla0n0keOzfQJsy8p9/LNhJnUyDo4p3MH03Fb1b0/eDFyp95T382j1ORlwLzD+3c7Br7qa3705hj2c371j1DXMpxAJHbhWTD4l6c6eQuXQHvb0HWv1wXOU+JjwfEHtPSGnvDqd+TeSzpZxyph1Zg/rE9lKH2O+96vpn95etm6Z0vMEM0ILZe74nWlbECifz1SLrMVaD9ZCtMgY3jfQ4DTM8+8kgDyEnrP1HfVEe+EpP/tZes/C9ANLKUocBjOZzhh/5SnVmQyZkn6NbGVICEDbOCVCJTtQpcmoPlq8b+Ms32JAGkG2a5XeCYrWFUNDkFlrKws5+7VSkBoRfJ7b2a6ss8Of9nmpxQZOlFTvqzVROWSlHVK5D5JJPr0+OE6juesZqwRoqqQAF7r/qzsVY6kw2xrhzVQ2L311w/obsCT9LE5AqszDeZmGd873GzBckB6SbsIVsIkmtLgYUrsOq3JJ2O2Y5BAOlXtZ5KA+2hxLMxG0jdRSqwkndii9xLuncpNRggPSR2ZWvbvQ9FehCjB1PgXOYcBzlPcH+oJYMC8n1est538yu9yWBBNYWC7ZDqrbxtt4dTq9l6lAUQQJlC/A7WhpW9GEdK/68mMK5amxWQ76DYSfyjbl/OvO9VmKcMFn+qCr7qGezSrd0y8ln+2Is61fQYN9UaBZC7XNbv8mRpWFU8JzdmpRmG7JP05PJSIApkVkBND5K53VSHAk4KAIiTTCSqVQEAqdXztNtJAQBxkolEtSoAILV6nnY7KQAgTjKRqFYFAKRWz9NuJwUAxEkmEtWqAIDU6nna7aQAgDjJRKJaFQCQWj1Pu50UABAnmUhUqwIAUqvnabeTAgDiJBOJalUAQGr1PO12UgBAnGQiUa0KAEitnqfdTgoAiJNMJKpVAQCp1fO020kBAHGSiUS1KvA3KnflI7vzSBoAAAAASUVORK5CYII="},fe1a:function(e,t,a){"use strict";a("5cf9")},feb0:function(e,t,a){"use strict";a("31c4")},ff9e:function(e,t,a){"use strict";a("9cdf")},ffd1:function(e,t,a){}});